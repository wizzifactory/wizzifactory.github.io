<!doctype html>
<html VERSION-5="5" VERSION-4="4" version="5">
<head>
    <title>The Wizzi Factory</title>
    <link href="https://fonts.googleapis.com/css?family=Roboto" rel="stylesheet" />
    <link href="../sanitize.css" rel="stylesheet" />
    <link href="../wizzifactory.css" rel="stylesheet" />
    <link href="styles.css" rel="stylesheet" />
</head>
<body class="code-wizzi-utils">
    <div class="site">
        <header class="navigation-sub">
            <div class="container navigation__inner">
                <a href="../index.html"><img width="100" height="44px" src="../logo.svg" />
                </a>
                <nav class="navigation__links">
                    <a title="code concepts" href="../concepts.html" class="navigation__link">Concepts</a>
                    <a title="code docs" href="../docs/intro.html" class="navigation__link">Docs</a>
                    <a title="code api" href="../api.html" class="navigation__link">Api</a>
                    <a title="code code" href="../code/intro.html" class="navigation__link navigation__link--active">Code</a>
                    <a title="code starters" href="../starters.html" class="navigation__link">Starters</a>
                    <a title="code project" href="../project.html" class="navigation__link">Project</a>
                </nav>
                <div class="navigation__search">
                    <span class="algolia-autocomplete" style="position: relative; display: inline-block; direction: ltr;">
                        <input type="text" class="navigation__search-input ds-input" placeholder="Search documentationâ€¦" autocomplete="off" spellcheck="false" role="combobox" aria-autocomplete="list" aria-expanded="false" aria-owns="algolia-autocomplete-listbox-0" dir="auto" style="position: relative; vertical-align: top;" />
                        <pre aria-hidden="true" style="position: absolute; visibility: hidden; white-space: pre; font-family: Arial; font-size: 14px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; word-spacing: 0px; letter-spacing: normal; text-indent: 7px; text-rendering: auto; text-transform: none;"></pre>
                        <span class="ds-dropdown-menu" role="listbox" id="algolia-autocomplete-listbox-0" style="position: absolute; top: 100%; z-index: 100; display: none; left: 0px; right: auto;">
                            <div class="ds-dataset-1"></div>
                        </span>
                    </span>
                    <button class="navigation__search-icon icon-search"></button>
                    <button class="navigation__search-icon icon-cross"></button>
                </div>
                <a href="https://github.com/wizzifactory" target="_blank" class="navigation__icon" title="GitHub Repository"><i class="sidecar__icon icon-github"></i>
                </a>
                <a href="https://stackoverflow.com/questions/tagged/wizzifactory" target="_blank" class="navigation__icon" title="See Questions on Stack Overflow"><i class="sidecar__icon icon-stackoverflow"></i>
                </a>
                <a href="#" target="_blank" class="navigation__icon" title="Follow on twitter"><i class="sidecar__icon icon-twitter"></i>
                </a>
                <a href="#" target="_blank" class="navigation__icon" title="Follow on facebook"><i class="sidecar__icon icon-facebook"></i>
                </a>
            </div>
            <div class="navigation__bottom">
                <div class="container navigation__inner">
                    <a class="navigation__child" title="intro ittf source code" href="intro.html">intro</a>
                    <a class="navigation__child" title="wizzi ittf source code" href="wizzi.html">wizzi</a>
                    <a class="navigation__child" title="wizzi-mtree ittf source code" href="wizzi-mtree.html">mtree</a>
                    <a class="navigation__child" title="wizzi-repo ittf source code" href="wizzi-repo.html">repo</a>
                    <a class="navigation__child navigation__child--active" title="wizzi-utils ittf source code" href="wizzi-utils.html">utils</a>
                    <a class="navigation__child" title="wizzi-core ittf source code" href="wizzi-core.html">core</a>
                    <a class="navigation__child" title="wizzi-js ittf source code" href="wizzi-js.html">js</a>
                    <a class="navigation__child" title="wizzi-web ittf source code" href="wizzi-web.html">web</a>
                    <a class="navigation__child" title="wizzi-demo ittf source code" href="wizzi-demo.html">demo</a>
                </div>
            </div>
        </header>
        <main id="wrapper-sub">
            <nav class="main-sidebar-left main-sidebar-left-sub">
                <img src="../workinprogress.jpg" />
                <section id="main-toc" class="toc">
                    <h3>wizzi-utils ittf source code:</h3>
                    <div class="treeview">
                        <ul>
                            <li><input type="checkbox" checked id="f2" />
                            <span></span>
                            <label for="f2">src</label>
                            <ul>
                                <li><input type="checkbox" checked id="f3" />
                                <span></span>
                                <label for="f3">ittf</label>
                                <ul>
                                    <li><input type="checkbox" id="f4" />
                                    <span></span>
                                    <label for="f4">examples</label>
                                    <ul>
                                        <li><input type="checkbox" id="f5" />
                                        <span></span>
                                        <label for="f5">asisLoader</label>
                                        <ul>
                                            <li><a href="#d1">index.js.ittf</a>
                                            </li>
                                        </ul>
                                        </li>
                                        <li><input type="checkbox" id="f6" />
                                        <span></span>
                                        <label for="f6">fs</label>
                                        <ul>
                                            <li><a href="#d2">vfile.js.ittf</a>
                                            </li>
                                        </ul>
                                        </li>
                                        <li><input type="checkbox" id="f7" />
                                        <span></span>
                                        <label for="f7">ittfTree</label>
                                        <ul>
                                            <li><input type="checkbox" id="f8" />
                                            <span></span>
                                            <label for="f8">ittf__copy</label>
                                            <ul>
                                                <li><a href="#d3">basic.sample.ittf</a>
                                                </li>
                                            </ul>
                                            </li>
                                            <li><a href="#d4">index.js.ittf</a>
                                            </li>
                                        </ul>
                                        </li>
                                        <li><input type="checkbox" id="f9" />
                                        <span></span>
                                        <label for="f9">prettifiers</label>
                                        <ul>
                                            <li><input type="checkbox" id="f10" />
                                            <span></span>
                                            <label for="f10">ittf__copy</label>
                                            <ul>
                                                <li><a href="#d5">basic.sample.ittf</a>
                                                </li>
                                            </ul>
                                            </li>
                                            <li><a href="#d6">index.js.ittf</a>
                                            </li>
                                        </ul>
                                        </li>
                                        <li><input type="checkbox" id="f11" />
                                        <span></span>
                                        <label for="f11">scanners</label>
                                        <ul>
                                            <li><input type="checkbox" id="f12" />
                                            <span></span>
                                            <label for="f12">ittf__copy</label>
                                            <ul>
                                                <li><input type="checkbox" id="f13" />
                                                <span></span>
                                                <label for="f13">first</label>
                                                <ul>
                                                    <li><input type="checkbox" id="f14" />
                                                    <span></span>
                                                    <label for="f14">child</label>
                                                    <ul>
                                                        <li><a href="#d7">child.sample.ittf</a>
                                                        </li>
                                                    </ul>
                                                    </li>
                                                    <li><input type="checkbox" id="f15" />
                                                    <span></span>
                                                    <label for="f15">t</label>
                                                    <ul>
                                                        <li><a href="#d8">frag-1.sample.ittf</a>
                                                        </li>
                                                    </ul>
                                                    </li>
                                                    <li><a href="#d9">root.sample.ittf</a>
                                                    </li>
                                                </ul>
                                                </li>
                                            </ul>
                                            </li>
                                            <li><a href="#d10">index.js.ittf</a>
                                            </li>
                                        </ul>
                                        </li>
                                        <li><input type="checkbox" id="f16" />
                                        <span></span>
                                        <label for="f16">t</label>
                                        <ul>
                                            <li><a href="#d11">base_example.js.ittf</a>
                                            </li>
                                        </ul>
                                        </li>
                                        <li><input type="checkbox" id="f17" />
                                        <span></span>
                                        <label for="f17">utils</label>
                                        <ul>
                                            <li><input type="checkbox" id="f18" />
                                            <span></span>
                                            <label for="f18">ittf__copy</label>
                                            <ul>
                                                <li><input type="checkbox" id="f19" />
                                                <span></span>
                                                <label for="f19">samples</label>
                                                <ul>
                                                    <li><input type="checkbox" id="f20" />
                                                    <span></span>
                                                    <label for="f20">folder_1</label>
                                                    <ul>
                                                        <li><input type="checkbox" id="f21" />
                                                        <span></span>
                                                        <label for="f21">folder_1b</label>
                                                        <ul>
                                                            <li><a href="#d12">file_1b1_a.sample.ittf</a>
                                                            </li>
                                                        </ul>
                                                        </li>
                                                        <li><a href="#d13">file_1_a.sample.ittf</a>
                                                        </li>
                                                    </ul>
                                                    </li>
                                                    <li><input type="checkbox" id="f22" />
                                                    <span></span>
                                                    <label for="f22">folder_2</label>
                                                    <ul>
                                                        <li><a href="#d14">file_2_a.sample.ittf</a>
                                                        </li>
                                                    </ul>
                                                    </li>
                                                    <li><a href="#d15">file_1.sample.ittf</a>
                                                    </li>
                                                    <li><a href="#d16">file_2.sample.ittf</a>
                                                    </li>
                                                </ul>
                                                </li>
                                            </ul>
                                            </li>
                                            <li><a href="#d17">getFiles.js.ittf</a>
                                            </li>
                                            <li><a href="#d18">getFolders.js.ittf</a>
                                            </li>
                                            <li><a href="#d19">glob.js.ittf</a>
                                            </li>
                                            <li><a href="#d20">vfile.js.ittf</a>
                                            </li>
                                        </ul>
                                        </li>
                                    </ul>
                                    </li>
                                    <li><input type="checkbox" id="f23" />
                                    <span></span>
                                    <label for="f23">lib</label>
                                    <ul>
                                        <li><input type="checkbox" id="f24" />
                                        <span></span>
                                        <label for="f24">fs</label>
                                        <ul>
                                            <li><input type="checkbox" id="f25" />
                                            <span></span>
                                            <label for="f25">t</label>
                                            <ul>
                                                <li><input type="checkbox" id="f26" />
                                                <span></span>
                                                <label for="f26">file</label>
                                                <ul>
                                                    <li><a href="#d21">splitLines.js.ittf</a>
                                                    </li>
                                                </ul>
                                                </li>
                                                <li><input type="checkbox" id="f27" />
                                                <span></span>
                                                <label for="f27">vfile</label>
                                                <ul>
                                                    <li><a href="#d22">default_fs.js.ittf</a>
                                                    </li>
                                                    <li><a href="#d23">getFiles.js.ittf</a>
                                                    </li>
                                                    <li><a href="#d24">getFolders.js.ittf</a>
                                                    </li>
                                                    <li><a href="#d25">glob.js.ittf</a>
                                                    </li>
                                                    <li><a href="#d26">json_f.js.ittf</a>
                                                    </li>
                                                    <li><a href="#d27">json.js.ittf</a>
                                                    </li>
                                                    <li><a href="#d28">m.js.ittf</a>
                                                    </li>
                                                </ul>
                                                </li>
                                            </ul>
                                            </li>
                                            <li><a href="#d29">file.js.ittf</a>
                                            </li>
                                            <li><a href="#d30">uriParser.js.ittf</a>
                                            </li>
                                            <li><a href="#d31">vfile.js.ittf</a>
                                            </li>
                                        </ul>
                                        </li>
                                        <li><input type="checkbox" id="f28" />
                                        <span></span>
                                        <label for="f28">glob</label>
                                        <ul>
                                            <li><a href="#d32">balanced-match.js.ittf</a>
                                            </li>
                                            <li><a href="#d33">brace-expansion.js.ittf</a>
                                            </li>
                                            <li><a href="#d34">common.js.ittf</a>
                                            </li>
                                            <li><a href="#d35">concat-map.js.ittf</a>
                                            </li>
                                            <li><a href="#d36">fs.realpath.js.ittf</a>
                                            </li>
                                            <li><a href="#d37">index.js.ittf</a>
                                            </li>
                                            <li><a href="#d38">inflight.js.ittf</a>
                                            </li>
                                            <li><a href="#d39">minimatch.js.ittf</a>
                                            </li>
                                            <li><a href="#d40">old.js.ittf</a>
                                            </li>
                                            <li><a href="#d41">once.js.ittf</a>
                                            </li>
                                            <li><a href="#d42">path-is-absolute.js.ittf</a>
                                            </li>
                                            <li><a href="#d43">sync.js.ittf</a>
                                            </li>
                                            <li><a href="#d44">wrappy.js.ittf</a>
                                            </li>
                                        </ul>
                                        </li>
                                        <li><input type="checkbox" id="f29" />
                                        <span></span>
                                        <label for="f29">ittfTree</label>
                                        <ul>
                                            <li><input type="checkbox" id="f30" />
                                            <span></span>
                                            <label for="f30">asIsLoader</label>
                                            <ul>
                                                <li><a href="#d45">index.js.ittf</a>
                                                </li>
                                                <li><a href="#d46">liner.js.ittf</a>
                                                </li>
                                                <li><a href="#d47">nodifier.js.ittf</a>
                                                </li>
                                            </ul>
                                            </li>
                                            <li><input type="checkbox" id="f31" />
                                            <span></span>
                                            <label for="f31">t</label>
                                            <ul>
                                                <li><input type="checkbox" id="f32" />
                                                <span></span>
                                                <label for="f32">ittfFinder</label>
                                                <ul>
                                                    <li><a href="#d48">recurseTFolder.js.ittf</a>
                                                    </li>
                                                    <li><a href="#d49">tryExists.js.ittf</a>
                                                    </li>
                                                </ul>
                                                </li>
                                                <li><input type="checkbox" id="f33" />
                                                <span></span>
                                                <label for="f33">IttfMTreeEx</label>
                                                <ul>
                                                    <li><a href="#d50">analize.js.ittf</a>
                                                    </li>
                                                    <li><a href="#d51">detect.js.ittf</a>
                                                    </li>
                                                    <li><a href="#d52">export.js.ittf</a>
                                                    </li>
                                                    <li><a href="#d53">find.js.ittf</a>
                                                    </li>
                                                    <li><a href="#d54">loadFrom.js.ittf</a>
                                                    </li>
                                                </ul>
                                                </li>
                                            </ul>
                                            </li>
                                            <li><a href="#d55">ittfFinder.js.ittf</a>
                                            </li>
                                            <li><a href="#d56">ittfMTreeEx.js.ittf</a>
                                            </li>
                                            <li><a href="#d57">ittfWriter.js.ittf</a>
                                            </li>
                                        </ul>
                                        </li>
                                        <li><input type="checkbox" id="f34" />
                                        <span></span>
                                        <label for="f34">mocks</label>
                                        <ul>
                                            <li><input type="checkbox" id="f35" />
                                            <span></span>
                                            <label for="f35">artifact</label>
                                            <ul>
                                                <li><a href="#d58">block.js.ittf</a>
                                                </li>
                                                <li><a href="#d59">genContext.js.ittf</a>
                                                </li>
                                                <li><a href="#d60">line.js.ittf</a>
                                                </li>
                                            </ul>
                                            </li>
                                            <li><input type="checkbox" id="f36" />
                                            <span></span>
                                            <label for="f36">repo</label>
                                            <ul>
                                                <li><a href="#d61">errors.js.ittf</a>
                                                </li>
                                                <li><a href="#d62">fileSystemStore.js.ittf</a>
                                                </li>
                                                <li><a href="#d63">index.js.ittf</a>
                                                </li>
                                                <li><a href="#d64">uriparser.js.ittf</a>
                                                </li>
                                            </ul>
                                            </li>
                                            <li><a href="#d65">errors.js.ittf</a>
                                            </li>
                                            <li><a href="#d66">index.js.ittf</a>
                                            </li>
                                            <li><a href="#d67">interpolate.js.ittf</a>
                                            </li>
                                            <li><a href="#d68">readme.md.ittf</a>
                                            </li>
                                            <li><a href="#d69">stringWriter.js.ittf</a>
                                            </li>
                                        </ul>
                                        </li>
                                        <li><input type="checkbox" id="f37" />
                                        <span></span>
                                        <label for="f37">prettifiers</label>
                                        <ul>
                                            <li><input type="checkbox" id="f38" />
                                            <span></span>
                                            <label for="f38">utils</label>
                                            <ul>
                                                <li><a href="#d70">htmlbuilder.js.ittf</a>
                                                </li>
                                                <li><a href="#d71">htmlwriter.js.ittf</a>
                                                </li>
                                                <li><a href="#d72">stringwriter.js.ittf</a>
                                                </li>
                                                <li><a href="#d73">texter.js.ittf</a>
                                                </li>
                                            </ul>
                                            </li>
                                            <li><a href="#d74">ittfHtmlPrettifier.js.ittf</a>
                                            </li>
                                            <li><a href="#d75">jsPrettifier.js.ittf</a>
                                            </li>
                                        </ul>
                                        </li>
                                        <li><input type="checkbox" id="f39" />
                                        <span></span>
                                        <label for="f39">scanners</label>
                                        <ul>
                                            <li><input type="checkbox" id="f40" />
                                            <span></span>
                                            <label for="f40">t</label>
                                            <ul>
                                                <li><input type="checkbox" id="f41" />
                                                <span></span>
                                                <label for="f41">ittfFsNode</label>
                                                <ul>
                                                    <li><input type="checkbox" id="f42" />
                                                    <span></span>
                                                    <label for="f42">t</label>
                                                    <ul>
                                                        <li><a href="#d76">addset.js.ittf</a>
                                                        </li>
                                                        <li><a href="#d77">addvar.js.ittf</a>
                                                        </li>
                                                    </ul>
                                                    </li>
                                                    <li><a href="#d78">analize.js.ittf</a>
                                                    </li>
                                                    <li><a href="#d79">ids.js.ittf</a>
                                                    </li>
                                                    <li><a href="#d80">sources.js.ittf</a>
                                                    </li>
                                                    <li><a href="#d81">toIttf.js.ittf</a>
                                                    </li>
                                                </ul>
                                                </li>
                                            </ul>
                                            </li>
                                            <li><a href="#d82">folderScanner.js.ittf</a>
                                            </li>
                                            <li><a href="#d83">ittfFsNode.js.ittf</a>
                                            </li>
                                        </ul>
                                        </li>
                                        <li><input type="checkbox" id="f43" />
                                        <span></span>
                                        <label for="f43">t</label>
                                        <ul>
                                            <li><input type="checkbox" id="f44" />
                                            <span></span>
                                            <label for="f44">lineparser</label>
                                            <ul>
                                                <li><a href="#d84">codifyInterpolation.js.ittf</a>
                                                </li>
                                            </ul>
                                            </li>
                                            <li><input type="checkbox" id="f45" />
                                            <span></span>
                                            <label for="f45">verify</label>
                                            <ul>
                                                <li><a href="#d85">_old_parseNameValue.js.ittf</a>
                                                </li>
                                                <li><a href="#d86">assert.js.ittf</a>
                                                </li>
                                                <li><a href="#d87">convert.js.ittf</a>
                                                </li>
                                                <li><a href="#d88">errors.js.ittf</a>
                                                </li>
                                                <li><a href="#d89">is.js.ittf</a>
                                                </li>
                                                <li><a href="#d90">parseNameValue.js.ittf</a>
                                                </li>
                                                <li><a href="#d91">paths.js.ittf</a>
                                                </li>
                                                <li><a href="#d92">texts.js.ittf</a>
                                                </li>
                                                <li><a href="#d93">validation.js.ittf</a>
                                                </li>
                                                <li><a href="#d94">wzError.js.ittf</a>
                                                </li>
                                            </ul>
                                            </li>
                                        </ul>
                                        </li>
                                        <li><a href="#d95">coder.js.ittf</a>
                                        </li>
                                        <li><a href="#d96">config.js.ittf</a>
                                        </li>
                                        <li><a href="#d97">errors.js.ittf</a>
                                        </li>
                                        <li><a href="#d98">exampleErrors.js.ittf</a>
                                        </li>
                                        <li><a href="#d99">fail.js.ittf</a>
                                        </li>
                                        <li><a href="#d100">lineparser.js.ittf</a>
                                        </li>
                                        <li><a href="#d101">node.js.ittf</a>
                                        </li>
                                        <li><a href="#d102">option.js.ittf</a>
                                        </li>
                                        <li><a href="#d103">regexpExt.js.ittf</a>
                                        </li>
                                        <li><a href="#d104">requireFromString.js.ittf</a>
                                        </li>
                                        <li><a href="#d105">verify.js.ittf</a>
                                        </li>
                                    </ul>
                                    </li>
                                    <li><input type="checkbox" id="f46" />
                                    <span></span>
                                    <label for="f46">meta</label>
                                    <ul>
                                        <li><a href="#d106">index.json.ittf</a>
                                        </li>
                                    </ul>
                                    </li>
                                    <li><input type="checkbox" id="f47" />
                                    <span></span>
                                    <label for="f47">root</label>
                                    <ul>
                                        <li><input type="checkbox" id="f48" />
                                        <span></span>
                                        <label for="f48">t</label>
                                        <ul>
                                            <li><a href="#d107">fsimpl.md.ittf</a>
                                            </li>
                                            <li><a href="#d108">readme_content.md.ittf</a>
                                            </li>
                                        </ul>
                                        </li>
                                        <li><a href="#d109">.gitignore.text.ittf</a>
                                        </li>
                                        <li><a href="#d110">index.js.ittf</a>
                                        </li>
                                        <li><a href="#d111">license.text.ittf</a>
                                        </li>
                                        <li><a href="#d112">package.json.ittf</a>
                                        </li>
                                        <li><a href="#d113">readme.md.ittf</a>
                                        </li>
                                    </ul>
                                    </li>
                                    <li><input type="checkbox" id="f49" />
                                    <span></span>
                                    <label for="f49">t</label>
                                    <ul>
                                        <li><a href="#d114">checked_call_return_set.js.ittf</a>
                                        </li>
                                        <li><a href="#d115">checked_call_return.js.ittf</a>
                                        </li>
                                        <li><a href="#d116">checked_call.js.ittf</a>
                                        </li>
                                        <li><a href="#d117">error.js.ittf</a>
                                        </li>
                                        <li><a href="#d118">f_cb_no_err.js.ittf</a>
                                        </li>
                                        <li><a href="#d119">f_cb_test.js.ittf</a>
                                        </li>
                                        <li><a href="#d120">f_cb_throw.js.ittf</a>
                                        </li>
                                        <li><a href="#d121">f_cb.js.ittf</a>
                                        </li>
                                        <li><a href="#d122">r_cb_error.js.ittf</a>
                                        </li>
                                        <li><a href="#d123">r_cb_wz_err.js.ittf</a>
                                        </li>
                                        <li><a href="#d124">r_cb.js.ittf</a>
                                        </li>
                                        <li><a href="#d125">r_wz_err.js.ittf</a>
                                        </li>
                                        <li><a href="#d126">var_cb_error.js.ittf</a>
                                        </li>
                                        <li><a href="#d127">var_error.js.ittf</a>
                                        </li>
                                        <li><a href="#d128">wzerror.js.ittf</a>
                                        </li>
                                    </ul>
                                    </li>
                                    <li><input type="checkbox" id="f50" />
                                    <span></span>
                                    <label for="f50">tests</label>
                                    <ul>
                                        <li><input type="checkbox" id="f51" />
                                        <span></span>
                                        <label for="f51">ittfFsNode</label>
                                        <ul>
                                            <li><a href="#d129">ittfFsNode.js.ittf</a>
                                            </li>
                                        </ul>
                                        </li>
                                        <li><input type="checkbox" id="f52" />
                                        <span></span>
                                        <label for="f52">ittfTree</label>
                                        <ul>
                                            <li><input type="checkbox" id="f53" />
                                            <span></span>
                                            <label for="f53">ittf</label>
                                            <ul>
                                                <li><a href="#d130">basic.tests.ittf</a>
                                                </li>
                                            </ul>
                                            </li>
                                            <li><a href="#d131">asisLoader.js.ittf</a>
                                            </li>
                                            <li><a href="#d132">ittfMTreeEx.js.ittf</a>
                                            </li>
                                        </ul>
                                        </li>
                                        <li><input type="checkbox" id="f54" />
                                        <span></span>
                                        <label for="f54">prettifiers</label>
                                        <ul>
                                            <li><input type="checkbox" id="f55" />
                                            <span></span>
                                            <label for="f55">ittf</label>
                                            <ul>
                                                <li><a href="#d133">basic.tests.ittf</a>
                                                </li>
                                            </ul>
                                            </li>
                                            <li><a href="#d134">ittfHtmlPrettifier.js.ittf</a>
                                            </li>
                                        </ul>
                                        </li>
                                        <li><input type="checkbox" id="f56" />
                                        <span></span>
                                        <label for="f56">scanner</label>
                                        <ul>
                                            <li><input type="checkbox" id="f57" />
                                            <span></span>
                                            <label for="f57">ittf</label>
                                            <ul>
                                                <li><input type="checkbox" id="f58" />
                                                <span></span>
                                                <label for="f58">first</label>
                                                <ul>
                                                    <li><input type="checkbox" id="f59" />
                                                    <span></span>
                                                    <label for="f59">child</label>
                                                    <ul>
                                                        <li><a href="#d135">child.tests.ittf</a>
                                                        </li>
                                                    </ul>
                                                    </li>
                                                    <li><input type="checkbox" id="f60" />
                                                    <span></span>
                                                    <label for="f60">t</label>
                                                    <ul>
                                                        <li><a href="#d136">frag-1.tests.ittf</a>
                                                        </li>
                                                    </ul>
                                                    </li>
                                                    <li><a href="#d137">root.tests.ittf</a>
                                                    </li>
                                                </ul>
                                                </li>
                                            </ul>
                                            </li>
                                            <li><a href="#d138">scanner.js.ittf</a>
                                            </li>
                                        </ul>
                                        </li>
                                        <li><input type="checkbox" id="f61" />
                                        <span></span>
                                        <label for="f61">t</label>
                                        <ul>
                                            <li><a href="#d139">async.js.ittf</a>
                                            </li>
                                            <li><a href="#d140">base_test.js.ittf</a>
                                            </li>
                                            <li><a href="#d141">expect_throw_error.js.ittf</a>
                                            </li>
                                            <li><a href="#d142">f_cb_done.js.ittf</a>
                                            </li>
                                            <li><a href="#d143">f_cb_no_err.js.ittf</a>
                                            </li>
                                            <li><a href="#d144">f_cb_test.js.ittf</a>
                                            </li>
                                            <li><a href="#d145">itasync.js.ittf</a>
                                            </li>
                                            <li><a href="#d146">tobe_array.js.ittf</a>
                                            </li>
                                            <li><a href="#d147">tobe_eql.js.ittf</a>
                                            </li>
                                            <li><a href="#d148">tobe_false.js.ittf</a>
                                            </li>
                                            <li><a href="#d149">tobe_number.js.ittf</a>
                                            </li>
                                            <li><a href="#d150">tobe_object_num.js.ittf</a>
                                            </li>
                                            <li><a href="#d151">tobe_object.js.ittf</a>
                                            </li>
                                            <li><a href="#d152">tobe_string_value.js.ittf</a>
                                            </li>
                                            <li><a href="#d153">tobe_string.js.ittf</a>
                                            </li>
                                            <li><a href="#d154">tobe_true.js.ittf</a>
                                            </li>
                                            <li><a href="#d155">tobe_undefined.js.ittf</a>
                                            </li>
                                            <li><a href="#d156">tobe.js.ittf</a>
                                            </li>
                                        </ul>
                                        </li>
                                        <li><input type="checkbox" id="f62" />
                                        <span></span>
                                        <label for="f62">util</label>
                                        <ul>
                                            <li><input type="checkbox" id="f63" />
                                            <span></span>
                                            <label for="f63">ittf__copy</label>
                                            <ul>
                                                <li><input type="checkbox" id="f64" />
                                                <span></span>
                                                <label for="f64">folder_one</label>
                                                <ul>
                                                    <li><a href="#d157">gc_two.ittf</a>
                                                    </li>
                                                </ul>
                                                </li>
                                                <li><a href="#d158">gc_one.ittf</a>
                                                </li>
                                            </ul>
                                            </li>
                                            <li><input type="checkbox" id="f65" />
                                            <span></span>
                                            <label for="f65">t</label>
                                            <ul>
                                                <li><input type="checkbox" id="f66" />
                                                <span></span>
                                                <label for="f66">verify</label>
                                                <ul>
                                                    <li><a href="#d159">convert.js.ittf</a>
                                                    </li>
                                                    <li><a href="#d160">paths.js.ittf</a>
                                                    </li>
                                                </ul>
                                                </li>
                                                <li><input type="checkbox" id="f67" />
                                                <span></span>
                                                <label for="f67">vfile_async</label>
                                                <ul>
                                                    <li><a href="#d161">glob.js.ittf</a>
                                                    </li>
                                                </ul>
                                                </li>
                                                <li><input type="checkbox" id="f68" />
                                                <span></span>
                                                <label for="f68">vfile</label>
                                                <ul>
                                                    <li><a href="#d162">glob.js.ittf</a>
                                                    </li>
                                                </ul>
                                                </li>
                                            </ul>
                                            </li>
                                            <li><a href="#d163">file.js.ittf</a>
                                            </li>
                                            <li><a href="#d164">glob.js.ittf</a>
                                            </li>
                                            <li><a href="#d165">verify.js.ittf</a>
                                            </li>
                                            <li><a href="#d166">vfile_async.js.ittf</a>
                                            </li>
                                            <li><a href="#d167">vfile.js.ittf</a>
                                            </li>
                                        </ul>
                                        </li>
                                    </ul>
                                    </li>
                                </ul>
                                </li>
                                <li><a href="#d168">generate.wfjob.ittf</a>
                                </li>
                            </ul>
                            </li>
                        </ul>
                    </div>
                </section>
            </nav>
            <div class="main-content">
                <div class="code-panel" id="d1">
                    <div class="modal-view-container">
                        <h4 class="d-h2">/src/ittf/examples/asisLoader/index.js.ittf</h4>
                        <pre class="prettyprint">

<div class="L1"><span class="pp-ln">   1 </span><span class="pp-pln"></span><span class="pp-mix frag-to-link-a" data-frag-id="d11">base_example(</span><span class="pp-arg"> asIsLoader </span><span class="pp-mix">)</span></div><div class="L2"><span class="pp-ln">   2 </span><span class="pp-pln">    </span><span class="pp-tag">var</span><span class="pp-pln"> asIsLoader = require('../../lib/ittfTree/asIsLoader')</span></div><div class="L3"><span class="pp-ln">   3 </span><span class="pp-pln">    </span><span class="pp-tag">var</span><span class="pp-pln"> tree</span></div><div class="L4"><span class="pp-ln">   4 </span><span class="pp-pln">        </span><span class="pp-tag">_</span><span class="pp-pln"> asIsLoader.createFromString</span></div><div class="L5"><span class="pp-ln">   5 </span><span class="pp-pln">            </span><span class="pp-tag">[</span></div><div class="L6"><span class="pp-ln">   6 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> 'module'</span></div><div class="L7"><span class="pp-ln">   7 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> '    kind react'</span></div><div class="L8"><span class="pp-ln">   8 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> '    react Hello'</span></div><div class="L9"><span class="pp-ln">   9 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> '        state'</span></div><div class="L0"><span class="pp-ln">  10 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> '            @ name "stefi"'</span></div><div class="L1"><span class="pp-ln">  11 </span><span class="pp-pln">                </span><span class="pp-tag">._</span><span class="pp-pln"> join</span></div><div class="L2"><span class="pp-ln">  12 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> '\n'</span></div><div class="L3"><span class="pp-ln">  13 </span><span class="pp-pln">            </span><span class="pp-tag">{</span></div><div class="L4"><span class="pp-ln">  14 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> clean true</span></div><div class="L5"><span class="pp-ln">  15 </span><span class="pp-pln">    </span><span class="pp-tag">_</span><span class="pp-pln"> file.write</span></div><div class="L6"><span class="pp-ln">  16 </span><span class="pp-pln">        </span><span class="pp-tag">_</span><span class="pp-pln"> path.join</span></div><div class="L7"><span class="pp-ln">  17 </span><span class="pp-pln">            </span><span class="pp-tag">@</span><span class="pp-pln"> __dirname</span></div><div class="L8"><span class="pp-ln">  18 </span><span class="pp-pln">            </span><span class="pp-tag">@</span><span class="pp-pln"> 'result'</span></div><div class="L9"><span class="pp-ln">  19 </span><span class="pp-pln">            </span><span class="pp-tag">@</span><span class="pp-pln"> 'basic.sample.clean.json'</span></div><div class="L0"><span class="pp-ln">  20 </span><span class="pp-pln">        </span><span class="pp-tag">_</span><span class="pp-pln"> stringify</span></div><div class="L1"><span class="pp-ln">  21 </span><span class="pp-pln">            </span><span class="pp-tag">@</span><span class="pp-pln"> tree</span></div><div class="L2"><span class="pp-ln">  22 </span><span class="pp-pln">            </span><span class="pp-tag">@</span><span class="pp-pln"> null</span></div><div class="L3"><span class="pp-ln">  23 </span><span class="pp-pln">            </span><span class="pp-tag">@</span><span class="pp-pln"> 2</span></div><div class="L4"><span class="pp-ln">  24 </span><span class="pp-pln">    </span><span class="pp-tag">var</span><span class="pp-pln"> tree</span></div><div class="L5"><span class="pp-ln">  25 </span><span class="pp-pln">        </span><span class="pp-tag">_</span><span class="pp-pln"> asIsLoader.createFromString</span></div><div class="L6"><span class="pp-ln">  26 </span><span class="pp-pln">            </span><span class="pp-tag">[</span></div><div class="L7"><span class="pp-ln">  27 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> 'module'</span></div><div class="L8"><span class="pp-ln">  28 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> '    kind react'</span></div><div class="L9"><span class="pp-ln">  29 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> '    react Hello'</span></div><div class="L0"><span class="pp-ln">  30 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> '        state'</span></div><div class="L1"><span class="pp-ln">  31 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> '            @ name "stefi"'</span></div><div class="L2"><span class="pp-ln">  32 </span><span class="pp-pln">                </span><span class="pp-tag">._</span><span class="pp-pln"> join</span></div><div class="L3"><span class="pp-ln">  33 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> '\n'</span></div><div class="L4"><span class="pp-ln">  34 </span><span class="pp-pln">            </span><span class="pp-tag">{</span></div><div class="L5"><span class="pp-ln">  35 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> clean_remove true</span></div><div class="L6"><span class="pp-ln">  36 </span><span class="pp-pln">    </span><span class="pp-tag">_</span><span class="pp-pln"> file.write</span></div><div class="L7"><span class="pp-ln">  37 </span><span class="pp-pln">        </span><span class="pp-tag">_</span><span class="pp-pln"> path.join</span></div><div class="L8"><span class="pp-ln">  38 </span><span class="pp-pln">            </span><span class="pp-tag">@</span><span class="pp-pln"> __dirname</span></div><div class="L9"><span class="pp-ln">  39 </span><span class="pp-pln">            </span><span class="pp-tag">@</span><span class="pp-pln"> 'result'</span></div><div class="L0"><span class="pp-ln">  40 </span><span class="pp-pln">            </span><span class="pp-tag">@</span><span class="pp-pln"> 'basic.sample.clean_remove.json'</span></div><div class="L1"><span class="pp-ln">  41 </span><span class="pp-pln">        </span><span class="pp-tag">_</span><span class="pp-pln"> stringify</span></div><div class="L2"><span class="pp-ln">  42 </span><span class="pp-pln">            </span><span class="pp-tag">@</span><span class="pp-pln"> tree</span></div><div class="L3"><span class="pp-ln">  43 </span><span class="pp-pln">            </span><span class="pp-tag">@</span><span class="pp-pln"> null</span></div><div class="L4"><span class="pp-ln">  44 </span><span class="pp-pln">            </span><span class="pp-tag">@</span><span class="pp-pln"> 2</span></div></pre>
                    </div>
                </div>
                <div class="code-panel" id="d2">
                    <div class="modal-view-container">
                        <h4 class="d-h2">/src/ittf/examples/fs/vfile.js.ittf</h4>
                        <pre class="prettyprint">

<div class="L1"><span class="pp-ln">   1 </span><span class="pp-pln"></span><span class="pp-tag">module</span></div><div class="L2"><span class="pp-ln">   2 </span><span class="pp-pln">    </span><span class="pp-tag">kind</span><span class="pp-pln"> jsfile</span></div><div class="L3"><span class="pp-ln">   3 </span><span class="pp-pln">    </span><span class="pp-tag">import</span><span class="pp-pln"> path</span></div><div class="L4"><span class="pp-ln">   4 </span><span class="pp-pln">    </span><span class="pp-tag">import</span><span class="pp-pln"> del</span></div><div class="L5"><span class="pp-ln">   5 </span><span class="pp-pln">    </span><span class="pp-tag">var</span><span class="pp-pln"> vfile = require('../../lib/fs/vfile')</span></div><div class="L6"><span class="pp-ln">   6 </span><span class="pp-pln">    </span><span class="pp-tag">var</span><span class="pp-pln"> file = vfile()</span></div><div class="L7"><span class="pp-ln">   7 </span><span class="pp-pln">    </span><span class="pp-tag">_</span><span class="pp-pln"> del.sync</span></div><div class="L8"><span class="pp-ln">   8 </span><span class="pp-pln">        </span><span class="pp-tag">_</span><span class="pp-pln"> path.join</span></div><div class="L9"><span class="pp-ln">   9 </span><span class="pp-pln">            </span><span class="pp-tag">@</span><span class="pp-pln"> __dirname</span></div><div class="L0"><span class="pp-ln">  10 </span><span class="pp-pln">            </span><span class="pp-tag">@</span><span class="pp-pln"> 'ittf'</span></div><div class="L1"><span class="pp-ln">  11 </span><span class="pp-pln">            </span><span class="pp-tag">@</span><span class="pp-pln"> '**'</span></div><div class="L2"><span class="pp-ln">  12 </span><span class="pp-pln">            </span><span class="pp-tag">@</span><span class="pp-pln"> '*.*'</span></div><div class="L3"><span class="pp-ln">  13 </span><span class="pp-pln">    </span><span class="pp-tag">_</span><span class="pp-pln"> file.write</span></div><div class="L4"><span class="pp-ln">  14 </span><span class="pp-pln">        </span><span class="pp-tag">_</span><span class="pp-pln"> path.join</span></div><div class="L5"><span class="pp-ln">  15 </span><span class="pp-pln">            </span><span class="pp-tag">@</span><span class="pp-pln"> __dirname</span></div><div class="L6"><span class="pp-ln">  16 </span><span class="pp-pln">            </span><span class="pp-tag">@</span><span class="pp-pln"> 'ittf'</span></div><div class="L7"><span class="pp-ln">  17 </span><span class="pp-pln">            </span><span class="pp-tag">@</span><span class="pp-pln"> 't'</span></div><div class="L8"><span class="pp-ln">  18 </span><span class="pp-pln">            </span><span class="pp-tag">@</span><span class="pp-pln"> 'alpha.tests.ittf'</span></div><div class="L9"><span class="pp-ln">  19 </span><span class="pp-pln">        </span><span class="pp-tag">@</span><span class="pp-pln"> 'tests makepath'</span></div><div class="L0"><span class="pp-ln">  20 </span><span class="pp-pln">        </span><span class="pp-mix frag-to-link-a" data-frag-id="d120">f_cb_throw(</span><span class="pp-arg"> result </span><span class="pp-mix">)</span></div><div class="L1"><span class="pp-ln">  21 </span><span class="pp-pln">            </span><span class="pp-tag">log</span><span class="pp-pln"> 'result', result</span></div></pre>
                    </div>
                </div>
                <div class="code-panel" id="d3">
                    <div class="modal-view-container">
                        <h4 class="d-h2">/src/ittf/examples/ittfTree/ittf__copy/basic.sample.ittf</h4>
                        <pre class="prettyprint">

<div class="L1"><span class="pp-ln">   1 </span><span class="pp-pln"></span><span class="pp-tag">alfa</span></div><div class="L2"><span class="pp-ln">   2 </span><span class="pp-pln">    </span><span class="pp-kwd">$$</span><span class="pp-pln"> beta</span></div><div class="L3"><span class="pp-ln">   3 </span><span class="pp-pln">    </span><span class="pp-tag">gamma</span></div><div class="L4"><span class="pp-ln">   4 </span><span class="pp-pln">        </span><span class="pp-kwd">$*</span></div><div class="L5"><span class="pp-ln">   5 </span><span class="pp-pln">            </span><span class="pp-tag">a</span></div><div class="L6"><span class="pp-ln">   6 </span><span class="pp-pln">            </span><span class="pp-tag">b</span></div><div class="L7"><span class="pp-ln">   7 </span><span class="pp-pln">            </span><span class="pp-tag">c</span><span class="pp-pln"> *</span></div></pre>
                    </div>
                </div>
                <div class="code-panel" id="d4">
                    <div class="modal-view-container">
                        <h4 class="d-h2">/src/ittf/examples/ittfTree/index.js.ittf</h4>
                        <pre class="prettyprint">

<div class="L1"><span class="pp-ln">   1 </span><span class="pp-pln"></span><span class="pp-mix frag-to-link-a" data-frag-id="d11">base_example(</span><span class="pp-arg"> ittfTree </span><span class="pp-mix">)</span></div><div class="L2"><span class="pp-ln">   2 </span><span class="pp-pln">    </span><span class="pp-tag">var</span><span class="pp-pln"> ittfMTreeEx = require('../../lib/ittfTree/ittfMTreeEx')</span></div><div class="L3"><span class="pp-ln">   3 </span><span class="pp-pln">    </span><span class="pp-tag">_</span><span class="pp-pln"> ittfMTreeEx.createFrom</span></div><div class="L4"><span class="pp-ln">   4 </span><span class="pp-pln">        </span><span class="pp-tag">_</span><span class="pp-pln"> path.join</span></div><div class="L5"><span class="pp-ln">   5 </span><span class="pp-pln">            </span><span class="pp-tag">@</span><span class="pp-pln"> __dirname</span></div><div class="L6"><span class="pp-ln">   6 </span><span class="pp-pln">            </span><span class="pp-tag">@</span><span class="pp-pln"> 'ittf'</span></div><div class="L7"><span class="pp-ln">   7 </span><span class="pp-pln">            </span><span class="pp-tag">@</span><span class="pp-pln"> 'basic.sample.ittf'</span></div><div class="L8"><span class="pp-ln">   8 </span><span class="pp-pln">        </span><span class="pp-tag">{</span></div><div class="L9"><span class="pp-ln">   9 </span><span class="pp-pln">        </span><span class="pp-mix frag-to-link-a" data-frag-id="d119">f_cb_test(</span><span class="pp-arg"> result </span><span class="pp-mix">)</span></div><div class="L0"><span class="pp-ln">  10 </span><span class="pp-pln">            </span><span class="pp-tag">_</span><span class="pp-pln"> file.write</span></div><div class="L1"><span class="pp-ln">  11 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> path.join</span></div><div class="L2"><span class="pp-ln">  12 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> __dirname</span></div><div class="L3"><span class="pp-ln">  13 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> 'ittf'</span></div><div class="L4"><span class="pp-ln">  14 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> 'basic.sample.json'</span></div><div class="L5"><span class="pp-ln">  15 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> stringify</span></div><div class="L6"><span class="pp-ln">  16 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> result</span></div><div class="L7"><span class="pp-ln">  17 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> null</span></div><div class="L8"><span class="pp-ln">  18 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> 2</span></div><div class="L9"><span class="pp-ln">  19 </span><span class="pp-pln">    </span><span class="pp-tag">_</span><span class="pp-pln"> ittfMTreeEx.createFrom</span></div><div class="L0"><span class="pp-ln">  20 </span><span class="pp-pln">        </span><span class="pp-tag">[</span></div><div class="L1"><span class="pp-ln">  21 </span><span class="pp-pln">            </span><span class="pp-tag">@</span><span class="pp-pln"> 'module'</span></div><div class="L2"><span class="pp-ln">  22 </span><span class="pp-pln">            </span><span class="pp-tag">@</span><span class="pp-pln"> '    kind react'</span></div><div class="L3"><span class="pp-ln">  23 </span><span class="pp-pln">            </span><span class="pp-tag">@</span><span class="pp-pln"> '    react Hello'</span></div><div class="L4"><span class="pp-ln">  24 </span><span class="pp-pln">            </span><span class="pp-tag">@</span><span class="pp-pln"> '        state'</span></div><div class="L5"><span class="pp-ln">  25 </span><span class="pp-pln">            </span><span class="pp-tag">@</span><span class="pp-pln"> '            @ name "stefi"'</span></div><div class="L6"><span class="pp-ln">  26 </span><span class="pp-pln">            </span><span class="pp-tag">._</span><span class="pp-pln"> join</span></div><div class="L7"><span class="pp-ln">  27 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> '\n'</span></div><div class="L8"><span class="pp-ln">  28 </span><span class="pp-pln">        </span><span class="pp-tag">{</span></div><div class="L9"><span class="pp-ln">  29 </span><span class="pp-pln">            </span><span class="pp-tag">@</span><span class="pp-pln"> fromString true</span></div><div class="L0"><span class="pp-ln">  30 </span><span class="pp-pln">            </span><span class="pp-tag">@</span><span class="pp-pln"> clean true</span></div><div class="L1"><span class="pp-ln">  31 </span><span class="pp-pln">        </span><span class="pp-mix frag-to-link-a" data-frag-id="d119">f_cb_test(</span><span class="pp-arg"> result </span><span class="pp-mix">)</span></div><div class="L2"><span class="pp-ln">  32 </span><span class="pp-pln">            </span><span class="pp-tag">log</span><span class="pp-pln"> 'result.findByRow(3). should be react node.', result.findByRow(3)</span></div><div class="L3"><span class="pp-ln">  33 </span><span class="pp-pln">            </span><span class="pp-tag">_</span><span class="pp-pln"> file.write</span></div><div class="L4"><span class="pp-ln">  34 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> path.join</span></div><div class="L5"><span class="pp-ln">  35 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> __dirname</span></div><div class="L6"><span class="pp-ln">  36 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> 'ittf'</span></div><div class="L7"><span class="pp-ln">  37 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> 'basic.sample.fromstring.json'</span></div><div class="L8"><span class="pp-ln">  38 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> stringify</span></div><div class="L9"><span class="pp-ln">  39 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> result</span></div><div class="L0"><span class="pp-ln">  40 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> null</span></div><div class="L1"><span class="pp-ln">  41 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> 2</span></div></pre>
                    </div>
                </div>
                <div class="code-panel" id="d5">
                    <div class="modal-view-container">
                        <h4 class="d-h2">/src/ittf/examples/prettifiers/ittf__copy/basic.sample.ittf</h4>
                        <pre class="prettyprint">

<div class="L1"><span class="pp-ln">   1 </span><span class="pp-pln"></span><span class="pp-tag">alfa</span></div><div class="L2"><span class="pp-ln">   2 </span><span class="pp-pln">    </span><span class="pp-tag">tau</span><span class="pp-pln"> aa</span><span class="pp-kwd">${</span><span class="pp-expr">dae * 3</span><span class="pp-kwd">}</span><span class="pp-pln"> bb</span></div><div class="L3"><span class="pp-ln">   3 </span><span class="pp-pln">    </span><span class="pp-kwd">$$</span><span class="pp-pln"> beta</span></div><div class="L4"><span class="pp-ln">   4 </span><span class="pp-pln">    </span><span class="pp-tag">gamma</span></div><div class="L5"><span class="pp-ln">   5 </span><span class="pp-pln">        </span><span class="pp-kwd">$*</span></div><div class="L6"><span class="pp-ln">   6 </span><span class="pp-pln">            </span><span class="pp-tag">a</span></div><div class="L7"><span class="pp-ln">   7 </span><span class="pp-pln">            </span><span class="pp-tag">b</span></div><div class="L8"><span class="pp-ln">   8 </span><span class="pp-pln">            </span><span class="pp-tag">c</span><span class="pp-pln"> *</span></div></pre>
                    </div>
                </div>
                <div class="code-panel" id="d6">
                    <div class="modal-view-container">
                        <h4 class="d-h2">/src/ittf/examples/prettifiers/index.js.ittf</h4>
                        <pre class="prettyprint">

<div class="L1"><span class="pp-ln">   1 </span><span class="pp-pln"></span><span class="pp-mix frag-to-link-a" data-frag-id="d11">base_example(</span><span class="pp-arg"> prettifiers </span><span class="pp-mix">)</span></div><div class="L2"><span class="pp-ln">   2 </span><span class="pp-pln">    </span><span class="pp-tag">var</span><span class="pp-pln"> ittfMTreeEx = require('../../lib/ittfTree/ittfMTreeEx')</span></div><div class="L3"><span class="pp-ln">   3 </span><span class="pp-pln">    </span><span class="pp-tag">var</span><span class="pp-pln"> ittfHtmlPrettifier = require('../../lib/prettifiers/ittfHtmlPrettifier')</span></div><div class="L4"><span class="pp-ln">   4 </span><span class="pp-pln">    </span><span class="pp-tag">_</span><span class="pp-pln"> ittfMTreeEx.createFrom</span></div><div class="L5"><span class="pp-ln">   5 </span><span class="pp-pln">        </span><span class="pp-tag">_</span><span class="pp-pln"> path.join</span></div><div class="L6"><span class="pp-ln">   6 </span><span class="pp-pln">            </span><span class="pp-tag">@</span><span class="pp-pln"> __dirname</span></div><div class="L7"><span class="pp-ln">   7 </span><span class="pp-pln">            </span><span class="pp-tag">@</span><span class="pp-pln"> 'ittf'</span></div><div class="L8"><span class="pp-ln">   8 </span><span class="pp-pln">            </span><span class="pp-tag">@</span><span class="pp-pln"> 'basic.sample.ittf'</span></div><div class="L9"><span class="pp-ln">   9 </span><span class="pp-pln">        </span><span class="pp-tag">{</span></div><div class="L0"><span class="pp-ln">  10 </span><span class="pp-pln">        </span><span class="pp-mix frag-to-link-a" data-frag-id="d119">f_cb_test(</span><span class="pp-arg"> result </span><span class="pp-mix">)</span></div><div class="L1"><span class="pp-ln">  11 </span><span class="pp-pln">            </span><span class="pp-tag">var</span><span class="pp-pln"> pretty</span></div><div class="L2"><span class="pp-ln">  12 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> ittfHtmlPrettifier</span></div><div class="L3"><span class="pp-ln">  13 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> result</span></div><div class="L4"><span class="pp-ln">  14 </span><span class="pp-pln">                    </span><span class="pp-tag">{</span></div><div class="L5"><span class="pp-ln">  15 </span><span class="pp-pln">            </span><span class="pp-tag">_</span><span class="pp-pln"> file.write</span></div><div class="L6"><span class="pp-ln">  16 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> path.join</span></div><div class="L7"><span class="pp-ln">  17 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> __dirname</span></div><div class="L8"><span class="pp-ln">  18 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> 'outputs'</span></div><div class="L9"><span class="pp-ln">  19 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> 'basic.sample.pretty.html'</span></div><div class="L0"><span class="pp-ln">  20 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> pretty.prettyLines.join('\n')</span></div></pre>
                    </div>
                </div>
                <div class="code-panel" id="d7">
                    <div class="modal-view-container">
                        <h4 class="d-h2">/src/ittf/examples/scanners/ittf__copy/first/child/child.sample.ittf</h4>
                        <pre class="prettyprint">

<div class="L1"><span class="pp-ln">   1 </span><span class="pp-pln"></span><span class="pp-tag">tests</span><span class="pp-pln"> root</span></div><div class="L2"><span class="pp-ln">   2 </span><span class="pp-pln">    </span><span class="pp-mix frag-to-link-a">frag-1(</span><span class="pp-mix">)</span></div></pre>
                    </div>
                </div>
                <div class="code-panel" id="d8">
                    <div class="modal-view-container">
                        <h4 class="d-h2">/src/ittf/examples/scanners/ittf__copy/first/t/frag-1.sample.ittf</h4>
                        <pre class="prettyprint">

<div class="L1"><span class="pp-ln">   1 </span><span class="pp-pln"></span><span class="pp-kwd">$group</span></div><div class="L2"><span class="pp-ln">   2 </span><span class="pp-pln">    </span><span class="pp-tag">alfa</span><span class="pp-pln"> frag-1</span></div></pre>
                    </div>
                </div>
                <div class="code-panel" id="d9">
                    <div class="modal-view-container">
                        <h4 class="d-h2">/src/ittf/examples/scanners/ittf__copy/first/root.sample.ittf</h4>
                        <pre class="prettyprint">

<div class="L1"><span class="pp-ln">   1 </span><span class="pp-pln"></span><span class="pp-tag">tests</span><span class="pp-pln"> root</span></div><div class="L2"><span class="pp-ln">   2 </span><span class="pp-pln">    </span><span class="pp-mix frag-to-link-a">frag-1(</span><span class="pp-mix">)</span></div></pre>
                    </div>
                </div>
                <div class="code-panel" id="d10">
                    <div class="modal-view-container">
                        <h4 class="d-h2">/src/ittf/examples/scanners/index.js.ittf</h4>
                        <pre class="prettyprint">

<div class="L1"><span class="pp-ln">   1 </span><span class="pp-pln"></span><span class="pp-mix frag-to-link-a" data-frag-id="d11">base_example(</span><span class="pp-arg"> ittfTree </span><span class="pp-mix">)</span></div><div class="L2"><span class="pp-ln">   2 </span><span class="pp-pln">    </span><span class="pp-tag">var</span><span class="pp-pln"> folderScanner = require('../../lib/scanners/folderScanner')</span></div><div class="L3"><span class="pp-ln">   3 </span><span class="pp-pln">    </span><span class="pp-tag">var</span><span class="pp-pln"> ittfMTreeEx</span></div><div class="L4"><span class="pp-ln">   4 </span><span class="pp-pln">        </span><span class="pp-tag">_</span><span class="pp-pln"> folderScanner.scan</span></div><div class="L5"><span class="pp-ln">   5 </span><span class="pp-pln">            </span><span class="pp-tag">_</span><span class="pp-pln"> path.join</span></div><div class="L6"><span class="pp-ln">   6 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> __dirname</span></div><div class="L7"><span class="pp-ln">   7 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> 'ittf'</span></div><div class="L8"><span class="pp-ln">   8 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> 'first'</span></div><div class="L9"><span class="pp-ln">   9 </span><span class="pp-pln">            </span><span class="pp-tag">{</span></div><div class="L0"><span class="pp-ln">  10 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> name 'first'</span></div><div class="L1"><span class="pp-ln">  11 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> gitPath 'c:/blabla'</span></div><div class="L2"><span class="pp-ln">  12 </span><span class="pp-pln">    </span><span class="pp-tag">_</span><span class="pp-pln"> ittfMTreeEx.writeFile</span></div><div class="L3"><span class="pp-ln">  13 </span><span class="pp-pln">        </span><span class="pp-tag">_</span><span class="pp-pln"> path.join</span></div><div class="L4"><span class="pp-ln">  14 </span><span class="pp-pln">            </span><span class="pp-tag">@</span><span class="pp-pln"> __dirname</span></div><div class="L5"><span class="pp-ln">  15 </span><span class="pp-pln">            </span><span class="pp-tag">@</span><span class="pp-pln"> 'outputs'</span></div><div class="L6"><span class="pp-ln">  16 </span><span class="pp-pln">            </span><span class="pp-tag">@</span><span class="pp-pln"> 'first.wfpackage.ittf'</span></div><div class="L7"><span class="pp-ln">  17 </span><span class="pp-pln">        </span><span class="pp-mix frag-to-link-a" data-frag-id="d119">f_cb_test(</span><span class="pp-arg"> result </span><span class="pp-mix">)</span></div><div class="L8"><span class="pp-ln">  18 </span><span class="pp-pln">            </span><span class="pp-tag">log</span><span class="pp-pln"> 'err, result', err, result</span></div></pre>
                    </div>
                </div>
                <div class="code-panel" id="d11">
                    <div class="modal-view-container">
                        <h4 class="d-h2">/src/ittf/examples/t/base_example.js.ittf</h4>
                        <pre class="prettyprint">

<div class="L1"><span class="pp-ln">   1 </span><span class="pp-pln"></span><span class="pp-tag">module</span></div><div class="L2"><span class="pp-ln">   2 </span><span class="pp-pln">    </span><span class="pp-tag">kind</span><span class="pp-pln"> jsfile</span></div><div class="L3"><span class="pp-ln">   3 </span><span class="pp-pln">    </span><span class="pp-tag">+</span></div><div class="L4"><span class="pp-ln">   4 </span><span class="pp-pln">    </span><span class="pp-tag">import</span><span class="pp-pln"> util</span></div><div class="L5"><span class="pp-ln">   5 </span><span class="pp-pln">    </span><span class="pp-tag">import</span><span class="pp-pln"> path</span></div><div class="L6"><span class="pp-ln">   6 </span><span class="pp-pln">    </span><span class="pp-tag">var</span><span class="pp-pln"> stringify = require('json-stringify-safe')</span></div><div class="L7"><span class="pp-ln">   7 </span><span class="pp-pln">    </span><span class="pp-tag">var</span><span class="pp-pln"> file = require('../../lib/fs/file')</span></div><div class="L8"><span class="pp-ln">   8 </span><span class="pp-pln">    </span><span class="pp-tag">var</span><span class="pp-pln"> vfile = require('../../lib/fs/vfile')</span></div><div class="L9"><span class="pp-ln">   9 </span><span class="pp-pln">    </span><span class="pp-tag">var</span><span class="pp-pln"> verify = require('../../lib/verify')</span></div><div class="L0"><span class="pp-ln">  10 </span><span class="pp-pln">    </span><span class="pp-kwd">$hook</span><span class="pp-pln"> imports</span></div><div class="L1"><span class="pp-ln">  11 </span><span class="pp-pln">    </span><span class="pp-tag">+</span></div><div class="L2"><span class="pp-ln">  12 </span><span class="pp-pln">    </span><span class="pp-tag">+</span></div><div class="L3"><span class="pp-ln">  13 </span><span class="pp-pln">    </span><span class="pp-kwd">$hook</span></div></pre>
                    </div>
                </div>
                <div class="code-panel" id="d12">
                    <div class="modal-view-container">
                        <h4 class="d-h2">/src/ittf/examples/utils/ittf__copy/samples/folder_1/folder_1b/file_1b1_a.sample.ittf</h4>
                        <pre class="prettyprint">

<div class="L1"><span class="pp-ln">   1 </span><span class="pp-pln"></span><span class="pp-tag">sample</span><span class="pp-pln"> file_2_a</span></div></pre>
                    </div>
                </div>
                <div class="code-panel" id="d13">
                    <div class="modal-view-container">
                        <h4 class="d-h2">/src/ittf/examples/utils/ittf__copy/samples/folder_1/file_1_a.sample.ittf</h4>
                        <pre class="prettyprint">

<div class="L1"><span class="pp-ln">   1 </span><span class="pp-pln"></span><span class="pp-tag">sample</span><span class="pp-pln"> file_1_a</span></div></pre>
                    </div>
                </div>
                <div class="code-panel" id="d14">
                    <div class="modal-view-container">
                        <h4 class="d-h2">/src/ittf/examples/utils/ittf__copy/samples/folder_2/file_2_a.sample.ittf</h4>
                        <pre class="prettyprint">

<div class="L1"><span class="pp-ln">   1 </span><span class="pp-pln"></span><span class="pp-tag">sample</span><span class="pp-pln"> file_2_a</span></div></pre>
                    </div>
                </div>
                <div class="code-panel" id="d15">
                    <div class="modal-view-container">
                        <h4 class="d-h2">/src/ittf/examples/utils/ittf__copy/samples/file_1.sample.ittf</h4>
                        <pre class="prettyprint">

<div class="L1"><span class="pp-ln">   1 </span><span class="pp-pln"></span><span class="pp-tag">sample</span><span class="pp-pln"> file_1</span></div></pre>
                    </div>
                </div>
                <div class="code-panel" id="d16">
                    <div class="modal-view-container">
                        <h4 class="d-h2">/src/ittf/examples/utils/ittf__copy/samples/file_2.sample.ittf</h4>
                        <pre class="prettyprint">

<div class="L1"><span class="pp-ln">   1 </span><span class="pp-pln"></span><span class="pp-tag">sample</span><span class="pp-pln"> file_2</span></div></pre>
                    </div>
                </div>
                <div class="code-panel" id="d17">
                    <div class="modal-view-container">
                        <h4 class="d-h2">/src/ittf/examples/utils/getFiles.js.ittf</h4>
                        <pre class="prettyprint">

<div class="L1"><span class="pp-ln">   1 </span><span class="pp-pln"></span><span class="pp-mix frag-to-link-a" data-frag-id="d11">base_example(</span><span class="pp-arg"> getFiles </span><span class="pp-mix">)</span></div><div class="L2"><span class="pp-ln">   2 </span><span class="pp-pln">    </span><span class="pp-kwd">$append</span><span class="pp-pln"> imports</span></div><div class="L3"><span class="pp-ln">   3 </span><span class="pp-pln">        </span><span class="pp-tag">var</span><span class="pp-pln"> file = vfile()</span></div><div class="L4"><span class="pp-ln">   4 </span><span class="pp-pln">    </span><span class="pp-tag">_</span><span class="pp-pln"> file.getFiles</span></div><div class="L5"><span class="pp-ln">   5 </span><span class="pp-pln">        </span><span class="pp-tag">_</span><span class="pp-pln"> path.join</span></div><div class="L6"><span class="pp-ln">   6 </span><span class="pp-pln">            </span><span class="pp-tag">@</span><span class="pp-pln"> __dirname</span></div><div class="L7"><span class="pp-ln">   7 </span><span class="pp-pln">            </span><span class="pp-tag">@</span><span class="pp-pln"> 'ittf'</span></div><div class="L8"><span class="pp-ln">   8 </span><span class="pp-pln">            </span><span class="pp-tag">@</span><span class="pp-pln"> 'samples'</span></div><div class="L9"><span class="pp-ln">   9 </span><span class="pp-pln">        </span><span class="pp-tag">{</span></div><div class="L0"><span class="pp-ln">  10 </span><span class="pp-pln">            </span><span class="pp-tag">@</span><span class="pp-pln"> deep false</span></div><div class="L1"><span class="pp-ln">  11 </span><span class="pp-pln">            </span><span class="pp-tag">@</span><span class="pp-pln"> extension null</span></div><div class="L2"><span class="pp-ln">  12 </span><span class="pp-pln">            </span><span class="pp-tag">@</span><span class="pp-pln"> documentContent false</span></div><div class="L3"><span class="pp-ln">  13 </span><span class="pp-pln">        </span><span class="pp-mix frag-to-link-a" data-frag-id="d119">f_cb_test(</span><span class="pp-arg"> files </span><span class="pp-mix">)</span></div><div class="L4"><span class="pp-ln">  14 </span><span class="pp-pln">            </span><span class="pp-tag">log</span><span class="pp-pln"> 'utils.getFiles.files', files</span></div><div class="L5"><span class="pp-ln">  15 </span><span class="pp-pln">            </span><span class="pp-tag">_</span><span class="pp-pln"> file.getFiles</span></div><div class="L6"><span class="pp-ln">  16 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> path.join</span></div><div class="L7"><span class="pp-ln">  17 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> __dirname</span></div><div class="L8"><span class="pp-ln">  18 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> 'ittf'</span></div><div class="L9"><span class="pp-ln">  19 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> 'samples'</span></div><div class="L0"><span class="pp-ln">  20 </span><span class="pp-pln">                </span><span class="pp-tag">{</span></div><div class="L1"><span class="pp-ln">  21 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> deep false</span></div><div class="L2"><span class="pp-ln">  22 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> extension null</span></div><div class="L3"><span class="pp-ln">  23 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> documentContent true</span></div><div class="L4"><span class="pp-ln">  24 </span><span class="pp-pln">                </span><span class="pp-mix frag-to-link-a" data-frag-id="d119">f_cb_test(</span><span class="pp-arg"> files </span><span class="pp-mix">)</span></div><div class="L5"><span class="pp-ln">  25 </span><span class="pp-pln">                    </span><span class="pp-tag">log</span><span class="pp-pln"> 'utils.getFilesWithContent.files', files</span></div><div class="L6"><span class="pp-ln">  26 </span><span class="pp-pln">                    </span><span class="pp-tag">_</span><span class="pp-pln"> file.getFiles</span></div><div class="L7"><span class="pp-ln">  27 </span><span class="pp-pln">                        </span><span class="pp-tag">_</span><span class="pp-pln"> path.join</span></div><div class="L8"><span class="pp-ln">  28 </span><span class="pp-pln">                            </span><span class="pp-tag">@</span><span class="pp-pln"> __dirname</span></div><div class="L9"><span class="pp-ln">  29 </span><span class="pp-pln">                            </span><span class="pp-tag">@</span><span class="pp-pln"> 'ittf'</span></div><div class="L0"><span class="pp-ln">  30 </span><span class="pp-pln">                            </span><span class="pp-tag">@</span><span class="pp-pln"> 'samples'</span></div><div class="L1"><span class="pp-ln">  31 </span><span class="pp-pln">                        </span><span class="pp-tag">{</span></div><div class="L2"><span class="pp-ln">  32 </span><span class="pp-pln">                            </span><span class="pp-tag">@</span><span class="pp-pln"> deep true</span></div><div class="L3"><span class="pp-ln">  33 </span><span class="pp-pln">                            </span><span class="pp-tag">@</span><span class="pp-pln"> extension null</span></div><div class="L4"><span class="pp-ln">  34 </span><span class="pp-pln">                            </span><span class="pp-tag">@</span><span class="pp-pln"> documentContent true</span></div><div class="L5"><span class="pp-ln">  35 </span><span class="pp-pln">                        </span><span class="pp-mix frag-to-link-a" data-frag-id="d119">f_cb_test(</span><span class="pp-arg"> files </span><span class="pp-mix">)</span></div><div class="L6"><span class="pp-ln">  36 </span><span class="pp-pln">                            </span><span class="pp-tag">log</span><span class="pp-pln"> 'utils.getFilesWithContentDeep.files', files</span></div></pre>
                    </div>
                </div>
                <div class="code-panel" id="d18">
                    <div class="modal-view-container">
                        <h4 class="d-h2">/src/ittf/examples/utils/getFolders.js.ittf</h4>
                        <pre class="prettyprint">

<div class="L1"><span class="pp-ln">   1 </span><span class="pp-pln"></span><span class="pp-mix frag-to-link-a" data-frag-id="d11">base_example(</span><span class="pp-arg"> getFolders </span><span class="pp-mix">)</span></div><div class="L2"><span class="pp-ln">   2 </span><span class="pp-pln">    </span><span class="pp-kwd">$append</span><span class="pp-pln"> imports</span></div><div class="L3"><span class="pp-ln">   3 </span><span class="pp-pln">        </span><span class="pp-tag">var</span><span class="pp-pln"> file = vfile()</span></div><div class="L4"><span class="pp-ln">   4 </span><span class="pp-pln">    </span><span class="pp-tag">_</span><span class="pp-pln"> file.getFolders</span></div><div class="L5"><span class="pp-ln">   5 </span><span class="pp-pln">        </span><span class="pp-tag">_</span><span class="pp-pln"> path.join</span></div><div class="L6"><span class="pp-ln">   6 </span><span class="pp-pln">            </span><span class="pp-tag">@</span><span class="pp-pln"> __dirname</span></div><div class="L7"><span class="pp-ln">   7 </span><span class="pp-pln">            </span><span class="pp-tag">@</span><span class="pp-pln"> 'ittf'</span></div><div class="L8"><span class="pp-ln">   8 </span><span class="pp-pln">            </span><span class="pp-tag">@</span><span class="pp-pln"> 'samples'</span></div><div class="L9"><span class="pp-ln">   9 </span><span class="pp-pln">        </span><span class="pp-tag">{</span></div><div class="L0"><span class="pp-ln">  10 </span><span class="pp-pln">            </span><span class="pp-tag">@</span><span class="pp-pln"> deep false</span></div><div class="L1"><span class="pp-ln">  11 </span><span class="pp-pln">            </span><span class="pp-tag">@</span><span class="pp-pln"> tFoldersOnly false</span></div><div class="L2"><span class="pp-ln">  12 </span><span class="pp-pln">            </span><span class="pp-tag">@</span><span class="pp-pln"> documentNames false</span></div><div class="L3"><span class="pp-ln">  13 </span><span class="pp-pln">        </span><span class="pp-mix frag-to-link-a" data-frag-id="d119">f_cb_test(</span><span class="pp-arg"> folders </span><span class="pp-mix">)</span></div><div class="L4"><span class="pp-ln">  14 </span><span class="pp-pln">            </span><span class="pp-tag">log</span><span class="pp-pln"> 'utils.getFolders.folders', folders</span></div><div class="L5"><span class="pp-ln">  15 </span><span class="pp-pln">            </span><span class="pp-tag">_</span><span class="pp-pln"> file.getFolders</span></div><div class="L6"><span class="pp-ln">  16 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> path.join</span></div><div class="L7"><span class="pp-ln">  17 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> __dirname</span></div><div class="L8"><span class="pp-ln">  18 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> 'ittf'</span></div><div class="L9"><span class="pp-ln">  19 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> 'samples'</span></div><div class="L0"><span class="pp-ln">  20 </span><span class="pp-pln">                </span><span class="pp-tag">{</span></div><div class="L1"><span class="pp-ln">  21 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> deep false</span></div><div class="L2"><span class="pp-ln">  22 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> tFoldersOnly false</span></div><div class="L3"><span class="pp-ln">  23 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> documentNames false</span></div><div class="L4"><span class="pp-ln">  24 </span><span class="pp-pln">                </span><span class="pp-mix frag-to-link-a" data-frag-id="d119">f_cb_test(</span><span class="pp-arg"> folders </span><span class="pp-mix">)</span></div><div class="L5"><span class="pp-ln">  25 </span><span class="pp-pln">                    </span><span class="pp-tag">log</span><span class="pp-pln"> 'utils.getFoldersWithContent.folders', folders</span></div><div class="L6"><span class="pp-ln">  26 </span><span class="pp-pln">                    </span><span class="pp-tag">_</span><span class="pp-pln"> file.getFolders</span></div><div class="L7"><span class="pp-ln">  27 </span><span class="pp-pln">                        </span><span class="pp-tag">_</span><span class="pp-pln"> path.join</span></div><div class="L8"><span class="pp-ln">  28 </span><span class="pp-pln">                            </span><span class="pp-tag">@</span><span class="pp-pln"> __dirname</span></div><div class="L9"><span class="pp-ln">  29 </span><span class="pp-pln">                            </span><span class="pp-tag">@</span><span class="pp-pln"> 'ittf'</span></div><div class="L0"><span class="pp-ln">  30 </span><span class="pp-pln">                            </span><span class="pp-tag">@</span><span class="pp-pln"> 'samples'</span></div><div class="L1"><span class="pp-ln">  31 </span><span class="pp-pln">                        </span><span class="pp-tag">{</span></div><div class="L2"><span class="pp-ln">  32 </span><span class="pp-pln">                            </span><span class="pp-tag">@</span><span class="pp-pln"> deep true</span></div><div class="L3"><span class="pp-ln">  33 </span><span class="pp-pln">                            </span><span class="pp-tag">@</span><span class="pp-pln"> tFoldersOnly false</span></div><div class="L4"><span class="pp-ln">  34 </span><span class="pp-pln">                            </span><span class="pp-tag">@</span><span class="pp-pln"> documentNames true</span></div><div class="L5"><span class="pp-ln">  35 </span><span class="pp-pln">                        </span><span class="pp-mix frag-to-link-a" data-frag-id="d119">f_cb_test(</span><span class="pp-arg"> folders </span><span class="pp-mix">)</span></div><div class="L6"><span class="pp-ln">  36 </span><span class="pp-pln">                            </span><span class="pp-tag">log</span><span class="pp-pln"> 'utils.getFoldersWithDocumentNames.folders', folders</span></div></pre>
                    </div>
                </div>
                <div class="code-panel" id="d19">
                    <div class="modal-view-container">
                        <h4 class="d-h2">/src/ittf/examples/utils/glob.js.ittf</h4>
                        <pre class="prettyprint">

<div class="L1"><span class="pp-ln">   1 </span><span class="pp-pln"></span><span class="pp-mix frag-to-link-a" data-frag-id="d11">base_example(</span><span class="pp-arg"> glob </span><span class="pp-mix">)</span></div><div class="L2"><span class="pp-ln">   2 </span><span class="pp-pln">    </span><span class="pp-kwd">$append</span><span class="pp-pln"> imports</span></div><div class="L3"><span class="pp-ln">   3 </span><span class="pp-pln">        </span><span class="pp-tag">var</span><span class="pp-pln"> glob = require('../../lib/glob')</span></div><div class="L4"><span class="pp-ln">   4 </span><span class="pp-pln">        </span><span class="pp-tag">var</span><span class="pp-pln"> file = vfile()</span></div><div class="L5"><span class="pp-ln">   5 </span><span class="pp-pln">    </span><span class="pp-tag">_</span><span class="pp-pln"> file.write</span></div><div class="L6"><span class="pp-ln">   6 </span><span class="pp-pln">        </span><span class="pp-tag">_</span><span class="pp-pln"> path.join</span></div><div class="L7"><span class="pp-ln">   7 </span><span class="pp-pln">            </span><span class="pp-tag">@</span><span class="pp-pln"> __dirname</span></div><div class="L8"><span class="pp-ln">   8 </span><span class="pp-pln">            </span><span class="pp-tag">@</span><span class="pp-pln"> 'ittf'</span></div><div class="L9"><span class="pp-ln">   9 </span><span class="pp-pln">            </span><span class="pp-tag">@</span><span class="pp-pln"> 'globs2'</span></div><div class="L0"><span class="pp-ln">  10 </span><span class="pp-pln">            </span><span class="pp-tag">@</span><span class="pp-pln"> 'globbed_1.ittf'</span></div><div class="L1"><span class="pp-ln">  11 </span><span class="pp-pln">        </span><span class="pp-tag">@</span><span class="pp-pln"> 'globbed 1'</span></div><div class="L2"><span class="pp-ln">  12 </span><span class="pp-pln">    </span><span class="pp-tag">_</span><span class="pp-pln"> file.write</span></div><div class="L3"><span class="pp-ln">  13 </span><span class="pp-pln">        </span><span class="pp-tag">_</span><span class="pp-pln"> path.join</span></div><div class="L4"><span class="pp-ln">  14 </span><span class="pp-pln">            </span><span class="pp-tag">@</span><span class="pp-pln"> __dirname</span></div><div class="L5"><span class="pp-ln">  15 </span><span class="pp-pln">            </span><span class="pp-tag">@</span><span class="pp-pln"> 'ittf'</span></div><div class="L6"><span class="pp-ln">  16 </span><span class="pp-pln">            </span><span class="pp-tag">@</span><span class="pp-pln"> 'globs2'</span></div><div class="L7"><span class="pp-ln">  17 </span><span class="pp-pln">            </span><span class="pp-tag">@</span><span class="pp-pln"> 'globbed_2.ittf'</span></div><div class="L8"><span class="pp-ln">  18 </span><span class="pp-pln">        </span><span class="pp-tag">@</span><span class="pp-pln"> 'globbed 2'</span></div><div class="L9"><span class="pp-ln">  19 </span><span class="pp-pln">    </span><span class="pp-tag">_</span><span class="pp-pln"> glob</span></div><div class="L0"><span class="pp-ln">  20 </span><span class="pp-pln">        </span><span class="pp-tag">_</span><span class="pp-pln"> path.join</span></div><div class="L1"><span class="pp-ln">  21 </span><span class="pp-pln">            </span><span class="pp-tag">@</span><span class="pp-pln"> __dirname</span></div><div class="L2"><span class="pp-ln">  22 </span><span class="pp-pln">            </span><span class="pp-tag">@</span><span class="pp-pln"> 'ittf'</span></div><div class="L3"><span class="pp-ln">  23 </span><span class="pp-pln">            </span><span class="pp-tag">@</span><span class="pp-pln"> 'globs2'</span></div><div class="L4"><span class="pp-ln">  24 </span><span class="pp-pln">            </span><span class="pp-tag">@</span><span class="pp-pln"> '**/*.ittf'</span></div><div class="L5"><span class="pp-ln">  25 </span><span class="pp-pln">        </span><span class="pp-tag">@</span><span class="pp-pln"> file</span></div><div class="L6"><span class="pp-ln">  26 </span><span class="pp-pln">        </span><span class="pp-mix frag-to-link-a" data-frag-id="d119">f_cb_test(</span><span class="pp-arg"> result </span><span class="pp-mix">)</span></div><div class="L7"><span class="pp-ln">  27 </span><span class="pp-pln">            </span><span class="pp-tag">log</span><span class="pp-pln"> 'result', result</span></div><div class="L8"><span class="pp-ln">  28 </span><span class="pp-pln">    </span><span class="pp-tag">var</span><span class="pp-pln"> result</span></div><div class="L9"><span class="pp-ln">  29 </span><span class="pp-pln">        </span><span class="pp-tag">_</span><span class="pp-pln"> glob</span></div><div class="L0"><span class="pp-ln">  30 </span><span class="pp-pln">            </span><span class="pp-tag">_</span><span class="pp-pln"> path.join</span></div><div class="L1"><span class="pp-ln">  31 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> __dirname</span></div><div class="L2"><span class="pp-ln">  32 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> 'ittf'</span></div><div class="L3"><span class="pp-ln">  33 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> 'globs2'</span></div><div class="L4"><span class="pp-ln">  34 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> '**/*.ittf'</span></div><div class="L5"><span class="pp-ln">  35 </span><span class="pp-pln">            </span><span class="pp-tag">@</span><span class="pp-pln"> file</span></div><div class="L6"><span class="pp-ln">  36 </span><span class="pp-pln">            </span><span class="pp-tag">{</span></div><div class="L7"><span class="pp-ln">  37 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> sync true</span></div><div class="L8"><span class="pp-ln">  38 </span><span class="pp-pln">    </span><span class="pp-tag">log</span><span class="pp-pln"> 'result', result</span></div></pre>
                    </div>
                </div>
                <div class="code-panel" id="d20">
                    <div class="modal-view-container">
                        <h4 class="d-h2">/src/ittf/examples/utils/vfile.js.ittf</h4>
                        <pre class="prettyprint">

<div class="L1"><span class="pp-ln">   1 </span><span class="pp-pln"></span><span class="pp-mix frag-to-link-a" data-frag-id="d11">base_example(</span><span class="pp-arg"> vfile </span><span class="pp-mix">)</span></div><div class="L2"><span class="pp-ln">   2 </span><span class="pp-pln">    </span><span class="pp-kwd">$append</span><span class="pp-pln"> imports</span></div><div class="L3"><span class="pp-ln">   3 </span><span class="pp-pln">        </span><span class="pp-tag">var</span><span class="pp-pln"> vfile = require('../../lib/vfile')</span></div><div class="L4"><span class="pp-ln">   4 </span><span class="pp-pln">        </span><span class="pp-tag">var</span><span class="pp-pln"> file = vfile()</span></div><div class="L5"><span class="pp-ln">   5 </span><span class="pp-pln">    </span><span class="pp-tag">_</span><span class="pp-pln"> file.write</span></div><div class="L6"><span class="pp-ln">   6 </span><span class="pp-pln">        </span><span class="pp-tag">_</span><span class="pp-pln"> path.join</span></div><div class="L7"><span class="pp-ln">   7 </span><span class="pp-pln">            </span><span class="pp-tag">@</span><span class="pp-pln"> __dirname</span></div><div class="L8"><span class="pp-ln">   8 </span><span class="pp-pln">            </span><span class="pp-tag">@</span><span class="pp-pln"> 'ittf'</span></div><div class="L9"><span class="pp-ln">   9 </span><span class="pp-pln">            </span><span class="pp-tag">@</span><span class="pp-pln"> 'globs2'</span></div><div class="L0"><span class="pp-ln">  10 </span><span class="pp-pln">            </span><span class="pp-tag">@</span><span class="pp-pln"> 'globbed_1.ittf'</span></div><div class="L1"><span class="pp-ln">  11 </span><span class="pp-pln">        </span><span class="pp-tag">@</span><span class="pp-pln"> 'globbed 1'</span></div><div class="L2"><span class="pp-ln">  12 </span><span class="pp-pln">    </span><span class="pp-tag">_</span><span class="pp-pln"> file.write</span></div><div class="L3"><span class="pp-ln">  13 </span><span class="pp-pln">        </span><span class="pp-tag">_</span><span class="pp-pln"> path.join</span></div><div class="L4"><span class="pp-ln">  14 </span><span class="pp-pln">            </span><span class="pp-tag">@</span><span class="pp-pln"> __dirname</span></div><div class="L5"><span class="pp-ln">  15 </span><span class="pp-pln">            </span><span class="pp-tag">@</span><span class="pp-pln"> 'ittf'</span></div><div class="L6"><span class="pp-ln">  16 </span><span class="pp-pln">            </span><span class="pp-tag">@</span><span class="pp-pln"> 'globs2'</span></div><div class="L7"><span class="pp-ln">  17 </span><span class="pp-pln">            </span><span class="pp-tag">@</span><span class="pp-pln"> 'globbed_2.ittf'</span></div><div class="L8"><span class="pp-ln">  18 </span><span class="pp-pln">        </span><span class="pp-tag">@</span><span class="pp-pln"> 'globbed 2'</span></div><div class="L9"><span class="pp-ln">  19 </span><span class="pp-pln">    </span><span class="pp-tag">var</span><span class="pp-pln"> result</span></div><div class="L0"><span class="pp-ln">  20 </span><span class="pp-pln">        </span><span class="pp-tag">_</span><span class="pp-pln"> file.getGlobbedFilesEx</span></div><div class="L1"><span class="pp-ln">  21 </span><span class="pp-pln">            </span><span class="pp-tag">_</span><span class="pp-pln"> path.join</span></div><div class="L2"><span class="pp-ln">  22 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> __dirname</span></div><div class="L3"><span class="pp-ln">  23 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> 'ittf'</span></div><div class="L4"><span class="pp-ln">  24 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> 'globs2'</span></div><div class="L5"><span class="pp-ln">  25 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> '**/*.ittf'</span></div><div class="L6"><span class="pp-ln">  26 </span><span class="pp-pln">    </span><span class="pp-tag">log</span><span class="pp-pln"> 'vfile.result', result</span></div><div class="L7"><span class="pp-ln">  27 </span><span class="pp-pln">    </span><span class="pp-tag">var</span><span class="pp-pln"> result</span></div><div class="L8"><span class="pp-ln">  28 </span><span class="pp-pln">        </span><span class="pp-tag">_</span><span class="pp-pln"> file.getGlobbedFilesEx</span></div><div class="L9"><span class="pp-ln">  29 </span><span class="pp-pln">            </span><span class="pp-tag">_</span><span class="pp-pln"> path.join</span></div><div class="L0"><span class="pp-ln">  30 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> __dirname</span></div><div class="L1"><span class="pp-ln">  31 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> 'ittf'</span></div><div class="L2"><span class="pp-ln">  32 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> 'globs2'</span></div><div class="L3"><span class="pp-ln">  33 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> '**/*.ittf'</span></div><div class="L4"><span class="pp-ln">  34 </span><span class="pp-pln">            </span><span class="pp-tag">{</span></div><div class="L5"><span class="pp-ln">  35 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> removeRoot</span></div><div class="L6"><span class="pp-ln">  36 </span><span class="pp-pln">                    </span><span class="pp-tag">_</span><span class="pp-pln"> path.join</span></div><div class="L7"><span class="pp-ln">  37 </span><span class="pp-pln">                        </span><span class="pp-tag">@</span><span class="pp-pln"> __dirname</span></div><div class="L8"><span class="pp-ln">  38 </span><span class="pp-pln">                        </span><span class="pp-tag">@</span><span class="pp-pln"> 'ittf'</span></div><div class="L9"><span class="pp-ln">  39 </span><span class="pp-pln">    </span><span class="pp-tag">log</span><span class="pp-pln"> 'vfile.result', result</span></div></pre>
                    </div>
                </div>
                <div class="code-panel" id="d21">
                    <div class="modal-view-container">
                        <h4 class="d-h2">/src/ittf/lib/fs/t/file/splitLines.js.ittf</h4>
                        <pre class="prettyprint">

<div class="L1"><span class="pp-ln">   1 </span><span class="pp-pln"></span><span class="pp-kwd">$group</span></div><div class="L2"><span class="pp-ln">   2 </span><span class="pp-pln">    </span><span class="pp-tag">set</span><span class="pp-pln"> md.splitLines</span></div><div class="L3"><span class="pp-ln">   3 </span><span class="pp-pln">        </span><span class="pp-tag">function</span></div><div class="L4"><span class="pp-ln">   4 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> contents</span></div><div class="L5"><span class="pp-ln">   5 </span><span class="pp-pln">            </span><span class="pp-tag">var</span></div><div class="L6"><span class="pp-ln">   6 </span><span class="pp-pln">                </span><span class="pp-tag">decl</span><span class="pp-pln"> i</span></div><div class="L7"><span class="pp-ln">   7 </span><span class="pp-pln">                </span><span class="pp-tag">decl</span><span class="pp-pln"> l = contents.length</span></div><div class="L8"><span class="pp-ln">   8 </span><span class="pp-pln">                </span><span class="pp-tag">decl</span><span class="pp-pln"> result</span></div><div class="L9"><span class="pp-ln">   9 </span><span class="pp-pln">                    </span><span class="pp-tag">[</span></div><div class="L0"><span class="pp-ln">  10 </span><span class="pp-pln">                </span><span class="pp-tag">decl</span><span class="pp-pln"> line</span></div><div class="L1"><span class="pp-ln">  11 </span><span class="pp-pln">                    </span><span class="pp-tag">[</span></div><div class="L2"><span class="pp-ln">  12 </span><span class="pp-pln">                </span><span class="pp-tag">decl</span><span class="pp-pln"> ch</span></div><div class="L3"><span class="pp-ln">  13 </span><span class="pp-pln">                </span><span class="pp-tag">decl</span><span class="pp-pln"> chprev</span></div><div class="L4"><span class="pp-ln">  14 </span><span class="pp-pln">            </span><span class="pp-tag">for</span><span class="pp-pln"> i = 0; i &lt; l; i++</span></div><div class="L5"><span class="pp-ln">  15 </span><span class="pp-pln">                </span><span class="pp-tag">set</span><span class="pp-pln"> chprev = ch</span></div><div class="L6"><span class="pp-ln">  16 </span><span class="pp-pln">                </span><span class="pp-tag">set</span><span class="pp-pln"> ch = contents[i]</span></div><div class="L7"><span class="pp-ln">  17 </span><span class="pp-pln">                </span><span class="pp-tag">if</span><span class="pp-pln"> (ch === '\n' && chprev !== '\r') || (ch === '\r' && chprev !== '\n')</span></div><div class="L8"><span class="pp-ln">  18 </span><span class="pp-pln">                    </span><span class="pp-tag">_</span><span class="pp-pln"> result.push</span></div><div class="L9"><span class="pp-ln">  19 </span><span class="pp-pln">                        </span><span class="pp-tag">_</span><span class="pp-pln"> line.join('')</span></div><div class="L0"><span class="pp-ln">  20 </span><span class="pp-pln">                    </span><span class="pp-tag">set</span><span class="pp-pln"> line = []</span></div><div class="L1"><span class="pp-ln">  21 </span><span class="pp-pln">                </span><span class="pp-tag">elif</span><span class="pp-pln"> (ch === '\n' && chprev === '\r') || (ch === '\r' && chprev === '\n')</span></div><div class="L2"><span class="pp-ln">  22 </span><span class="pp-pln">                </span><span class="pp-tag">else</span></div><div class="L3"><span class="pp-ln">  23 </span><span class="pp-pln">                    </span><span class="pp-tag">_</span><span class="pp-pln"> line.push(ch)</span></div><div class="L4"><span class="pp-ln">  24 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> line.length &gt; 0</span></div><div class="L5"><span class="pp-ln">  25 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> result.push</span></div><div class="L6"><span class="pp-ln">  26 </span><span class="pp-pln">                    </span><span class="pp-tag">_</span><span class="pp-pln"> line.join('')</span></div><div class="L7"><span class="pp-ln">  27 </span><span class="pp-pln">            </span><span class="pp-tag">return</span><span class="pp-pln"> result</span></div></pre>
                    </div>
                </div>
                <div class="code-panel" id="d22">
                    <div class="modal-view-container">
                        <h4 class="d-h2">/src/ittf/lib/fs/t/vfile/default_fs.js.ittf</h4>
                        <pre class="prettyprint">

<div class="L1"><span class="pp-ln">   1 </span><span class="pp-pln"></span><span class="pp-kwd">$group</span></div><div class="L2"><span class="pp-ln">   2 </span><span class="pp-pln">    </span><span class="pp-tag">function</span><span class="pp-pln"> default_fs</span></div><div class="L3"><span class="pp-ln">   3 </span><span class="pp-pln">        </span><span class="pp-tag">var</span><span class="pp-pln"> fs</span></div><div class="L4"><span class="pp-ln">   4 </span><span class="pp-pln">        </span><span class="pp-kwd">$if</span><span class="pp-expr"> isWebpackTarget</span></div><div class="L5"><span class="pp-ln">   5 </span><span class="pp-pln">            </span><span class="pp-tag">#</span><span class="pp-pln"> For use in webpack (isWebpackTarget == true)</span></div><div class="L6"><span class="pp-ln">   6 </span><span class="pp-pln">            </span><span class="pp-tag">#</span><span class="pp-pln"> not implemented</span></div><div class="L7"><span class="pp-ln">   7 </span><span class="pp-pln">        </span><span class="pp-kwd">$else</span></div><div class="L8"><span class="pp-ln">   8 </span><span class="pp-pln">            </span><span class="pp-tag">try</span></div><div class="L9"><span class="pp-ln">   9 </span><span class="pp-pln">                </span><span class="pp-tag">#</span><span class="pp-pln"> set fs = require('graceful-fs')</span></div><div class="L0"><span class="pp-ln">  10 </span><span class="pp-pln">                </span><span class="pp-tag">set</span><span class="pp-pln"> fs = require('fs')</span></div><div class="L1"><span class="pp-ln">  11 </span><span class="pp-pln">            </span><span class="pp-tag">catch</span><span class="pp-pln"> ex</span></div><div class="L2"><span class="pp-ln">  12 </span><span class="pp-pln">                </span><span class="pp-tag">set</span><span class="pp-pln"> fs = require('fs')</span></div><div class="L3"><span class="pp-ln">  13 </span><span class="pp-pln">            </span><span class="pp-tag">#</span><span class="pp-pln"> lstat() is identical to stat(),</span></div><div class="L4"><span class="pp-ln">  14 </span><span class="pp-pln">            </span><span class="pp-tag">#</span><span class="pp-pln"> except that if path is a symbolic link,</span></div><div class="L5"><span class="pp-ln">  15 </span><span class="pp-pln">            </span><span class="pp-tag">#</span><span class="pp-pln"> then the link itself is stat-ed,</span></div><div class="L6"><span class="pp-ln">  16 </span><span class="pp-pln">            </span><span class="pp-tag">#</span><span class="pp-pln"> not the file that it refers to.</span></div><div class="L7"><span class="pp-ln">  17 </span><span class="pp-pln">            </span><span class="pp-tag">return</span></div><div class="L8"><span class="pp-ln">  18 </span><span class="pp-pln">                </span><span class="pp-tag">{</span></div><div class="L9"><span class="pp-ln">  19 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> stat fs.stat</span></div><div class="L0"><span class="pp-ln">  20 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> statSync fs.statSync</span></div><div class="L1"><span class="pp-ln">  21 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> lstat fs.lstat</span></div><div class="L2"><span class="pp-ln">  22 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> lstatSync fs.lstatSync</span></div><div class="L3"><span class="pp-ln">  23 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> readFile fs.readFile</span></div><div class="L4"><span class="pp-ln">  24 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> readFileSync fs.readFileSync</span></div><div class="L5"><span class="pp-ln">  25 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> writeFile fs.writeFile</span></div><div class="L6"><span class="pp-ln">  26 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> writeFileSync fs.writeFileSync</span></div><div class="L7"><span class="pp-ln">  27 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> readdir fs.readdir</span></div><div class="L8"><span class="pp-ln">  28 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> readdirSync fs.readdirSync</span></div><div class="L9"><span class="pp-ln">  29 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> mkdir fs.mkdir</span></div><div class="L0"><span class="pp-ln">  30 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> mkdirSync fs.mkdirSync</span></div><div class="L1"><span class="pp-ln">  31 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> unlink fs.unlink</span></div><div class="L2"><span class="pp-ln">  32 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> createWriteStream fs.createWriteStream</span></div></pre>
                    </div>
                </div>
                <div class="code-panel" id="d23">
                    <div class="modal-view-container">
                        <h4 class="d-h2">/src/ittf/lib/fs/t/vfile/getFiles.js.ittf</h4>
                        <pre class="prettyprint">

<div class="L1"><span class="pp-ln">   1 </span><span class="pp-pln"></span><span class="pp-kwd">$group</span></div><div class="L2"><span class="pp-ln">   2 </span><span class="pp-pln">    </span><span class="pp-mix frag-to-link-a" data-frag-id="d28">vfile/m(</span><span class="pp-arg"> getFiles</span><span class="pp-pln">,</span><span class="pp-arg">  readdirSync</span><span class="pp-pln">,</span><span class="pp-arg">  options </span><span class="pp-mix">)</span></div><div class="L3"><span class="pp-ln">   3 </span><span class="pp-pln">        </span><span class="pp-tag">set</span><span class="pp-pln"> options</span></div><div class="L4"><span class="pp-ln">   4 </span><span class="pp-pln">            </span><span class="pp-tag">_</span><span class="pp-pln"> Object.assign</span></div><div class="L5"><span class="pp-ln">   5 </span><span class="pp-pln">                </span><span class="pp-tag">{</span></div><div class="L6"><span class="pp-ln">   6 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> GET_FILES_DEFAULTS</span></div><div class="L7"><span class="pp-ln">   7 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> options || {}</span></div><div class="L8"><span class="pp-ln">   8 </span><span class="pp-pln">        </span><span class="pp-kwd">$append</span><span class="pp-pln"> async</span></div><div class="L9"><span class="pp-ln">   9 </span><span class="pp-pln">            </span><span class="pp-tag">#</span><span class="pp-pln"> log 'wizzi-utils.vfile.getFiles', path_string, options</span></div><div class="L0"><span class="pp-ln">  10 </span><span class="pp-pln">            </span><span class="pp-tag">var</span><span class="pp-pln"> that = this</span></div><div class="L1"><span class="pp-ln">  11 </span><span class="pp-pln">            </span><span class="pp-tag">function</span><span class="pp-pln"> getItems</span></div><div class="L2"><span class="pp-ln">  12 </span><span class="pp-pln">                </span><span class="pp-tag">param</span><span class="pp-pln"> callback</span></div><div class="L3"><span class="pp-ln">  13 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> that.isDirectory</span></div><div class="L4"><span class="pp-ln">  14 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> path_string</span></div><div class="L5"><span class="pp-ln">  15 </span><span class="pp-pln">                    </span><span class="pp-mix frag-to-link-a" data-frag-id="d121">f_cb(</span><span class="pp-arg"> isDirectory </span><span class="pp-mix">)</span></div><div class="L6"><span class="pp-ln">  16 </span><span class="pp-pln">                        </span><span class="pp-tag">#</span><span class="pp-pln"> log 'wizzi-utils.vfile.getFiles.isDirectory', isDirectory</span></div><div class="L7"><span class="pp-ln">  17 </span><span class="pp-pln">                        </span><span class="pp-tag">if</span><span class="pp-pln"> isDirectory</span></div><div class="L8"><span class="pp-ln">  18 </span><span class="pp-pln">                            </span><span class="pp-tag">var</span><span class="pp-pln"> files</span></div><div class="L9"><span class="pp-ln">  19 </span><span class="pp-pln">                                </span><span class="pp-tag">[</span></div><div class="L0"><span class="pp-ln">  20 </span><span class="pp-pln">                            </span><span class="pp-tag">var</span><span class="pp-pln"> relPath</span></div><div class="L1"><span class="pp-ln">  21 </span><span class="pp-pln">                                </span><span class="pp-tag">[</span></div><div class="L2"><span class="pp-ln">  22 </span><span class="pp-pln">                            </span><span class="pp-tag">_</span><span class="pp-pln"> that._appendFiles</span></div><div class="L3"><span class="pp-ln">  23 </span><span class="pp-pln">                                </span><span class="pp-tag">@</span><span class="pp-pln"> path_string</span></div><div class="L4"><span class="pp-ln">  24 </span><span class="pp-pln">                                </span><span class="pp-tag">@</span><span class="pp-pln"> files</span></div><div class="L5"><span class="pp-ln">  25 </span><span class="pp-pln">                                </span><span class="pp-tag">@</span><span class="pp-pln"> relPath</span></div><div class="L6"><span class="pp-ln">  26 </span><span class="pp-pln">                                </span><span class="pp-tag">@</span><span class="pp-pln"> options</span></div><div class="L7"><span class="pp-ln">  27 </span><span class="pp-pln">                                </span><span class="pp-mix frag-to-link-a" data-frag-id="d121">f_cb(</span><span class="pp-arg"> notUsed </span><span class="pp-mix">)</span></div><div class="L8"><span class="pp-ln">  28 </span><span class="pp-pln">                                    </span><span class="pp-tag">#</span><span class="pp-pln"> log 'wizzi-utils.vfile.getFiles.after_appendFiles.files', files</span></div><div class="L9"><span class="pp-ln">  29 </span><span class="pp-pln">                                    </span><span class="pp-tag">return</span></div><div class="L0"><span class="pp-ln">  30 </span><span class="pp-pln">                                        </span><span class="pp-tag">_</span><span class="pp-pln"> callback</span></div><div class="L1"><span class="pp-ln">  31 </span><span class="pp-pln">                                            </span><span class="pp-tag">@</span><span class="pp-pln"> null</span></div><div class="L2"><span class="pp-ln">  32 </span><span class="pp-pln">                                            </span><span class="pp-tag">@</span><span class="pp-pln"> files</span></div><div class="L3"><span class="pp-ln">  33 </span><span class="pp-pln">                        </span><span class="pp-tag">else</span></div><div class="L4"><span class="pp-ln">  34 </span><span class="pp-pln">                            </span><span class="pp-tag">_</span><span class="pp-pln"> that.isFile</span></div><div class="L5"><span class="pp-ln">  35 </span><span class="pp-pln">                                </span><span class="pp-tag">@</span><span class="pp-pln"> path_string</span></div><div class="L6"><span class="pp-ln">  36 </span><span class="pp-pln">                                </span><span class="pp-mix frag-to-link-a" data-frag-id="d121">f_cb(</span><span class="pp-arg"> isFile </span><span class="pp-mix">)</span></div><div class="L7"><span class="pp-ln">  37 </span><span class="pp-pln">                                    </span><span class="pp-tag">#</span><span class="pp-pln"> log 'wizzi-utils.vfile.getFiles.isFile', isFile</span></div><div class="L8"><span class="pp-ln">  38 </span><span class="pp-pln">                                    </span><span class="pp-tag">if</span><span class="pp-pln"> isFile</span></div><div class="L9"><span class="pp-ln">  39 </span><span class="pp-pln">                                        </span><span class="pp-tag">return</span></div><div class="L0"><span class="pp-ln">  40 </span><span class="pp-pln">                                            </span><span class="pp-tag">_</span><span class="pp-pln"> callback</span></div><div class="L1"><span class="pp-ln">  41 </span><span class="pp-pln">                                                </span><span class="pp-tag">@</span><span class="pp-pln"> null</span></div><div class="L2"><span class="pp-ln">  42 </span><span class="pp-pln">                                                </span><span class="pp-tag">[</span></div><div class="L3"><span class="pp-ln">  43 </span><span class="pp-pln">                                                    </span><span class="pp-tag">{</span></div><div class="L4"><span class="pp-ln">  44 </span><span class="pp-pln">                                                        </span><span class="pp-tag">@</span><span class="pp-pln"> fullPath unixifyPath(path_string)</span></div><div class="L5"><span class="pp-ln">  45 </span><span class="pp-pln">                                                        </span><span class="pp-tag">@</span><span class="pp-pln"> relPath path.basename(path_string)</span></div><div class="L6"><span class="pp-ln">  46 </span><span class="pp-pln">                                    </span><span class="pp-tag">else</span></div><div class="L7"><span class="pp-ln">  47 </span><span class="pp-pln">                                        </span><span class="pp-tag">return</span></div><div class="L8"><span class="pp-ln">  48 </span><span class="pp-pln">                                            </span><span class="pp-tag">_</span><span class="pp-pln"> callback</span></div><div class="L9"><span class="pp-ln">  49 </span><span class="pp-pln">                                                </span><span class="pp-tag">@</span><span class="pp-pln"> null</span></div><div class="L0"><span class="pp-ln">  50 </span><span class="pp-pln">                                                </span><span class="pp-tag">[</span></div><div class="L1"><span class="pp-ln">  51 </span><span class="pp-pln">            </span><span class="pp-tag">_</span><span class="pp-pln"> getItems</span></div><div class="L2"><span class="pp-ln">  52 </span><span class="pp-pln">                </span><span class="pp-mix frag-to-link-a" data-frag-id="d121">f_cb(</span><span class="pp-arg"> items </span><span class="pp-mix">)</span></div><div class="L3"><span class="pp-ln">  53 </span><span class="pp-pln">                    </span><span class="pp-tag">#</span><span class="pp-pln"> log 'wizzi-utils.vfile.getFiles.items', items, options.documentContent</span></div><div class="L4"><span class="pp-ln">  54 </span><span class="pp-pln">                    </span><span class="pp-tag">if</span><span class="pp-pln"> options.documentContent</span></div><div class="L5"><span class="pp-ln">  55 </span><span class="pp-pln">                        </span><span class="pp-tag">_</span><span class="pp-pln"> async.map</span></div><div class="L6"><span class="pp-ln">  56 </span><span class="pp-pln">                            </span><span class="pp-tag">@</span><span class="pp-pln"> items</span></div><div class="L7"><span class="pp-ln">  57 </span><span class="pp-pln">                            </span><span class="pp-tag">function</span></div><div class="L8"><span class="pp-ln">  58 </span><span class="pp-pln">                                </span><span class="pp-tag">param</span><span class="pp-pln"> item</span></div><div class="L9"><span class="pp-ln">  59 </span><span class="pp-pln">                                </span><span class="pp-tag">param</span><span class="pp-pln"> callback</span></div><div class="L0"><span class="pp-ln">  60 </span><span class="pp-pln">                                </span><span class="pp-tag">_</span><span class="pp-pln"> that.read</span></div><div class="L1"><span class="pp-ln">  61 </span><span class="pp-pln">                                    </span><span class="pp-tag">@</span><span class="pp-pln"> item.fullPath</span></div><div class="L2"><span class="pp-ln">  62 </span><span class="pp-pln">                                    </span><span class="pp-mix frag-to-link-a" data-frag-id="d121">f_cb(</span><span class="pp-arg"> content </span><span class="pp-mix">)</span></div><div class="L3"><span class="pp-ln">  63 </span><span class="pp-pln">                                        </span><span class="pp-tag">return</span></div><div class="L4"><span class="pp-ln">  64 </span><span class="pp-pln">                                            </span><span class="pp-tag">_</span><span class="pp-pln"> callback</span></div><div class="L5"><span class="pp-ln">  65 </span><span class="pp-pln">                                                </span><span class="pp-tag">@</span><span class="pp-pln"> null</span></div><div class="L6"><span class="pp-ln">  66 </span><span class="pp-pln">                                                </span><span class="pp-tag">{</span></div><div class="L7"><span class="pp-ln">  67 </span><span class="pp-pln">                                                    </span><span class="pp-tag">@</span><span class="pp-pln"> fullPath item.fullPath</span></div><div class="L8"><span class="pp-ln">  68 </span><span class="pp-pln">                                                    </span><span class="pp-tag">@</span><span class="pp-pln"> relPath item.relPath</span></div><div class="L9"><span class="pp-ln">  69 </span><span class="pp-pln">                                                    </span><span class="pp-tag">@</span><span class="pp-pln"> content content</span></div><div class="L0"><span class="pp-ln">  70 </span><span class="pp-pln">                            </span><span class="pp-mix frag-to-link-a" data-frag-id="d121">f_cb(</span><span class="pp-arg"> itemsWithContent </span><span class="pp-mix">)</span></div><div class="L1"><span class="pp-ln">  71 </span><span class="pp-pln">                                </span><span class="pp-tag">return</span></div><div class="L2"><span class="pp-ln">  72 </span><span class="pp-pln">                                    </span><span class="pp-tag">_</span><span class="pp-pln"> callback</span></div><div class="L3"><span class="pp-ln">  73 </span><span class="pp-pln">                                        </span><span class="pp-tag">@</span><span class="pp-pln"> null</span></div><div class="L4"><span class="pp-ln">  74 </span><span class="pp-pln">                                        </span><span class="pp-tag">@</span><span class="pp-pln"> itemsWithContent</span></div><div class="L5"><span class="pp-ln">  75 </span><span class="pp-pln">                    </span><span class="pp-tag">else</span></div><div class="L6"><span class="pp-ln">  76 </span><span class="pp-pln">                        </span><span class="pp-tag">return</span></div><div class="L7"><span class="pp-ln">  77 </span><span class="pp-pln">                            </span><span class="pp-tag">_</span><span class="pp-pln"> callback</span></div><div class="L8"><span class="pp-ln">  78 </span><span class="pp-pln">                                </span><span class="pp-tag">@</span><span class="pp-pln"> null</span></div><div class="L9"><span class="pp-ln">  79 </span><span class="pp-pln">                                </span><span class="pp-tag">@</span><span class="pp-pln"> items</span></div><div class="L0"><span class="pp-ln">  80 </span><span class="pp-pln">        </span><span class="pp-kwd">$append</span><span class="pp-pln"> sync</span></div><div class="L1"><span class="pp-ln">  81 </span><span class="pp-pln">            </span><span class="pp-tag">var</span><span class="pp-pln"> result</span></div><div class="L2"><span class="pp-ln">  82 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> this.isDirectory(path_string)</span></div><div class="L3"><span class="pp-ln">  83 </span><span class="pp-pln">                </span><span class="pp-tag">var</span><span class="pp-pln"> files</span></div><div class="L4"><span class="pp-ln">  84 </span><span class="pp-pln">                    </span><span class="pp-tag">[</span></div><div class="L5"><span class="pp-ln">  85 </span><span class="pp-pln">                </span><span class="pp-tag">var</span><span class="pp-pln"> relPath</span></div><div class="L6"><span class="pp-ln">  86 </span><span class="pp-pln">                    </span><span class="pp-tag">[</span></div><div class="L7"><span class="pp-ln">  87 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> this._appendFiles</span></div><div class="L8"><span class="pp-ln">  88 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> path_string</span></div><div class="L9"><span class="pp-ln">  89 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> files</span></div><div class="L0"><span class="pp-ln">  90 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> relPath</span></div><div class="L1"><span class="pp-ln">  91 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> options</span></div><div class="L2"><span class="pp-ln">  92 </span><span class="pp-pln">                </span><span class="pp-tag">set</span><span class="pp-pln"> result = files</span></div><div class="L3"><span class="pp-ln">  93 </span><span class="pp-pln">            </span><span class="pp-tag">elif</span><span class="pp-pln"> this.isFile(path_string)</span></div><div class="L4"><span class="pp-ln">  94 </span><span class="pp-pln">                </span><span class="pp-tag">set</span><span class="pp-pln"> result</span></div><div class="L5"><span class="pp-ln">  95 </span><span class="pp-pln">                    </span><span class="pp-tag">[</span></div><div class="L6"><span class="pp-ln">  96 </span><span class="pp-pln">                        </span><span class="pp-tag">{</span></div><div class="L7"><span class="pp-ln">  97 </span><span class="pp-pln">                            </span><span class="pp-tag">@</span><span class="pp-pln"> fullPath unixifyPath(path_string)</span></div><div class="L8"><span class="pp-ln">  98 </span><span class="pp-pln">                            </span><span class="pp-tag">@</span><span class="pp-pln"> relPath path.basename(path_string)</span></div><div class="L9"><span class="pp-ln">  99 </span><span class="pp-pln">            </span><span class="pp-tag">else</span></div><div class="L0"><span class="pp-ln"> 100 </span><span class="pp-pln">                </span><span class="pp-tag">set</span><span class="pp-pln"> result = []</span></div><div class="L1"><span class="pp-ln"> 101 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> options.documentContent</span></div><div class="L2"><span class="pp-ln"> 102 </span><span class="pp-pln">                </span><span class="pp-tag">var</span></div><div class="L3"><span class="pp-ln"> 103 </span><span class="pp-pln">                    </span><span class="pp-tag">decl</span><span class="pp-pln"> resultWithContents</span></div><div class="L4"><span class="pp-ln"> 104 </span><span class="pp-pln">                        </span><span class="pp-tag">[</span></div><div class="L5"><span class="pp-ln"> 105 </span><span class="pp-pln">                    </span><span class="pp-tag">decl</span><span class="pp-pln"> content</span></div><div class="L6"><span class="pp-ln"> 106 </span><span class="pp-pln">                </span><span class="pp-tag">foreach</span><span class="pp-pln"> item in result</span></div><div class="L7"><span class="pp-ln"> 107 </span><span class="pp-pln">                    </span><span class="pp-tag">set</span><span class="pp-pln"> content</span></div><div class="L8"><span class="pp-ln"> 108 </span><span class="pp-pln">                        </span><span class="pp-tag">_</span><span class="pp-pln"> this.read</span></div><div class="L9"><span class="pp-ln"> 109 </span><span class="pp-pln">                            </span><span class="pp-tag">@</span><span class="pp-pln"> item.fullPath</span></div><div class="L0"><span class="pp-ln"> 110 </span><span class="pp-pln">                    </span><span class="pp-tag">_</span><span class="pp-pln"> resultWithContents.push</span></div><div class="L1"><span class="pp-ln"> 111 </span><span class="pp-pln">                        </span><span class="pp-tag">{</span></div><div class="L2"><span class="pp-ln"> 112 </span><span class="pp-pln">                            </span><span class="pp-tag">@</span><span class="pp-pln"> fullPath item.fullPath</span></div><div class="L3"><span class="pp-ln"> 113 </span><span class="pp-pln">                            </span><span class="pp-tag">@</span><span class="pp-pln"> relPath item.relPath</span></div><div class="L4"><span class="pp-ln"> 114 </span><span class="pp-pln">                            </span><span class="pp-tag">@</span><span class="pp-pln"> content content</span></div><div class="L5"><span class="pp-ln"> 115 </span><span class="pp-pln">                </span><span class="pp-tag">return</span><span class="pp-pln"> resultWithContents</span></div><div class="L6"><span class="pp-ln"> 116 </span><span class="pp-pln">            </span><span class="pp-tag">else</span></div><div class="L7"><span class="pp-ln"> 117 </span><span class="pp-pln">                </span><span class="pp-tag">return</span><span class="pp-pln"> result</span></div><div class="L8"><span class="pp-ln"> 118 </span><span class="pp-pln">    </span><span class="pp-mix frag-to-link-a" data-frag-id="d28">vfile/m(</span><span class="pp-arg"> _appendFiles</span><span class="pp-pln">,</span><span class="pp-arg">  readdirSync</span><span class="pp-pln">,</span><span class="pp-arg">  files</span><span class="pp-pln">,</span><span class="pp-arg">  relPath</span><span class="pp-pln">,</span><span class="pp-arg">  options </span><span class="pp-mix">)</span></div><div class="L9"><span class="pp-ln"> 119 </span><span class="pp-pln">        </span><span class="pp-kwd">$append</span><span class="pp-pln"> async</span></div><div class="L0"><span class="pp-ln"> 120 </span><span class="pp-pln">            </span><span class="pp-tag">#</span><span class="pp-pln"> log 'wizzi-utils.vfile._appendFiles.async.files', files, options</span></div><div class="L1"><span class="pp-ln"> 121 </span><span class="pp-pln">            </span><span class="pp-tag">var</span><span class="pp-pln"> that = this</span></div><div class="L2"><span class="pp-ln"> 122 </span><span class="pp-pln">            </span><span class="pp-tag">_</span><span class="pp-pln"> this.fsimpl.readdir</span></div><div class="L3"><span class="pp-ln"> 123 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> path_string</span></div><div class="L4"><span class="pp-ln"> 124 </span><span class="pp-pln">                </span><span class="pp-mix frag-to-link-a" data-frag-id="d121">f_cb(</span><span class="pp-arg"> dir </span><span class="pp-mix">)</span></div><div class="L5"><span class="pp-ln"> 125 </span><span class="pp-pln">                    </span><span class="pp-tag">#</span><span class="pp-pln"> log 'wizzi-utils.vfile._appendFiles.async.dir', dir</span></div><div class="L6"><span class="pp-ln"> 126 </span><span class="pp-pln">                    </span><span class="pp-tag">var</span><span class="pp-pln"> folders = []</span></div><div class="L7"><span class="pp-ln"> 127 </span><span class="pp-pln">                    </span><span class="pp-tag">_</span><span class="pp-pln"> async.map</span></div><div class="L8"><span class="pp-ln"> 128 </span><span class="pp-pln">                        </span><span class="pp-tag">@</span><span class="pp-pln"> dir</span></div><div class="L9"><span class="pp-ln"> 129 </span><span class="pp-pln">                        </span><span class="pp-tag">function</span></div><div class="L0"><span class="pp-ln"> 130 </span><span class="pp-pln">                            </span><span class="pp-tag">param</span><span class="pp-pln"> item</span></div><div class="L1"><span class="pp-ln"> 131 </span><span class="pp-pln">                            </span><span class="pp-tag">param</span><span class="pp-pln"> callback</span></div><div class="L2"><span class="pp-ln"> 132 </span><span class="pp-pln">                            </span><span class="pp-tag">var</span><span class="pp-pln"> filePath = path.join(path_string, item)</span></div><div class="L3"><span class="pp-ln"> 133 </span><span class="pp-pln">                            </span><span class="pp-tag">#</span><span class="pp-pln"> log 'wizzi-utils.vfile._appendFiles.filePath', filePath</span></div><div class="L4"><span class="pp-ln"> 134 </span><span class="pp-pln">                            </span><span class="pp-tag">_</span><span class="pp-pln"> that.isDirectory</span></div><div class="L5"><span class="pp-ln"> 135 </span><span class="pp-pln">                                </span><span class="pp-tag">@</span><span class="pp-pln"> filePath</span></div><div class="L6"><span class="pp-ln"> 136 </span><span class="pp-pln">                                </span><span class="pp-mix frag-to-link-a" data-frag-id="d121">f_cb(</span><span class="pp-arg"> isDirectory </span><span class="pp-mix">)</span></div><div class="L7"><span class="pp-ln"> 137 </span><span class="pp-pln">                                    </span><span class="pp-tag">#</span><span class="pp-pln"> log 'wizzi-utils.vfile._appendFiles.async.isDirectory', filePath, isDirectory</span></div><div class="L8"><span class="pp-ln"> 138 </span><span class="pp-pln">                                    </span><span class="pp-tag">if</span><span class="pp-pln"> isDirectory</span></div><div class="L9"><span class="pp-ln"> 139 </span><span class="pp-pln">                                        </span><span class="pp-tag">return</span></div><div class="L0"><span class="pp-ln"> 140 </span><span class="pp-pln">                                            </span><span class="pp-tag">_</span><span class="pp-pln"> callback</span></div><div class="L1"><span class="pp-ln"> 141 </span><span class="pp-pln">                                                </span><span class="pp-tag">@</span><span class="pp-pln"> null</span></div><div class="L2"><span class="pp-ln"> 142 </span><span class="pp-pln">                                                </span><span class="pp-tag">@</span><span class="pp-pln"> (options.deep ? item : null )</span></div><div class="L3"><span class="pp-ln"> 143 </span><span class="pp-pln">                                    </span><span class="pp-tag">else</span></div><div class="L4"><span class="pp-ln"> 144 </span><span class="pp-pln">                                        </span><span class="pp-tag">if</span><span class="pp-pln"> !options.extension || verify.endsWith(item, options.extension)</span></div><div class="L5"><span class="pp-ln"> 145 </span><span class="pp-pln">                                            </span><span class="pp-tag">_</span><span class="pp-pln"> files.push</span></div><div class="L6"><span class="pp-ln"> 146 </span><span class="pp-pln">                                                </span><span class="pp-tag">{</span></div><div class="L7"><span class="pp-ln"> 147 </span><span class="pp-pln">                                                    </span><span class="pp-tag">@</span><span class="pp-pln"> fullPath filePath</span></div><div class="L8"><span class="pp-ln"> 148 </span><span class="pp-pln">                                                    </span><span class="pp-tag">@</span><span class="pp-pln"> relPath</span></div><div class="L9"><span class="pp-ln"> 149 </span><span class="pp-pln">                                                        </span><span class="pp-tag">_</span><span class="pp-pln"> unixifyPath</span></div><div class="L0"><span class="pp-ln"> 150 </span><span class="pp-pln">                                                            </span><span class="pp-tag">_</span><span class="pp-pln"> path.join</span></div><div class="L1"><span class="pp-ln"> 151 </span><span class="pp-pln">                                                                </span><span class="pp-tag">_</span><span class="pp-pln"> relPath.join('/')</span></div><div class="L2"><span class="pp-ln"> 152 </span><span class="pp-pln">                                                                </span><span class="pp-tag">@</span><span class="pp-pln"> item</span></div><div class="L3"><span class="pp-ln"> 153 </span><span class="pp-pln">                                        </span><span class="pp-tag">return</span></div><div class="L4"><span class="pp-ln"> 154 </span><span class="pp-pln">                                            </span><span class="pp-tag">_</span><span class="pp-pln"> callback</span></div><div class="L5"><span class="pp-ln"> 155 </span><span class="pp-pln">                                                </span><span class="pp-tag">@</span><span class="pp-pln"> null</span></div><div class="L6"><span class="pp-ln"> 156 </span><span class="pp-pln">                                                </span><span class="pp-tag">@</span><span class="pp-pln"> null</span></div><div class="L7"><span class="pp-ln"> 157 </span><span class="pp-pln">                        </span><span class="pp-mix frag-to-link-a" data-frag-id="d121">f_cb(</span><span class="pp-arg"> items </span><span class="pp-mix">)</span></div><div class="L8"><span class="pp-ln"> 158 </span><span class="pp-pln">                            </span><span class="pp-tag">#</span><span class="pp-pln"> log 'wizzi-utils.vfile._appendFiles.async.items', items</span></div><div class="L9"><span class="pp-ln"> 159 </span><span class="pp-pln">                            </span><span class="pp-tag">var</span><span class="pp-pln"> len = items.length</span></div><div class="L0"><span class="pp-ln"> 160 </span><span class="pp-pln">                            </span><span class="pp-tag">function</span><span class="pp-pln"> repeat</span></div><div class="L1"><span class="pp-ln"> 161 </span><span class="pp-pln">                                </span><span class="pp-tag">param</span><span class="pp-pln"> index</span></div><div class="L2"><span class="pp-ln"> 162 </span><span class="pp-pln">                                </span><span class="pp-tag">if</span><span class="pp-pln"> index == len</span></div><div class="L3"><span class="pp-ln"> 163 </span><span class="pp-pln">                                    </span><span class="pp-tag">return</span></div><div class="L4"><span class="pp-ln"> 164 </span><span class="pp-pln">                                        </span><span class="pp-tag">_</span><span class="pp-pln"> callback</span></div><div class="L5"><span class="pp-ln"> 165 </span><span class="pp-pln">                                            </span><span class="pp-tag">@</span><span class="pp-pln"> null</span></div><div class="L6"><span class="pp-ln"> 166 </span><span class="pp-pln">                                </span><span class="pp-tag">var</span><span class="pp-pln"> item = items[index]</span></div><div class="L7"><span class="pp-ln"> 167 </span><span class="pp-pln">                                </span><span class="pp-tag">#</span><span class="pp-pln"> log '*** item', item</span></div><div class="L8"><span class="pp-ln"> 168 </span><span class="pp-pln">                                </span><span class="pp-tag">if</span><span class="pp-pln"> item !== null</span></div><div class="L9"><span class="pp-ln"> 169 </span><span class="pp-pln">                                    </span><span class="pp-tag">var</span><span class="pp-pln"> filePath = path.join(path_string, item)</span></div><div class="L0"><span class="pp-ln"> 170 </span><span class="pp-pln">                                    </span><span class="pp-tag">var</span><span class="pp-pln"> newRelPath = relPath.slice(0)</span></div><div class="L1"><span class="pp-ln"> 171 </span><span class="pp-pln">                                    </span><span class="pp-tag">_</span><span class="pp-pln"> newRelPath.push(item)</span></div><div class="L2"><span class="pp-ln"> 172 </span><span class="pp-pln">                                    </span><span class="pp-tag">#</span><span class="pp-pln"> log '*** item', item, filePath</span></div><div class="L3"><span class="pp-ln"> 173 </span><span class="pp-pln">                                    </span><span class="pp-tag">_</span><span class="pp-pln"> that._appendFiles</span></div><div class="L4"><span class="pp-ln"> 174 </span><span class="pp-pln">                                        </span><span class="pp-tag">@</span><span class="pp-pln"> filePath</span></div><div class="L5"><span class="pp-ln"> 175 </span><span class="pp-pln">                                        </span><span class="pp-tag">@</span><span class="pp-pln"> files</span></div><div class="L6"><span class="pp-ln"> 176 </span><span class="pp-pln">                                        </span><span class="pp-tag">@</span><span class="pp-pln"> newRelPath</span></div><div class="L7"><span class="pp-ln"> 177 </span><span class="pp-pln">                                        </span><span class="pp-tag">@</span><span class="pp-pln"> options</span></div><div class="L8"><span class="pp-ln"> 178 </span><span class="pp-pln">                                        </span><span class="pp-mix frag-to-link-a" data-frag-id="d121">f_cb(</span><span class="pp-arg"> result </span><span class="pp-mix">)</span></div><div class="L9"><span class="pp-ln"> 179 </span><span class="pp-pln">                                            </span><span class="pp-tag">#</span><span class="pp-pln"> log 'wizzi-utils.vfile._appendFiles.deep.async.files', files</span></div><div class="L0"><span class="pp-ln"> 180 </span><span class="pp-pln">                                            </span><span class="pp-tag">return</span></div><div class="L1"><span class="pp-ln"> 181 </span><span class="pp-pln">                                                </span><span class="pp-tag">_</span><span class="pp-pln"> repeat</span></div><div class="L2"><span class="pp-ln"> 182 </span><span class="pp-pln">                                                    </span><span class="pp-tag">@</span><span class="pp-pln"> index + 1</span></div><div class="L3"><span class="pp-ln"> 183 </span><span class="pp-pln">                                </span><span class="pp-tag">else</span></div><div class="L4"><span class="pp-ln"> 184 </span><span class="pp-pln">                                    </span><span class="pp-tag">return</span></div><div class="L5"><span class="pp-ln"> 185 </span><span class="pp-pln">                                        </span><span class="pp-tag">_</span><span class="pp-pln"> repeat</span></div><div class="L6"><span class="pp-ln"> 186 </span><span class="pp-pln">                                            </span><span class="pp-tag">@</span><span class="pp-pln"> index + 1</span></div><div class="L7"><span class="pp-ln"> 187 </span><span class="pp-pln">                            </span><span class="pp-tag">_</span><span class="pp-pln"> repeat(0)</span></div><div class="L8"><span class="pp-ln"> 188 </span><span class="pp-pln">        </span><span class="pp-kwd">$append</span><span class="pp-pln"> sync</span></div><div class="L9"><span class="pp-ln"> 189 </span><span class="pp-pln">            </span><span class="pp-tag">var</span><span class="pp-pln"> dir = this.fsimpl.readdirSync(path_string)</span></div><div class="L0"><span class="pp-ln"> 190 </span><span class="pp-pln">            </span><span class="pp-tag">var</span><span class="pp-pln"> folders = []</span></div><div class="L1"><span class="pp-ln"> 191 </span><span class="pp-pln">            </span><span class="pp-tag">foreach</span><span class="pp-pln"> item in dir</span></div><div class="L2"><span class="pp-ln"> 192 </span><span class="pp-pln">                </span><span class="pp-tag">var</span><span class="pp-pln"> filePath = path.join(path_string, item)</span></div><div class="L3"><span class="pp-ln"> 193 </span><span class="pp-pln">                </span><span class="pp-tag">#</span><span class="pp-pln"> log 'wizzi-utils.vfile._appendFiles.filePath', filePath</span></div><div class="L4"><span class="pp-ln"> 194 </span><span class="pp-pln">                </span><span class="pp-tag">if</span><span class="pp-pln"> this.isDirectory(filePath)</span></div><div class="L5"><span class="pp-ln"> 195 </span><span class="pp-pln">                    </span><span class="pp-tag">if</span><span class="pp-pln"> options.deep</span></div><div class="L6"><span class="pp-ln"> 196 </span><span class="pp-pln">                        </span><span class="pp-tag">_</span><span class="pp-pln"> folders.push(item)</span></div><div class="L7"><span class="pp-ln"> 197 </span><span class="pp-pln">                </span><span class="pp-tag">else</span></div><div class="L8"><span class="pp-ln"> 198 </span><span class="pp-pln">                    </span><span class="pp-tag">if</span><span class="pp-pln"> !options.extension || verify.endsWith(item, options.extension)</span></div><div class="L9"><span class="pp-ln"> 199 </span><span class="pp-pln">                        </span><span class="pp-tag">_</span><span class="pp-pln"> files.push</span></div><div class="L0"><span class="pp-ln"> 200 </span><span class="pp-pln">                            </span><span class="pp-tag">{</span></div><div class="L1"><span class="pp-ln"> 201 </span><span class="pp-pln">                                </span><span class="pp-tag">@</span><span class="pp-pln"> fullPath filePath</span></div><div class="L2"><span class="pp-ln"> 202 </span><span class="pp-pln">                                </span><span class="pp-tag">@</span><span class="pp-pln"> relPath</span></div><div class="L3"><span class="pp-ln"> 203 </span><span class="pp-pln">                                    </span><span class="pp-tag">_</span><span class="pp-pln"> unixifyPath</span></div><div class="L4"><span class="pp-ln"> 204 </span><span class="pp-pln">                                        </span><span class="pp-tag">_</span><span class="pp-pln"> path.join</span></div><div class="L5"><span class="pp-ln"> 205 </span><span class="pp-pln">                                            </span><span class="pp-tag">_</span><span class="pp-pln"> relPath.join('/')</span></div><div class="L6"><span class="pp-ln"> 206 </span><span class="pp-pln">                                            </span><span class="pp-tag">@</span><span class="pp-pln"> item</span></div><div class="L7"><span class="pp-ln"> 207 </span><span class="pp-pln">            </span><span class="pp-tag">foreach</span><span class="pp-pln"> item in folders</span></div><div class="L8"><span class="pp-ln"> 208 </span><span class="pp-pln">                </span><span class="pp-tag">var</span><span class="pp-pln"> filePath = path.join(path_string, item)</span></div><div class="L9"><span class="pp-ln"> 209 </span><span class="pp-pln">                </span><span class="pp-tag">var</span><span class="pp-pln"> newRelPath = relPath.slice(0)</span></div><div class="L0"><span class="pp-ln"> 210 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> newRelPath.push(item)</span></div><div class="L1"><span class="pp-ln"> 211 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> this._appendFiles(filePath, files, newRelPath, options)</span></div></pre>
                    </div>
                </div>
                <div class="code-panel" id="d24">
                    <div class="modal-view-container">
                        <h4 class="d-h2">/src/ittf/lib/fs/t/vfile/getFolders.js.ittf</h4>
                        <pre class="prettyprint">

<div class="L1"><span class="pp-ln">   1 </span><span class="pp-pln"></span><span class="pp-kwd">$group</span></div><div class="L2"><span class="pp-ln">   2 </span><span class="pp-pln">    </span><span class="pp-mix frag-to-link-a" data-frag-id="d28">vfile/m(</span><span class="pp-arg"> getFolders</span><span class="pp-pln">,</span><span class="pp-arg">  readdirSync</span><span class="pp-pln">,</span><span class="pp-arg">  options </span><span class="pp-mix">)</span></div><div class="L3"><span class="pp-ln">   3 </span><span class="pp-pln">        </span><span class="pp-tag">set</span><span class="pp-pln"> options</span></div><div class="L4"><span class="pp-ln">   4 </span><span class="pp-pln">            </span><span class="pp-tag">_</span><span class="pp-pln"> Object.assign</span></div><div class="L5"><span class="pp-ln">   5 </span><span class="pp-pln">                </span><span class="pp-tag">{</span></div><div class="L6"><span class="pp-ln">   6 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> GET_FOLDERS_DEFAULTS</span></div><div class="L7"><span class="pp-ln">   7 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> options || {}</span></div><div class="L8"><span class="pp-ln">   8 </span><span class="pp-pln">        </span><span class="pp-kwd">$append</span><span class="pp-pln"> async</span></div><div class="L9"><span class="pp-ln">   9 </span><span class="pp-pln">            </span><span class="pp-tag">#</span><span class="pp-pln"> log 'wizzi-utils.vfile.getFolders', path_string, options</span></div><div class="L0"><span class="pp-ln">  10 </span><span class="pp-pln">            </span><span class="pp-tag">var</span><span class="pp-pln"> that = this</span></div><div class="L1"><span class="pp-ln">  11 </span><span class="pp-pln">            </span><span class="pp-tag">function</span><span class="pp-pln"> getItems</span></div><div class="L2"><span class="pp-ln">  12 </span><span class="pp-pln">                </span><span class="pp-tag">param</span><span class="pp-pln"> callback</span></div><div class="L3"><span class="pp-ln">  13 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> that.isDirectory</span></div><div class="L4"><span class="pp-ln">  14 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> path_string</span></div><div class="L5"><span class="pp-ln">  15 </span><span class="pp-pln">                    </span><span class="pp-mix frag-to-link-a" data-frag-id="d121">f_cb(</span><span class="pp-arg"> isDirectory </span><span class="pp-mix">)</span></div><div class="L6"><span class="pp-ln">  16 </span><span class="pp-pln">                        </span><span class="pp-tag">#</span><span class="pp-pln"> log 'wizzi-utils.vfile.getFolders.isDirectory', isDirectory</span></div><div class="L7"><span class="pp-ln">  17 </span><span class="pp-pln">                        </span><span class="pp-tag">if</span><span class="pp-pln"> isDirectory</span></div><div class="L8"><span class="pp-ln">  18 </span><span class="pp-pln">                            </span><span class="pp-tag">var</span><span class="pp-pln"> folders</span></div><div class="L9"><span class="pp-ln">  19 </span><span class="pp-pln">                                </span><span class="pp-tag">[</span></div><div class="L0"><span class="pp-ln">  20 </span><span class="pp-pln">                            </span><span class="pp-tag">var</span><span class="pp-pln"> relPath</span></div><div class="L1"><span class="pp-ln">  21 </span><span class="pp-pln">                                </span><span class="pp-tag">[</span></div><div class="L2"><span class="pp-ln">  22 </span><span class="pp-pln">                            </span><span class="pp-tag">_</span><span class="pp-pln"> that._appendFolders</span></div><div class="L3"><span class="pp-ln">  23 </span><span class="pp-pln">                                </span><span class="pp-tag">@</span><span class="pp-pln"> path_string</span></div><div class="L4"><span class="pp-ln">  24 </span><span class="pp-pln">                                </span><span class="pp-tag">@</span><span class="pp-pln"> folders</span></div><div class="L5"><span class="pp-ln">  25 </span><span class="pp-pln">                                </span><span class="pp-tag">@</span><span class="pp-pln"> relPath</span></div><div class="L6"><span class="pp-ln">  26 </span><span class="pp-pln">                                </span><span class="pp-tag">@</span><span class="pp-pln"> options</span></div><div class="L7"><span class="pp-ln">  27 </span><span class="pp-pln">                                </span><span class="pp-mix frag-to-link-a" data-frag-id="d121">f_cb(</span><span class="pp-arg"> notUsed </span><span class="pp-mix">)</span></div><div class="L8"><span class="pp-ln">  28 </span><span class="pp-pln">                                    </span><span class="pp-tag">#</span><span class="pp-pln"> log 'wizzi-utils.vfile.getFolders.folders', folders</span></div><div class="L9"><span class="pp-ln">  29 </span><span class="pp-pln">                                    </span><span class="pp-tag">return</span></div><div class="L0"><span class="pp-ln">  30 </span><span class="pp-pln">                                        </span><span class="pp-tag">_</span><span class="pp-pln"> callback</span></div><div class="L1"><span class="pp-ln">  31 </span><span class="pp-pln">                                            </span><span class="pp-tag">@</span><span class="pp-pln"> null</span></div><div class="L2"><span class="pp-ln">  32 </span><span class="pp-pln">                                            </span><span class="pp-tag">@</span><span class="pp-pln"> folders</span></div><div class="L3"><span class="pp-ln">  33 </span><span class="pp-pln">                        </span><span class="pp-tag">else</span></div><div class="L4"><span class="pp-ln">  34 </span><span class="pp-pln">                            </span><span class="pp-tag">return</span></div><div class="L5"><span class="pp-ln">  35 </span><span class="pp-pln">                                </span><span class="pp-tag">_</span><span class="pp-pln"> callback</span></div><div class="L6"><span class="pp-ln">  36 </span><span class="pp-pln">                                    </span><span class="pp-tag">@</span><span class="pp-pln"> null</span></div><div class="L7"><span class="pp-ln">  37 </span><span class="pp-pln">                                    </span><span class="pp-tag">[</span></div><div class="L8"><span class="pp-ln">  38 </span><span class="pp-pln">            </span><span class="pp-tag">_</span><span class="pp-pln"> getItems</span></div><div class="L9"><span class="pp-ln">  39 </span><span class="pp-pln">                </span><span class="pp-mix frag-to-link-a" data-frag-id="d121">f_cb(</span><span class="pp-arg"> items </span><span class="pp-mix">)</span></div><div class="L0"><span class="pp-ln">  40 </span><span class="pp-pln">                    </span><span class="pp-tag">#</span><span class="pp-pln"> log 'wizzi-utils.vfile.getFiles.items', items, options.documentNames</span></div><div class="L1"><span class="pp-ln">  41 </span><span class="pp-pln">                    </span><span class="pp-tag">if</span><span class="pp-pln"> options.documentNames</span></div><div class="L2"><span class="pp-ln">  42 </span><span class="pp-pln">                        </span><span class="pp-tag">_</span><span class="pp-pln"> async.map</span></div><div class="L3"><span class="pp-ln">  43 </span><span class="pp-pln">                            </span><span class="pp-tag">@</span><span class="pp-pln"> items</span></div><div class="L4"><span class="pp-ln">  44 </span><span class="pp-pln">                            </span><span class="pp-tag">function</span></div><div class="L5"><span class="pp-ln">  45 </span><span class="pp-pln">                                </span><span class="pp-tag">param</span><span class="pp-pln"> item</span></div><div class="L6"><span class="pp-ln">  46 </span><span class="pp-pln">                                </span><span class="pp-tag">param</span><span class="pp-pln"> callback</span></div><div class="L7"><span class="pp-ln">  47 </span><span class="pp-pln">                                </span><span class="pp-tag">if</span><span class="pp-pln"> item !== null</span></div><div class="L8"><span class="pp-ln">  48 </span><span class="pp-pln">                                    </span><span class="pp-tag">_</span><span class="pp-pln"> that.getFiles</span></div><div class="L9"><span class="pp-ln">  49 </span><span class="pp-pln">                                        </span><span class="pp-tag">@</span><span class="pp-pln"> item.fullPath</span></div><div class="L0"><span class="pp-ln">  50 </span><span class="pp-pln">                                        </span><span class="pp-tag">{</span></div><div class="L1"><span class="pp-ln">  51 </span><span class="pp-pln">                                            </span><span class="pp-tag">@</span><span class="pp-pln"> deep false</span></div><div class="L2"><span class="pp-ln">  52 </span><span class="pp-pln">                                        </span><span class="pp-mix frag-to-link-a" data-frag-id="d121">f_cb(</span><span class="pp-arg"> files </span><span class="pp-mix">)</span></div><div class="L3"><span class="pp-ln">  53 </span><span class="pp-pln">                                            </span><span class="pp-tag">return</span></div><div class="L4"><span class="pp-ln">  54 </span><span class="pp-pln">                                                </span><span class="pp-tag">_</span><span class="pp-pln"> callback</span></div><div class="L5"><span class="pp-ln">  55 </span><span class="pp-pln">                                                    </span><span class="pp-tag">@</span><span class="pp-pln"> null</span></div><div class="L6"><span class="pp-ln">  56 </span><span class="pp-pln">                                                    </span><span class="pp-tag">{</span></div><div class="L7"><span class="pp-ln">  57 </span><span class="pp-pln">                                                        </span><span class="pp-tag">@</span><span class="pp-pln"> fullPath item.fullPath</span></div><div class="L8"><span class="pp-ln">  58 </span><span class="pp-pln">                                                        </span><span class="pp-tag">@</span><span class="pp-pln"> relPath item.relPath</span></div><div class="L9"><span class="pp-ln">  59 </span><span class="pp-pln">                                                        </span><span class="pp-tag">@</span><span class="pp-pln"> documents files</span></div><div class="L0"><span class="pp-ln">  60 </span><span class="pp-pln">                                </span><span class="pp-tag">else</span></div><div class="L1"><span class="pp-ln">  61 </span><span class="pp-pln">                                    </span><span class="pp-tag">return</span></div><div class="L2"><span class="pp-ln">  62 </span><span class="pp-pln">                                        </span><span class="pp-tag">_</span><span class="pp-pln"> callback</span></div><div class="L3"><span class="pp-ln">  63 </span><span class="pp-pln">                                            </span><span class="pp-tag">@</span><span class="pp-pln"> null</span></div><div class="L4"><span class="pp-ln">  64 </span><span class="pp-pln">                                            </span><span class="pp-tag">{</span></div><div class="L5"><span class="pp-ln">  65 </span><span class="pp-pln">                                                </span><span class="pp-tag">@</span><span class="pp-pln"> fullPath item.fullPath</span></div><div class="L6"><span class="pp-ln">  66 </span><span class="pp-pln">                                                </span><span class="pp-tag">@</span><span class="pp-pln"> relPath item.relPath</span></div><div class="L7"><span class="pp-ln">  67 </span><span class="pp-pln">                            </span><span class="pp-mix frag-to-link-a" data-frag-id="d121">f_cb(</span><span class="pp-arg"> itemsWithNames </span><span class="pp-mix">)</span></div><div class="L8"><span class="pp-ln">  68 </span><span class="pp-pln">                                </span><span class="pp-tag">return</span></div><div class="L9"><span class="pp-ln">  69 </span><span class="pp-pln">                                    </span><span class="pp-tag">_</span><span class="pp-pln"> callback</span></div><div class="L0"><span class="pp-ln">  70 </span><span class="pp-pln">                                        </span><span class="pp-tag">@</span><span class="pp-pln"> null</span></div><div class="L1"><span class="pp-ln">  71 </span><span class="pp-pln">                                        </span><span class="pp-tag">@</span><span class="pp-pln"> itemsWithNames</span></div><div class="L2"><span class="pp-ln">  72 </span><span class="pp-pln">                    </span><span class="pp-tag">else</span></div><div class="L3"><span class="pp-ln">  73 </span><span class="pp-pln">                        </span><span class="pp-tag">return</span></div><div class="L4"><span class="pp-ln">  74 </span><span class="pp-pln">                            </span><span class="pp-tag">_</span><span class="pp-pln"> callback</span></div><div class="L5"><span class="pp-ln">  75 </span><span class="pp-pln">                                </span><span class="pp-tag">@</span><span class="pp-pln"> null</span></div><div class="L6"><span class="pp-ln">  76 </span><span class="pp-pln">                                </span><span class="pp-tag">@</span><span class="pp-pln"> items</span></div><div class="L7"><span class="pp-ln">  77 </span><span class="pp-pln">        </span><span class="pp-kwd">$append</span><span class="pp-pln"> sync</span></div><div class="L8"><span class="pp-ln">  78 </span><span class="pp-pln">            </span><span class="pp-tag">var</span><span class="pp-pln"> result</span></div><div class="L9"><span class="pp-ln">  79 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> this.isDirectory(path_string)</span></div><div class="L0"><span class="pp-ln">  80 </span><span class="pp-pln">                </span><span class="pp-tag">var</span><span class="pp-pln"> folders</span></div><div class="L1"><span class="pp-ln">  81 </span><span class="pp-pln">                    </span><span class="pp-tag">[</span></div><div class="L2"><span class="pp-ln">  82 </span><span class="pp-pln">                </span><span class="pp-tag">var</span><span class="pp-pln"> relPath</span></div><div class="L3"><span class="pp-ln">  83 </span><span class="pp-pln">                    </span><span class="pp-tag">[</span></div><div class="L4"><span class="pp-ln">  84 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> this._appendFolders(path_string, folders, relPath, options)</span></div><div class="L5"><span class="pp-ln">  85 </span><span class="pp-pln">                </span><span class="pp-tag">set</span><span class="pp-pln"> result = folders</span></div><div class="L6"><span class="pp-ln">  86 </span><span class="pp-pln">            </span><span class="pp-tag">else</span></div><div class="L7"><span class="pp-ln">  87 </span><span class="pp-pln">                </span><span class="pp-tag">set</span><span class="pp-pln"> result = []</span></div><div class="L8"><span class="pp-ln">  88 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> options.documentNames</span></div><div class="L9"><span class="pp-ln">  89 </span><span class="pp-pln">                </span><span class="pp-tag">var</span></div><div class="L0"><span class="pp-ln">  90 </span><span class="pp-pln">                    </span><span class="pp-tag">decl</span><span class="pp-pln"> resultWithFileNames</span></div><div class="L1"><span class="pp-ln">  91 </span><span class="pp-pln">                        </span><span class="pp-tag">[</span></div><div class="L2"><span class="pp-ln">  92 </span><span class="pp-pln">                    </span><span class="pp-tag">decl</span><span class="pp-pln"> files</span></div><div class="L3"><span class="pp-ln">  93 </span><span class="pp-pln">                </span><span class="pp-tag">foreach</span><span class="pp-pln"> item in result</span></div><div class="L4"><span class="pp-ln">  94 </span><span class="pp-pln">                    </span><span class="pp-tag">set</span><span class="pp-pln"> files = this.getFiles(item.fullPath, {deep: false })</span></div><div class="L5"><span class="pp-ln">  95 </span><span class="pp-pln">                    </span><span class="pp-tag">_</span><span class="pp-pln"> resultWithFileNames.push</span></div><div class="L6"><span class="pp-ln">  96 </span><span class="pp-pln">                        </span><span class="pp-tag">{</span></div><div class="L7"><span class="pp-ln">  97 </span><span class="pp-pln">                            </span><span class="pp-tag">@</span><span class="pp-pln"> folderFullPath item.fullPath</span></div><div class="L8"><span class="pp-ln">  98 </span><span class="pp-pln">                            </span><span class="pp-tag">@</span><span class="pp-pln"> folderRelPath item.relPath</span></div><div class="L9"><span class="pp-ln">  99 </span><span class="pp-pln">                            </span><span class="pp-tag">@</span><span class="pp-pln"> documents files</span></div><div class="L0"><span class="pp-ln"> 100 </span><span class="pp-pln">                </span><span class="pp-tag">return</span><span class="pp-pln"> resultWithFileNames</span></div><div class="L1"><span class="pp-ln"> 101 </span><span class="pp-pln">            </span><span class="pp-tag">else</span></div><div class="L2"><span class="pp-ln"> 102 </span><span class="pp-pln">                </span><span class="pp-tag">return</span><span class="pp-pln"> result</span></div><div class="L3"><span class="pp-ln"> 103 </span><span class="pp-pln">    </span><span class="pp-mix frag-to-link-a" data-frag-id="d28">vfile/m(</span><span class="pp-arg"> _appendFolders</span><span class="pp-pln">,</span><span class="pp-arg">  readdirSync</span><span class="pp-pln">,</span><span class="pp-arg">  folders</span><span class="pp-pln">,</span><span class="pp-arg">  relPath</span><span class="pp-pln">,</span><span class="pp-arg">  options </span><span class="pp-mix">)</span></div><div class="L4"><span class="pp-ln"> 104 </span><span class="pp-pln">        </span><span class="pp-kwd">$append</span><span class="pp-pln"> async</span></div><div class="L5"><span class="pp-ln"> 105 </span><span class="pp-pln">            </span><span class="pp-tag">var</span><span class="pp-pln"> that = this</span></div><div class="L6"><span class="pp-ln"> 106 </span><span class="pp-pln">            </span><span class="pp-tag">_</span><span class="pp-pln"> this.fsimpl.readdir</span></div><div class="L7"><span class="pp-ln"> 107 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> path_string</span></div><div class="L8"><span class="pp-ln"> 108 </span><span class="pp-pln">                </span><span class="pp-mix frag-to-link-a" data-frag-id="d121">f_cb(</span><span class="pp-arg"> dir </span><span class="pp-mix">)</span></div><div class="L9"><span class="pp-ln"> 109 </span><span class="pp-pln">                    </span><span class="pp-tag">#</span><span class="pp-pln"> log 'wizzi-utils.vfile._appendFolders.dir', dir</span></div><div class="L0"><span class="pp-ln"> 110 </span><span class="pp-pln">                    </span><span class="pp-tag">_</span><span class="pp-pln"> async.map</span></div><div class="L1"><span class="pp-ln"> 111 </span><span class="pp-pln">                        </span><span class="pp-tag">@</span><span class="pp-pln"> dir</span></div><div class="L2"><span class="pp-ln"> 112 </span><span class="pp-pln">                        </span><span class="pp-tag">function</span></div><div class="L3"><span class="pp-ln"> 113 </span><span class="pp-pln">                            </span><span class="pp-tag">param</span><span class="pp-pln"> item</span></div><div class="L4"><span class="pp-ln"> 114 </span><span class="pp-pln">                            </span><span class="pp-tag">param</span><span class="pp-pln"> callback</span></div><div class="L5"><span class="pp-ln"> 115 </span><span class="pp-pln">                            </span><span class="pp-tag">var</span><span class="pp-pln"> filePath = path.join(path_string, item)</span></div><div class="L6"><span class="pp-ln"> 116 </span><span class="pp-pln">                            </span><span class="pp-tag">_</span><span class="pp-pln"> that.isDirectory</span></div><div class="L7"><span class="pp-ln"> 117 </span><span class="pp-pln">                                </span><span class="pp-tag">@</span><span class="pp-pln"> filePath</span></div><div class="L8"><span class="pp-ln"> 118 </span><span class="pp-pln">                                </span><span class="pp-mix frag-to-link-a" data-frag-id="d121">f_cb(</span><span class="pp-arg"> isDirectory </span><span class="pp-mix">)</span></div><div class="L9"><span class="pp-ln"> 119 </span><span class="pp-pln">                                    </span><span class="pp-tag">#</span><span class="pp-pln"> log 'wizzi-utils.vfile._appendFolders.isDirectory', filePath, isDirectory</span></div><div class="L0"><span class="pp-ln"> 120 </span><span class="pp-pln">                                    </span><span class="pp-tag">if</span><span class="pp-pln"> isDirectory</span></div><div class="L1"><span class="pp-ln"> 121 </span><span class="pp-pln">                                        </span><span class="pp-tag">_</span><span class="pp-pln"> folders.push</span></div><div class="L2"><span class="pp-ln"> 122 </span><span class="pp-pln">                                            </span><span class="pp-tag">{</span></div><div class="L3"><span class="pp-ln"> 123 </span><span class="pp-pln">                                                </span><span class="pp-tag">@</span><span class="pp-pln"> fullPath filePath</span></div><div class="L4"><span class="pp-ln"> 124 </span><span class="pp-pln">                                                </span><span class="pp-tag">@</span><span class="pp-pln"> relPath</span></div><div class="L5"><span class="pp-ln"> 125 </span><span class="pp-pln">                                                    </span><span class="pp-tag">_</span><span class="pp-pln"> unixifyPath</span></div><div class="L6"><span class="pp-ln"> 126 </span><span class="pp-pln">                                                        </span><span class="pp-tag">_</span><span class="pp-pln"> path.join</span></div><div class="L7"><span class="pp-ln"> 127 </span><span class="pp-pln">                                                            </span><span class="pp-tag">_</span><span class="pp-pln"> relPath.join('/')</span></div><div class="L8"><span class="pp-ln"> 128 </span><span class="pp-pln">                                                            </span><span class="pp-tag">@</span><span class="pp-pln"> item</span></div><div class="L9"><span class="pp-ln"> 129 </span><span class="pp-pln">                                    </span><span class="pp-tag">_</span><span class="pp-pln"> callback</span></div><div class="L0"><span class="pp-ln"> 130 </span><span class="pp-pln">                                        </span><span class="pp-tag">@</span><span class="pp-pln"> null</span></div><div class="L1"><span class="pp-ln"> 131 </span><span class="pp-pln">                                        </span><span class="pp-tag">@</span><span class="pp-pln"> ( isDirectory && options.deep ? item : null )</span></div><div class="L2"><span class="pp-ln"> 132 </span><span class="pp-pln">                        </span><span class="pp-mix frag-to-link-a" data-frag-id="d121">f_cb(</span><span class="pp-arg"> items </span><span class="pp-mix">)</span></div><div class="L3"><span class="pp-ln"> 133 </span><span class="pp-pln">                            </span><span class="pp-tag">#</span><span class="pp-pln"> log 'wizzi-utils.vfile._appendFolders.async.items, folders', items, folders</span></div><div class="L4"><span class="pp-ln"> 134 </span><span class="pp-pln">                            </span><span class="pp-tag">var</span><span class="pp-pln"> len = items.length</span></div><div class="L5"><span class="pp-ln"> 135 </span><span class="pp-pln">                            </span><span class="pp-tag">function</span><span class="pp-pln"> repeat</span></div><div class="L6"><span class="pp-ln"> 136 </span><span class="pp-pln">                                </span><span class="pp-tag">param</span><span class="pp-pln"> index</span></div><div class="L7"><span class="pp-ln"> 137 </span><span class="pp-pln">                                </span><span class="pp-tag">if</span><span class="pp-pln"> index == len</span></div><div class="L8"><span class="pp-ln"> 138 </span><span class="pp-pln">                                    </span><span class="pp-tag">return</span></div><div class="L9"><span class="pp-ln"> 139 </span><span class="pp-pln">                                        </span><span class="pp-tag">_</span><span class="pp-pln"> callback</span></div><div class="L0"><span class="pp-ln"> 140 </span><span class="pp-pln">                                            </span><span class="pp-tag">@</span><span class="pp-pln"> null</span></div><div class="L1"><span class="pp-ln"> 141 </span><span class="pp-pln">                                </span><span class="pp-tag">var</span><span class="pp-pln"> item = items[index]</span></div><div class="L2"><span class="pp-ln"> 142 </span><span class="pp-pln">                                </span><span class="pp-tag">if</span><span class="pp-pln"> item !== null</span></div><div class="L3"><span class="pp-ln"> 143 </span><span class="pp-pln">                                    </span><span class="pp-tag">var</span><span class="pp-pln"> filePath = path.join(path_string, item)</span></div><div class="L4"><span class="pp-ln"> 144 </span><span class="pp-pln">                                    </span><span class="pp-tag">var</span><span class="pp-pln"> newRelPath = relPath.slice(0)</span></div><div class="L5"><span class="pp-ln"> 145 </span><span class="pp-pln">                                    </span><span class="pp-tag">_</span><span class="pp-pln"> newRelPath.push(item)</span></div><div class="L6"><span class="pp-ln"> 146 </span><span class="pp-pln">                                    </span><span class="pp-tag">_</span><span class="pp-pln"> that._appendFolders</span></div><div class="L7"><span class="pp-ln"> 147 </span><span class="pp-pln">                                        </span><span class="pp-tag">@</span><span class="pp-pln"> filePath</span></div><div class="L8"><span class="pp-ln"> 148 </span><span class="pp-pln">                                        </span><span class="pp-tag">@</span><span class="pp-pln"> folders</span></div><div class="L9"><span class="pp-ln"> 149 </span><span class="pp-pln">                                        </span><span class="pp-tag">@</span><span class="pp-pln"> newRelPath</span></div><div class="L0"><span class="pp-ln"> 150 </span><span class="pp-pln">                                        </span><span class="pp-tag">@</span><span class="pp-pln"> options</span></div><div class="L1"><span class="pp-ln"> 151 </span><span class="pp-pln">                                        </span><span class="pp-mix frag-to-link-a" data-frag-id="d121">f_cb(</span><span class="pp-arg"> result </span><span class="pp-mix">)</span></div><div class="L2"><span class="pp-ln"> 152 </span><span class="pp-pln">                                            </span><span class="pp-tag">return</span></div><div class="L3"><span class="pp-ln"> 153 </span><span class="pp-pln">                                                </span><span class="pp-tag">_</span><span class="pp-pln"> repeat</span></div><div class="L4"><span class="pp-ln"> 154 </span><span class="pp-pln">                                                    </span><span class="pp-tag">@</span><span class="pp-pln"> index + 1</span></div><div class="L5"><span class="pp-ln"> 155 </span><span class="pp-pln">                                </span><span class="pp-tag">else</span></div><div class="L6"><span class="pp-ln"> 156 </span><span class="pp-pln">                                    </span><span class="pp-tag">return</span></div><div class="L7"><span class="pp-ln"> 157 </span><span class="pp-pln">                                        </span><span class="pp-tag">_</span><span class="pp-pln"> repeat</span></div><div class="L8"><span class="pp-ln"> 158 </span><span class="pp-pln">                                            </span><span class="pp-tag">@</span><span class="pp-pln"> index + 1</span></div><div class="L9"><span class="pp-ln"> 159 </span><span class="pp-pln">                            </span><span class="pp-tag">_</span><span class="pp-pln"> repeat(0)</span></div><div class="L0"><span class="pp-ln"> 160 </span><span class="pp-pln">        </span><span class="pp-kwd">$append</span><span class="pp-pln"> sync</span></div><div class="L1"><span class="pp-ln"> 161 </span><span class="pp-pln">            </span><span class="pp-tag">var</span><span class="pp-pln"> dir = this.fsimpl.readdirSync(path_string)</span></div><div class="L2"><span class="pp-ln"> 162 </span><span class="pp-pln">            </span><span class="pp-tag">foreach</span><span class="pp-pln"> item in dir</span></div><div class="L3"><span class="pp-ln"> 163 </span><span class="pp-pln">                </span><span class="pp-tag">var</span><span class="pp-pln"> filePath = path.join(path_string, item)</span></div><div class="L4"><span class="pp-ln"> 164 </span><span class="pp-pln">                </span><span class="pp-tag">if</span><span class="pp-pln"> this.isDirectory(filePath)</span></div><div class="L5"><span class="pp-ln"> 165 </span><span class="pp-pln">                    </span><span class="pp-tag">if</span><span class="pp-pln"> options.tFoldersOnly</span></div><div class="L6"><span class="pp-ln"> 166 </span><span class="pp-pln">                        </span><span class="pp-tag">if</span><span class="pp-pln"> item.toLowerCase() === 't'</span></div><div class="L7"><span class="pp-ln"> 167 </span><span class="pp-pln">                            </span><span class="pp-tag">_</span><span class="pp-pln"> folders.push</span></div><div class="L8"><span class="pp-ln"> 168 </span><span class="pp-pln">                                </span><span class="pp-tag">{</span></div><div class="L9"><span class="pp-ln"> 169 </span><span class="pp-pln">                                    </span><span class="pp-tag">@</span><span class="pp-pln"> fullPath filePath</span></div><div class="L0"><span class="pp-ln"> 170 </span><span class="pp-pln">                                    </span><span class="pp-tag">@</span><span class="pp-pln"> relPath</span></div><div class="L1"><span class="pp-ln"> 171 </span><span class="pp-pln">                                        </span><span class="pp-tag">_</span><span class="pp-pln"> unixifyPath</span></div><div class="L2"><span class="pp-ln"> 172 </span><span class="pp-pln">                                            </span><span class="pp-tag">_</span><span class="pp-pln"> path.join</span></div><div class="L3"><span class="pp-ln"> 173 </span><span class="pp-pln">                                                </span><span class="pp-tag">_</span><span class="pp-pln"> relPath.join('/')</span></div><div class="L4"><span class="pp-ln"> 174 </span><span class="pp-pln">                                                </span><span class="pp-tag">@</span><span class="pp-pln"> item</span></div><div class="L5"><span class="pp-ln"> 175 </span><span class="pp-pln">                            </span><span class="pp-tag">return</span></div><div class="L6"><span class="pp-ln"> 176 </span><span class="pp-pln">                    </span><span class="pp-tag">else</span></div><div class="L7"><span class="pp-ln"> 177 </span><span class="pp-pln">                        </span><span class="pp-tag">_</span><span class="pp-pln"> folders.push</span></div><div class="L8"><span class="pp-ln"> 178 </span><span class="pp-pln">                            </span><span class="pp-tag">{</span></div><div class="L9"><span class="pp-ln"> 179 </span><span class="pp-pln">                                </span><span class="pp-tag">@</span><span class="pp-pln"> fullPath filePath</span></div><div class="L0"><span class="pp-ln"> 180 </span><span class="pp-pln">                                </span><span class="pp-tag">@</span><span class="pp-pln"> relPath</span></div><div class="L1"><span class="pp-ln"> 181 </span><span class="pp-pln">                                    </span><span class="pp-tag">_</span><span class="pp-pln"> unixifyPath</span></div><div class="L2"><span class="pp-ln"> 182 </span><span class="pp-pln">                                        </span><span class="pp-tag">_</span><span class="pp-pln"> path.join</span></div><div class="L3"><span class="pp-ln"> 183 </span><span class="pp-pln">                                            </span><span class="pp-tag">_</span><span class="pp-pln"> relPath.join('/')</span></div><div class="L4"><span class="pp-ln"> 184 </span><span class="pp-pln">                                            </span><span class="pp-tag">@</span><span class="pp-pln"> item</span></div><div class="L5"><span class="pp-ln"> 185 </span><span class="pp-pln">                    </span><span class="pp-tag">if</span><span class="pp-pln"> options.deep</span></div><div class="L6"><span class="pp-ln"> 186 </span><span class="pp-pln">                        </span><span class="pp-tag">var</span><span class="pp-pln"> newRelPath = relPath.slice(0)</span></div><div class="L7"><span class="pp-ln"> 187 </span><span class="pp-pln">                        </span><span class="pp-tag">_</span><span class="pp-pln"> newRelPath.push(item)</span></div><div class="L8"><span class="pp-ln"> 188 </span><span class="pp-pln">                        </span><span class="pp-tag">_</span><span class="pp-pln"> this._appendFolders(filePath, folders, newRelPath, options)</span></div></pre>
                    </div>
                </div>
                <div class="code-panel" id="d25">
                    <div class="modal-view-container">
                        <h4 class="d-h2">/src/ittf/lib/fs/t/vfile/glob.js.ittf</h4>
                        <pre class="prettyprint">

<div class="L1"><span class="pp-ln">   1 </span><span class="pp-pln"></span><span class="pp-kwd">$group</span></div><div class="L2"><span class="pp-ln">   2 </span><span class="pp-pln">    </span><span class="pp-tag">m</span><span class="pp-pln"> getGlobbedFilesEx</span></div><div class="L3"><span class="pp-ln">   3 </span><span class="pp-pln">        </span><span class="pp-tag">param</span><span class="pp-pln"> path_string</span></div><div class="L4"><span class="pp-ln">   4 </span><span class="pp-pln">        </span><span class="pp-tag">param</span><span class="pp-pln"> options</span></div><div class="L5"><span class="pp-ln">   5 </span><span class="pp-pln">        </span><span class="pp-tag">param</span><span class="pp-pln"> callback</span></div><div class="L6"><span class="pp-ln">   6 </span><span class="pp-pln">        </span><span class="pp-tag">var</span><span class="pp-pln"> options = options || {}</span></div><div class="L7"><span class="pp-ln">   7 </span><span class="pp-pln">        </span><span class="pp-tag">return</span></div><div class="L8"><span class="pp-ln">   8 </span><span class="pp-pln">            </span><span class="pp-tag">_</span><span class="pp-pln"> this.getGlobbedFiles</span></div><div class="L9"><span class="pp-ln">   9 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> path_string</span></div><div class="L0"><span class="pp-ln">  10 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> options.removeRoot</span></div><div class="L1"><span class="pp-ln">  11 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> options</span></div><div class="L2"><span class="pp-ln">  12 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> callback</span></div><div class="L3"><span class="pp-ln">  13 </span><span class="pp-pln">    </span><span class="pp-mix frag-to-link-a" data-frag-id="d28">vfile/m(</span><span class="pp-arg"> getGlobbedFiles</span><span class="pp-pln">,</span><span class="pp-arg">  readdirSync</span><span class="pp-pln">,</span><span class="pp-arg">  removeRoot</span><span class="pp-pln">,</span><span class="pp-arg">  options </span><span class="pp-mix">)</span></div><div class="L4"><span class="pp-ln">  14 </span><span class="pp-pln">        </span><span class="pp-tag">if</span><span class="pp-pln"> verify.isObject(removeRoot)</span></div><div class="L5"><span class="pp-ln">  15 </span><span class="pp-pln">            </span><span class="pp-tag">set</span><span class="pp-pln"> options = removeRoot</span></div><div class="L6"><span class="pp-ln">  16 </span><span class="pp-pln">            </span><span class="pp-tag">set</span><span class="pp-pln"> removeRoot = options.removeRoot</span></div><div class="L7"><span class="pp-ln">  17 </span><span class="pp-pln">        </span><span class="pp-tag">else</span></div><div class="L8"><span class="pp-ln">  18 </span><span class="pp-pln">            </span><span class="pp-tag">set</span><span class="pp-pln"> options = options || {}</span></div><div class="L9"><span class="pp-ln">  19 </span><span class="pp-pln">        </span><span class="pp-kwd">$append</span><span class="pp-pln"> async</span></div><div class="L0"><span class="pp-ln">  20 </span><span class="pp-pln">            </span><span class="pp-tag">var</span><span class="pp-pln"> urlRegex</span></div><div class="L1"><span class="pp-ln">  21 </span><span class="pp-pln">                </span><span class="pp-tag">new</span><span class="pp-pln"> RegExp('^(?:[a-z]+:)?\/\/', 'i')</span></div><div class="L2"><span class="pp-ln">  22 </span><span class="pp-pln">            </span><span class="pp-tag">var</span><span class="pp-pln"> output</span></div><div class="L3"><span class="pp-ln">  23 </span><span class="pp-pln">                </span><span class="pp-tag">[</span></div><div class="L4"><span class="pp-ln">  24 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> verify.isArray(path_string)</span></div><div class="L5"><span class="pp-ln">  25 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> async.map</span></div><div class="L6"><span class="pp-ln">  26 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> path_string</span></div><div class="L7"><span class="pp-ln">  27 </span><span class="pp-pln">                    </span><span class="pp-tag">function</span></div><div class="L8"><span class="pp-ln">  28 </span><span class="pp-pln">                        </span><span class="pp-tag">param</span><span class="pp-pln"> globPattern</span></div><div class="L9"><span class="pp-ln">  29 </span><span class="pp-pln">                        </span><span class="pp-tag">param</span><span class="pp-pln"> callback</span></div><div class="L0"><span class="pp-ln">  30 </span><span class="pp-pln">                        </span><span class="pp-tag">_</span><span class="pp-pln"> this.getGlobbedFilesAsync</span></div><div class="L1"><span class="pp-ln">  31 </span><span class="pp-pln">                            </span><span class="pp-tag">@</span><span class="pp-pln"> globPattern</span></div><div class="L2"><span class="pp-ln">  32 </span><span class="pp-pln">                            </span><span class="pp-tag">@</span><span class="pp-pln"> removeRoot</span></div><div class="L3"><span class="pp-ln">  33 </span><span class="pp-pln">                            </span><span class="pp-tag">@</span><span class="pp-pln"> options</span></div><div class="L4"><span class="pp-ln">  34 </span><span class="pp-pln">                            </span><span class="pp-mix frag-to-link-a" data-frag-id="d121">f_cb(</span><span class="pp-arg"> globbed </span><span class="pp-mix">)</span></div><div class="L5"><span class="pp-ln">  35 </span><span class="pp-pln">                                </span><span class="pp-tag">return</span></div><div class="L6"><span class="pp-ln">  36 </span><span class="pp-pln">                                    </span><span class="pp-tag">_</span><span class="pp-pln"> callback</span></div><div class="L7"><span class="pp-ln">  37 </span><span class="pp-pln">                                        </span><span class="pp-tag">@</span><span class="pp-pln"> null</span></div><div class="L8"><span class="pp-ln">  38 </span><span class="pp-pln">                                        </span><span class="pp-tag">@</span><span class="pp-pln"> globbed</span></div><div class="L9"><span class="pp-ln">  39 </span><span class="pp-pln">                    </span><span class="pp-mix frag-to-link-a" data-frag-id="d121">f_cb(</span><span class="pp-arg"> globbeds </span><span class="pp-mix">)</span></div><div class="L0"><span class="pp-ln">  40 </span><span class="pp-pln">                        </span><span class="pp-tag">foreach</span><span class="pp-pln"> globbed in globbeds</span></div><div class="L1"><span class="pp-ln">  41 </span><span class="pp-pln">                            </span><span class="pp-tag">_</span><span class="pp-pln"> _.union</span></div><div class="L2"><span class="pp-ln">  42 </span><span class="pp-pln">                                </span><span class="pp-tag">@</span><span class="pp-pln"> output</span></div><div class="L3"><span class="pp-ln">  43 </span><span class="pp-pln">                                </span><span class="pp-tag">@</span><span class="pp-pln"> globbed</span></div><div class="L4"><span class="pp-ln">  44 </span><span class="pp-pln">                        </span><span class="pp-tag">return</span></div><div class="L5"><span class="pp-ln">  45 </span><span class="pp-pln">                            </span><span class="pp-tag">_</span><span class="pp-pln"> callback</span></div><div class="L6"><span class="pp-ln">  46 </span><span class="pp-pln">                                </span><span class="pp-tag">@</span><span class="pp-pln"> null</span></div><div class="L7"><span class="pp-ln">  47 </span><span class="pp-pln">                                </span><span class="pp-tag">@</span><span class="pp-pln"> output</span></div><div class="L8"><span class="pp-ln">  48 </span><span class="pp-pln">            </span><span class="pp-tag">elif</span><span class="pp-pln"> verify.isString(path_string)</span></div><div class="L9"><span class="pp-ln">  49 </span><span class="pp-pln">                </span><span class="pp-tag">if</span><span class="pp-pln"> urlRegex.test(path_string)</span></div><div class="L0"><span class="pp-ln">  50 </span><span class="pp-pln">                    </span><span class="pp-tag">return</span></div><div class="L1"><span class="pp-ln">  51 </span><span class="pp-pln">                        </span><span class="pp-tag">_</span><span class="pp-pln"> callback</span></div><div class="L2"><span class="pp-ln">  52 </span><span class="pp-pln">                            </span><span class="pp-tag">@</span><span class="pp-pln"> null</span></div><div class="L3"><span class="pp-ln">  53 </span><span class="pp-pln">                            </span><span class="pp-tag">[</span></div><div class="L4"><span class="pp-ln">  54 </span><span class="pp-pln">                                </span><span class="pp-tag">@</span><span class="pp-pln"> path_string</span></div><div class="L5"><span class="pp-ln">  55 </span><span class="pp-pln">                </span><span class="pp-tag">else</span></div><div class="L6"><span class="pp-ln">  56 </span><span class="pp-pln">                    </span><span class="pp-tag">#</span><span class="pp-pln"> log 'wizzi-utils.fs.vfile.glob.path_string, options', path_string, options</span></div><div class="L7"><span class="pp-ln">  57 </span><span class="pp-pln">                    </span><span class="pp-tag">_</span><span class="pp-pln"> glob</span></div><div class="L8"><span class="pp-ln">  58 </span><span class="pp-pln">                        </span><span class="pp-tag">@</span><span class="pp-pln"> path_string</span></div><div class="L9"><span class="pp-ln">  59 </span><span class="pp-pln">                        </span><span class="pp-tag">@</span><span class="pp-pln"> this</span></div><div class="L0"><span class="pp-ln">  60 </span><span class="pp-pln">                        </span><span class="pp-tag">@</span><span class="pp-pln"> options</span></div><div class="L1"><span class="pp-ln">  61 </span><span class="pp-pln">                        </span><span class="pp-mix frag-to-link-a" data-frag-id="d121">f_cb(</span><span class="pp-arg"> files </span><span class="pp-mix">)</span></div><div class="L2"><span class="pp-ln">  62 </span><span class="pp-pln">                            </span><span class="pp-tag">#</span><span class="pp-pln"> log 'wizzi-utils.fs.vfile.glob.after_glob.path_string ', path_string, 'files', files.length</span></div><div class="L3"><span class="pp-ln">  63 </span><span class="pp-pln">                            </span><span class="pp-tag">if</span><span class="pp-pln"> removeRoot</span></div><div class="L4"><span class="pp-ln">  64 </span><span class="pp-pln">                                </span><span class="pp-tag">#</span><span class="pp-pln"> log 'wizzi-utils.fs.vfile.glob.after_glob.removeRoot', removeRoot</span></div><div class="L5"><span class="pp-ln">  65 </span><span class="pp-pln">                                </span><span class="pp-tag">set</span><span class="pp-pln"> files =</span></div><div class="L6"><span class="pp-ln">  66 </span><span class="pp-pln">                                    </span><span class="pp-tag">_</span><span class="pp-pln"> files.map</span></div><div class="L7"><span class="pp-ln">  67 </span><span class="pp-pln">                                        </span><span class="pp-tag">function</span></div><div class="L8"><span class="pp-ln">  68 </span><span class="pp-pln">                                            </span><span class="pp-tag">param</span><span class="pp-pln"> file</span></div><div class="L9"><span class="pp-ln">  69 </span><span class="pp-pln">                                            </span><span class="pp-tag">if</span><span class="pp-pln"> _.isArray(removeRoot)</span></div><div class="L0"><span class="pp-ln">  70 </span><span class="pp-pln">                                                </span><span class="pp-tag">for</span><span class="pp-pln"> var i in removeRoot</span></div><div class="L1"><span class="pp-ln">  71 </span><span class="pp-pln">                                                    </span><span class="pp-tag">set</span><span class="pp-pln"> file = file.replace(removeRoot[i], '')</span></div><div class="L2"><span class="pp-ln">  72 </span><span class="pp-pln">                                            </span><span class="pp-tag">else</span></div><div class="L3"><span class="pp-ln">  73 </span><span class="pp-pln">                                                </span><span class="pp-tag">#</span><span class="pp-pln"> log unixifyPath(file), removeRoot</span></div><div class="L4"><span class="pp-ln">  74 </span><span class="pp-pln">                                                </span><span class="pp-tag">set</span><span class="pp-pln"> file</span></div><div class="L5"><span class="pp-ln">  75 </span><span class="pp-pln">                                                    </span><span class="pp-tag">_</span><span class="pp-pln"> unixifyPath</span></div><div class="L6"><span class="pp-ln">  76 </span><span class="pp-pln">                                                        </span><span class="pp-tag">@</span><span class="pp-pln"> file</span></div><div class="L7"><span class="pp-ln">  77 </span><span class="pp-pln">                                                        </span><span class="pp-tag">._</span><span class="pp-pln"> replace</span></div><div class="L8"><span class="pp-ln">  78 </span><span class="pp-pln">                                                            </span><span class="pp-tag">_</span><span class="pp-pln"> unixifyPath</span></div><div class="L9"><span class="pp-ln">  79 </span><span class="pp-pln">                                                                </span><span class="pp-tag">@</span><span class="pp-pln"> removeRoot</span></div><div class="L0"><span class="pp-ln">  80 </span><span class="pp-pln">                                                            </span><span class="pp-tag">@</span><span class="pp-pln"> ''</span></div><div class="L1"><span class="pp-ln">  81 </span><span class="pp-pln">                                            </span><span class="pp-tag">return</span><span class="pp-pln"> file</span></div><div class="L2"><span class="pp-ln">  82 </span><span class="pp-pln">                                </span><span class="pp-tag">return</span></div><div class="L3"><span class="pp-ln">  83 </span><span class="pp-pln">                                    </span><span class="pp-tag">_</span><span class="pp-pln"> callback</span></div><div class="L4"><span class="pp-ln">  84 </span><span class="pp-pln">                                        </span><span class="pp-tag">@</span><span class="pp-pln"> null</span></div><div class="L5"><span class="pp-ln">  85 </span><span class="pp-pln">                                        </span><span class="pp-tag">@</span><span class="pp-pln"> files</span></div><div class="L6"><span class="pp-ln">  86 </span><span class="pp-pln">                            </span><span class="pp-tag">else</span></div><div class="L7"><span class="pp-ln">  87 </span><span class="pp-pln">                                </span><span class="pp-tag">return</span></div><div class="L8"><span class="pp-ln">  88 </span><span class="pp-pln">                                    </span><span class="pp-tag">_</span><span class="pp-pln"> callback</span></div><div class="L9"><span class="pp-ln">  89 </span><span class="pp-pln">                                        </span><span class="pp-tag">@</span><span class="pp-pln"> null</span></div><div class="L0"><span class="pp-ln">  90 </span><span class="pp-pln">                                        </span><span class="pp-tag">@</span><span class="pp-pln"> files</span></div><div class="L1"><span class="pp-ln">  91 </span><span class="pp-pln">        </span><span class="pp-kwd">$append</span><span class="pp-pln"> sync</span></div><div class="L2"><span class="pp-ln">  92 </span><span class="pp-pln">            </span><span class="pp-tag">var</span><span class="pp-pln"> urlRegex</span></div><div class="L3"><span class="pp-ln">  93 </span><span class="pp-pln">                </span><span class="pp-tag">new</span><span class="pp-pln"> RegExp('^(?:[a-z]+:)?\/\/', 'i')</span></div><div class="L4"><span class="pp-ln">  94 </span><span class="pp-pln">            </span><span class="pp-tag">var</span><span class="pp-pln"> output</span></div><div class="L5"><span class="pp-ln">  95 </span><span class="pp-pln">                </span><span class="pp-tag">[</span></div><div class="L6"><span class="pp-ln">  96 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> verify.isArray(path_string)</span></div><div class="L7"><span class="pp-ln">  97 </span><span class="pp-pln">                </span><span class="pp-tag">foreach</span><span class="pp-pln"> globPattern in path_string</span></div><div class="L8"><span class="pp-ln">  98 </span><span class="pp-pln">                    </span><span class="pp-tag">set</span><span class="pp-pln"> output</span></div><div class="L9"><span class="pp-ln">  99 </span><span class="pp-pln">                        </span><span class="pp-tag">_</span><span class="pp-pln"> _.union</span></div><div class="L0"><span class="pp-ln"> 100 </span><span class="pp-pln">                            </span><span class="pp-tag">@</span><span class="pp-pln"> output</span></div><div class="L1"><span class="pp-ln"> 101 </span><span class="pp-pln">                            </span><span class="pp-tag">_</span><span class="pp-pln"> this.getGlobbedFiles</span></div><div class="L2"><span class="pp-ln"> 102 </span><span class="pp-pln">                                </span><span class="pp-tag">@</span><span class="pp-pln"> globPattern</span></div><div class="L3"><span class="pp-ln"> 103 </span><span class="pp-pln">                                </span><span class="pp-tag">@</span><span class="pp-pln"> removeRoot</span></div><div class="L4"><span class="pp-ln"> 104 </span><span class="pp-pln">                                </span><span class="pp-tag">@</span><span class="pp-pln"> options</span></div><div class="L5"><span class="pp-ln"> 105 </span><span class="pp-pln">            </span><span class="pp-tag">elif</span><span class="pp-pln"> verify.isString(path_string)</span></div><div class="L6"><span class="pp-ln"> 106 </span><span class="pp-pln">                </span><span class="pp-tag">if</span><span class="pp-pln"> urlRegex.test(path_string)</span></div><div class="L7"><span class="pp-ln"> 107 </span><span class="pp-pln">                    </span><span class="pp-tag">_</span><span class="pp-pln"> output.push(path_string)</span></div><div class="L8"><span class="pp-ln"> 108 </span><span class="pp-pln">                </span><span class="pp-tag">else</span></div><div class="L9"><span class="pp-ln"> 109 </span><span class="pp-pln">                    </span><span class="pp-tag">set</span><span class="pp-pln"> options.sync = true</span></div><div class="L0"><span class="pp-ln"> 110 </span><span class="pp-pln">                    </span><span class="pp-tag">#</span><span class="pp-pln"> log 'path_string, options', path_string, options</span></div><div class="L1"><span class="pp-ln"> 111 </span><span class="pp-pln">                    </span><span class="pp-tag">var</span><span class="pp-pln"> files = glob(path_string, this, options)</span></div><div class="L2"><span class="pp-ln"> 112 </span><span class="pp-pln">                    </span><span class="pp-tag">#</span><span class="pp-pln"> log 'wizzi-meta.file.path_string ', path_string, 'files', files.length</span></div><div class="L3"><span class="pp-ln"> 113 </span><span class="pp-pln">                    </span><span class="pp-tag">if</span><span class="pp-pln"> removeRoot</span></div><div class="L4"><span class="pp-ln"> 114 </span><span class="pp-pln">                        </span><span class="pp-tag">#</span><span class="pp-pln"> log 'removeRoot', removeRoot</span></div><div class="L5"><span class="pp-ln"> 115 </span><span class="pp-pln">                        </span><span class="pp-tag">set</span><span class="pp-pln"> files =</span></div><div class="L6"><span class="pp-ln"> 116 </span><span class="pp-pln">                            </span><span class="pp-tag">_</span><span class="pp-pln"> files.map</span></div><div class="L7"><span class="pp-ln"> 117 </span><span class="pp-pln">                                </span><span class="pp-tag">function</span></div><div class="L8"><span class="pp-ln"> 118 </span><span class="pp-pln">                                    </span><span class="pp-tag">param</span><span class="pp-pln"> file</span></div><div class="L9"><span class="pp-ln"> 119 </span><span class="pp-pln">                                    </span><span class="pp-tag">if</span><span class="pp-pln"> _.isArray(removeRoot)</span></div><div class="L0"><span class="pp-ln"> 120 </span><span class="pp-pln">                                        </span><span class="pp-tag">for</span><span class="pp-pln"> var i in removeRoot</span></div><div class="L1"><span class="pp-ln"> 121 </span><span class="pp-pln">                                            </span><span class="pp-tag">set</span><span class="pp-pln"> file = file.replace(removeRoot[i], '')</span></div><div class="L2"><span class="pp-ln"> 122 </span><span class="pp-pln">                                    </span><span class="pp-tag">else</span></div><div class="L3"><span class="pp-ln"> 123 </span><span class="pp-pln">                                        </span><span class="pp-tag">#</span><span class="pp-pln"> log unixifyPath(file), removeRoot</span></div><div class="L4"><span class="pp-ln"> 124 </span><span class="pp-pln">                                        </span><span class="pp-tag">set</span><span class="pp-pln"> file</span></div><div class="L5"><span class="pp-ln"> 125 </span><span class="pp-pln">                                            </span><span class="pp-tag">_</span><span class="pp-pln"> unixifyPath</span></div><div class="L6"><span class="pp-ln"> 126 </span><span class="pp-pln">                                                </span><span class="pp-tag">@</span><span class="pp-pln"> file</span></div><div class="L7"><span class="pp-ln"> 127 </span><span class="pp-pln">                                                </span><span class="pp-tag">._</span><span class="pp-pln"> replace</span></div><div class="L8"><span class="pp-ln"> 128 </span><span class="pp-pln">                                                    </span><span class="pp-tag">_</span><span class="pp-pln"> unixifyPath</span></div><div class="L9"><span class="pp-ln"> 129 </span><span class="pp-pln">                                                        </span><span class="pp-tag">@</span><span class="pp-pln"> removeRoot</span></div><div class="L0"><span class="pp-ln"> 130 </span><span class="pp-pln">                                                    </span><span class="pp-tag">@</span><span class="pp-pln"> ''</span></div><div class="L1"><span class="pp-ln"> 131 </span><span class="pp-pln">                                    </span><span class="pp-tag">return</span><span class="pp-pln"> file</span></div><div class="L2"><span class="pp-ln"> 132 </span><span class="pp-pln">                    </span><span class="pp-tag">set</span><span class="pp-pln"> output = _.union(output, files)</span></div><div class="L3"><span class="pp-ln"> 133 </span><span class="pp-pln">            </span><span class="pp-tag">return</span><span class="pp-pln"> output</span></div></pre>
                    </div>
                </div>
                <div class="code-panel" id="d26">
                    <div class="modal-view-container">
                        <h4 class="d-h2">/src/ittf/lib/fs/t/vfile/json_f.js.ittf</h4>
                        <pre class="prettyprint">

<div class="L1"><span class="pp-ln">   1 </span><span class="pp-pln"></span><span class="pp-kwd">$group</span></div><div class="L2"><span class="pp-ln">   2 </span><span class="pp-pln">    </span><span class="pp-tag">function</span><span class="pp-pln"> stringify</span></div><div class="L3"><span class="pp-ln">   3 </span><span class="pp-pln">        </span><span class="pp-tag">param</span><span class="pp-pln"> obj</span></div><div class="L4"><span class="pp-ln">   4 </span><span class="pp-pln">        </span><span class="pp-tag">param</span><span class="pp-pln"> options</span></div><div class="L5"><span class="pp-ln">   5 </span><span class="pp-pln">        </span><span class="pp-tag">var</span><span class="pp-pln"> spaces</span></div><div class="L6"><span class="pp-ln">   6 </span><span class="pp-pln">        </span><span class="pp-tag">var</span><span class="pp-pln"> EOL = '\n'</span></div><div class="L7"><span class="pp-ln">   7 </span><span class="pp-pln">        </span><span class="pp-tag">if</span><span class="pp-pln"> verify.isObject(options)</span></div><div class="L8"><span class="pp-ln">   8 </span><span class="pp-pln">            </span><span class="pp-tag">set</span><span class="pp-pln"> spaces = options.spaces</span></div><div class="L9"><span class="pp-ln">   9 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> options.EOL</span></div><div class="L0"><span class="pp-ln">  10 </span><span class="pp-pln">                </span><span class="pp-tag">set</span><span class="pp-pln"> EOL = options.EOL</span></div><div class="L1"><span class="pp-ln">  11 </span><span class="pp-pln">        </span><span class="pp-tag">var</span><span class="pp-pln"> str</span></div><div class="L2"><span class="pp-ln">  12 </span><span class="pp-pln">            </span><span class="pp-tag">_</span><span class="pp-pln"> JSON.stringify</span></div><div class="L3"><span class="pp-ln">  13 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> obj</span></div><div class="L4"><span class="pp-ln">  14 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> options ? options.replacer : null</span></div><div class="L5"><span class="pp-ln">  15 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> spaces</span></div><div class="L6"><span class="pp-ln">  16 </span><span class="pp-pln">        </span><span class="pp-tag">return</span><span class="pp-pln"> str.replace(/\n/g, EOL) + EOL</span></div></pre>
                    </div>
                </div>
                <div class="code-panel" id="d27">
                    <div class="modal-view-container">
                        <h4 class="d-h2">/src/ittf/lib/fs/t/vfile/json.js.ittf</h4>
                        <pre class="prettyprint">

<div class="L1"><span class="pp-ln">   1 </span><span class="pp-pln"></span><span class="pp-kwd">$group</span></div><div class="L2"><span class="pp-ln">   2 </span><span class="pp-pln">    </span><span class="pp-mix frag-to-link-a" data-frag-id="d28">vfile/m(</span><span class="pp-arg"> readJSON</span><span class="pp-pln">,</span><span class="pp-arg">  readFileSync</span><span class="pp-pln">,</span><span class="pp-arg">  options </span><span class="pp-mix">)</span></div><div class="L3"><span class="pp-ln">   3 </span><span class="pp-pln">        </span><span class="pp-tag">if</span><span class="pp-pln"> verify.isString(options) && verify.isNotEmpty(options)</span></div><div class="L4"><span class="pp-ln">   4 </span><span class="pp-pln">            </span><span class="pp-tag">set</span><span class="pp-pln"> options</span></div><div class="L5"><span class="pp-ln">   5 </span><span class="pp-pln">                </span><span class="pp-tag">{</span></div><div class="L6"><span class="pp-ln">   6 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> encoding options</span></div><div class="L7"><span class="pp-ln">   7 </span><span class="pp-pln">        </span><span class="pp-tag">else</span></div><div class="L8"><span class="pp-ln">   8 </span><span class="pp-pln">            </span><span class="pp-tag">set</span><span class="pp-pln"> options = options || {}</span></div><div class="L9"><span class="pp-ln">   9 </span><span class="pp-pln">        </span><span class="pp-kwd">$append</span><span class="pp-pln"> async</span></div><div class="L0"><span class="pp-ln">  10 </span><span class="pp-pln">            </span><span class="pp-tag">_</span><span class="pp-pln"> this.read</span></div><div class="L1"><span class="pp-ln">  11 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> path_string</span></div><div class="L2"><span class="pp-ln">  12 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> options</span></div><div class="L3"><span class="pp-ln">  13 </span><span class="pp-pln">                </span><span class="pp-mix frag-to-link-a" data-frag-id="d121">f_cb(</span><span class="pp-arg"> contents </span><span class="pp-mix">)</span></div><div class="L4"><span class="pp-ln">  14 </span><span class="pp-pln">                    </span><span class="pp-tag">var</span><span class="pp-pln"> result</span></div><div class="L5"><span class="pp-ln">  15 </span><span class="pp-pln">                    </span><span class="pp-tag">try</span></div><div class="L6"><span class="pp-ln">  16 </span><span class="pp-pln">                        </span><span class="pp-tag">set</span><span class="pp-pln"> result = JSON.parse(contents)</span></div><div class="L7"><span class="pp-ln">  17 </span><span class="pp-pln">                    </span><span class="pp-tag">catch</span><span class="pp-pln"> ex</span></div><div class="L8"><span class="pp-ln">  18 </span><span class="pp-pln">                        </span><span class="pp-tag">return</span></div><div class="L9"><span class="pp-ln">  19 </span><span class="pp-pln">                            </span><span class="pp-tag">_</span><span class="pp-pln"> callback</span></div><div class="L0"><span class="pp-ln">  20 </span><span class="pp-pln">                                </span><span class="pp-tag">new</span><span class="pp-pln"> errors.FileError</span></div><div class="L1"><span class="pp-ln">  21 </span><span class="pp-pln">                                    </span><span class="pp-tag">@</span><span class="pp-pln"> 'Unable to JSON parse "' + path_string + '" file (' + ex.message + ').'</span></div><div class="L2"><span class="pp-ln">  22 </span><span class="pp-pln">                                    </span><span class="pp-tag">@</span><span class="pp-pln"> ex</span></div><div class="L3"><span class="pp-ln">  23 </span><span class="pp-pln">                    </span><span class="pp-tag">return</span></div><div class="L4"><span class="pp-ln">  24 </span><span class="pp-pln">                        </span><span class="pp-tag">_</span><span class="pp-pln"> callback</span></div><div class="L5"><span class="pp-ln">  25 </span><span class="pp-pln">                            </span><span class="pp-tag">@</span><span class="pp-pln"> null</span></div><div class="L6"><span class="pp-ln">  26 </span><span class="pp-pln">                            </span><span class="pp-tag">@</span><span class="pp-pln"> result</span></div><div class="L7"><span class="pp-ln">  27 </span><span class="pp-pln">        </span><span class="pp-kwd">$append</span><span class="pp-pln"> sync</span></div><div class="L8"><span class="pp-ln">  28 </span><span class="pp-pln">            </span><span class="pp-tag">try</span></div><div class="L9"><span class="pp-ln">  29 </span><span class="pp-pln">                </span><span class="pp-tag">var</span><span class="pp-pln"> contents = this.readSync(path_string, options)</span></div><div class="L0"><span class="pp-ln">  30 </span><span class="pp-pln">                </span><span class="pp-tag">return</span><span class="pp-pln"> JSON.parse(contents, options.reviver)</span></div><div class="L1"><span class="pp-ln">  31 </span><span class="pp-pln">            </span><span class="pp-tag">catch</span><span class="pp-pln"> ex</span></div><div class="L2"><span class="pp-ln">  32 </span><span class="pp-pln">                </span><span class="pp-tag">if</span><span class="pp-pln"> shouldThrow</span></div><div class="L3"><span class="pp-ln">  33 </span><span class="pp-pln">                    </span><span class="pp-tag">throw</span></div><div class="L4"><span class="pp-ln">  34 </span><span class="pp-pln">                        </span><span class="pp-tag">new</span><span class="pp-pln"> errors.FileError</span></div><div class="L5"><span class="pp-ln">  35 </span><span class="pp-pln">                            </span><span class="pp-tag">@</span><span class="pp-pln"> 'Unable to JSON parse "' + path_string + '" file (' + ex.message + ').'</span></div><div class="L6"><span class="pp-ln">  36 </span><span class="pp-pln">                            </span><span class="pp-tag">@</span><span class="pp-pln"> ex</span></div><div class="L7"><span class="pp-ln">  37 </span><span class="pp-pln">                </span><span class="pp-tag">else</span></div><div class="L8"><span class="pp-ln">  38 </span><span class="pp-pln">                    </span><span class="pp-tag">return</span><span class="pp-pln"> null</span></div><div class="L9"><span class="pp-ln">  39 </span><span class="pp-pln">    </span><span class="pp-mix frag-to-link-a" data-frag-id="d28">vfile/m(</span><span class="pp-arg"> writeJSON</span><span class="pp-pln">,</span><span class="pp-arg">  writeFileSync</span><span class="pp-pln">,</span><span class="pp-arg">  obj</span><span class="pp-pln">,</span><span class="pp-arg">  options </span><span class="pp-mix">)</span></div><div class="L0"><span class="pp-ln">  40 </span><span class="pp-pln">        </span><span class="pp-kwd">$append</span><span class="pp-pln"> async</span></div><div class="L1"><span class="pp-ln">  41 </span><span class="pp-pln">            </span><span class="pp-tag">return</span></div><div class="L2"><span class="pp-ln">  42 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> this.writeAsync</span></div><div class="L3"><span class="pp-ln">  43 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> path_string</span></div><div class="L4"><span class="pp-ln">  44 </span><span class="pp-pln">                    </span><span class="pp-tag">_</span><span class="pp-pln"> stringify</span></div><div class="L5"><span class="pp-ln">  45 </span><span class="pp-pln">                        </span><span class="pp-tag">@</span><span class="pp-pln"> obj</span></div><div class="L6"><span class="pp-ln">  46 </span><span class="pp-pln">                        </span><span class="pp-tag">@</span><span class="pp-pln"> options</span></div><div class="L7"><span class="pp-ln">  47 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> options || {}</span></div><div class="L8"><span class="pp-ln">  48 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> callback</span></div><div class="L9"><span class="pp-ln">  49 </span><span class="pp-pln">        </span><span class="pp-kwd">$append</span><span class="pp-pln"> sync</span></div><div class="L0"><span class="pp-ln">  50 </span><span class="pp-pln">            </span><span class="pp-tag">return</span></div><div class="L1"><span class="pp-ln">  51 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> this.writeSync</span></div><div class="L2"><span class="pp-ln">  52 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> path_string</span></div><div class="L3"><span class="pp-ln">  53 </span><span class="pp-pln">                    </span><span class="pp-tag">_</span><span class="pp-pln"> stringify</span></div><div class="L4"><span class="pp-ln">  54 </span><span class="pp-pln">                        </span><span class="pp-tag">@</span><span class="pp-pln"> obj</span></div><div class="L5"><span class="pp-ln">  55 </span><span class="pp-pln">                        </span><span class="pp-tag">@</span><span class="pp-pln"> options</span></div><div class="L6"><span class="pp-ln">  56 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> options || {}</span></div></pre>
                    </div>
                </div>
                <div class="code-panel" id="d28">
                    <div class="modal-view-container">
                        <h4 class="d-h2">/src/ittf/lib/fs/t/vfile/m.js.ittf</h4>
                        <pre class="prettyprint">

<div class="L1"><span class="pp-ln">   1 </span><span class="pp-pln"></span><span class="pp-kwd">$group</span></div><div class="L2"><span class="pp-ln">   2 </span><span class="pp-pln">    </span><span class="pp-kwd">$params</span><span class="pp-pln"> name, syncfunc, arg2|@@null, arg3|@@null, arg4|@@null</span></div><div class="L3"><span class="pp-ln">   3 </span><span class="pp-pln">    </span><span class="pp-tag">m</span><span class="pp-kwd"> ${</span><span class="pp-expr">name</span><span class="pp-kwd">}</span></div><div class="L4"><span class="pp-ln">   4 </span><span class="pp-pln">        </span><span class="pp-tag">param</span><span class="pp-pln"> path_string</span></div><div class="L5"><span class="pp-ln">   5 </span><span class="pp-pln">        </span><span class="pp-kwd">$if</span><span class="pp-expr"> arg2 != null</span></div><div class="L6"><span class="pp-ln">   6 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-kwd"> ${</span><span class="pp-expr">arg2</span><span class="pp-kwd">}</span></div><div class="L7"><span class="pp-ln">   7 </span><span class="pp-pln">        </span><span class="pp-kwd">$if</span><span class="pp-expr"> arg3 != null</span></div><div class="L8"><span class="pp-ln">   8 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-kwd"> ${</span><span class="pp-expr">arg3</span><span class="pp-kwd">}</span></div><div class="L9"><span class="pp-ln">   9 </span><span class="pp-pln">        </span><span class="pp-kwd">$if</span><span class="pp-expr"> arg4 != null</span></div><div class="L0"><span class="pp-ln">  10 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-kwd"> ${</span><span class="pp-expr">arg4</span><span class="pp-kwd">}</span></div><div class="L1"><span class="pp-ln">  11 </span><span class="pp-pln">        </span><span class="pp-tag">param</span><span class="pp-pln"> callback</span></div><div class="L2"><span class="pp-ln">  12 </span><span class="pp-pln">        </span><span class="pp-tag">+</span></div><div class="L3"><span class="pp-ln">  13 </span><span class="pp-pln">        </span><span class="pp-kwd">$if</span><span class="pp-expr"> arg4 != null</span></div><div class="L4"><span class="pp-ln">  14 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> typeof(callback) === 'undefined' && verify.isFunction(</span><span class="pp-kwd">${</span><span class="pp-expr">arg4</span><span class="pp-kwd">}</span><span class="pp-pln">)</span></div><div class="L5"><span class="pp-ln">  15 </span><span class="pp-pln">                </span><span class="pp-tag">set</span><span class="pp-pln"> callback = </span><span class="pp-kwd">${</span><span class="pp-expr">arg4</span><span class="pp-kwd">}</span></div><div class="L6"><span class="pp-ln">  16 </span><span class="pp-pln">                </span><span class="pp-tag">set</span><span class="pp-kwd"> ${</span><span class="pp-expr">arg4</span><span class="pp-kwd">}</span><span class="pp-pln"> = null</span></div><div class="L7"><span class="pp-ln">  17 </span><span class="pp-pln">        </span><span class="pp-kwd">$elif</span><span class="pp-pln"> arg3 != null</span></div><div class="L8"><span class="pp-ln">  18 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> typeof(callback) === 'undefined' && verify.isFunction(</span><span class="pp-kwd">${</span><span class="pp-expr">arg3</span><span class="pp-kwd">}</span><span class="pp-pln">)</span></div><div class="L9"><span class="pp-ln">  19 </span><span class="pp-pln">                </span><span class="pp-tag">set</span><span class="pp-pln"> callback = </span><span class="pp-kwd">${</span><span class="pp-expr">arg3</span><span class="pp-kwd">}</span></div><div class="L0"><span class="pp-ln">  20 </span><span class="pp-pln">                </span><span class="pp-tag">set</span><span class="pp-kwd"> ${</span><span class="pp-expr">arg3</span><span class="pp-kwd">}</span><span class="pp-pln"> = null</span></div><div class="L1"><span class="pp-ln">  21 </span><span class="pp-pln">        </span><span class="pp-kwd">$elif</span><span class="pp-pln"> arg2 != null</span></div><div class="L2"><span class="pp-ln">  22 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> typeof(callback) === 'undefined' && verify.isFunction(</span><span class="pp-kwd">${</span><span class="pp-expr">arg2</span><span class="pp-kwd">}</span><span class="pp-pln">)</span></div><div class="L3"><span class="pp-ln">  23 </span><span class="pp-pln">                </span><span class="pp-tag">set</span><span class="pp-pln"> callback = </span><span class="pp-kwd">${</span><span class="pp-expr">arg2</span><span class="pp-kwd">}</span></div><div class="L4"><span class="pp-ln">  24 </span><span class="pp-pln">                </span><span class="pp-tag">set</span><span class="pp-kwd"> ${</span><span class="pp-expr">arg2</span><span class="pp-kwd">}</span><span class="pp-pln"> = null</span></div><div class="L5"><span class="pp-ln">  25 </span><span class="pp-pln">        </span><span class="pp-kwd">$hook</span></div><div class="L6"><span class="pp-ln">  26 </span><span class="pp-pln">        </span><span class="pp-tag">if</span><span class="pp-pln"> verify.isFunction(callback)</span></div><div class="L7"><span class="pp-ln">  27 </span><span class="pp-pln">            </span><span class="pp-tag">return</span></div><div class="L8"><span class="pp-ln">  28 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> this.</span><span class="pp-kwd">${</span><span class="pp-expr">name</span><span class="pp-kwd">}</span><span class="pp-pln">Async</span></div><div class="L9"><span class="pp-ln">  29 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> path_string</span></div><div class="L0"><span class="pp-ln">  30 </span><span class="pp-pln">                    </span><span class="pp-kwd">$if</span><span class="pp-expr"> arg2 != null</span></div><div class="L1"><span class="pp-ln">  31 </span><span class="pp-pln">                        </span><span class="pp-tag">@</span><span class="pp-kwd"> ${</span><span class="pp-expr">arg2</span><span class="pp-kwd">}</span></div><div class="L2"><span class="pp-ln">  32 </span><span class="pp-pln">                    </span><span class="pp-kwd">$if</span><span class="pp-expr"> arg3 != null</span></div><div class="L3"><span class="pp-ln">  33 </span><span class="pp-pln">                        </span><span class="pp-tag">@</span><span class="pp-kwd"> ${</span><span class="pp-expr">arg3</span><span class="pp-kwd">}</span></div><div class="L4"><span class="pp-ln">  34 </span><span class="pp-pln">                    </span><span class="pp-kwd">$if</span><span class="pp-expr"> arg4 != null</span></div><div class="L5"><span class="pp-ln">  35 </span><span class="pp-pln">                        </span><span class="pp-tag">@</span><span class="pp-kwd"> ${</span><span class="pp-expr">arg4</span><span class="pp-kwd">}</span></div><div class="L6"><span class="pp-ln">  36 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> callback</span></div><div class="L7"><span class="pp-ln">  37 </span><span class="pp-pln">        </span><span class="pp-tag">else</span></div><div class="L8"><span class="pp-ln">  38 </span><span class="pp-pln">            </span><span class="pp-tag">return</span></div><div class="L9"><span class="pp-ln">  39 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> this.</span><span class="pp-kwd">${</span><span class="pp-expr">name</span><span class="pp-kwd">}</span><span class="pp-pln">Sync</span></div><div class="L0"><span class="pp-ln">  40 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> path_string</span></div><div class="L1"><span class="pp-ln">  41 </span><span class="pp-pln">                    </span><span class="pp-kwd">$if</span><span class="pp-expr"> arg2 != null</span></div><div class="L2"><span class="pp-ln">  42 </span><span class="pp-pln">                        </span><span class="pp-tag">@</span><span class="pp-kwd"> ${</span><span class="pp-expr">arg2</span><span class="pp-kwd">}</span></div><div class="L3"><span class="pp-ln">  43 </span><span class="pp-pln">                    </span><span class="pp-kwd">$if</span><span class="pp-expr"> arg3 != null</span></div><div class="L4"><span class="pp-ln">  44 </span><span class="pp-pln">                        </span><span class="pp-tag">@</span><span class="pp-kwd"> ${</span><span class="pp-expr">arg3</span><span class="pp-kwd">}</span></div><div class="L5"><span class="pp-ln">  45 </span><span class="pp-pln">                    </span><span class="pp-kwd">$if</span><span class="pp-expr"> arg4 != null</span></div><div class="L6"><span class="pp-ln">  46 </span><span class="pp-pln">                        </span><span class="pp-tag">@</span><span class="pp-kwd"> ${</span><span class="pp-expr">arg4</span><span class="pp-kwd">}</span></div><div class="L7"><span class="pp-ln">  47 </span><span class="pp-pln">    </span><span class="pp-tag">m</span><span class="pp-kwd"> ${</span><span class="pp-expr">name</span><span class="pp-kwd">}</span><span class="pp-pln">Async</span></div><div class="L8"><span class="pp-ln">  48 </span><span class="pp-pln">        </span><span class="pp-tag">param</span><span class="pp-pln"> path_string</span></div><div class="L9"><span class="pp-ln">  49 </span><span class="pp-pln">        </span><span class="pp-kwd">$if</span><span class="pp-expr"> arg2 != null</span></div><div class="L0"><span class="pp-ln">  50 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-kwd"> ${</span><span class="pp-expr">arg2</span><span class="pp-kwd">}</span></div><div class="L1"><span class="pp-ln">  51 </span><span class="pp-pln">        </span><span class="pp-kwd">$if</span><span class="pp-expr"> arg3 != null</span></div><div class="L2"><span class="pp-ln">  52 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-kwd"> ${</span><span class="pp-expr">arg3</span><span class="pp-kwd">}</span></div><div class="L3"><span class="pp-ln">  53 </span><span class="pp-pln">        </span><span class="pp-kwd">$if</span><span class="pp-expr"> arg4 != null</span></div><div class="L4"><span class="pp-ln">  54 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-kwd"> ${</span><span class="pp-expr">arg4</span><span class="pp-kwd">}</span></div><div class="L5"><span class="pp-ln">  55 </span><span class="pp-pln">        </span><span class="pp-tag">param</span><span class="pp-pln"> callback</span></div><div class="L6"><span class="pp-ln">  56 </span><span class="pp-pln">        </span><span class="pp-kwd">$hook</span><span class="pp-pln"> async</span></div><div class="L7"><span class="pp-ln">  57 </span><span class="pp-pln">    </span><span class="pp-tag">m</span><span class="pp-kwd"> ${</span><span class="pp-expr">name</span><span class="pp-kwd">}</span><span class="pp-pln">Sync</span></div><div class="L8"><span class="pp-ln">  58 </span><span class="pp-pln">        </span><span class="pp-tag">param</span><span class="pp-pln"> path_string</span></div><div class="L9"><span class="pp-ln">  59 </span><span class="pp-pln">        </span><span class="pp-kwd">$if</span><span class="pp-expr"> arg2 != null</span></div><div class="L0"><span class="pp-ln">  60 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-kwd"> ${</span><span class="pp-expr">arg2</span><span class="pp-kwd">}</span></div><div class="L1"><span class="pp-ln">  61 </span><span class="pp-pln">        </span><span class="pp-kwd">$if</span><span class="pp-expr"> arg3 != null</span></div><div class="L2"><span class="pp-ln">  62 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-kwd"> ${</span><span class="pp-expr">arg3</span><span class="pp-kwd">}</span></div><div class="L3"><span class="pp-ln">  63 </span><span class="pp-pln">        </span><span class="pp-kwd">$if</span><span class="pp-expr"> arg4 != null</span></div><div class="L4"><span class="pp-ln">  64 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-kwd"> ${</span><span class="pp-expr">arg4</span><span class="pp-kwd">}</span></div><div class="L5"><span class="pp-ln">  65 </span><span class="pp-pln">        </span><span class="pp-tag">if</span><span class="pp-pln"> verify.isFunction(this.fsimpl.</span><span class="pp-kwd">${</span><span class="pp-expr">syncfunc</span><span class="pp-kwd">}</span><span class="pp-pln">) === false</span></div><div class="L6"><span class="pp-ln">  66 </span><span class="pp-pln">            </span><span class="pp-tag">throw</span></div><div class="L7"><span class="pp-ln">  67 </span><span class="pp-pln">                </span><span class="pp-tag">new</span><span class="pp-pln"> errors.FileError</span></div><div class="L8"><span class="pp-ln">  68 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> 'The filesystem implementation does not support method \'</span><span class="pp-kwd">${</span><span class="pp-expr">syncfunc</span><span class="pp-kwd">}</span><span class="pp-pln">\'. Unable to execute \'</span><span class="pp-kwd">${</span><span class="pp-expr">name</span><span class="pp-kwd">}</span><span class="pp-pln">\' method for path: \'' + path_string + '\''</span></div><div class="L9"><span class="pp-ln">  69 </span><span class="pp-pln">        </span><span class="pp-tag">var</span><span class="pp-pln"> shouldThrow = true</span></div><div class="L0"><span class="pp-ln">  70 </span><span class="pp-pln">        </span><span class="pp-kwd">$if</span><span class="pp-expr"> arg2 === 'options' || arg3 === 'options' || arg4 === 'options'</span></div><div class="L1"><span class="pp-ln">  71 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> verify.isObject(options)</span></div><div class="L2"><span class="pp-ln">  72 </span><span class="pp-pln">                </span><span class="pp-tag">set</span><span class="pp-pln"> shouldThrow</span></div><div class="L3"><span class="pp-ln">  73 </span><span class="pp-pln">                    </span><span class="pp-tag">iif</span><span class="pp-pln"> ('throws' in options)</span></div><div class="L4"><span class="pp-ln">  74 </span><span class="pp-pln">                        </span><span class="pp-tag">then</span><span class="pp-pln"> options.throws</span></div><div class="L5"><span class="pp-ln">  75 </span><span class="pp-pln">                        </span><span class="pp-tag">else</span><span class="pp-pln"> shouldThrow</span></div><div class="L6"><span class="pp-ln">  76 </span><span class="pp-pln">        </span><span class="pp-kwd">$hook</span><span class="pp-pln"> sync</span></div></pre>
                    </div>
                </div>
                <div class="code-panel" id="d29">
                    <div class="modal-view-container">
                        <h4 class="d-h2">/src/ittf/lib/fs/file.js.ittf</h4>
                        <pre class="prettyprint">

<div class="L1"><span class="pp-ln">   1 </span><span class="pp-pln"></span><span class="pp-tag">module</span></div><div class="L2"><span class="pp-ln">   2 </span><span class="pp-pln">    </span><span class="pp-tag">kind</span><span class="pp-pln"> jsfile</span></div><div class="L3"><span class="pp-ln">   3 </span><span class="pp-pln">    </span><span class="pp-kwd">$if</span><span class="pp-expr"> isWebpackTarget</span></div><div class="L4"><span class="pp-ln">   4 </span><span class="pp-pln">        </span><span class="pp-tag">#</span><span class="pp-pln"> For use in webpack (isWebpackTarget == true)</span></div><div class="L5"><span class="pp-ln">   5 </span><span class="pp-pln">        </span><span class="pp-tag">#</span><span class="pp-pln"> not implemented</span></div><div class="L6"><span class="pp-ln">   6 </span><span class="pp-pln">        </span><span class="pp-tag">var</span><span class="pp-pln"> md</span></div><div class="L7"><span class="pp-ln">   7 </span><span class="pp-pln">            </span><span class="pp-tag">set</span><span class="pp-pln"> module.exports =</span></div><div class="L8"><span class="pp-ln">   8 </span><span class="pp-pln">                </span><span class="pp-tag">{</span></div><div class="L9"><span class="pp-ln">   9 </span><span class="pp-pln">        </span><span class="pp-tag">set</span><span class="pp-pln"> md.openWrite</span></div><div class="L0"><span class="pp-ln">  10 </span><span class="pp-pln">            </span><span class="pp-tag">function</span></div><div class="L1"><span class="pp-ln">  11 </span><span class="pp-pln">        </span><span class="pp-kwd">$include</span><span class="pp-mix frag-to-link-a" data-frag-id="d21"> file/splitLines</span></div><div class="L2"><span class="pp-ln">  12 </span><span class="pp-pln">    </span><span class="pp-kwd">$else</span></div><div class="L3"><span class="pp-ln">  13 </span><span class="pp-pln">        </span><span class="pp-tag">var</span><span class="pp-pln"> fs = require('fs-extra')</span></div><div class="L4"><span class="pp-ln">  14 </span><span class="pp-pln">        </span><span class="pp-tag">var</span><span class="pp-pln"> path = require('path')</span></div><div class="L5"><span class="pp-ln">  15 </span><span class="pp-pln">        </span><span class="pp-tag">var</span><span class="pp-pln"> _ = require('lodash')</span></div><div class="L6"><span class="pp-ln">  16 </span><span class="pp-pln">        </span><span class="pp-tag">var</span><span class="pp-pln"> iconv = require('iconv-lite')</span></div><div class="L7"><span class="pp-ln">  17 </span><span class="pp-pln">        </span><span class="pp-tag">var</span><span class="pp-pln"> glob = require('glob')</span></div><div class="L8"><span class="pp-ln">  18 </span><span class="pp-pln">        </span><span class="pp-tag">var</span><span class="pp-pln"> verify = require('../verify')</span></div><div class="L9"><span class="pp-ln">  19 </span><span class="pp-pln">        </span><span class="pp-tag">var</span><span class="pp-pln"> errors = require('../errors')</span></div><div class="L0"><span class="pp-ln">  20 </span><span class="pp-pln">        </span><span class="pp-tag">var</span><span class="pp-pln"> md</span></div><div class="L1"><span class="pp-ln">  21 </span><span class="pp-pln">            </span><span class="pp-tag">set</span><span class="pp-pln"> module.exports =</span></div><div class="L2"><span class="pp-ln">  22 </span><span class="pp-pln">                </span><span class="pp-tag">{</span></div><div class="L3"><span class="pp-ln">  23 </span><span class="pp-pln">        </span><span class="pp-tag">var</span><span class="pp-pln"> pathSeparatorRe = /[\/\\]/g</span></div><div class="L4"><span class="pp-ln">  24 </span><span class="pp-pln">        </span><span class="pp-tag">set</span><span class="pp-pln"> md.defaultEncoding = 'utf8'</span></div><div class="L5"><span class="pp-ln">  25 </span><span class="pp-pln">        </span><span class="pp-tag">set</span><span class="pp-pln"> md.preserveBOM = false</span></div><div class="L6"><span class="pp-ln">  26 </span><span class="pp-pln">        </span><span class="pp-tag">var</span><span class="pp-pln"> win32 = process.platform === 'win32'</span></div><div class="L7"><span class="pp-ln">  27 </span><span class="pp-pln">        </span><span class="pp-tag">set</span><span class="pp-pln"> md.unixifyPath =</span></div><div class="L8"><span class="pp-ln">  28 </span><span class="pp-pln">            </span><span class="pp-tag">function</span></div><div class="L9"><span class="pp-ln">  29 </span><span class="pp-pln">                </span><span class="pp-tag">param</span><span class="pp-pln"> path_string</span></div><div class="L0"><span class="pp-ln">  30 </span><span class="pp-pln">                </span><span class="pp-tag">if</span><span class="pp-pln"> win32</span></div><div class="L1"><span class="pp-ln">  31 </span><span class="pp-pln">                    </span><span class="pp-tag">return</span><span class="pp-pln"> path_string.replace(/\\/g, '/')</span></div><div class="L2"><span class="pp-ln">  32 </span><span class="pp-pln">                </span><span class="pp-tag">else</span></div><div class="L3"><span class="pp-ln">  33 </span><span class="pp-pln">                    </span><span class="pp-tag">return</span><span class="pp-pln"> path_string</span></div><div class="L4"><span class="pp-ln">  34 </span><span class="pp-pln">        </span><span class="pp-tag">#</span><span class="pp-pln"> sync read</span></div><div class="L5"><span class="pp-ln">  35 </span><span class="pp-pln">        </span><span class="pp-tag">set</span><span class="pp-pln"> md.read</span></div><div class="L6"><span class="pp-ln">  36 </span><span class="pp-pln">            </span><span class="pp-tag">function</span></div><div class="L7"><span class="pp-ln">  37 </span><span class="pp-pln">                </span><span class="pp-tag">param</span><span class="pp-pln"> path_string</span></div><div class="L8"><span class="pp-ln">  38 </span><span class="pp-pln">                </span><span class="pp-tag">param</span><span class="pp-pln"> options</span></div><div class="L9"><span class="pp-ln">  39 </span><span class="pp-pln">                </span><span class="pp-tag">if</span><span class="pp-pln"> !(options)</span></div><div class="L0"><span class="pp-ln">  40 </span><span class="pp-pln">                    </span><span class="pp-tag">set</span><span class="pp-pln"> options =</span></div><div class="L1"><span class="pp-ln">  41 </span><span class="pp-pln">                        </span><span class="pp-tag">{</span></div><div class="L2"><span class="pp-ln">  42 </span><span class="pp-pln">                </span><span class="pp-tag">var</span><span class="pp-pln"> contents = fs.readFileSync(String(path_string))</span></div><div class="L3"><span class="pp-ln">  43 </span><span class="pp-pln">                </span><span class="pp-tag">if</span><span class="pp-pln"> options.encoding !== null</span></div><div class="L4"><span class="pp-ln">  44 </span><span class="pp-pln">                    </span><span class="pp-tag">set</span><span class="pp-pln"> contents = iconv.decode(contents, (options.encoding || md.defaultEncoding))</span></div><div class="L5"><span class="pp-ln">  45 </span><span class="pp-pln">                    </span><span class="pp-tag">if</span><span class="pp-pln"> !md.preserveBOM && contents.charCodeAt(0) === 0xFEFF</span></div><div class="L6"><span class="pp-ln">  46 </span><span class="pp-pln">                        </span><span class="pp-tag">set</span><span class="pp-pln"> contents = contents.substring(1)</span></div><div class="L7"><span class="pp-ln">  47 </span><span class="pp-pln">                </span><span class="pp-tag">return</span><span class="pp-pln"> contents</span></div><div class="L8"><span class="pp-ln">  48 </span><span class="pp-pln">        </span><span class="pp-tag">#</span><span class="pp-pln"> sync readJSON</span></div><div class="L9"><span class="pp-ln">  49 </span><span class="pp-pln">        </span><span class="pp-tag">set</span><span class="pp-pln"> md.readJSON</span></div><div class="L0"><span class="pp-ln">  50 </span><span class="pp-pln">            </span><span class="pp-tag">function</span></div><div class="L1"><span class="pp-ln">  51 </span><span class="pp-pln">                </span><span class="pp-tag">param</span><span class="pp-pln"> path_string</span></div><div class="L2"><span class="pp-ln">  52 </span><span class="pp-pln">                </span><span class="pp-tag">param</span><span class="pp-pln"> options</span></div><div class="L3"><span class="pp-ln">  53 </span><span class="pp-pln">                </span><span class="pp-tag">var</span><span class="pp-pln"> src = md.read(path_string, options)</span></div><div class="L4"><span class="pp-ln">  54 </span><span class="pp-pln">                </span><span class="pp-tag">var</span><span class="pp-pln"> result</span></div><div class="L5"><span class="pp-ln">  55 </span><span class="pp-pln">                </span><span class="pp-tag">try</span></div><div class="L6"><span class="pp-ln">  56 </span><span class="pp-pln">                    </span><span class="pp-tag">set</span><span class="pp-pln"> result = JSON.parse(src)</span></div><div class="L7"><span class="pp-ln">  57 </span><span class="pp-pln">                    </span><span class="pp-tag">return</span><span class="pp-pln"> result</span></div><div class="L8"><span class="pp-ln">  58 </span><span class="pp-pln">                </span><span class="pp-tag">catch</span><span class="pp-pln"> ex</span></div><div class="L9"><span class="pp-ln">  59 </span><span class="pp-pln">                    </span><span class="pp-tag">throw</span></div><div class="L0"><span class="pp-ln">  60 </span><span class="pp-pln">                        </span><span class="pp-tag">new</span><span class="pp-pln"> errors.FileError</span></div><div class="L1"><span class="pp-ln">  61 </span><span class="pp-pln">                            </span><span class="pp-tag">@</span><span class="pp-pln"> 'Unable to parse "' + path_string + '" file (' + ex.message + ').'</span></div><div class="L2"><span class="pp-ln">  62 </span><span class="pp-pln">                            </span><span class="pp-tag">@</span><span class="pp-pln"> ex</span></div><div class="L3"><span class="pp-ln">  63 </span><span class="pp-pln">        </span><span class="pp-tag">#</span><span class="pp-pln"> async read</span></div><div class="L4"><span class="pp-ln">  64 </span><span class="pp-pln">        </span><span class="pp-tag">set</span><span class="pp-pln"> md.readFile</span></div><div class="L5"><span class="pp-ln">  65 </span><span class="pp-pln">            </span><span class="pp-tag">function</span></div><div class="L6"><span class="pp-ln">  66 </span><span class="pp-pln">                </span><span class="pp-tag">param</span><span class="pp-pln"> path_string</span></div><div class="L7"><span class="pp-ln">  67 </span><span class="pp-pln">                </span><span class="pp-tag">param</span><span class="pp-pln"> options</span></div><div class="L8"><span class="pp-ln">  68 </span><span class="pp-pln">                </span><span class="pp-tag">param</span><span class="pp-pln"> callback</span></div><div class="L9"><span class="pp-ln">  69 </span><span class="pp-pln">                </span><span class="pp-tag">if</span><span class="pp-pln"> typeof(callback) == 'undefined'</span></div><div class="L0"><span class="pp-ln">  70 </span><span class="pp-pln">                    </span><span class="pp-tag">set</span><span class="pp-pln"> callback = options</span></div><div class="L1"><span class="pp-ln">  71 </span><span class="pp-pln">                    </span><span class="pp-tag">set</span><span class="pp-pln"> options = null</span></div><div class="L2"><span class="pp-ln">  72 </span><span class="pp-pln">                </span><span class="pp-tag">if</span><span class="pp-pln"> !options</span></div><div class="L3"><span class="pp-ln">  73 </span><span class="pp-pln">                    </span><span class="pp-tag">set</span><span class="pp-pln"> options =</span></div><div class="L4"><span class="pp-ln">  74 </span><span class="pp-pln">                        </span><span class="pp-tag">{</span></div><div class="L5"><span class="pp-ln">  75 </span><span class="pp-pln">                            </span><span class="pp-tag">@</span><span class="pp-pln"> encoding md.defaultEncoding</span></div><div class="L6"><span class="pp-ln">  76 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> fs.readFile</span></div><div class="L7"><span class="pp-ln">  77 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> path_string</span></div><div class="L8"><span class="pp-ln">  78 </span><span class="pp-pln">                    </span><span class="pp-tag">function</span></div><div class="L9"><span class="pp-ln">  79 </span><span class="pp-pln">                        </span><span class="pp-tag">param</span><span class="pp-pln"> err</span></div><div class="L0"><span class="pp-ln">  80 </span><span class="pp-pln">                        </span><span class="pp-tag">param</span><span class="pp-pln"> contents</span></div><div class="L1"><span class="pp-ln">  81 </span><span class="pp-pln">                        </span><span class="pp-tag">if</span><span class="pp-pln"> err</span></div><div class="L2"><span class="pp-ln">  82 </span><span class="pp-pln">                            </span><span class="pp-tag">return</span></div><div class="L3"><span class="pp-ln">  83 </span><span class="pp-pln">                                </span><span class="pp-tag">_</span><span class="pp-pln"> callback(err)</span></div><div class="L4"><span class="pp-ln">  84 </span><span class="pp-pln">                        </span><span class="pp-tag">if</span><span class="pp-pln"> options.encoding !== null</span></div><div class="L5"><span class="pp-ln">  85 </span><span class="pp-pln">                            </span><span class="pp-tag">set</span><span class="pp-pln"> contents = iconv.decode(contents, (options.encoding || md.defaultEncoding))</span></div><div class="L6"><span class="pp-ln">  86 </span><span class="pp-pln">                            </span><span class="pp-tag">if</span><span class="pp-pln"> !md.preserveBOM && contents.charCodeAt(0) === 0xFEFF</span></div><div class="L7"><span class="pp-ln">  87 </span><span class="pp-pln">                                </span><span class="pp-tag">set</span><span class="pp-pln"> contents = contents.substring(1)</span></div><div class="L8"><span class="pp-ln">  88 </span><span class="pp-pln">                        </span><span class="pp-tag">return</span></div><div class="L9"><span class="pp-ln">  89 </span><span class="pp-pln">                            </span><span class="pp-tag">_</span><span class="pp-pln"> callback(null, contents)</span></div><div class="L0"><span class="pp-ln">  90 </span><span class="pp-pln">        </span><span class="pp-tag">set</span><span class="pp-pln"> md.readLines</span></div><div class="L1"><span class="pp-ln">  91 </span><span class="pp-pln">            </span><span class="pp-tag">function</span></div><div class="L2"><span class="pp-ln">  92 </span><span class="pp-pln">                </span><span class="pp-tag">param</span><span class="pp-pln"> path_string</span></div><div class="L3"><span class="pp-ln">  93 </span><span class="pp-pln">                </span><span class="pp-tag">param</span><span class="pp-pln"> options</span></div><div class="L4"><span class="pp-ln">  94 </span><span class="pp-pln">                </span><span class="pp-tag">var</span><span class="pp-pln"> contents = md.read(path_string, options)</span></div><div class="L5"><span class="pp-ln">  95 </span><span class="pp-pln">                </span><span class="pp-tag">return</span><span class="pp-pln"> md.splitLines(contents)</span></div><div class="L6"><span class="pp-ln">  96 </span><span class="pp-pln">        </span><span class="pp-kwd">$include</span><span class="pp-mix frag-to-link-a" data-frag-id="d21"> file/splitLines</span></div><div class="L7"><span class="pp-ln">  97 </span><span class="pp-pln">        </span><span class="pp-tag">set</span><span class="pp-pln"> md.openWrite</span></div><div class="L8"><span class="pp-ln">  98 </span><span class="pp-pln">            </span><span class="pp-tag">function</span></div><div class="L9"><span class="pp-ln">  99 </span><span class="pp-pln">                </span><span class="pp-tag">param</span><span class="pp-pln"> path_string</span></div><div class="L0"><span class="pp-ln"> 100 </span><span class="pp-pln">                </span><span class="pp-tag">param</span><span class="pp-pln"> callback</span></div><div class="L1"><span class="pp-ln"> 101 </span><span class="pp-pln">                </span><span class="pp-tag">var</span><span class="pp-pln"> stream</span></div><div class="L2"><span class="pp-ln"> 102 </span><span class="pp-pln">                </span><span class="pp-tag">if</span><span class="pp-pln"> md.exists(path_string)</span></div><div class="L3"><span class="pp-ln"> 103 </span><span class="pp-pln">                    </span><span class="pp-tag">_</span><span class="pp-pln"> fs.unlink</span></div><div class="L4"><span class="pp-ln"> 104 </span><span class="pp-pln">                        </span><span class="pp-tag">@</span><span class="pp-pln"> path_string</span></div><div class="L5"><span class="pp-ln"> 105 </span><span class="pp-pln">                        </span><span class="pp-tag">function</span></div><div class="L6"><span class="pp-ln"> 106 </span><span class="pp-pln">                            </span><span class="pp-tag">param</span><span class="pp-pln"> err</span></div><div class="L7"><span class="pp-ln"> 107 </span><span class="pp-pln">                            </span><span class="pp-tag">if</span><span class="pp-pln"> err</span></div><div class="L8"><span class="pp-ln"> 108 </span><span class="pp-pln">                                </span><span class="pp-tag">return</span></div><div class="L9"><span class="pp-ln"> 109 </span><span class="pp-pln">                                    </span><span class="pp-tag">_</span><span class="pp-pln"> callback(err)</span></div><div class="L0"><span class="pp-ln"> 110 </span><span class="pp-pln">                            </span><span class="pp-tag">set</span><span class="pp-pln"> stream = fs.createWriteStream(path_string)</span></div><div class="L1"><span class="pp-ln"> 111 </span><span class="pp-pln">                            </span><span class="pp-tag">return</span></div><div class="L2"><span class="pp-ln"> 112 </span><span class="pp-pln">                                </span><span class="pp-tag">_</span><span class="pp-pln"> callback(null, stream)</span></div><div class="L3"><span class="pp-ln"> 113 </span><span class="pp-pln">                </span><span class="pp-tag">else</span></div><div class="L4"><span class="pp-ln"> 114 </span><span class="pp-pln">                    </span><span class="pp-tag">_</span><span class="pp-pln"> md.mkpath(path_string)</span></div><div class="L5"><span class="pp-ln"> 115 </span><span class="pp-pln">                    </span><span class="pp-tag">set</span><span class="pp-pln"> stream = fs.createWriteStream(path_string)</span></div><div class="L6"><span class="pp-ln"> 116 </span><span class="pp-pln">                    </span><span class="pp-tag">return</span></div><div class="L7"><span class="pp-ln"> 117 </span><span class="pp-pln">                        </span><span class="pp-tag">_</span><span class="pp-pln"> callback(null, stream)</span></div><div class="L8"><span class="pp-ln"> 118 </span><span class="pp-pln">        </span><span class="pp-tag">set</span><span class="pp-pln"> md.write</span></div><div class="L9"><span class="pp-ln"> 119 </span><span class="pp-pln">            </span><span class="pp-tag">function</span></div><div class="L0"><span class="pp-ln"> 120 </span><span class="pp-pln">                </span><span class="pp-tag">param</span><span class="pp-pln"> path_string</span></div><div class="L1"><span class="pp-ln"> 121 </span><span class="pp-pln">                </span><span class="pp-tag">param</span><span class="pp-pln"> contents</span></div><div class="L2"><span class="pp-ln"> 122 </span><span class="pp-pln">                </span><span class="pp-tag">param</span><span class="pp-pln"> options</span></div><div class="L3"><span class="pp-ln"> 123 </span><span class="pp-pln">                </span><span class="pp-tag">if</span><span class="pp-pln"> !options</span></div><div class="L4"><span class="pp-ln"> 124 </span><span class="pp-pln">                    </span><span class="pp-tag">set</span><span class="pp-pln"> options =</span></div><div class="L5"><span class="pp-ln"> 125 </span><span class="pp-pln">                        </span><span class="pp-tag">{</span></div><div class="L6"><span class="pp-ln"> 126 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> md.mkpath(path_string)</span></div><div class="L7"><span class="pp-ln"> 127 </span><span class="pp-pln">                </span><span class="pp-tag">try</span></div><div class="L8"><span class="pp-ln"> 128 </span><span class="pp-pln">                    </span><span class="pp-tag">if</span><span class="pp-pln"> !Buffer.isBuffer(contents)</span></div><div class="L9"><span class="pp-ln"> 129 </span><span class="pp-pln">                        </span><span class="pp-tag">set</span><span class="pp-pln"> contents = iconv.encode(contents, (options.encoding || md.defaultEncoding))</span></div><div class="L0"><span class="pp-ln"> 130 </span><span class="pp-pln">                    </span><span class="pp-tag">_</span><span class="pp-pln"> fs.writeFileSync(path_string, contents)</span></div><div class="L1"><span class="pp-ln"> 131 </span><span class="pp-pln">                    </span><span class="pp-tag">return</span><span class="pp-pln"> true</span></div><div class="L2"><span class="pp-ln"> 132 </span><span class="pp-pln">                </span><span class="pp-tag">catch</span><span class="pp-pln"> ex</span></div><div class="L3"><span class="pp-ln"> 133 </span><span class="pp-pln">                    </span><span class="pp-tag">set</span><span class="pp-pln"> ex.message = 'Writing file ' + path_string + '.\n' + ex.message</span></div><div class="L4"><span class="pp-ln"> 134 </span><span class="pp-pln">                    </span><span class="pp-tag">throw</span><span class="pp-pln"> ex</span></div><div class="L5"><span class="pp-ln"> 135 </span><span class="pp-pln">        </span><span class="pp-tag">set</span><span class="pp-pln"> md.writeFile</span></div><div class="L6"><span class="pp-ln"> 136 </span><span class="pp-pln">            </span><span class="pp-tag">function</span></div><div class="L7"><span class="pp-ln"> 137 </span><span class="pp-pln">                </span><span class="pp-tag">param</span><span class="pp-pln"> path_string</span></div><div class="L8"><span class="pp-ln"> 138 </span><span class="pp-pln">                </span><span class="pp-tag">param</span><span class="pp-pln"> contents</span></div><div class="L9"><span class="pp-ln"> 139 </span><span class="pp-pln">                </span><span class="pp-tag">param</span><span class="pp-pln"> options</span></div><div class="L0"><span class="pp-ln"> 140 </span><span class="pp-pln">                </span><span class="pp-tag">param</span><span class="pp-pln"> callback</span></div><div class="L1"><span class="pp-ln"> 141 </span><span class="pp-pln">                </span><span class="pp-tag">if</span><span class="pp-pln"> typeof(callback) === 'undefined'</span></div><div class="L2"><span class="pp-ln"> 142 </span><span class="pp-pln">                    </span><span class="pp-tag">set</span><span class="pp-pln"> callback = options</span></div><div class="L3"><span class="pp-ln"> 143 </span><span class="pp-pln">                    </span><span class="pp-tag">set</span><span class="pp-pln"> options = null</span></div><div class="L4"><span class="pp-ln"> 144 </span><span class="pp-pln">                </span><span class="pp-tag">if</span><span class="pp-pln"> !options</span></div><div class="L5"><span class="pp-ln"> 145 </span><span class="pp-pln">                    </span><span class="pp-tag">set</span><span class="pp-pln"> options =</span></div><div class="L6"><span class="pp-ln"> 146 </span><span class="pp-pln">                        </span><span class="pp-tag">{</span></div><div class="L7"><span class="pp-ln"> 147 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> md.mkpath(path_string)</span></div><div class="L8"><span class="pp-ln"> 148 </span><span class="pp-pln">                </span><span class="pp-tag">if</span><span class="pp-pln"> !Buffer.isBuffer(contents)</span></div><div class="L9"><span class="pp-ln"> 149 </span><span class="pp-pln">                    </span><span class="pp-tag">set</span><span class="pp-pln"> contents = iconv.encode(contents, (options.encoding || md.defaultEncoding))</span></div><div class="L0"><span class="pp-ln"> 150 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> fs.writeFile</span></div><div class="L1"><span class="pp-ln"> 151 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> path_string</span></div><div class="L2"><span class="pp-ln"> 152 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> contents</span></div><div class="L3"><span class="pp-ln"> 153 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> callback</span></div><div class="L4"><span class="pp-ln"> 154 </span><span class="pp-pln">        </span><span class="pp-tag">set</span><span class="pp-pln"> md.writeJSON</span></div><div class="L5"><span class="pp-ln"> 155 </span><span class="pp-pln">            </span><span class="pp-tag">function</span></div><div class="L6"><span class="pp-ln"> 156 </span><span class="pp-pln">                </span><span class="pp-tag">param</span><span class="pp-pln"> path_string</span></div><div class="L7"><span class="pp-ln"> 157 </span><span class="pp-pln">                </span><span class="pp-tag">param</span><span class="pp-pln"> contentObject</span></div><div class="L8"><span class="pp-ln"> 158 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> md.write</span></div><div class="L9"><span class="pp-ln"> 159 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> path_string</span></div><div class="L0"><span class="pp-ln"> 160 </span><span class="pp-pln">                    </span><span class="pp-tag">_</span><span class="pp-pln"> JSON.stringify(contentObject, null, 2)</span></div><div class="L1"><span class="pp-ln"> 161 </span><span class="pp-pln">        </span><span class="pp-tag">set</span><span class="pp-pln"> md.mkpath</span></div><div class="L2"><span class="pp-ln"> 162 </span><span class="pp-pln">            </span><span class="pp-tag">function</span></div><div class="L3"><span class="pp-ln"> 163 </span><span class="pp-pln">                </span><span class="pp-tag">param</span><span class="pp-pln"> path_string</span></div><div class="L4"><span class="pp-ln"> 164 </span><span class="pp-pln">                </span><span class="pp-tag">var</span><span class="pp-pln"> dir = path.dirname(path_string)</span></div><div class="L5"><span class="pp-ln"> 165 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> md.mkdir(dir)</span></div><div class="L6"><span class="pp-ln"> 166 </span><span class="pp-pln">        </span><span class="pp-tag">set</span><span class="pp-pln"> md.mkdir</span></div><div class="L7"><span class="pp-ln"> 167 </span><span class="pp-pln">            </span><span class="pp-tag">function</span></div><div class="L8"><span class="pp-ln"> 168 </span><span class="pp-pln">                </span><span class="pp-tag">param</span><span class="pp-pln"> dirpath</span></div><div class="L9"><span class="pp-ln"> 169 </span><span class="pp-pln">                </span><span class="pp-tag">param</span><span class="pp-pln"> mode</span></div><div class="L0"><span class="pp-ln"> 170 </span><span class="pp-pln">                </span><span class="pp-tag">if</span><span class="pp-pln"> mode == null</span></div><div class="L1"><span class="pp-ln"> 171 </span><span class="pp-pln">                    </span><span class="pp-tag">set</span><span class="pp-pln"> mode = parseInt('0777', 8) & ~ (process.umask())</span></div><div class="L2"><span class="pp-ln"> 172 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> dirpath.split(pathSeparatorRe)</span></div><div class="L3"><span class="pp-ln"> 173 </span><span class="pp-pln">                    </span><span class="pp-tag">._</span><span class="pp-pln"> reduce</span></div><div class="L4"><span class="pp-ln"> 174 </span><span class="pp-pln">                        </span><span class="pp-tag">function</span></div><div class="L5"><span class="pp-ln"> 175 </span><span class="pp-pln">                            </span><span class="pp-tag">param</span><span class="pp-pln"> parts</span></div><div class="L6"><span class="pp-ln"> 176 </span><span class="pp-pln">                            </span><span class="pp-tag">param</span><span class="pp-pln"> part</span></div><div class="L7"><span class="pp-ln"> 177 </span><span class="pp-pln">                            </span><span class="pp-tag">set</span><span class="pp-pln"> parts += part + '/'</span></div><div class="L8"><span class="pp-ln"> 178 </span><span class="pp-pln">                            </span><span class="pp-tag">var</span><span class="pp-pln"> subpath = path.resolve(parts)</span></div><div class="L9"><span class="pp-ln"> 179 </span><span class="pp-pln">                            </span><span class="pp-tag">if</span><span class="pp-pln"> !md.exists(subpath)</span></div><div class="L0"><span class="pp-ln"> 180 </span><span class="pp-pln">                                </span><span class="pp-tag">try</span></div><div class="L1"><span class="pp-ln"> 181 </span><span class="pp-pln">                                    </span><span class="pp-tag">_</span><span class="pp-pln"> fs.mkdirSync(subpath, mode)</span></div><div class="L2"><span class="pp-ln"> 182 </span><span class="pp-pln">                                </span><span class="pp-tag">catch</span><span class="pp-pln"> ex</span></div><div class="L3"><span class="pp-ln"> 183 </span><span class="pp-pln">                                    </span><span class="pp-tag">throw</span></div><div class="L4"><span class="pp-ln"> 184 </span><span class="pp-pln">                                        </span><span class="pp-tag">new</span><span class="pp-pln"> errors.FileError</span></div><div class="L5"><span class="pp-ln"> 185 </span><span class="pp-pln">                                            </span><span class="pp-tag">@</span><span class="pp-pln"> 'Unable to create directory "' + subpath + '" (Error code: ' + ex.code + ').'</span></div><div class="L6"><span class="pp-ln"> 186 </span><span class="pp-pln">                                            </span><span class="pp-tag">@</span><span class="pp-pln"> ex</span></div><div class="L7"><span class="pp-ln"> 187 </span><span class="pp-pln">                            </span><span class="pp-tag">return</span><span class="pp-pln"> parts</span></div><div class="L8"><span class="pp-ln"> 188 </span><span class="pp-pln">                        </span><span class="pp-tag">@</span><span class="pp-pln"> ''</span></div><div class="L9"><span class="pp-ln"> 189 </span><span class="pp-pln">        </span><span class="pp-tag">set</span><span class="pp-pln"> md.copy</span></div><div class="L0"><span class="pp-ln"> 190 </span><span class="pp-pln">            </span><span class="pp-tag">function</span></div><div class="L1"><span class="pp-ln"> 191 </span><span class="pp-pln">                </span><span class="pp-tag">param</span><span class="pp-pln"> src</span></div><div class="L2"><span class="pp-ln"> 192 </span><span class="pp-pln">                </span><span class="pp-tag">param</span><span class="pp-pln"> dest</span></div><div class="L3"><span class="pp-ln"> 193 </span><span class="pp-pln">                </span><span class="pp-tag">try</span></div><div class="L4"><span class="pp-ln"> 194 </span><span class="pp-pln">                    </span><span class="pp-tag">_</span><span class="pp-pln"> md.mkpath(dest)</span></div><div class="L5"><span class="pp-ln"> 195 </span><span class="pp-pln">                    </span><span class="pp-tag">_</span><span class="pp-pln"> md.write(dest, md.read(src))</span></div><div class="L6"><span class="pp-ln"> 196 </span><span class="pp-pln">                </span><span class="pp-tag">catch</span><span class="pp-pln"> ex</span></div><div class="L7"><span class="pp-ln"> 197 </span><span class="pp-pln">                    </span><span class="pp-tag">set</span><span class="pp-pln"> ex.message += '\nfile.copy from ' + src + ' to ' + dest</span></div><div class="L8"><span class="pp-ln"> 198 </span><span class="pp-pln">                    </span><span class="pp-tag">throw</span><span class="pp-pln"> ex</span></div><div class="L9"><span class="pp-ln"> 199 </span><span class="pp-pln">        </span><span class="pp-tag">set</span><span class="pp-pln"> md.copyFile</span></div><div class="L0"><span class="pp-ln"> 200 </span><span class="pp-pln">            </span><span class="pp-tag">function</span></div><div class="L1"><span class="pp-ln"> 201 </span><span class="pp-pln">                </span><span class="pp-tag">param</span><span class="pp-pln"> sourcepath_string</span></div><div class="L2"><span class="pp-ln"> 202 </span><span class="pp-pln">                </span><span class="pp-tag">param</span><span class="pp-pln"> destpath_string</span></div><div class="L3"><span class="pp-ln"> 203 </span><span class="pp-pln">                </span><span class="pp-tag">param</span><span class="pp-pln"> callback</span></div><div class="L4"><span class="pp-ln"> 204 </span><span class="pp-pln">                </span><span class="pp-tag">if</span><span class="pp-pln"> !md.isFile(sourcepath_string)</span></div><div class="L5"><span class="pp-ln"> 205 </span><span class="pp-pln">                    </span><span class="pp-tag">return</span></div><div class="L6"><span class="pp-ln"> 206 </span><span class="pp-pln">                        </span><span class="pp-tag">_</span><span class="pp-pln"> callback</span></div><div class="L7"><span class="pp-ln"> 207 </span><span class="pp-pln">                            </span><span class="pp-tag">@</span><span class="pp-pln"> null</span></div><div class="L8"><span class="pp-ln"> 208 </span><span class="pp-pln">                            </span><span class="pp-tag">{</span></div><div class="L9"><span class="pp-ln"> 209 </span><span class="pp-pln">                                </span><span class="pp-tag">@</span><span class="pp-pln"> copied false</span></div><div class="L0"><span class="pp-ln"> 210 </span><span class="pp-pln">                                </span><span class="pp-tag">@</span><span class="pp-pln"> reason 'Source file does not exists or is not a file'</span></div><div class="L1"><span class="pp-ln"> 211 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> fs.copy</span></div><div class="L2"><span class="pp-ln"> 212 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> String(sourcepath_string)</span></div><div class="L3"><span class="pp-ln"> 213 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> String(destpath_string)</span></div><div class="L4"><span class="pp-ln"> 214 </span><span class="pp-pln">                    </span><span class="pp-mix frag-to-link-a" data-frag-id="d121">f_cb(</span><span class="pp-mix">)</span></div><div class="L5"><span class="pp-ln"> 215 </span><span class="pp-pln">                        </span><span class="pp-tag">return</span></div><div class="L6"><span class="pp-ln"> 216 </span><span class="pp-pln">                            </span><span class="pp-tag">_</span><span class="pp-pln"> callback</span></div><div class="L7"><span class="pp-ln"> 217 </span><span class="pp-pln">                                </span><span class="pp-tag">@</span><span class="pp-pln"> null</span></div><div class="L8"><span class="pp-ln"> 218 </span><span class="pp-pln">                                </span><span class="pp-tag">{</span></div><div class="L9"><span class="pp-ln"> 219 </span><span class="pp-pln">                                    </span><span class="pp-tag">@</span><span class="pp-pln"> copied true</span></div><div class="L0"><span class="pp-ln"> 220 </span><span class="pp-pln">        </span><span class="pp-tag">set</span><span class="pp-pln"> md.moveFile</span></div><div class="L1"><span class="pp-ln"> 221 </span><span class="pp-pln">            </span><span class="pp-tag">function</span></div><div class="L2"><span class="pp-ln"> 222 </span><span class="pp-pln">                </span><span class="pp-tag">param</span><span class="pp-pln"> sourcepath_string</span></div><div class="L3"><span class="pp-ln"> 223 </span><span class="pp-pln">                </span><span class="pp-tag">param</span><span class="pp-pln"> destpath_string</span></div><div class="L4"><span class="pp-ln"> 224 </span><span class="pp-pln">                </span><span class="pp-tag">param</span><span class="pp-pln"> callback</span></div><div class="L5"><span class="pp-ln"> 225 </span><span class="pp-pln">                </span><span class="pp-tag">if</span><span class="pp-pln"> !md.isFile(sourcepath_string)</span></div><div class="L6"><span class="pp-ln"> 226 </span><span class="pp-pln">                    </span><span class="pp-tag">return</span></div><div class="L7"><span class="pp-ln"> 227 </span><span class="pp-pln">                        </span><span class="pp-tag">_</span><span class="pp-pln"> callback</span></div><div class="L8"><span class="pp-ln"> 228 </span><span class="pp-pln">                            </span><span class="pp-tag">@</span><span class="pp-pln"> null</span></div><div class="L9"><span class="pp-ln"> 229 </span><span class="pp-pln">                            </span><span class="pp-tag">{</span></div><div class="L0"><span class="pp-ln"> 230 </span><span class="pp-pln">                                </span><span class="pp-tag">@</span><span class="pp-pln"> moved false</span></div><div class="L1"><span class="pp-ln"> 231 </span><span class="pp-pln">                                </span><span class="pp-tag">@</span><span class="pp-pln"> reason 'Source file does not exists or is not a file'</span></div><div class="L2"><span class="pp-ln"> 232 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> fs.move</span></div><div class="L3"><span class="pp-ln"> 233 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> String(sourcepath_string)</span></div><div class="L4"><span class="pp-ln"> 234 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> String(destpath_string)</span></div><div class="L5"><span class="pp-ln"> 235 </span><span class="pp-pln">                    </span><span class="pp-mix frag-to-link-a" data-frag-id="d121">f_cb(</span><span class="pp-mix">)</span></div><div class="L6"><span class="pp-ln"> 236 </span><span class="pp-pln">                        </span><span class="pp-tag">return</span></div><div class="L7"><span class="pp-ln"> 237 </span><span class="pp-pln">                            </span><span class="pp-tag">_</span><span class="pp-pln"> callback</span></div><div class="L8"><span class="pp-ln"> 238 </span><span class="pp-pln">                                </span><span class="pp-tag">@</span><span class="pp-pln"> null</span></div><div class="L9"><span class="pp-ln"> 239 </span><span class="pp-pln">                                </span><span class="pp-tag">{</span></div><div class="L0"><span class="pp-ln"> 240 </span><span class="pp-pln">                                    </span><span class="pp-tag">@</span><span class="pp-pln"> moved true</span></div><div class="L1"><span class="pp-ln"> 241 </span><span class="pp-pln">        </span><span class="pp-tag">var</span><span class="pp-pln"> getFilesDefaults</span></div><div class="L2"><span class="pp-ln"> 242 </span><span class="pp-pln">            </span><span class="pp-tag">{</span></div><div class="L3"><span class="pp-ln"> 243 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> deep true</span></div><div class="L4"><span class="pp-ln"> 244 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> extension null</span></div><div class="L5"><span class="pp-ln"> 245 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> documentContent false</span></div><div class="L6"><span class="pp-ln"> 246 </span><span class="pp-pln">        </span><span class="pp-tag">set</span><span class="pp-pln"> md.getFiles</span></div><div class="L7"><span class="pp-ln"> 247 </span><span class="pp-pln">            </span><span class="pp-tag">function</span></div><div class="L8"><span class="pp-ln"> 248 </span><span class="pp-pln">                </span><span class="pp-tag">param</span><span class="pp-pln"> path_string</span></div><div class="L9"><span class="pp-ln"> 249 </span><span class="pp-pln">                </span><span class="pp-tag">param</span><span class="pp-pln"> options</span></div><div class="L0"><span class="pp-ln"> 250 </span><span class="pp-pln">                </span><span class="pp-tag">set</span><span class="pp-pln"> options = _.assign({}, getFilesDefaults, (options || {}))</span></div><div class="L1"><span class="pp-ln"> 251 </span><span class="pp-pln">                </span><span class="pp-tag">var</span><span class="pp-pln"> result</span></div><div class="L2"><span class="pp-ln"> 252 </span><span class="pp-pln">                </span><span class="pp-tag">if</span><span class="pp-pln"> md.isDirectory(path_string)</span></div><div class="L3"><span class="pp-ln"> 253 </span><span class="pp-pln">                    </span><span class="pp-tag">var</span><span class="pp-pln"> files</span></div><div class="L4"><span class="pp-ln"> 254 </span><span class="pp-pln">                        </span><span class="pp-tag">[</span></div><div class="L5"><span class="pp-ln"> 255 </span><span class="pp-pln">                    </span><span class="pp-tag">var</span><span class="pp-pln"> relPath</span></div><div class="L6"><span class="pp-ln"> 256 </span><span class="pp-pln">                        </span><span class="pp-tag">[</span></div><div class="L7"><span class="pp-ln"> 257 </span><span class="pp-pln">                    </span><span class="pp-tag">_</span><span class="pp-pln"> md._appendFiles(path_string, files, relPath, options)</span></div><div class="L8"><span class="pp-ln"> 258 </span><span class="pp-pln">                    </span><span class="pp-tag">set</span><span class="pp-pln"> result = files</span></div><div class="L9"><span class="pp-ln"> 259 </span><span class="pp-pln">                </span><span class="pp-tag">elif</span><span class="pp-pln"> md.isFile(path_string)</span></div><div class="L0"><span class="pp-ln"> 260 </span><span class="pp-pln">                    </span><span class="pp-tag">set</span><span class="pp-pln"> result = [md.unixifyPath(path_string)]</span></div><div class="L1"><span class="pp-ln"> 261 </span><span class="pp-pln">                </span><span class="pp-tag">else</span></div><div class="L2"><span class="pp-ln"> 262 </span><span class="pp-pln">                    </span><span class="pp-tag">set</span><span class="pp-pln"> result = []</span></div><div class="L3"><span class="pp-ln"> 263 </span><span class="pp-pln">                </span><span class="pp-tag">if</span><span class="pp-pln"> options.documentContent</span></div><div class="L4"><span class="pp-ln"> 264 </span><span class="pp-pln">                    </span><span class="pp-tag">var</span></div><div class="L5"><span class="pp-ln"> 265 </span><span class="pp-pln">                        </span><span class="pp-tag">decl</span><span class="pp-pln"> newResult</span></div><div class="L6"><span class="pp-ln"> 266 </span><span class="pp-pln">                            </span><span class="pp-tag">[</span></div><div class="L7"><span class="pp-ln"> 267 </span><span class="pp-pln">                        </span><span class="pp-tag">decl</span><span class="pp-pln"> content</span></div><div class="L8"><span class="pp-ln"> 268 </span><span class="pp-pln">                    </span><span class="pp-tag">foreach</span><span class="pp-pln"> item in result</span></div><div class="L9"><span class="pp-ln"> 269 </span><span class="pp-pln">                        </span><span class="pp-tag">set</span><span class="pp-pln"> content = md.read(item)</span></div><div class="L0"><span class="pp-ln"> 270 </span><span class="pp-pln">                        </span><span class="pp-tag">_</span><span class="pp-pln"> newResult.push</span></div><div class="L1"><span class="pp-ln"> 271 </span><span class="pp-pln">                            </span><span class="pp-tag">{</span></div><div class="L2"><span class="pp-ln"> 272 </span><span class="pp-pln">                                </span><span class="pp-tag">@</span><span class="pp-pln"> file item</span></div><div class="L3"><span class="pp-ln"> 273 </span><span class="pp-pln">                                </span><span class="pp-tag">@</span><span class="pp-pln"> content content</span></div><div class="L4"><span class="pp-ln"> 274 </span><span class="pp-pln">                    </span><span class="pp-tag">return</span><span class="pp-pln"> newResult</span></div><div class="L5"><span class="pp-ln"> 275 </span><span class="pp-pln">                </span><span class="pp-tag">return</span><span class="pp-pln"> result</span></div><div class="L6"><span class="pp-ln"> 276 </span><span class="pp-pln">        </span><span class="pp-tag">set</span><span class="pp-pln"> md._appendFiles</span></div><div class="L7"><span class="pp-ln"> 277 </span><span class="pp-pln">            </span><span class="pp-tag">function</span></div><div class="L8"><span class="pp-ln"> 278 </span><span class="pp-pln">                </span><span class="pp-tag">param</span><span class="pp-pln"> path_string</span></div><div class="L9"><span class="pp-ln"> 279 </span><span class="pp-pln">                </span><span class="pp-tag">param</span><span class="pp-pln"> files</span></div><div class="L0"><span class="pp-ln"> 280 </span><span class="pp-pln">                </span><span class="pp-tag">param</span><span class="pp-pln"> relPath</span></div><div class="L1"><span class="pp-ln"> 281 </span><span class="pp-pln">                </span><span class="pp-tag">param</span><span class="pp-pln"> options</span></div><div class="L2"><span class="pp-ln"> 282 </span><span class="pp-pln">                </span><span class="pp-tag">var</span><span class="pp-pln"> dir = fs.readdirSync(String(path_string))</span></div><div class="L3"><span class="pp-ln"> 283 </span><span class="pp-pln">                </span><span class="pp-tag">var</span><span class="pp-pln"> folders = []</span></div><div class="L4"><span class="pp-ln"> 284 </span><span class="pp-pln">                </span><span class="pp-tag">foreach</span><span class="pp-pln"> item in dir</span></div><div class="L5"><span class="pp-ln"> 285 </span><span class="pp-pln">                    </span><span class="pp-tag">var</span><span class="pp-pln"> filePath = path.join(path_string, item)</span></div><div class="L6"><span class="pp-ln"> 286 </span><span class="pp-pln">                    </span><span class="pp-tag">if</span><span class="pp-pln"> md.isDirectory(filePath)</span></div><div class="L7"><span class="pp-ln"> 287 </span><span class="pp-pln">                        </span><span class="pp-tag">if</span><span class="pp-pln"> options.deep</span></div><div class="L8"><span class="pp-ln"> 288 </span><span class="pp-pln">                            </span><span class="pp-tag">_</span><span class="pp-pln"> folders.push(item)</span></div><div class="L9"><span class="pp-ln"> 289 </span><span class="pp-pln">                    </span><span class="pp-tag">else</span></div><div class="L0"><span class="pp-ln"> 290 </span><span class="pp-pln">                        </span><span class="pp-tag">if</span><span class="pp-pln"> !options.extension || verify.endsWith(item, options.extension)</span></div><div class="L1"><span class="pp-ln"> 291 </span><span class="pp-pln">                            </span><span class="pp-tag">_</span><span class="pp-pln"> files.push</span></div><div class="L2"><span class="pp-ln"> 292 </span><span class="pp-pln">                                </span><span class="pp-tag">_</span><span class="pp-pln"> md.unixifyPath</span></div><div class="L3"><span class="pp-ln"> 293 </span><span class="pp-pln">                                    </span><span class="pp-tag">_</span><span class="pp-pln"> path.join</span></div><div class="L4"><span class="pp-ln"> 294 </span><span class="pp-pln">                                        </span><span class="pp-tag">_</span><span class="pp-pln"> relPath.join('/')</span></div><div class="L5"><span class="pp-ln"> 295 </span><span class="pp-pln">                                        </span><span class="pp-tag">@</span><span class="pp-pln"> item</span></div><div class="L6"><span class="pp-ln"> 296 </span><span class="pp-pln">                </span><span class="pp-tag">foreach</span><span class="pp-pln"> item in folders</span></div><div class="L7"><span class="pp-ln"> 297 </span><span class="pp-pln">                    </span><span class="pp-tag">var</span><span class="pp-pln"> filePath = path.join(path_string, item)</span></div><div class="L8"><span class="pp-ln"> 298 </span><span class="pp-pln">                    </span><span class="pp-tag">var</span><span class="pp-pln"> newRelPath = relPath.slice(0)</span></div><div class="L9"><span class="pp-ln"> 299 </span><span class="pp-pln">                    </span><span class="pp-tag">_</span><span class="pp-pln"> newRelPath.push(item)</span></div><div class="L0"><span class="pp-ln"> 300 </span><span class="pp-pln">                    </span><span class="pp-tag">_</span><span class="pp-pln"> md._appendFiles(filePath, files, newRelPath, options)</span></div><div class="L1"><span class="pp-ln"> 301 </span><span class="pp-pln">        </span><span class="pp-tag">var</span><span class="pp-pln"> getFoldersDefaults</span></div><div class="L2"><span class="pp-ln"> 302 </span><span class="pp-pln">            </span><span class="pp-tag">{</span></div><div class="L3"><span class="pp-ln"> 303 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> deep true</span></div><div class="L4"><span class="pp-ln"> 304 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> tFoldersOnly false</span></div><div class="L5"><span class="pp-ln"> 305 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> documentNames false</span></div><div class="L6"><span class="pp-ln"> 306 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> documentContents false</span></div><div class="L7"><span class="pp-ln"> 307 </span><span class="pp-pln">        </span><span class="pp-tag">set</span><span class="pp-pln"> md.getFolders</span></div><div class="L8"><span class="pp-ln"> 308 </span><span class="pp-pln">            </span><span class="pp-tag">function</span></div><div class="L9"><span class="pp-ln"> 309 </span><span class="pp-pln">                </span><span class="pp-tag">param</span><span class="pp-pln"> path_string</span></div><div class="L0"><span class="pp-ln"> 310 </span><span class="pp-pln">                </span><span class="pp-tag">param</span><span class="pp-pln"> options</span></div><div class="L1"><span class="pp-ln"> 311 </span><span class="pp-pln">                </span><span class="pp-tag">set</span><span class="pp-pln"> options = _.assign({}, getFoldersDefaults, options)</span></div><div class="L2"><span class="pp-ln"> 312 </span><span class="pp-pln">                </span><span class="pp-tag">var</span><span class="pp-pln"> result</span></div><div class="L3"><span class="pp-ln"> 313 </span><span class="pp-pln">                </span><span class="pp-tag">if</span><span class="pp-pln"> md.isDirectory(path_string)</span></div><div class="L4"><span class="pp-ln"> 314 </span><span class="pp-pln">                    </span><span class="pp-tag">var</span><span class="pp-pln"> folders</span></div><div class="L5"><span class="pp-ln"> 315 </span><span class="pp-pln">                        </span><span class="pp-tag">[</span></div><div class="L6"><span class="pp-ln"> 316 </span><span class="pp-pln">                    </span><span class="pp-tag">var</span><span class="pp-pln"> relPath</span></div><div class="L7"><span class="pp-ln"> 317 </span><span class="pp-pln">                        </span><span class="pp-tag">[</span></div><div class="L8"><span class="pp-ln"> 318 </span><span class="pp-pln">                    </span><span class="pp-tag">_</span><span class="pp-pln"> md._appendFolders(path_string, folders, relPath, options)</span></div><div class="L9"><span class="pp-ln"> 319 </span><span class="pp-pln">                    </span><span class="pp-tag">set</span><span class="pp-pln"> result = folders</span></div><div class="L0"><span class="pp-ln"> 320 </span><span class="pp-pln">                </span><span class="pp-tag">elif</span><span class="pp-pln"> md.isDirectory(path_string)</span></div><div class="L1"><span class="pp-ln"> 321 </span><span class="pp-pln">                    </span><span class="pp-tag">set</span><span class="pp-pln"> result = [md.unixifyPath(path_string)]</span></div><div class="L2"><span class="pp-ln"> 322 </span><span class="pp-pln">                </span><span class="pp-tag">else</span></div><div class="L3"><span class="pp-ln"> 323 </span><span class="pp-pln">                    </span><span class="pp-tag">set</span><span class="pp-pln"> result = []</span></div><div class="L4"><span class="pp-ln"> 324 </span><span class="pp-pln">                </span><span class="pp-tag">if</span><span class="pp-pln"> options.documentNames</span></div><div class="L5"><span class="pp-ln"> 325 </span><span class="pp-pln">                    </span><span class="pp-tag">var</span></div><div class="L6"><span class="pp-ln"> 326 </span><span class="pp-pln">                        </span><span class="pp-tag">decl</span><span class="pp-pln"> newResult</span></div><div class="L7"><span class="pp-ln"> 327 </span><span class="pp-pln">                            </span><span class="pp-tag">[</span></div><div class="L8"><span class="pp-ln"> 328 </span><span class="pp-pln">                        </span><span class="pp-tag">decl</span><span class="pp-pln"> files</span></div><div class="L9"><span class="pp-ln"> 329 </span><span class="pp-pln">                    </span><span class="pp-tag">foreach</span><span class="pp-pln"> item in result</span></div><div class="L0"><span class="pp-ln"> 330 </span><span class="pp-pln">                        </span><span class="pp-tag">var</span><span class="pp-pln"> filePath = path.join(path_string, item)</span></div><div class="L1"><span class="pp-ln"> 331 </span><span class="pp-pln">                        </span><span class="pp-tag">if</span><span class="pp-pln"> options.tFoldersOnly</span></div><div class="L2"><span class="pp-ln"> 332 </span><span class="pp-pln">                            </span><span class="pp-tag">set</span><span class="pp-pln"> files = md.getFiles(filePath, {deep: true, filesOnly: true})</span></div><div class="L3"><span class="pp-ln"> 333 </span><span class="pp-pln">                        </span><span class="pp-tag">else</span></div><div class="L4"><span class="pp-ln"> 334 </span><span class="pp-pln">                            </span><span class="pp-tag">set</span><span class="pp-pln"> files = md.getFiles(filePath, {deep: false, filesOnly: true})</span></div><div class="L5"><span class="pp-ln"> 335 </span><span class="pp-pln">                        </span><span class="pp-tag">_</span><span class="pp-pln"> newResult.push</span></div><div class="L6"><span class="pp-ln"> 336 </span><span class="pp-pln">                            </span><span class="pp-tag">{</span></div><div class="L7"><span class="pp-ln"> 337 </span><span class="pp-pln">                                </span><span class="pp-tag">@</span><span class="pp-pln"> folder item</span></div><div class="L8"><span class="pp-ln"> 338 </span><span class="pp-pln">                                </span><span class="pp-tag">@</span><span class="pp-pln"> documents files</span></div><div class="L9"><span class="pp-ln"> 339 </span><span class="pp-pln">                    </span><span class="pp-tag">return</span><span class="pp-pln"> newResult</span></div><div class="L0"><span class="pp-ln"> 340 </span><span class="pp-pln">                </span><span class="pp-tag">return</span><span class="pp-pln"> result</span></div><div class="L1"><span class="pp-ln"> 341 </span><span class="pp-pln">        </span><span class="pp-tag">set</span><span class="pp-pln"> md._appendFolders</span></div><div class="L2"><span class="pp-ln"> 342 </span><span class="pp-pln">            </span><span class="pp-tag">function</span></div><div class="L3"><span class="pp-ln"> 343 </span><span class="pp-pln">                </span><span class="pp-tag">param</span><span class="pp-pln"> path_string</span></div><div class="L4"><span class="pp-ln"> 344 </span><span class="pp-pln">                </span><span class="pp-tag">param</span><span class="pp-pln"> folders</span></div><div class="L5"><span class="pp-ln"> 345 </span><span class="pp-pln">                </span><span class="pp-tag">param</span><span class="pp-pln"> relPath</span></div><div class="L6"><span class="pp-ln"> 346 </span><span class="pp-pln">                </span><span class="pp-tag">param</span><span class="pp-pln"> options</span></div><div class="L7"><span class="pp-ln"> 347 </span><span class="pp-pln">                </span><span class="pp-tag">var</span><span class="pp-pln"> dir = fs.readdirSync(String(path_string))</span></div><div class="L8"><span class="pp-ln"> 348 </span><span class="pp-pln">                </span><span class="pp-tag">foreach</span><span class="pp-pln"> item in dir</span></div><div class="L9"><span class="pp-ln"> 349 </span><span class="pp-pln">                    </span><span class="pp-tag">var</span><span class="pp-pln"> filePath = path.join(path_string, item)</span></div><div class="L0"><span class="pp-ln"> 350 </span><span class="pp-pln">                    </span><span class="pp-tag">if</span><span class="pp-pln"> md.isDirectory(filePath)</span></div><div class="L1"><span class="pp-ln"> 351 </span><span class="pp-pln">                        </span><span class="pp-tag">if</span><span class="pp-pln"> options.tFoldersOnly</span></div><div class="L2"><span class="pp-ln"> 352 </span><span class="pp-pln">                            </span><span class="pp-tag">if</span><span class="pp-pln"> item.toLowerCase() === 't'</span></div><div class="L3"><span class="pp-ln"> 353 </span><span class="pp-pln">                                </span><span class="pp-tag">_</span><span class="pp-pln"> folders.push</span></div><div class="L4"><span class="pp-ln"> 354 </span><span class="pp-pln">                                    </span><span class="pp-tag">_</span><span class="pp-pln"> md.unixifyPath</span></div><div class="L5"><span class="pp-ln"> 355 </span><span class="pp-pln">                                        </span><span class="pp-tag">_</span><span class="pp-pln"> path.join</span></div><div class="L6"><span class="pp-ln"> 356 </span><span class="pp-pln">                                            </span><span class="pp-tag">_</span><span class="pp-pln"> relPath.join('/')</span></div><div class="L7"><span class="pp-ln"> 357 </span><span class="pp-pln">                                            </span><span class="pp-tag">@</span><span class="pp-pln"> item</span></div><div class="L8"><span class="pp-ln"> 358 </span><span class="pp-pln">                                </span><span class="pp-tag">return</span></div><div class="L9"><span class="pp-ln"> 359 </span><span class="pp-pln">                        </span><span class="pp-tag">else</span></div><div class="L0"><span class="pp-ln"> 360 </span><span class="pp-pln">                            </span><span class="pp-tag">_</span><span class="pp-pln"> folders.push</span></div><div class="L1"><span class="pp-ln"> 361 </span><span class="pp-pln">                                </span><span class="pp-tag">_</span><span class="pp-pln"> md.unixifyPath</span></div><div class="L2"><span class="pp-ln"> 362 </span><span class="pp-pln">                                    </span><span class="pp-tag">_</span><span class="pp-pln"> path.join</span></div><div class="L3"><span class="pp-ln"> 363 </span><span class="pp-pln">                                        </span><span class="pp-tag">_</span><span class="pp-pln"> relPath.join('/')</span></div><div class="L4"><span class="pp-ln"> 364 </span><span class="pp-pln">                                        </span><span class="pp-tag">@</span><span class="pp-pln"> item</span></div><div class="L5"><span class="pp-ln"> 365 </span><span class="pp-pln">                        </span><span class="pp-tag">if</span><span class="pp-pln"> options.deep</span></div><div class="L6"><span class="pp-ln"> 366 </span><span class="pp-pln">                            </span><span class="pp-tag">var</span><span class="pp-pln"> newRelPath = relPath.slice(0)</span></div><div class="L7"><span class="pp-ln"> 367 </span><span class="pp-pln">                            </span><span class="pp-tag">_</span><span class="pp-pln"> newRelPath.push(item)</span></div><div class="L8"><span class="pp-ln"> 368 </span><span class="pp-pln">                            </span><span class="pp-tag">_</span><span class="pp-pln"> md._appendFolders(filePath, folders, newRelPath, options)</span></div><div class="L9"><span class="pp-ln"> 369 </span><span class="pp-pln">        </span><span class="pp-tag">set</span><span class="pp-pln"> md.getGlobbedFilesEx</span></div><div class="L0"><span class="pp-ln"> 370 </span><span class="pp-pln">            </span><span class="pp-tag">function</span></div><div class="L1"><span class="pp-ln"> 371 </span><span class="pp-pln">                </span><span class="pp-tag">param</span><span class="pp-pln"> globPatterns</span></div><div class="L2"><span class="pp-ln"> 372 </span><span class="pp-pln">                </span><span class="pp-tag">param</span><span class="pp-pln"> options</span></div><div class="L3"><span class="pp-ln"> 373 </span><span class="pp-pln">                </span><span class="pp-tag">var</span><span class="pp-pln"> options = (options || {})</span></div><div class="L4"><span class="pp-ln"> 374 </span><span class="pp-pln">                </span><span class="pp-tag">return</span></div><div class="L5"><span class="pp-ln"> 375 </span><span class="pp-pln">                    </span><span class="pp-tag">_</span><span class="pp-pln"> md.getGlobbedFiles</span></div><div class="L6"><span class="pp-ln"> 376 </span><span class="pp-pln">                        </span><span class="pp-tag">@</span><span class="pp-pln"> globPatterns</span></div><div class="L7"><span class="pp-ln"> 377 </span><span class="pp-pln">                        </span><span class="pp-tag">@</span><span class="pp-pln"> options.removeRoot</span></div><div class="L8"><span class="pp-ln"> 378 </span><span class="pp-pln">                        </span><span class="pp-tag">@</span><span class="pp-pln"> options</span></div><div class="L9"><span class="pp-ln"> 379 </span><span class="pp-pln">        </span><span class="pp-tag">set</span><span class="pp-pln"> md.getGlobbedFiles</span></div><div class="L0"><span class="pp-ln"> 380 </span><span class="pp-pln">            </span><span class="pp-tag">function</span></div><div class="L1"><span class="pp-ln"> 381 </span><span class="pp-pln">                </span><span class="pp-tag">param</span><span class="pp-pln"> globPatterns</span></div><div class="L2"><span class="pp-ln"> 382 </span><span class="pp-pln">                </span><span class="pp-tag">param</span><span class="pp-pln"> removeRoot</span></div><div class="L3"><span class="pp-ln"> 383 </span><span class="pp-pln">                </span><span class="pp-tag">param</span><span class="pp-pln"> options</span></div><div class="L4"><span class="pp-ln"> 384 </span><span class="pp-pln">                </span><span class="pp-tag">var</span><span class="pp-pln"> _this = this</span></div><div class="L5"><span class="pp-ln"> 385 </span><span class="pp-pln">                </span><span class="pp-tag">var</span><span class="pp-pln"> urlRegex</span></div><div class="L6"><span class="pp-ln"> 386 </span><span class="pp-pln">                    </span><span class="pp-tag">new</span><span class="pp-pln"> RegExp('^(?:[a-z]+:)?\/\/', 'i')</span></div><div class="L7"><span class="pp-ln"> 387 </span><span class="pp-pln">                </span><span class="pp-tag">var</span><span class="pp-pln"> output</span></div><div class="L8"><span class="pp-ln"> 388 </span><span class="pp-pln">                    </span><span class="pp-tag">[</span></div><div class="L9"><span class="pp-ln"> 389 </span><span class="pp-pln">                </span><span class="pp-tag">if</span><span class="pp-pln"> verify.isArray(globPatterns)</span></div><div class="L0"><span class="pp-ln"> 390 </span><span class="pp-pln">                    </span><span class="pp-tag">_</span><span class="pp-pln"> globPatterns.forEach</span></div><div class="L1"><span class="pp-ln"> 391 </span><span class="pp-pln">                        </span><span class="pp-tag">function</span></div><div class="L2"><span class="pp-ln"> 392 </span><span class="pp-pln">                            </span><span class="pp-tag">param</span><span class="pp-pln"> globPattern</span></div><div class="L3"><span class="pp-ln"> 393 </span><span class="pp-pln">                            </span><span class="pp-tag">set</span><span class="pp-pln"> output</span></div><div class="L4"><span class="pp-ln"> 394 </span><span class="pp-pln">                                </span><span class="pp-tag">_</span><span class="pp-pln"> _.union</span></div><div class="L5"><span class="pp-ln"> 395 </span><span class="pp-pln">                                    </span><span class="pp-tag">@</span><span class="pp-pln"> output</span></div><div class="L6"><span class="pp-ln"> 396 </span><span class="pp-pln">                                    </span><span class="pp-tag">_</span><span class="pp-pln"> this.getGlobbedFiles</span></div><div class="L7"><span class="pp-ln"> 397 </span><span class="pp-pln">                                        </span><span class="pp-tag">@</span><span class="pp-pln"> globPattern</span></div><div class="L8"><span class="pp-ln"> 398 </span><span class="pp-pln">                                        </span><span class="pp-tag">@</span><span class="pp-pln"> removeRoot</span></div><div class="L9"><span class="pp-ln"> 399 </span><span class="pp-pln">                                        </span><span class="pp-tag">@</span><span class="pp-pln"> options</span></div><div class="L0"><span class="pp-ln"> 400 </span><span class="pp-pln">                </span><span class="pp-tag">elif</span><span class="pp-pln"> verify.isString(globPatterns)</span></div><div class="L1"><span class="pp-ln"> 401 </span><span class="pp-pln">                    </span><span class="pp-tag">if</span><span class="pp-pln"> urlRegex.test(globPatterns)</span></div><div class="L2"><span class="pp-ln"> 402 </span><span class="pp-pln">                        </span><span class="pp-tag">_</span><span class="pp-pln"> output.push(globPatterns)</span></div><div class="L3"><span class="pp-ln"> 403 </span><span class="pp-pln">                    </span><span class="pp-tag">else</span></div><div class="L4"><span class="pp-ln"> 404 </span><span class="pp-pln">                        </span><span class="pp-tag">#</span><span class="pp-pln"> log 'wizzi-utils.globPatterns, options', globPatterns, options</span></div><div class="L5"><span class="pp-ln"> 405 </span><span class="pp-pln">                        </span><span class="pp-tag">var</span><span class="pp-pln"> files = glob.sync(globPatterns, options)</span></div><div class="L6"><span class="pp-ln"> 406 </span><span class="pp-pln">                        </span><span class="pp-tag">#</span><span class="pp-pln"> log 'wizzi-meta.file.globPatterns ', globPatterns, 'files', files.length</span></div><div class="L7"><span class="pp-ln"> 407 </span><span class="pp-pln">                        </span><span class="pp-tag">if</span><span class="pp-pln"> removeRoot</span></div><div class="L8"><span class="pp-ln"> 408 </span><span class="pp-pln">                            </span><span class="pp-tag">log</span><span class="pp-pln"> 'removeRoot', removeRoot</span></div><div class="L9"><span class="pp-ln"> 409 </span><span class="pp-pln">                            </span><span class="pp-tag">set</span><span class="pp-pln"> files =</span></div><div class="L0"><span class="pp-ln"> 410 </span><span class="pp-pln">                                </span><span class="pp-tag">_</span><span class="pp-pln"> files.map</span></div><div class="L1"><span class="pp-ln"> 411 </span><span class="pp-pln">                                    </span><span class="pp-tag">function</span></div><div class="L2"><span class="pp-ln"> 412 </span><span class="pp-pln">                                        </span><span class="pp-tag">param</span><span class="pp-pln"> file</span></div><div class="L3"><span class="pp-ln"> 413 </span><span class="pp-pln">                                        </span><span class="pp-tag">if</span><span class="pp-pln"> _.isArray(removeRoot)</span></div><div class="L4"><span class="pp-ln"> 414 </span><span class="pp-pln">                                            </span><span class="pp-tag">for</span><span class="pp-pln"> var i in removeRoot</span></div><div class="L5"><span class="pp-ln"> 415 </span><span class="pp-pln">                                                </span><span class="pp-tag">set</span><span class="pp-pln"> file = file.replace(removeRoot[i], '')</span></div><div class="L6"><span class="pp-ln"> 416 </span><span class="pp-pln">                                        </span><span class="pp-tag">else</span></div><div class="L7"><span class="pp-ln"> 417 </span><span class="pp-pln">                                            </span><span class="pp-tag">#</span><span class="pp-pln"> log md.unixifyPath(file), removeRoot</span></div><div class="L8"><span class="pp-ln"> 418 </span><span class="pp-pln">                                            </span><span class="pp-tag">set</span><span class="pp-pln"> file</span></div><div class="L9"><span class="pp-ln"> 419 </span><span class="pp-pln">                                                </span><span class="pp-tag">_</span><span class="pp-pln"> md.unixifyPath</span></div><div class="L0"><span class="pp-ln"> 420 </span><span class="pp-pln">                                                    </span><span class="pp-tag">@</span><span class="pp-pln"> file</span></div><div class="L1"><span class="pp-ln"> 421 </span><span class="pp-pln">                                                    </span><span class="pp-tag">._</span><span class="pp-pln"> replace</span></div><div class="L2"><span class="pp-ln"> 422 </span><span class="pp-pln">                                                        </span><span class="pp-tag">_</span><span class="pp-pln"> md.unixifyPath</span></div><div class="L3"><span class="pp-ln"> 423 </span><span class="pp-pln">                                                            </span><span class="pp-tag">@</span><span class="pp-pln"> removeRoot</span></div><div class="L4"><span class="pp-ln"> 424 </span><span class="pp-pln">                                                        </span><span class="pp-tag">@</span><span class="pp-pln"> ''</span></div><div class="L5"><span class="pp-ln"> 425 </span><span class="pp-pln">                                        </span><span class="pp-tag">return</span><span class="pp-pln"> file</span></div><div class="L6"><span class="pp-ln"> 426 </span><span class="pp-pln">                        </span><span class="pp-tag">set</span><span class="pp-pln"> output = _.union(output, files)</span></div><div class="L7"><span class="pp-ln"> 427 </span><span class="pp-pln">                </span><span class="pp-tag">return</span><span class="pp-pln"> output</span></div><div class="L8"><span class="pp-ln"> 428 </span><span class="pp-pln">        </span><span class="pp-tag">set</span><span class="pp-pln"> md.exists</span></div><div class="L9"><span class="pp-ln"> 429 </span><span class="pp-pln">            </span><span class="pp-tag">function</span></div><div class="L0"><span class="pp-ln"> 430 </span><span class="pp-pln">                </span><span class="pp-tag">param</span><span class="pp-pln"> path_string</span></div><div class="L1"><span class="pp-ln"> 431 </span><span class="pp-pln">                </span><span class="pp-tag">try</span></div><div class="L2"><span class="pp-ln"> 432 </span><span class="pp-pln">                    </span><span class="pp-tag">var</span><span class="pp-pln"> stat = fs.lstatSync(String(path_string))</span></div><div class="L3"><span class="pp-ln"> 433 </span><span class="pp-pln">                    </span><span class="pp-tag">return</span><span class="pp-pln"> stat.isFile() || stat.isDirectory()</span></div><div class="L4"><span class="pp-ln"> 434 </span><span class="pp-pln">                </span><span class="pp-tag">catch</span><span class="pp-pln"> ex</span></div><div class="L5"><span class="pp-ln"> 435 </span><span class="pp-pln">                </span><span class="pp-tag">return</span><span class="pp-pln"> false</span></div><div class="L6"><span class="pp-ln"> 436 </span><span class="pp-pln">        </span><span class="pp-tag">set</span><span class="pp-pln"> md.isDirectory =</span></div><div class="L7"><span class="pp-ln"> 437 </span><span class="pp-pln">            </span><span class="pp-tag">function</span></div><div class="L8"><span class="pp-ln"> 438 </span><span class="pp-pln">                </span><span class="pp-tag">param</span><span class="pp-pln"> path_string</span></div><div class="L9"><span class="pp-ln"> 439 </span><span class="pp-pln">                </span><span class="pp-tag">try</span></div><div class="L0"><span class="pp-ln"> 440 </span><span class="pp-pln">                    </span><span class="pp-tag">return</span></div><div class="L1"><span class="pp-ln"> 441 </span><span class="pp-pln">                        </span><span class="pp-tag">_</span><span class="pp-pln"> fs.lstatSync(String(path_string))</span></div><div class="L2"><span class="pp-ln"> 442 </span><span class="pp-pln">                            </span><span class="pp-tag">._</span><span class="pp-pln"> isDirectory()</span></div><div class="L3"><span class="pp-ln"> 443 </span><span class="pp-pln">                </span><span class="pp-tag">catch</span><span class="pp-pln"> ex</span></div><div class="L4"><span class="pp-ln"> 444 </span><span class="pp-pln">                </span><span class="pp-tag">return</span><span class="pp-pln"> false</span></div><div class="L5"><span class="pp-ln"> 445 </span><span class="pp-pln">        </span><span class="pp-tag">set</span><span class="pp-pln"> md.isFile</span></div><div class="L6"><span class="pp-ln"> 446 </span><span class="pp-pln">            </span><span class="pp-tag">function</span></div><div class="L7"><span class="pp-ln"> 447 </span><span class="pp-pln">                </span><span class="pp-tag">param</span><span class="pp-pln"> path_string</span></div><div class="L8"><span class="pp-ln"> 448 </span><span class="pp-pln">                </span><span class="pp-tag">try</span></div><div class="L9"><span class="pp-ln"> 449 </span><span class="pp-pln">                    </span><span class="pp-tag">return</span></div><div class="L0"><span class="pp-ln"> 450 </span><span class="pp-pln">                        </span><span class="pp-tag">_</span><span class="pp-pln"> fs.lstatSync(String(path_string))</span></div><div class="L1"><span class="pp-ln"> 451 </span><span class="pp-pln">                            </span><span class="pp-tag">._</span><span class="pp-pln"> isFile()</span></div><div class="L2"><span class="pp-ln"> 452 </span><span class="pp-pln">                </span><span class="pp-tag">catch</span><span class="pp-pln"> ex</span></div><div class="L3"><span class="pp-ln"> 453 </span><span class="pp-pln">                </span><span class="pp-tag">return</span><span class="pp-pln"> false</span></div><div class="L4"><span class="pp-ln"> 454 </span><span class="pp-pln">        </span><span class="pp-tag">set</span><span class="pp-pln"> md.isFilePath</span></div><div class="L5"><span class="pp-ln"> 455 </span><span class="pp-pln">            </span><span class="pp-tag">function</span></div><div class="L6"><span class="pp-ln"> 456 </span><span class="pp-pln">                </span><span class="pp-tag">param</span><span class="pp-pln"> path</span></div><div class="L7"><span class="pp-ln"> 457 </span><span class="pp-pln">                </span><span class="pp-tag">if</span><span class="pp-pln"> verify.isString(path)</span></div><div class="L8"><span class="pp-ln"> 458 </span><span class="pp-pln">                    </span><span class="pp-tag">var</span><span class="pp-pln"> protocol</span></div><div class="L9"><span class="pp-ln"> 459 </span><span class="pp-pln">                        </span><span class="pp-tag">_</span><span class="pp-pln"> _protocol</span></div><div class="L0"><span class="pp-ln"> 460 </span><span class="pp-pln">                            </span><span class="pp-tag">_</span><span class="pp-pln"> url.parse(path)</span></div><div class="L1"><span class="pp-ln"> 461 </span><span class="pp-pln">                                </span><span class="pp-tag">.</span><span class="pp-pln"> protocol</span></div><div class="L2"><span class="pp-ln"> 462 </span><span class="pp-pln">                    </span><span class="pp-tag">return</span><span class="pp-pln"> protocol.length === 1 || protocol === 'file'</span></div><div class="L3"><span class="pp-ln"> 463 </span><span class="pp-pln">                </span><span class="pp-tag">return</span><span class="pp-pln"> false</span></div><div class="L4"><span class="pp-ln"> 464 </span><span class="pp-pln">        </span><span class="pp-tag">function</span><span class="pp-pln"> _protocol</span></div><div class="L5"><span class="pp-ln"> 465 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> value</span></div><div class="L6"><span class="pp-ln"> 466 </span><span class="pp-pln">            </span><span class="pp-tag">return</span></div><div class="L7"><span class="pp-ln"> 467 </span><span class="pp-pln">                </span><span class="pp-tag">iif</span><span class="pp-pln"> value.substr(-1, 1) === ':'</span></div><div class="L8"><span class="pp-ln"> 468 </span><span class="pp-pln">                    </span><span class="pp-tag">then</span></div><div class="L9"><span class="pp-ln"> 469 </span><span class="pp-pln">                        </span><span class="pp-tag">_</span><span class="pp-pln"> value.substr(0, value.length - 1)</span></div><div class="L0"><span class="pp-ln"> 470 </span><span class="pp-pln">                    </span><span class="pp-tag">else</span><span class="pp-pln"> value</span></div><div class="L1"><span class="pp-ln"> 471 </span><span class="pp-pln">        </span><span class="pp-tag">set</span><span class="pp-pln"> md.emptyDirectory =</span></div><div class="L2"><span class="pp-ln"> 472 </span><span class="pp-pln">            </span><span class="pp-tag">function</span></div><div class="L3"><span class="pp-ln"> 473 </span><span class="pp-pln">                </span><span class="pp-tag">param</span><span class="pp-pln"> path</span></div><div class="L4"><span class="pp-ln"> 474 </span><span class="pp-pln">                </span><span class="pp-tag">param</span><span class="pp-pln"> fn</span></div><div class="L5"><span class="pp-ln"> 475 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> fs.readdir</span></div><div class="L6"><span class="pp-ln"> 476 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> path</span></div><div class="L7"><span class="pp-ln"> 477 </span><span class="pp-pln">                    </span><span class="pp-tag">function</span></div><div class="L8"><span class="pp-ln"> 478 </span><span class="pp-pln">                        </span><span class="pp-tag">param</span><span class="pp-pln"> err</span></div><div class="L9"><span class="pp-ln"> 479 </span><span class="pp-pln">                        </span><span class="pp-tag">param</span><span class="pp-pln"> files</span></div><div class="L0"><span class="pp-ln"> 480 </span><span class="pp-pln">                        </span><span class="pp-tag">if</span><span class="pp-pln"> err && 'ENOENT' != err.code</span></div><div class="L1"><span class="pp-ln"> 481 </span><span class="pp-pln">                            </span><span class="pp-tag">throw</span><span class="pp-pln"> err</span></div><div class="L2"><span class="pp-ln"> 482 </span><span class="pp-pln">                        </span><span class="pp-tag">_</span><span class="pp-pln"> fn(!files || !files.length)</span></div><div class="L3"><span class="pp-ln"> 483 </span><span class="pp-pln">        </span><span class="pp-tag">set</span><span class="pp-pln"> md.deleteFile</span></div><div class="L4"><span class="pp-ln"> 484 </span><span class="pp-pln">            </span><span class="pp-tag">function</span></div><div class="L5"><span class="pp-ln"> 485 </span><span class="pp-pln">                </span><span class="pp-tag">param</span><span class="pp-pln"> path_string</span></div><div class="L6"><span class="pp-ln"> 486 </span><span class="pp-pln">                </span><span class="pp-tag">param</span><span class="pp-pln"> callback</span></div><div class="L7"><span class="pp-ln"> 487 </span><span class="pp-pln">                </span><span class="pp-tag">if</span><span class="pp-pln"> !md.isFile(path_string)</span></div><div class="L8"><span class="pp-ln"> 488 </span><span class="pp-pln">                    </span><span class="pp-tag">return</span></div><div class="L9"><span class="pp-ln"> 489 </span><span class="pp-pln">                        </span><span class="pp-tag">_</span><span class="pp-pln"> callback</span></div><div class="L0"><span class="pp-ln"> 490 </span><span class="pp-pln">                            </span><span class="pp-tag">@</span><span class="pp-pln"> null</span></div><div class="L1"><span class="pp-ln"> 491 </span><span class="pp-pln">                            </span><span class="pp-tag">{</span></div><div class="L2"><span class="pp-ln"> 492 </span><span class="pp-pln">                                </span><span class="pp-tag">@</span><span class="pp-pln"> deleted false</span></div><div class="L3"><span class="pp-ln"> 493 </span><span class="pp-pln">                                </span><span class="pp-tag">@</span><span class="pp-pln"> reason 'Source file does not exists or is not a file'</span></div><div class="L4"><span class="pp-ln"> 494 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> fs.unlink</span></div><div class="L5"><span class="pp-ln"> 495 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> String(path_string)</span></div><div class="L6"><span class="pp-ln"> 496 </span><span class="pp-pln">                    </span><span class="pp-tag">function</span></div><div class="L7"><span class="pp-ln"> 497 </span><span class="pp-pln">                        </span><span class="pp-tag">param</span><span class="pp-pln"> err</span></div><div class="L8"><span class="pp-ln"> 498 </span><span class="pp-pln">                        </span><span class="pp-tag">if</span><span class="pp-pln"> err</span></div><div class="L9"><span class="pp-ln"> 499 </span><span class="pp-pln">                            </span><span class="pp-tag">return</span></div><div class="L0"><span class="pp-ln"> 500 </span><span class="pp-pln">                                </span><span class="pp-tag">_</span><span class="pp-pln"> callback(err)</span></div><div class="L1"><span class="pp-ln"> 501 </span><span class="pp-pln">                        </span><span class="pp-tag">return</span></div><div class="L2"><span class="pp-ln"> 502 </span><span class="pp-pln">                            </span><span class="pp-tag">_</span><span class="pp-pln"> callback</span></div><div class="L3"><span class="pp-ln"> 503 </span><span class="pp-pln">                                </span><span class="pp-tag">@</span><span class="pp-pln"> null</span></div><div class="L4"><span class="pp-ln"> 504 </span><span class="pp-pln">                                </span><span class="pp-tag">{</span></div><div class="L5"><span class="pp-ln"> 505 </span><span class="pp-pln">                                    </span><span class="pp-tag">@</span><span class="pp-pln"> deleted true</span></div><div class="L6"><span class="pp-ln"> 506 </span><span class="pp-pln">        </span><span class="pp-tag">set</span><span class="pp-pln"> md.getDir</span></div><div class="L7"><span class="pp-ln"> 507 </span><span class="pp-pln">            </span><span class="pp-tag">function</span></div><div class="L8"><span class="pp-ln"> 508 </span><span class="pp-pln">                </span><span class="pp-tag">param</span><span class="pp-pln"> path_string</span></div><div class="L9"><span class="pp-ln"> 509 </span><span class="pp-pln">                </span><span class="pp-tag">param</span><span class="pp-pln"> callback</span></div><div class="L0"><span class="pp-ln"> 510 </span><span class="pp-pln">                </span><span class="pp-tag">var</span><span class="pp-pln"> dir = fs.readdirSync(String(path_string))</span></div><div class="L1"><span class="pp-ln"> 511 </span><span class="pp-pln">                </span><span class="pp-tag">var</span><span class="pp-pln"> ret = []</span></div><div class="L2"><span class="pp-ln"> 512 </span><span class="pp-pln">                </span><span class="pp-tag">foreach</span><span class="pp-pln"> item in dir</span></div><div class="L3"><span class="pp-ln"> 513 </span><span class="pp-pln">                    </span><span class="pp-tag">_</span><span class="pp-pln"> ret.push</span></div><div class="L4"><span class="pp-ln"> 514 </span><span class="pp-pln">                        </span><span class="pp-tag">_</span><span class="pp-pln"> path.join(path_string, item)</span></div><div class="L5"><span class="pp-ln"> 515 </span><span class="pp-pln">                </span><span class="pp-tag">return</span></div><div class="L6"><span class="pp-ln"> 516 </span><span class="pp-pln">                    </span><span class="pp-tag">_</span><span class="pp-pln"> callback</span></div><div class="L7"><span class="pp-ln"> 517 </span><span class="pp-pln">                        </span><span class="pp-tag">@</span><span class="pp-pln"> null</span></div><div class="L8"><span class="pp-ln"> 518 </span><span class="pp-pln">                        </span><span class="pp-tag">@</span><span class="pp-pln"> ret</span></div><div class="L9"><span class="pp-ln"> 519 </span><span class="pp-pln">        </span><span class="pp-tag">#</span><span class="pp-pln"> async deleteFolder</span></div><div class="L0"><span class="pp-ln"> 520 </span><span class="pp-pln">        </span><span class="pp-tag">set</span><span class="pp-pln"> md.deleteFolder</span></div><div class="L1"><span class="pp-ln"> 521 </span><span class="pp-pln">            </span><span class="pp-tag">function</span></div><div class="L2"><span class="pp-ln"> 522 </span><span class="pp-pln">                </span><span class="pp-tag">param</span><span class="pp-pln"> path_string</span></div><div class="L3"><span class="pp-ln"> 523 </span><span class="pp-pln">                </span><span class="pp-tag">param</span><span class="pp-pln"> callback</span></div><div class="L4"><span class="pp-ln"> 524 </span><span class="pp-pln">                </span><span class="pp-tag">if</span><span class="pp-pln"> !md.isDirectory(path_string)</span></div><div class="L5"><span class="pp-ln"> 525 </span><span class="pp-pln">                    </span><span class="pp-tag">return</span></div><div class="L6"><span class="pp-ln"> 526 </span><span class="pp-pln">                        </span><span class="pp-tag">_</span><span class="pp-pln"> callback</span></div><div class="L7"><span class="pp-ln"> 527 </span><span class="pp-pln">                            </span><span class="pp-tag">@</span><span class="pp-pln"> null</span></div><div class="L8"><span class="pp-ln"> 528 </span><span class="pp-pln">                            </span><span class="pp-tag">{</span></div><div class="L9"><span class="pp-ln"> 529 </span><span class="pp-pln">                                </span><span class="pp-tag">@</span><span class="pp-pln"> deleted false</span></div><div class="L0"><span class="pp-ln"> 530 </span><span class="pp-pln">                                </span><span class="pp-tag">@</span><span class="pp-pln"> reason 'Source folder does not exists or is not a folder'</span></div><div class="L1"><span class="pp-ln"> 531 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> fs.remove</span></div><div class="L2"><span class="pp-ln"> 532 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> String(path_string)</span></div><div class="L3"><span class="pp-ln"> 533 </span><span class="pp-pln">                    </span><span class="pp-tag">function</span></div><div class="L4"><span class="pp-ln"> 534 </span><span class="pp-pln">                        </span><span class="pp-tag">param</span><span class="pp-pln"> err</span></div><div class="L5"><span class="pp-ln"> 535 </span><span class="pp-pln">                        </span><span class="pp-tag">if</span><span class="pp-pln"> err</span></div><div class="L6"><span class="pp-ln"> 536 </span><span class="pp-pln">                            </span><span class="pp-tag">return</span></div><div class="L7"><span class="pp-ln"> 537 </span><span class="pp-pln">                                </span><span class="pp-tag">_</span><span class="pp-pln"> callback(err)</span></div><div class="L8"><span class="pp-ln"> 538 </span><span class="pp-pln">                        </span><span class="pp-tag">_</span><span class="pp-pln"> callback</span></div><div class="L9"><span class="pp-ln"> 539 </span><span class="pp-pln">                            </span><span class="pp-tag">@</span><span class="pp-pln"> null</span></div><div class="L0"><span class="pp-ln"> 540 </span><span class="pp-pln">                            </span><span class="pp-tag">{</span></div><div class="L1"><span class="pp-ln"> 541 </span><span class="pp-pln">                                </span><span class="pp-tag">@</span><span class="pp-pln"> deleted true</span></div><div class="L2"><span class="pp-ln"> 542 </span><span class="pp-pln">        </span><span class="pp-tag">#</span><span class="pp-pln"> async copyFolder</span></div><div class="L3"><span class="pp-ln"> 543 </span><span class="pp-pln">        </span><span class="pp-tag">set</span><span class="pp-pln"> md.copyFolder</span></div><div class="L4"><span class="pp-ln"> 544 </span><span class="pp-pln">            </span><span class="pp-tag">function</span></div><div class="L5"><span class="pp-ln"> 545 </span><span class="pp-pln">                </span><span class="pp-tag">param</span><span class="pp-pln"> sourcepath_string</span></div><div class="L6"><span class="pp-ln"> 546 </span><span class="pp-pln">                </span><span class="pp-tag">param</span><span class="pp-pln"> destpath_string</span></div><div class="L7"><span class="pp-ln"> 547 </span><span class="pp-pln">                </span><span class="pp-tag">param</span><span class="pp-pln"> callback</span></div><div class="L8"><span class="pp-ln"> 548 </span><span class="pp-pln">                </span><span class="pp-tag">if</span><span class="pp-pln"> !md.isDirectory(sourcepath_string)</span></div><div class="L9"><span class="pp-ln"> 549 </span><span class="pp-pln">                    </span><span class="pp-tag">return</span></div><div class="L0"><span class="pp-ln"> 550 </span><span class="pp-pln">                        </span><span class="pp-tag">_</span><span class="pp-pln"> callback</span></div><div class="L1"><span class="pp-ln"> 551 </span><span class="pp-pln">                            </span><span class="pp-tag">@</span><span class="pp-pln"> null</span></div><div class="L2"><span class="pp-ln"> 552 </span><span class="pp-pln">                            </span><span class="pp-tag">{</span></div><div class="L3"><span class="pp-ln"> 553 </span><span class="pp-pln">                                </span><span class="pp-tag">@</span><span class="pp-pln"> copied false</span></div><div class="L4"><span class="pp-ln"> 554 </span><span class="pp-pln">                                </span><span class="pp-tag">@</span><span class="pp-pln"> reason 'Source folder does not exists or is not a folder'</span></div><div class="L5"><span class="pp-ln"> 555 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> fs.copy</span></div><div class="L6"><span class="pp-ln"> 556 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> String(sourcepath_string)</span></div><div class="L7"><span class="pp-ln"> 557 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> String(destpath_string)</span></div><div class="L8"><span class="pp-ln"> 558 </span><span class="pp-pln">                    </span><span class="pp-mix frag-to-link-a" data-frag-id="d121">f_cb(</span><span class="pp-mix">)</span></div><div class="L9"><span class="pp-ln"> 559 </span><span class="pp-pln">                        </span><span class="pp-tag">return</span></div><div class="L0"><span class="pp-ln"> 560 </span><span class="pp-pln">                            </span><span class="pp-tag">_</span><span class="pp-pln"> callback</span></div><div class="L1"><span class="pp-ln"> 561 </span><span class="pp-pln">                                </span><span class="pp-tag">@</span><span class="pp-pln"> null</span></div><div class="L2"><span class="pp-ln"> 562 </span><span class="pp-pln">                                </span><span class="pp-tag">{</span></div><div class="L3"><span class="pp-ln"> 563 </span><span class="pp-pln">                                    </span><span class="pp-tag">@</span><span class="pp-pln"> copied true</span></div><div class="L4"><span class="pp-ln"> 564 </span><span class="pp-pln">        </span><span class="pp-tag">#</span><span class="pp-pln"> async moveFolder</span></div><div class="L5"><span class="pp-ln"> 565 </span><span class="pp-pln">        </span><span class="pp-tag">set</span><span class="pp-pln"> md.moveFolder</span></div><div class="L6"><span class="pp-ln"> 566 </span><span class="pp-pln">            </span><span class="pp-tag">function</span></div><div class="L7"><span class="pp-ln"> 567 </span><span class="pp-pln">                </span><span class="pp-tag">param</span><span class="pp-pln"> sourcepath_string</span></div><div class="L8"><span class="pp-ln"> 568 </span><span class="pp-pln">                </span><span class="pp-tag">param</span><span class="pp-pln"> destpath_string</span></div><div class="L9"><span class="pp-ln"> 569 </span><span class="pp-pln">                </span><span class="pp-tag">param</span><span class="pp-pln"> callback</span></div><div class="L0"><span class="pp-ln"> 570 </span><span class="pp-pln">                </span><span class="pp-tag">if</span><span class="pp-pln"> !md.isDirectory(sourcepath_string)</span></div><div class="L1"><span class="pp-ln"> 571 </span><span class="pp-pln">                    </span><span class="pp-tag">return</span></div><div class="L2"><span class="pp-ln"> 572 </span><span class="pp-pln">                        </span><span class="pp-tag">_</span><span class="pp-pln"> callback</span></div><div class="L3"><span class="pp-ln"> 573 </span><span class="pp-pln">                            </span><span class="pp-tag">@</span><span class="pp-pln"> null</span></div><div class="L4"><span class="pp-ln"> 574 </span><span class="pp-pln">                            </span><span class="pp-tag">{</span></div><div class="L5"><span class="pp-ln"> 575 </span><span class="pp-pln">                                </span><span class="pp-tag">@</span><span class="pp-pln"> moved false</span></div><div class="L6"><span class="pp-ln"> 576 </span><span class="pp-pln">                                </span><span class="pp-tag">@</span><span class="pp-pln"> reason 'Source folder does not exists or is not a folder'</span></div><div class="L7"><span class="pp-ln"> 577 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> fs.move</span></div><div class="L8"><span class="pp-ln"> 578 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> String(sourcepath_string)</span></div><div class="L9"><span class="pp-ln"> 579 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> String(destpath_string)</span></div><div class="L0"><span class="pp-ln"> 580 </span><span class="pp-pln">                    </span><span class="pp-mix frag-to-link-a" data-frag-id="d121">f_cb(</span><span class="pp-mix">)</span></div><div class="L1"><span class="pp-ln"> 581 </span><span class="pp-pln">                        </span><span class="pp-tag">_</span><span class="pp-pln"> callback</span></div><div class="L2"><span class="pp-ln"> 582 </span><span class="pp-pln">                            </span><span class="pp-tag">@</span><span class="pp-pln"> null</span></div><div class="L3"><span class="pp-ln"> 583 </span><span class="pp-pln">                            </span><span class="pp-tag">{</span></div><div class="L4"><span class="pp-ln"> 584 </span><span class="pp-pln">                                </span><span class="pp-tag">@</span><span class="pp-pln"> moved true</span></div><div class="L5"><span class="pp-ln"> 585 </span><span class="pp-pln">        </span><span class="pp-tag">#</span><span class="pp-pln"> async rename</span></div><div class="L6"><span class="pp-ln"> 586 </span><span class="pp-pln">        </span><span class="pp-tag">set</span><span class="pp-pln"> md.rename</span></div><div class="L7"><span class="pp-ln"> 587 </span><span class="pp-pln">            </span><span class="pp-tag">function</span></div><div class="L8"><span class="pp-ln"> 588 </span><span class="pp-pln">                </span><span class="pp-tag">param</span><span class="pp-pln"> oldpath_string</span></div><div class="L9"><span class="pp-ln"> 589 </span><span class="pp-pln">                </span><span class="pp-tag">param</span><span class="pp-pln"> newpath_string</span></div><div class="L0"><span class="pp-ln"> 590 </span><span class="pp-pln">                </span><span class="pp-tag">param</span><span class="pp-pln"> callback</span></div><div class="L1"><span class="pp-ln"> 591 </span><span class="pp-pln">                </span><span class="pp-tag">if</span><span class="pp-pln"> !md.exists(oldpath_string)</span></div><div class="L2"><span class="pp-ln"> 592 </span><span class="pp-pln">                    </span><span class="pp-tag">return</span></div><div class="L3"><span class="pp-ln"> 593 </span><span class="pp-pln">                        </span><span class="pp-tag">_</span><span class="pp-pln"> callback</span></div><div class="L4"><span class="pp-ln"> 594 </span><span class="pp-pln">                            </span><span class="pp-tag">@</span><span class="pp-pln"> null</span></div><div class="L5"><span class="pp-ln"> 595 </span><span class="pp-pln">                            </span><span class="pp-tag">{</span></div><div class="L6"><span class="pp-ln"> 596 </span><span class="pp-pln">                                </span><span class="pp-tag">@</span><span class="pp-pln"> renamed false</span></div><div class="L7"><span class="pp-ln"> 597 </span><span class="pp-pln">                                </span><span class="pp-tag">@</span><span class="pp-pln"> reason 'Source item does not exists'</span></div><div class="L8"><span class="pp-ln"> 598 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> fs.rename</span></div><div class="L9"><span class="pp-ln"> 599 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> String(oldpath_string)</span></div><div class="L0"><span class="pp-ln"> 600 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> String(newpath_string)</span></div><div class="L1"><span class="pp-ln"> 601 </span><span class="pp-pln">                    </span><span class="pp-mix frag-to-link-a" data-frag-id="d121">f_cb(</span><span class="pp-mix">)</span></div><div class="L2"><span class="pp-ln"> 602 </span><span class="pp-pln">                        </span><span class="pp-tag">return</span></div><div class="L3"><span class="pp-ln"> 603 </span><span class="pp-pln">                            </span><span class="pp-tag">_</span><span class="pp-pln"> callback</span></div><div class="L4"><span class="pp-ln"> 604 </span><span class="pp-pln">                                </span><span class="pp-tag">@</span><span class="pp-pln"> null</span></div><div class="L5"><span class="pp-ln"> 605 </span><span class="pp-pln">                                </span><span class="pp-tag">{</span></div><div class="L6"><span class="pp-ln"> 606 </span><span class="pp-pln">                                    </span><span class="pp-tag">@</span><span class="pp-pln"> renamed true</span></div><div class="L7"><span class="pp-ln"> 607 </span><span class="pp-pln">        </span><span class="pp-tag">#</span><span class="pp-pln"> async duplicate</span></div><div class="L8"><span class="pp-ln"> 608 </span><span class="pp-pln">        </span><span class="pp-tag">set</span><span class="pp-pln"> md.duplicate</span></div><div class="L9"><span class="pp-ln"> 609 </span><span class="pp-pln">            </span><span class="pp-tag">function</span></div><div class="L0"><span class="pp-ln"> 610 </span><span class="pp-pln">                </span><span class="pp-tag">param</span><span class="pp-pln"> oldpath_string</span></div><div class="L1"><span class="pp-ln"> 611 </span><span class="pp-pln">                </span><span class="pp-tag">param</span><span class="pp-pln"> newpath_string</span></div><div class="L2"><span class="pp-ln"> 612 </span><span class="pp-pln">                </span><span class="pp-tag">param</span><span class="pp-pln"> callback</span></div><div class="L3"><span class="pp-ln"> 613 </span><span class="pp-pln">                </span><span class="pp-tag">if</span><span class="pp-pln"> !md.exists(oldpath_string)</span></div><div class="L4"><span class="pp-ln"> 614 </span><span class="pp-pln">                    </span><span class="pp-tag">return</span></div><div class="L5"><span class="pp-ln"> 615 </span><span class="pp-pln">                        </span><span class="pp-tag">_</span><span class="pp-pln"> callback</span></div><div class="L6"><span class="pp-ln"> 616 </span><span class="pp-pln">                            </span><span class="pp-tag">@</span><span class="pp-pln"> null</span></div><div class="L7"><span class="pp-ln"> 617 </span><span class="pp-pln">                            </span><span class="pp-tag">{</span></div><div class="L8"><span class="pp-ln"> 618 </span><span class="pp-pln">                                </span><span class="pp-tag">@</span><span class="pp-pln"> duplicated false</span></div><div class="L9"><span class="pp-ln"> 619 </span><span class="pp-pln">                                </span><span class="pp-tag">@</span><span class="pp-pln"> reason 'Source item does not exists'</span></div><div class="L0"><span class="pp-ln"> 620 </span><span class="pp-pln">                </span><span class="pp-tag">if</span><span class="pp-pln"> md.exists(newpath_string)</span></div><div class="L1"><span class="pp-ln"> 621 </span><span class="pp-pln">                    </span><span class="pp-tag">return</span></div><div class="L2"><span class="pp-ln"> 622 </span><span class="pp-pln">                        </span><span class="pp-tag">_</span><span class="pp-pln"> callback</span></div><div class="L3"><span class="pp-ln"> 623 </span><span class="pp-pln">                            </span><span class="pp-tag">@</span><span class="pp-pln"> null</span></div><div class="L4"><span class="pp-ln"> 624 </span><span class="pp-pln">                            </span><span class="pp-tag">{</span></div><div class="L5"><span class="pp-ln"> 625 </span><span class="pp-pln">                                </span><span class="pp-tag">@</span><span class="pp-pln"> duplicated false</span></div><div class="L6"><span class="pp-ln"> 626 </span><span class="pp-pln">                                </span><span class="pp-tag">@</span><span class="pp-pln"> reason 'Destination item already exists'</span></div><div class="L7"><span class="pp-ln"> 627 </span><span class="pp-pln">                </span><span class="pp-tag">if</span><span class="pp-pln"> md.isFile(oldpath_string)</span></div><div class="L8"><span class="pp-ln"> 628 </span><span class="pp-pln">                    </span><span class="pp-tag">_</span><span class="pp-pln"> md.copyFile</span></div><div class="L9"><span class="pp-ln"> 629 </span><span class="pp-pln">                        </span><span class="pp-tag">@</span><span class="pp-pln"> oldpath_string</span></div><div class="L0"><span class="pp-ln"> 630 </span><span class="pp-pln">                        </span><span class="pp-tag">@</span><span class="pp-pln"> newpath_string</span></div><div class="L1"><span class="pp-ln"> 631 </span><span class="pp-pln">                        </span><span class="pp-mix frag-to-link-a" data-frag-id="d121">f_cb(</span><span class="pp-mix">)</span></div><div class="L2"><span class="pp-ln"> 632 </span><span class="pp-pln">                            </span><span class="pp-tag">return</span></div><div class="L3"><span class="pp-ln"> 633 </span><span class="pp-pln">                                </span><span class="pp-tag">_</span><span class="pp-pln"> callback</span></div><div class="L4"><span class="pp-ln"> 634 </span><span class="pp-pln">                                    </span><span class="pp-tag">@</span><span class="pp-pln"> null</span></div><div class="L5"><span class="pp-ln"> 635 </span><span class="pp-pln">                                    </span><span class="pp-tag">{</span></div><div class="L6"><span class="pp-ln"> 636 </span><span class="pp-pln">                                        </span><span class="pp-tag">@</span><span class="pp-pln"> duplicated true</span></div><div class="L7"><span class="pp-ln"> 637 </span><span class="pp-pln">                </span><span class="pp-tag">else</span></div><div class="L8"><span class="pp-ln"> 638 </span><span class="pp-pln">                    </span><span class="pp-tag">_</span><span class="pp-pln"> md.copyFolder</span></div><div class="L9"><span class="pp-ln"> 639 </span><span class="pp-pln">                        </span><span class="pp-tag">@</span><span class="pp-pln"> oldpath_string</span></div><div class="L0"><span class="pp-ln"> 640 </span><span class="pp-pln">                        </span><span class="pp-tag">@</span><span class="pp-pln"> newpath_string</span></div><div class="L1"><span class="pp-ln"> 641 </span><span class="pp-pln">                        </span><span class="pp-mix frag-to-link-a" data-frag-id="d121">f_cb(</span><span class="pp-mix">)</span></div><div class="L2"><span class="pp-ln"> 642 </span><span class="pp-pln">                            </span><span class="pp-tag">return</span></div><div class="L3"><span class="pp-ln"> 643 </span><span class="pp-pln">                                </span><span class="pp-tag">_</span><span class="pp-pln"> callback</span></div><div class="L4"><span class="pp-ln"> 644 </span><span class="pp-pln">                                    </span><span class="pp-tag">@</span><span class="pp-pln"> null</span></div><div class="L5"><span class="pp-ln"> 645 </span><span class="pp-pln">                                    </span><span class="pp-tag">{</span></div><div class="L6"><span class="pp-ln"> 646 </span><span class="pp-pln">                                        </span><span class="pp-tag">@</span><span class="pp-pln"> duplicated true</span></div></pre>
                    </div>
                </div>
                <div class="code-panel" id="d30">
                    <div class="modal-view-container">
                        <h4 class="d-h2">/src/ittf/lib/fs/uriParser.js.ittf</h4>
                        <pre class="prettyprint">

<div class="L1"><span class="pp-ln">   1 </span><span class="pp-pln"></span><span class="pp-tag">module</span><span class="pp-pln"> wizzi-utils.fs.uriParser</span></div><div class="L2"><span class="pp-ln">   2 </span><span class="pp-pln">    </span><span class="pp-tag">kind</span><span class="pp-pln"> jsfile</span></div><div class="L3"><span class="pp-ln">   3 </span><span class="pp-pln">    </span><span class="pp-tag">import</span><span class="pp-pln"> path</span></div><div class="L4"><span class="pp-ln">   4 </span><span class="pp-pln">    </span><span class="pp-tag">import</span><span class="pp-pln"> url</span></div><div class="L5"><span class="pp-ln">   5 </span><span class="pp-pln">    </span><span class="pp-tag">var</span><span class="pp-pln"> verify = require('../verify')</span></div><div class="L6"><span class="pp-ln">   6 </span><span class="pp-pln">    </span><span class="pp-tag">#</span></div><div class="L7"><span class="pp-ln">   7 </span><span class="pp-pln">        </span><span class="pp-tag">#</span><span class="pp-pln"> params</span></div><div class="L8"><span class="pp-ln">   8 </span><span class="pp-pln">        </span><span class="pp-tag">#</span><span class="pp-pln"> string uri</span></div><div class="L9"><span class="pp-ln">   9 </span><span class="pp-pln">        </span><span class="pp-tag">#</span><span class="pp-pln"> returns</span></div><div class="L0"><span class="pp-ln">  10 </span><span class="pp-pln">        </span><span class="pp-tag">#</span><span class="pp-pln"> {</span></div><div class="L1"><span class="pp-ln">  11 </span><span class="pp-pln">        </span><span class="pp-tag">#</span><span class="pp-pln"> string originalUri</span></div><div class="L2"><span class="pp-ln">  12 </span><span class="pp-pln">        </span><span class="pp-tag">#</span><span class="pp-pln"> string protocol</span></div><div class="L3"><span class="pp-ln">  13 </span><span class="pp-pln">        </span><span class="pp-tag">#</span><span class="pp-pln"> one-of 'db', 'ls', drive letter</span></div><div class="L4"><span class="pp-ln">  14 </span><span class="pp-pln">        </span><span class="pp-tag">#</span><span class="pp-pln"> string storeKind</span></div><div class="L5"><span class="pp-ln">  15 </span><span class="pp-pln">        </span><span class="pp-tag">#</span><span class="pp-pln"> one-of 'mongodb', 'localstorage', 'filesystem'</span></div><div class="L6"><span class="pp-ln">  16 </span><span class="pp-pln">        </span><span class="pp-tag">#</span><span class="pp-pln"> string userId</span></div><div class="L7"><span class="pp-ln">  17 </span><span class="pp-pln">        </span><span class="pp-tag">#</span><span class="pp-pln"> # if storeKind === 'mongodb'</span></div><div class="L8"><span class="pp-ln">  18 </span><span class="pp-pln">        </span><span class="pp-tag">#</span><span class="pp-pln"> string projectId</span></div><div class="L9"><span class="pp-ln">  19 </span><span class="pp-pln">        </span><span class="pp-tag">#</span><span class="pp-pln"> # if storeKind === 'mongodb'</span></div><div class="L0"><span class="pp-ln">  20 </span><span class="pp-pln">        </span><span class="pp-tag">#</span><span class="pp-pln"> string path</span></div><div class="L1"><span class="pp-ln">  21 </span><span class="pp-pln">        </span><span class="pp-tag">#</span><span class="pp-pln"> boolean isIttfDocument</span></div><div class="L2"><span class="pp-ln">  22 </span><span class="pp-pln">        </span><span class="pp-tag">#</span><span class="pp-pln"> string basename</span></div><div class="L3"><span class="pp-ln">  23 </span><span class="pp-pln">        </span><span class="pp-tag">#</span><span class="pp-pln"> string schema</span></div><div class="L4"><span class="pp-ln">  24 </span><span class="pp-pln">        </span><span class="pp-tag">#</span><span class="pp-pln"> # if isIttfDocument === true</span></div><div class="L5"><span class="pp-ln">  25 </span><span class="pp-pln">        </span><span class="pp-tag">#</span><span class="pp-pln"> string extension</span></div><div class="L6"><span class="pp-ln">  26 </span><span class="pp-pln">        </span><span class="pp-tag">#</span><span class="pp-pln"> # if isIttfDocument === false</span></div><div class="L7"><span class="pp-ln">  27 </span><span class="pp-pln">        </span><span class="pp-tag">#</span></div><div class="L8"><span class="pp-ln">  28 </span><span class="pp-pln">    </span><span class="pp-tag">set</span><span class="pp-pln"> module.exports</span></div><div class="L9"><span class="pp-ln">  29 </span><span class="pp-pln">        </span><span class="pp-tag">function</span><span class="pp-pln"> parse</span></div><div class="L0"><span class="pp-ln">  30 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> uri</span></div><div class="L1"><span class="pp-ln">  31 </span><span class="pp-pln">            </span><span class="pp-tag">set</span><span class="pp-pln"> uri = uri.toLowerCase()</span></div><div class="L2"><span class="pp-ln">  32 </span><span class="pp-pln">            </span><span class="pp-tag">var</span><span class="pp-pln"> ret</span></div><div class="L3"><span class="pp-ln">  33 </span><span class="pp-pln">                </span><span class="pp-tag">{</span></div><div class="L4"><span class="pp-ln">  34 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> originalUri uri</span></div><div class="L5"><span class="pp-ln">  35 </span><span class="pp-pln">            </span><span class="pp-tag">var</span><span class="pp-pln"> parsedUri = url.parse(uri)</span></div><div class="L6"><span class="pp-ln">  36 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> typeof(parsedUri.protocol) !== 'string'</span></div><div class="L7"><span class="pp-ln">  37 </span><span class="pp-pln">                </span><span class="pp-mix frag-to-link-a" data-frag-id="d125">r_wz_err(</span><span class="pp-arg"> InvalidArgument</span><span class="pp-pln">,</span><span class="pp-arg">  parse </span><span class="pp-mix">)</span></div><div class="L8"><span class="pp-ln">  38 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> 'Uri must have a protocol (must be an absolute url). Received: ' + uri</span></div><div class="L9"><span class="pp-ln">  39 </span><span class="pp-pln">            </span><span class="pp-tag">var</span><span class="pp-pln"> protocol</span></div><div class="L0"><span class="pp-ln">  40 </span><span class="pp-pln">                </span><span class="pp-tag">iif</span><span class="pp-pln"> parsedUri.protocol.substr(-1, 1) === ':'</span></div><div class="L1"><span class="pp-ln">  41 </span><span class="pp-pln">                    </span><span class="pp-tag">then</span></div><div class="L2"><span class="pp-ln">  42 </span><span class="pp-pln">                        </span><span class="pp-tag">_</span><span class="pp-pln"> parsedUri.protocol.substr(0, (parsedUri.protocol.length - 1))</span></div><div class="L3"><span class="pp-ln">  43 </span><span class="pp-pln">                    </span><span class="pp-tag">else</span></div><div class="L4"><span class="pp-ln">  44 </span><span class="pp-pln">                        </span><span class="pp-tag">set</span><span class="pp-pln"> parsedUri.protocol</span></div><div class="L5"><span class="pp-ln">  45 </span><span class="pp-pln">            </span><span class="pp-tag">set</span><span class="pp-pln"> ret.protocol = protocol</span></div><div class="L6"><span class="pp-ln">  46 </span><span class="pp-pln">            </span><span class="pp-tag">set</span><span class="pp-pln"> ret.storeKind = 'filesystem'</span></div><div class="L7"><span class="pp-ln">  47 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> protocol === 'db'</span></div><div class="L8"><span class="pp-ln">  48 </span><span class="pp-pln">                </span><span class="pp-tag">set</span><span class="pp-pln"> ret.storeKind = 'mongodb'</span></div><div class="L9"><span class="pp-ln">  49 </span><span class="pp-pln">            </span><span class="pp-tag">elif</span><span class="pp-pln"> protocol === 'ls'</span></div><div class="L0"><span class="pp-ln">  50 </span><span class="pp-pln">                </span><span class="pp-tag">set</span><span class="pp-pln"> ret.storeKind = 'localstorage'</span></div><div class="L1"><span class="pp-ln">  51 </span><span class="pp-pln">            </span><span class="pp-tag">#</span><span class="pp-pln"> log 'parseuri.parsedUri', parsedUri</span></div><div class="L2"><span class="pp-ln">  52 </span><span class="pp-pln">            </span><span class="pp-tag">var</span></div><div class="L3"><span class="pp-ln">  53 </span><span class="pp-pln">                </span><span class="pp-tag">decl</span><span class="pp-pln"> name</span></div><div class="L4"><span class="pp-ln">  54 </span><span class="pp-pln">                </span><span class="pp-tag">decl</span><span class="pp-pln"> parts = parsedUri.pathname ? parsedUri.pathname.split('/') : []</span></div><div class="L5"><span class="pp-ln">  55 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> parsedUri.pathname && parsedUri.pathname.length &gt; 0 && parsedUri.pathname[0] == '/'</span></div><div class="L6"><span class="pp-ln">  56 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> parts.shift()</span></div><div class="L7"><span class="pp-ln">  57 </span><span class="pp-pln">            </span><span class="pp-tag">set</span><span class="pp-pln"> name = parts[parts.length-1]</span></div><div class="L8"><span class="pp-ln">  58 </span><span class="pp-pln">            </span><span class="pp-tag">set</span><span class="pp-pln"> ret.basename = name</span></div><div class="L9"><span class="pp-ln">  59 </span><span class="pp-pln">            </span><span class="pp-tag">var</span><span class="pp-pln"> nameparts = name.split('.')</span></div><div class="L0"><span class="pp-ln">  60 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> nameparts.length &gt; 2 && nameparts[nameparts.length -1] === 'ittf'</span></div><div class="L1"><span class="pp-ln">  61 </span><span class="pp-pln">                </span><span class="pp-tag">set</span><span class="pp-pln"> ret.isIttfDocument = true</span></div><div class="L2"><span class="pp-ln">  62 </span><span class="pp-pln">                </span><span class="pp-tag">set</span><span class="pp-pln"> ret.schema = nameparts[nameparts.length -2]</span></div><div class="L3"><span class="pp-ln">  63 </span><span class="pp-pln">            </span><span class="pp-tag">else</span></div><div class="L4"><span class="pp-ln">  64 </span><span class="pp-pln">                </span><span class="pp-tag">set</span><span class="pp-pln"> ret.isIttfDocument = false</span></div><div class="L5"><span class="pp-ln">  65 </span><span class="pp-pln">                </span><span class="pp-tag">set</span><span class="pp-pln"> ret.extension = nameparts[nameparts.length -1]</span></div><div class="L6"><span class="pp-ln">  66 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> parts.length &lt; 2</span></div><div class="L7"><span class="pp-ln">  67 </span><span class="pp-pln">            </span><span class="pp-tag">#</span><span class="pp-pln"> log 'wizzi-utils.fs.uriParser.parsedUri.parts', parts</span></div><div class="L8"><span class="pp-ln">  68 </span><span class="pp-pln">            </span><span class="pp-tag">#</span><span class="pp-pln"> log 'wizzi-utils.fs.uriParser.parsedUri', parsedUri</span></div><div class="L9"><span class="pp-ln">  69 </span><span class="pp-pln">            </span><span class="pp-tag">set</span><span class="pp-pln"> ret.userId = parsedUri.host</span></div><div class="L0"><span class="pp-ln">  70 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> parts.length &gt; 0</span></div><div class="L1"><span class="pp-ln">  71 </span><span class="pp-pln">                </span><span class="pp-tag">set</span><span class="pp-pln"> ret.projectId = parts[0]</span></div><div class="L2"><span class="pp-ln">  72 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> parts.shift();</span></div><div class="L3"><span class="pp-ln">  73 </span><span class="pp-pln">            </span><span class="pp-tag">set</span><span class="pp-pln"> ret.path = parts.join('/')</span></div><div class="L4"><span class="pp-ln">  74 </span><span class="pp-pln">            </span><span class="pp-tag">#</span><span class="pp-pln"> log 'parseuri.ret', ret</span></div><div class="L5"><span class="pp-ln">  75 </span><span class="pp-pln">            </span><span class="pp-tag">return</span><span class="pp-pln"> ret</span></div></pre>
                    </div>
                </div>
                <div class="code-panel" id="d31">
                    <div class="modal-view-container">
                        <h4 class="d-h2">/src/ittf/lib/fs/vfile.js.ittf</h4>
                        <pre class="prettyprint">

<div class="L1"><span class="pp-ln">   1 </span><span class="pp-pln"></span><span class="pp-tag">module</span><span class="pp-pln"> wizzi-utils.fs.vfile</span></div><div class="L2"><span class="pp-ln">   2 </span><span class="pp-pln">    </span><span class="pp-tag">kind</span><span class="pp-pln"> jsfile</span></div><div class="L3"><span class="pp-ln">   3 </span><span class="pp-pln">    </span><span class="pp-tag">#</span></div><div class="L4"><span class="pp-ln">   4 </span><span class="pp-pln">        </span><span class="pp-tag">#</span><span class="pp-pln"> virtual file manager</span></div><div class="L5"><span class="pp-ln">   5 </span><span class="pp-pln">        </span><span class="pp-tag">#</span><span class="pp-pln"> WORK IN PROGRESS</span></div><div class="L6"><span class="pp-ln">   6 </span><span class="pp-pln">    </span><span class="pp-tag">var</span><span class="pp-pln"> path = require('path')</span></div><div class="L7"><span class="pp-ln">   7 </span><span class="pp-pln">    </span><span class="pp-tag">var</span><span class="pp-pln"> iconv = require('iconv-lite')</span></div><div class="L8"><span class="pp-ln">   8 </span><span class="pp-pln">    </span><span class="pp-tag">var</span><span class="pp-pln"> async = require('async')</span></div><div class="L9"><span class="pp-ln">   9 </span><span class="pp-pln">    </span><span class="pp-tag">var</span><span class="pp-pln"> _ = require('lodash')</span></div><div class="L0"><span class="pp-ln">  10 </span><span class="pp-pln">    </span><span class="pp-tag">var</span><span class="pp-pln"> glob = require('../glob')</span></div><div class="L1"><span class="pp-ln">  11 </span><span class="pp-pln">    </span><span class="pp-tag">var</span><span class="pp-pln"> verify = require('../verify')</span></div><div class="L2"><span class="pp-ln">  12 </span><span class="pp-pln">    </span><span class="pp-tag">var</span><span class="pp-pln"> errors = require('../errors')</span></div><div class="L3"><span class="pp-ln">  13 </span><span class="pp-pln">    </span><span class="pp-tag">var</span><span class="pp-pln"> uriParser = require('./uriParser')</span></div><div class="L4"><span class="pp-ln">  14 </span><span class="pp-pln">    </span><span class="pp-tag">+</span></div><div class="L5"><span class="pp-ln">  15 </span><span class="pp-pln">    </span><span class="pp-tag">var</span><span class="pp-pln"> PATH_SEPARATOR_RE = /[\/\\]/g</span></div><div class="L6"><span class="pp-ln">  16 </span><span class="pp-pln">    </span><span class="pp-tag">var</span><span class="pp-pln"> DEFAULT_DECODING = 'utf8'</span></div><div class="L7"><span class="pp-ln">  17 </span><span class="pp-pln">    </span><span class="pp-tag">var</span><span class="pp-pln"> PRESERVE_BOM = false</span></div><div class="L8"><span class="pp-ln">  18 </span><span class="pp-pln">    </span><span class="pp-tag">var</span><span class="pp-pln"> win32 = process.platform === 'win32'</span></div><div class="L9"><span class="pp-ln">  19 </span><span class="pp-pln">    </span><span class="pp-tag">+</span></div><div class="L0"><span class="pp-ln">  20 </span><span class="pp-pln">    </span><span class="pp-tag">var</span><span class="pp-pln"> GET_FILES_DEFAULTS</span></div><div class="L1"><span class="pp-ln">  21 </span><span class="pp-pln">        </span><span class="pp-tag">{</span></div><div class="L2"><span class="pp-ln">  22 </span><span class="pp-pln">            </span><span class="pp-tag">@</span><span class="pp-pln"> deep true</span></div><div class="L3"><span class="pp-ln">  23 </span><span class="pp-pln">            </span><span class="pp-tag">@</span><span class="pp-pln"> extension null</span></div><div class="L4"><span class="pp-ln">  24 </span><span class="pp-pln">            </span><span class="pp-tag">@</span><span class="pp-pln"> documentContent false</span></div><div class="L5"><span class="pp-ln">  25 </span><span class="pp-pln">    </span><span class="pp-tag">var</span><span class="pp-pln"> GET_FOLDERS_DEFAULTS</span></div><div class="L6"><span class="pp-ln">  26 </span><span class="pp-pln">        </span><span class="pp-tag">{</span></div><div class="L7"><span class="pp-ln">  27 </span><span class="pp-pln">            </span><span class="pp-tag">@</span><span class="pp-pln"> deep true</span></div><div class="L8"><span class="pp-ln">  28 </span><span class="pp-pln">            </span><span class="pp-tag">@</span><span class="pp-pln"> tFoldersOnly false</span></div><div class="L9"><span class="pp-ln">  29 </span><span class="pp-pln">            </span><span class="pp-tag">@</span><span class="pp-pln"> documentNames false</span></div><div class="L0"><span class="pp-ln">  30 </span><span class="pp-pln">    </span><span class="pp-tag">+</span></div><div class="L1"><span class="pp-ln">  31 </span><span class="pp-pln">    </span><span class="pp-tag">set</span><span class="pp-pln"> module.exports</span></div><div class="L2"><span class="pp-ln">  32 </span><span class="pp-pln">        </span><span class="pp-tag">function</span></div><div class="L3"><span class="pp-ln">  33 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> fsimpl</span></div><div class="L4"><span class="pp-ln">  34 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> typeof(fsimpl) === 'undefined'</span></div><div class="L5"><span class="pp-ln">  35 </span><span class="pp-pln">                </span><span class="pp-tag">set</span><span class="pp-pln"> fsimpl = default_fs()</span></div><div class="L6"><span class="pp-ln">  36 </span><span class="pp-pln">            </span><span class="pp-tag">return</span></div><div class="L7"><span class="pp-ln">  37 </span><span class="pp-pln">                </span><span class="pp-tag">new</span><span class="pp-pln"> VFile</span></div><div class="L8"><span class="pp-ln">  38 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> fsimpl</span></div><div class="L9"><span class="pp-ln">  39 </span><span class="pp-pln">    </span><span class="pp-tag">class</span><span class="pp-pln"> VFile</span></div><div class="L0"><span class="pp-ln">  40 </span><span class="pp-pln">        </span><span class="pp-tag">ctor</span></div><div class="L1"><span class="pp-ln">  41 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> fsimpl</span></div><div class="L2"><span class="pp-ln">  42 </span><span class="pp-pln">            </span><span class="pp-tag">set</span><span class="pp-pln"> this.fsimpl = fsimpl</span></div><div class="L3"><span class="pp-ln">  43 </span><span class="pp-pln">        </span><span class="pp-tag">m</span><span class="pp-pln"> close</span></div><div class="L4"><span class="pp-ln">  44 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> this.fsimpl.close</span></div><div class="L5"><span class="pp-ln">  45 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> this.fsimpl.close</span></div><div class="L6"><span class="pp-ln">  46 </span><span class="pp-pln">        </span><span class="pp-tag">m</span><span class="pp-pln"> stat</span></div><div class="L7"><span class="pp-ln">  47 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> path_string</span></div><div class="L8"><span class="pp-ln">  48 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> callback</span></div><div class="L9"><span class="pp-ln">  49 </span><span class="pp-pln">            </span><span class="pp-tag">return</span><span class="pp-pln"> this.fsimpl.stat(path_string, callback)</span></div><div class="L0"><span class="pp-ln">  50 </span><span class="pp-pln">        </span><span class="pp-tag">m</span><span class="pp-pln"> statSync</span></div><div class="L1"><span class="pp-ln">  51 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> path_string</span></div><div class="L2"><span class="pp-ln">  52 </span><span class="pp-pln">            </span><span class="pp-tag">return</span><span class="pp-pln"> this.fsimpl.statSync(path_string)</span></div><div class="L3"><span class="pp-ln">  53 </span><span class="pp-pln">        </span><span class="pp-tag">m</span><span class="pp-pln"> lstat</span></div><div class="L4"><span class="pp-ln">  54 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> path_string</span></div><div class="L5"><span class="pp-ln">  55 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> callback</span></div><div class="L6"><span class="pp-ln">  56 </span><span class="pp-pln">            </span><span class="pp-tag">#</span><span class="pp-pln"> lstat() is identical to stat(),</span></div><div class="L7"><span class="pp-ln">  57 </span><span class="pp-pln">            </span><span class="pp-tag">#</span><span class="pp-pln"> except that if path is a symbolic link,</span></div><div class="L8"><span class="pp-ln">  58 </span><span class="pp-pln">            </span><span class="pp-tag">#</span><span class="pp-pln"> then the link itself is stat-ed,</span></div><div class="L9"><span class="pp-ln">  59 </span><span class="pp-pln">            </span><span class="pp-tag">#</span><span class="pp-pln"> not the file that it refers to.</span></div><div class="L0"><span class="pp-ln">  60 </span><span class="pp-pln">            </span><span class="pp-tag">return</span><span class="pp-pln"> this.fsimpl.lstat(path_string, callback)</span></div><div class="L1"><span class="pp-ln">  61 </span><span class="pp-pln">        </span><span class="pp-tag">m</span><span class="pp-pln"> lstatSync</span></div><div class="L2"><span class="pp-ln">  62 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> path_string</span></div><div class="L3"><span class="pp-ln">  63 </span><span class="pp-pln">            </span><span class="pp-tag">#</span><span class="pp-pln"> lstat() is identical to stat(),</span></div><div class="L4"><span class="pp-ln">  64 </span><span class="pp-pln">            </span><span class="pp-tag">#</span><span class="pp-pln"> except that if path is a symbolic link,</span></div><div class="L5"><span class="pp-ln">  65 </span><span class="pp-pln">            </span><span class="pp-tag">#</span><span class="pp-pln"> then the link itself is stat-ed,</span></div><div class="L6"><span class="pp-ln">  66 </span><span class="pp-pln">            </span><span class="pp-tag">#</span><span class="pp-pln"> not the file that it refers to.</span></div><div class="L7"><span class="pp-ln">  67 </span><span class="pp-pln">            </span><span class="pp-tag">return</span><span class="pp-pln"> this.fsimpl.lstatSync(path_string)</span></div><div class="L8"><span class="pp-ln">  68 </span><span class="pp-pln">        </span><span class="pp-tag">m</span><span class="pp-pln"> readdir</span></div><div class="L9"><span class="pp-ln">  69 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> path_string</span></div><div class="L0"><span class="pp-ln">  70 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> options</span></div><div class="L1"><span class="pp-ln">  71 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> callback</span></div><div class="L2"><span class="pp-ln">  72 </span><span class="pp-pln">            </span><span class="pp-tag">return</span><span class="pp-pln"> this.fsimpl.readdir(path_string, options, callback)</span></div><div class="L3"><span class="pp-ln">  73 </span><span class="pp-pln">        </span><span class="pp-tag">m</span><span class="pp-pln"> readdirSync</span></div><div class="L4"><span class="pp-ln">  74 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> path_string</span></div><div class="L5"><span class="pp-ln">  75 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> options</span></div><div class="L6"><span class="pp-ln">  76 </span><span class="pp-pln">            </span><span class="pp-tag">return</span><span class="pp-pln"> this.fsimpl.readdirSync(path_string, options)</span></div><div class="L7"><span class="pp-ln">  77 </span><span class="pp-pln">        </span><span class="pp-mix frag-to-link-a" data-frag-id="d28">vfile/m(</span><span class="pp-arg"> read</span><span class="pp-pln">,</span><span class="pp-arg">  readFileSync</span><span class="pp-pln">,</span><span class="pp-arg">  options </span><span class="pp-mix">)</span></div><div class="L8"><span class="pp-ln">  78 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> !options</span></div><div class="L9"><span class="pp-ln">  79 </span><span class="pp-pln">                </span><span class="pp-tag">set</span><span class="pp-pln"> options</span></div><div class="L0"><span class="pp-ln">  80 </span><span class="pp-pln">                    </span><span class="pp-tag">{</span></div><div class="L1"><span class="pp-ln">  81 </span><span class="pp-pln">                        </span><span class="pp-tag">@</span><span class="pp-pln"> encoding DEFAULT_DECODING</span></div><div class="L2"><span class="pp-ln">  82 </span><span class="pp-pln">            </span><span class="pp-kwd">$append</span><span class="pp-pln"> async</span></div><div class="L3"><span class="pp-ln">  83 </span><span class="pp-pln">                </span><span class="pp-tag">var</span><span class="pp-pln"> parsedUri = uriParser(path_string)</span></div><div class="L4"><span class="pp-ln">  84 </span><span class="pp-pln">                </span><span class="pp-tag">#</span><span class="pp-pln"> read buffer (no options)</span></div><div class="L5"><span class="pp-ln">  85 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> this.fsimpl.readFile</span></div><div class="L6"><span class="pp-ln">  86 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> path_string</span></div><div class="L7"><span class="pp-ln">  87 </span><span class="pp-pln">                    </span><span class="pp-mix frag-to-link-a" data-frag-id="d121">f_cb(</span><span class="pp-arg"> contents </span><span class="pp-mix">)</span></div><div class="L8"><span class="pp-ln">  88 </span><span class="pp-pln">                        </span><span class="pp-tag">if</span><span class="pp-pln"> parsedUri.storeKind === 'filesystem'</span></div><div class="L9"><span class="pp-ln">  89 </span><span class="pp-pln">                            </span><span class="pp-tag">if</span><span class="pp-pln"> options.encoding !== null</span></div><div class="L0"><span class="pp-ln">  90 </span><span class="pp-pln">                                </span><span class="pp-tag">set</span><span class="pp-pln"> contents = iconv.decode(contents, (options.encoding || DEFAULT_DECODING))</span></div><div class="L1"><span class="pp-ln">  91 </span><span class="pp-pln">                                </span><span class="pp-tag">if</span><span class="pp-pln"> !PRESERVE_BOM && contents.charCodeAt(0) === 0xFEFF</span></div><div class="L2"><span class="pp-ln">  92 </span><span class="pp-pln">                                    </span><span class="pp-tag">set</span><span class="pp-pln"> contents = contents.substring(1)</span></div><div class="L3"><span class="pp-ln">  93 </span><span class="pp-pln">                        </span><span class="pp-tag">return</span></div><div class="L4"><span class="pp-ln">  94 </span><span class="pp-pln">                            </span><span class="pp-tag">_</span><span class="pp-pln"> callback</span></div><div class="L5"><span class="pp-ln">  95 </span><span class="pp-pln">                                </span><span class="pp-tag">@</span><span class="pp-pln"> null</span></div><div class="L6"><span class="pp-ln">  96 </span><span class="pp-pln">                                </span><span class="pp-tag">@</span><span class="pp-pln"> contents</span></div><div class="L7"><span class="pp-ln">  97 </span><span class="pp-pln">            </span><span class="pp-kwd">$append</span><span class="pp-pln"> sync</span></div><div class="L8"><span class="pp-ln">  98 </span><span class="pp-pln">                </span><span class="pp-tag">#</span><span class="pp-pln"> read buffer (no options)</span></div><div class="L9"><span class="pp-ln">  99 </span><span class="pp-pln">                </span><span class="pp-tag">var</span><span class="pp-pln"> contents = this.fsimpl.readFileSync(path_string)</span></div><div class="L0"><span class="pp-ln"> 100 </span><span class="pp-pln">                </span><span class="pp-tag">if</span><span class="pp-pln"> options.encoding !== null</span></div><div class="L1"><span class="pp-ln"> 101 </span><span class="pp-pln">                    </span><span class="pp-tag">set</span><span class="pp-pln"> contents = iconv.decode(contents, (options.encoding || DEFAULT_DECODING))</span></div><div class="L2"><span class="pp-ln"> 102 </span><span class="pp-pln">                    </span><span class="pp-tag">if</span><span class="pp-pln"> !PRESERVE_BOM && contents.charCodeAt(0) === 0xFEFF</span></div><div class="L3"><span class="pp-ln"> 103 </span><span class="pp-pln">                        </span><span class="pp-tag">set</span><span class="pp-pln"> contents = contents.substring(1)</span></div><div class="L4"><span class="pp-ln"> 104 </span><span class="pp-pln">                </span><span class="pp-tag">return</span><span class="pp-pln"> contents</span></div><div class="L5"><span class="pp-ln"> 105 </span><span class="pp-pln">        </span><span class="pp-mix frag-to-link-a" data-frag-id="d28">vfile/m(</span><span class="pp-arg"> write</span><span class="pp-pln">,</span><span class="pp-arg">  writeFileSync</span><span class="pp-pln">,</span><span class="pp-arg">  contents</span><span class="pp-pln">,</span><span class="pp-arg">  options </span><span class="pp-mix">)</span></div><div class="L6"><span class="pp-ln"> 106 </span><span class="pp-pln">            </span><span class="pp-tag">var</span><span class="pp-pln"> parsedUri = uriParser(path_string)</span></div><div class="L7"><span class="pp-ln"> 107 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> !options</span></div><div class="L8"><span class="pp-ln"> 108 </span><span class="pp-pln">                </span><span class="pp-tag">set</span><span class="pp-pln"> options = {}</span></div><div class="L9"><span class="pp-ln"> 109 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> parsedUri.storeKind === 'filesystem'</span></div><div class="L0"><span class="pp-ln"> 110 </span><span class="pp-pln">                </span><span class="pp-tag">if</span><span class="pp-pln"> !Buffer.isBuffer(contents)</span></div><div class="L1"><span class="pp-ln"> 111 </span><span class="pp-pln">                    </span><span class="pp-tag">set</span><span class="pp-pln"> contents = iconv.encode(contents, (options.encoding || DEFAULT_DECODING))</span></div><div class="L2"><span class="pp-ln"> 112 </span><span class="pp-pln">            </span><span class="pp-kwd">$append</span><span class="pp-pln"> async</span></div><div class="L3"><span class="pp-ln"> 113 </span><span class="pp-pln">                </span><span class="pp-tag">var</span><span class="pp-pln"> that = this</span></div><div class="L4"><span class="pp-ln"> 114 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> this.mkpath</span></div><div class="L5"><span class="pp-ln"> 115 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> path_string</span></div><div class="L6"><span class="pp-ln"> 116 </span><span class="pp-pln">                    </span><span class="pp-mix frag-to-link-a" data-frag-id="d121">f_cb(</span><span class="pp-arg"> notUsed </span><span class="pp-mix">)</span></div><div class="L7"><span class="pp-ln"> 117 </span><span class="pp-pln">                        </span><span class="pp-tag">return</span></div><div class="L8"><span class="pp-ln"> 118 </span><span class="pp-pln">                            </span><span class="pp-tag">_</span><span class="pp-pln"> that.fsimpl.writeFile</span></div><div class="L9"><span class="pp-ln"> 119 </span><span class="pp-pln">                                </span><span class="pp-tag">@</span><span class="pp-pln"> path_string</span></div><div class="L0"><span class="pp-ln"> 120 </span><span class="pp-pln">                                </span><span class="pp-tag">@</span><span class="pp-pln"> contents</span></div><div class="L1"><span class="pp-ln"> 121 </span><span class="pp-pln">                                </span><span class="pp-tag">@</span><span class="pp-pln"> callback</span></div><div class="L2"><span class="pp-ln"> 122 </span><span class="pp-pln">            </span><span class="pp-kwd">$append</span><span class="pp-pln"> sync</span></div><div class="L3"><span class="pp-ln"> 123 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> this.mkpath(path_string)</span></div><div class="L4"><span class="pp-ln"> 124 </span><span class="pp-pln">                </span><span class="pp-tag">try</span></div><div class="L5"><span class="pp-ln"> 125 </span><span class="pp-pln">                    </span><span class="pp-tag">_</span><span class="pp-pln"> this.fsimpl.writeFileSync(path_string, contents)</span></div><div class="L6"><span class="pp-ln"> 126 </span><span class="pp-pln">                </span><span class="pp-tag">catch</span><span class="pp-pln"> ex</span></div><div class="L7"><span class="pp-ln"> 127 </span><span class="pp-pln">                    </span><span class="pp-tag">set</span><span class="pp-pln"> ex.message = 'Writing file ' + path_string + '.\n' + ex.message</span></div><div class="L8"><span class="pp-ln"> 128 </span><span class="pp-pln">                    </span><span class="pp-tag">throw</span><span class="pp-pln"> ex</span></div><div class="L9"><span class="pp-ln"> 129 </span><span class="pp-pln">        </span><span class="pp-tag">m</span><span class="pp-pln"> openWrite</span></div><div class="L0"><span class="pp-ln"> 130 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> path_string</span></div><div class="L1"><span class="pp-ln"> 131 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> callback</span></div><div class="L2"><span class="pp-ln"> 132 </span><span class="pp-pln">            </span><span class="pp-tag">var</span><span class="pp-pln"> stream</span></div><div class="L3"><span class="pp-ln"> 133 </span><span class="pp-pln">            </span><span class="pp-tag">var</span><span class="pp-pln"> that = this</span></div><div class="L4"><span class="pp-ln"> 134 </span><span class="pp-pln">            </span><span class="pp-tag">_</span><span class="pp-pln"> this.isDirectoryAsync</span></div><div class="L5"><span class="pp-ln"> 135 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> path_string</span></div><div class="L6"><span class="pp-ln"> 136 </span><span class="pp-pln">                </span><span class="pp-mix frag-to-link-a" data-frag-id="d121">f_cb(</span><span class="pp-arg"> isDirectory </span><span class="pp-mix">)</span></div><div class="L7"><span class="pp-ln"> 137 </span><span class="pp-pln">                    </span><span class="pp-tag">if</span><span class="pp-pln"> isDirectory</span></div><div class="L8"><span class="pp-ln"> 138 </span><span class="pp-pln">                        </span><span class="pp-tag">return</span></div><div class="L9"><span class="pp-ln"> 139 </span><span class="pp-pln">                            </span><span class="pp-tag">_</span><span class="pp-pln"> callback</span></div><div class="L0"><span class="pp-ln"> 140 </span><span class="pp-pln">                                </span><span class="pp-tag">_</span><span class="pp-pln"> error</span></div><div class="L1"><span class="pp-ln"> 141 </span><span class="pp-pln">                                    </span><span class="pp-tag">@</span><span class="pp-pln"> 'VFileError'</span></div><div class="L2"><span class="pp-ln"> 142 </span><span class="pp-pln">                                    </span><span class="pp-tag">@</span><span class="pp-pln"> 'openWrite'</span></div><div class="L3"><span class="pp-ln"> 143 </span><span class="pp-pln">                                    </span><span class="pp-tag">@</span><span class="pp-pln"> 'Write path already exists and is a directory path : ' + path_string</span></div><div class="L4"><span class="pp-ln"> 144 </span><span class="pp-pln">                    </span><span class="pp-tag">_</span><span class="pp-pln"> that.isFileAsync</span></div><div class="L5"><span class="pp-ln"> 145 </span><span class="pp-pln">                        </span><span class="pp-tag">@</span><span class="pp-pln"> path_string</span></div><div class="L6"><span class="pp-ln"> 146 </span><span class="pp-pln">                        </span><span class="pp-mix frag-to-link-a" data-frag-id="d121">f_cb(</span><span class="pp-arg"> isFile </span><span class="pp-mix">)</span></div><div class="L7"><span class="pp-ln"> 147 </span><span class="pp-pln">                            </span><span class="pp-tag">if</span><span class="pp-pln"> isFile</span></div><div class="L8"><span class="pp-ln"> 148 </span><span class="pp-pln">                                </span><span class="pp-tag">_</span><span class="pp-pln"> that.fsimpl.unlink</span></div><div class="L9"><span class="pp-ln"> 149 </span><span class="pp-pln">                                    </span><span class="pp-tag">@</span><span class="pp-pln"> path_string</span></div><div class="L0"><span class="pp-ln"> 150 </span><span class="pp-pln">                                    </span><span class="pp-mix frag-to-link-a" data-frag-id="d121">f_cb(</span><span class="pp-arg"> notUsed </span><span class="pp-mix">)</span></div><div class="L1"><span class="pp-ln"> 151 </span><span class="pp-pln">                                        </span><span class="pp-mix frag-to-link-a" data-frag-id="d116">checked_call(</span><span class="pp-arg"> stream </span><span class="pp-mix">)</span></div><div class="L2"><span class="pp-ln"> 152 </span><span class="pp-pln">                                            </span><span class="pp-tag">_</span><span class="pp-pln"> that.fsimpl.createWriteStream(path_string)</span></div><div class="L3"><span class="pp-ln"> 153 </span><span class="pp-pln">                                        </span><span class="pp-tag">_</span><span class="pp-pln"> callback(null, stream)</span></div><div class="L4"><span class="pp-ln"> 154 </span><span class="pp-pln">                            </span><span class="pp-tag">else</span></div><div class="L5"><span class="pp-ln"> 155 </span><span class="pp-pln">                                </span><span class="pp-tag">_</span><span class="pp-pln"> that.mkpath</span></div><div class="L6"><span class="pp-ln"> 156 </span><span class="pp-pln">                                    </span><span class="pp-tag">@</span><span class="pp-pln"> path_string</span></div><div class="L7"><span class="pp-ln"> 157 </span><span class="pp-pln">                                    </span><span class="pp-mix frag-to-link-a" data-frag-id="d121">f_cb(</span><span class="pp-arg"> notUsed </span><span class="pp-mix">)</span></div><div class="L8"><span class="pp-ln"> 158 </span><span class="pp-pln">                                        </span><span class="pp-mix frag-to-link-a" data-frag-id="d116">checked_call(</span><span class="pp-arg"> stream </span><span class="pp-mix">)</span></div><div class="L9"><span class="pp-ln"> 159 </span><span class="pp-pln">                                            </span><span class="pp-tag">_</span><span class="pp-pln"> that.fsimpl.createWriteStream(path_string)</span></div><div class="L0"><span class="pp-ln"> 160 </span><span class="pp-pln">                                        </span><span class="pp-tag">_</span><span class="pp-pln"> callback(null, stream)</span></div><div class="L1"><span class="pp-ln"> 161 </span><span class="pp-pln">        </span><span class="pp-tag">m</span><span class="pp-pln"> mkpath</span></div><div class="L2"><span class="pp-ln"> 162 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> path_string</span></div><div class="L3"><span class="pp-ln"> 163 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> callback</span></div><div class="L4"><span class="pp-ln"> 164 </span><span class="pp-pln">            </span><span class="pp-tag">var</span><span class="pp-pln"> dir = path.dirname(path_string)</span></div><div class="L5"><span class="pp-ln"> 165 </span><span class="pp-pln">            </span><span class="pp-tag">return</span></div><div class="L6"><span class="pp-ln"> 166 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> this.mkdir</span></div><div class="L7"><span class="pp-ln"> 167 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> dir</span></div><div class="L8"><span class="pp-ln"> 168 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> callback</span></div><div class="L9"><span class="pp-ln"> 169 </span><span class="pp-pln">        </span><span class="pp-mix frag-to-link-a" data-frag-id="d28">vfile/m(</span><span class="pp-arg"> mkdir</span><span class="pp-pln">,</span><span class="pp-arg">  mkdirSync </span><span class="pp-mix">)</span></div><div class="L0"><span class="pp-ln"> 170 </span><span class="pp-pln">            </span><span class="pp-kwd">$append</span><span class="pp-pln"> async</span></div><div class="L1"><span class="pp-ln"> 171 </span><span class="pp-pln">                </span><span class="pp-tag">var</span><span class="pp-pln"> curpath, subpath, parts, len</span></div><div class="L2"><span class="pp-ln"> 172 </span><span class="pp-pln">                </span><span class="pp-tag">var</span><span class="pp-pln"> parsedUri = uriParser(path_string)</span></div><div class="L3"><span class="pp-ln"> 173 </span><span class="pp-pln">                </span><span class="pp-tag">if</span><span class="pp-pln"> parsedUri.protocol === 'db'</span></div><div class="L4"><span class="pp-ln"> 174 </span><span class="pp-pln">                    </span><span class="pp-tag">set</span><span class="pp-pln"> curpath = parsedUri.protocol + '://' + parsedUri.userId</span></div><div class="L5"><span class="pp-ln"> 175 </span><span class="pp-pln">                    </span><span class="pp-tag">if</span><span class="pp-pln"> parsedUri.projectId</span></div><div class="L6"><span class="pp-ln"> 176 </span><span class="pp-pln">                        </span><span class="pp-tag">set</span><span class="pp-pln"> curpath += '/' + parsedUri.projectId</span></div><div class="L7"><span class="pp-ln"> 177 </span><span class="pp-pln">                    </span><span class="pp-tag">set</span><span class="pp-pln"> parts = parsedUri.path.split(PATH_SEPARATOR_RE)</span></div><div class="L8"><span class="pp-ln"> 178 </span><span class="pp-pln">                </span><span class="pp-tag">else</span></div><div class="L9"><span class="pp-ln"> 179 </span><span class="pp-pln">                    </span><span class="pp-tag">set</span><span class="pp-pln"> curpath = ''</span></div><div class="L0"><span class="pp-ln"> 180 </span><span class="pp-pln">                    </span><span class="pp-tag">set</span><span class="pp-pln"> parts = path_string.split(PATH_SEPARATOR_RE)</span></div><div class="L1"><span class="pp-ln"> 181 </span><span class="pp-pln">                </span><span class="pp-tag">set</span><span class="pp-pln"> len = parts.length</span></div><div class="L2"><span class="pp-ln"> 182 </span><span class="pp-pln">                </span><span class="pp-tag">var</span><span class="pp-pln"> that = this</span></div><div class="L3"><span class="pp-ln"> 183 </span><span class="pp-pln">                </span><span class="pp-tag">function</span><span class="pp-pln"> repeater</span></div><div class="L4"><span class="pp-ln"> 184 </span><span class="pp-pln">                    </span><span class="pp-tag">param</span><span class="pp-pln"> index</span></div><div class="L5"><span class="pp-ln"> 185 </span><span class="pp-pln">                    </span><span class="pp-tag">if</span><span class="pp-pln"> index === len</span></div><div class="L6"><span class="pp-ln"> 186 </span><span class="pp-pln">                        </span><span class="pp-tag">return</span><span class="pp-pln"> callback(null)</span></div><div class="L7"><span class="pp-ln"> 187 </span><span class="pp-pln">                    </span><span class="pp-tag">var</span><span class="pp-pln"> part = parts[index]</span></div><div class="L8"><span class="pp-ln"> 188 </span><span class="pp-pln">                    </span><span class="pp-tag">if</span><span class="pp-pln"> parsedUri.protocol === 'db'</span></div><div class="L9"><span class="pp-ln"> 189 </span><span class="pp-pln">                        </span><span class="pp-tag">set</span><span class="pp-pln"> curpath += '/' + part</span></div><div class="L0"><span class="pp-ln"> 190 </span><span class="pp-pln">                        </span><span class="pp-tag">set</span><span class="pp-pln"> subpath = curpath</span></div><div class="L1"><span class="pp-ln"> 191 </span><span class="pp-pln">                    </span><span class="pp-tag">else</span></div><div class="L2"><span class="pp-ln"> 192 </span><span class="pp-pln">                        </span><span class="pp-tag">set</span><span class="pp-pln"> curpath += part + '/'</span></div><div class="L3"><span class="pp-ln"> 193 </span><span class="pp-pln">                        </span><span class="pp-tag">set</span><span class="pp-pln"> subpath = path.resolve(curpath)</span></div><div class="L4"><span class="pp-ln"> 194 </span><span class="pp-pln">                    </span><span class="pp-tag">_</span><span class="pp-pln"> that.exists</span></div><div class="L5"><span class="pp-ln"> 195 </span><span class="pp-pln">                        </span><span class="pp-tag">@</span><span class="pp-pln"> subpath</span></div><div class="L6"><span class="pp-ln"> 196 </span><span class="pp-pln">                        </span><span class="pp-mix frag-to-link-a" data-frag-id="d121">f_cb(</span><span class="pp-arg"> exists </span><span class="pp-mix">)</span></div><div class="L7"><span class="pp-ln"> 197 </span><span class="pp-pln">                            </span><span class="pp-tag">if</span><span class="pp-pln"> !exists</span></div><div class="L8"><span class="pp-ln"> 198 </span><span class="pp-pln">                                </span><span class="pp-tag">_</span><span class="pp-pln"> that.fsimpl.mkdir</span></div><div class="L9"><span class="pp-ln"> 199 </span><span class="pp-pln">                                    </span><span class="pp-tag">@</span><span class="pp-pln"> subpath</span></div><div class="L0"><span class="pp-ln"> 200 </span><span class="pp-pln">                                    </span><span class="pp-mix frag-to-link-a" data-frag-id="d121">f_cb(</span><span class="pp-arg"> notUsed </span><span class="pp-mix">)</span></div><div class="L1"><span class="pp-ln"> 201 </span><span class="pp-pln">                                        </span><span class="pp-tag">return</span></div><div class="L2"><span class="pp-ln"> 202 </span><span class="pp-pln">                                            </span><span class="pp-tag">_</span><span class="pp-pln"> process.nextTick</span></div><div class="L3"><span class="pp-ln"> 203 </span><span class="pp-pln">                                                </span><span class="pp-tag">function</span></div><div class="L4"><span class="pp-ln"> 204 </span><span class="pp-pln">                                                    </span><span class="pp-tag">_</span><span class="pp-pln"> repeater(index + 1)</span></div><div class="L5"><span class="pp-ln"> 205 </span><span class="pp-pln">                            </span><span class="pp-tag">else</span></div><div class="L6"><span class="pp-ln"> 206 </span><span class="pp-pln">                                </span><span class="pp-tag">return</span></div><div class="L7"><span class="pp-ln"> 207 </span><span class="pp-pln">                                    </span><span class="pp-tag">_</span><span class="pp-pln"> process.nextTick</span></div><div class="L8"><span class="pp-ln"> 208 </span><span class="pp-pln">                                        </span><span class="pp-tag">function</span></div><div class="L9"><span class="pp-ln"> 209 </span><span class="pp-pln">                                            </span><span class="pp-tag">_</span><span class="pp-pln"> repeater(index + 1)</span></div><div class="L0"><span class="pp-ln"> 210 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> repeater(0)</span></div><div class="L1"><span class="pp-ln"> 211 </span><span class="pp-pln">            </span><span class="pp-kwd">$append</span><span class="pp-pln"> sync</span></div><div class="L2"><span class="pp-ln"> 212 </span><span class="pp-pln">                </span><span class="pp-tag">var</span><span class="pp-pln"> that = this</span></div><div class="L3"><span class="pp-ln"> 213 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> path_string.split(PATH_SEPARATOR_RE)</span></div><div class="L4"><span class="pp-ln"> 214 </span><span class="pp-pln">                    </span><span class="pp-tag">._</span><span class="pp-pln"> reduce</span></div><div class="L5"><span class="pp-ln"> 215 </span><span class="pp-pln">                        </span><span class="pp-tag">function</span></div><div class="L6"><span class="pp-ln"> 216 </span><span class="pp-pln">                            </span><span class="pp-tag">param</span><span class="pp-pln"> parts</span></div><div class="L7"><span class="pp-ln"> 217 </span><span class="pp-pln">                            </span><span class="pp-tag">param</span><span class="pp-pln"> part</span></div><div class="L8"><span class="pp-ln"> 218 </span><span class="pp-pln">                            </span><span class="pp-tag">set</span><span class="pp-pln"> parts += part + '/'</span></div><div class="L9"><span class="pp-ln"> 219 </span><span class="pp-pln">                            </span><span class="pp-tag">var</span><span class="pp-pln"> subpath = path.resolve(parts)</span></div><div class="L0"><span class="pp-ln"> 220 </span><span class="pp-pln">                            </span><span class="pp-tag">if</span><span class="pp-pln"> !that.exists(subpath)</span></div><div class="L1"><span class="pp-ln"> 221 </span><span class="pp-pln">                                </span><span class="pp-tag">try</span></div><div class="L2"><span class="pp-ln"> 222 </span><span class="pp-pln">                                    </span><span class="pp-tag">_</span><span class="pp-pln"> that.fsimpl.mkdirSync(subpath)</span></div><div class="L3"><span class="pp-ln"> 223 </span><span class="pp-pln">                                </span><span class="pp-tag">catch</span><span class="pp-pln"> ex</span></div><div class="L4"><span class="pp-ln"> 224 </span><span class="pp-pln">                                    </span><span class="pp-tag">throw</span></div><div class="L5"><span class="pp-ln"> 225 </span><span class="pp-pln">                                        </span><span class="pp-tag">new</span><span class="pp-pln"> errors.FileError</span></div><div class="L6"><span class="pp-ln"> 226 </span><span class="pp-pln">                                            </span><span class="pp-tag">@</span><span class="pp-pln"> 'Unable to create directory "' + subpath + '" (Error code: ' + ex.code + ').'</span></div><div class="L7"><span class="pp-ln"> 227 </span><span class="pp-pln">                                            </span><span class="pp-tag">@</span><span class="pp-pln"> ex</span></div><div class="L8"><span class="pp-ln"> 228 </span><span class="pp-pln">                            </span><span class="pp-tag">return</span><span class="pp-pln"> parts</span></div><div class="L9"><span class="pp-ln"> 229 </span><span class="pp-pln">                        </span><span class="pp-tag">@</span><span class="pp-pln"> ''</span></div><div class="L0"><span class="pp-ln"> 230 </span><span class="pp-pln">        </span><span class="pp-mix frag-to-link-a" data-frag-id="d28">vfile/m(</span><span class="pp-arg"> exists</span><span class="pp-pln">,</span><span class="pp-arg">  statSync </span><span class="pp-mix">)</span></div><div class="L1"><span class="pp-ln"> 231 </span><span class="pp-pln">            </span><span class="pp-kwd">$append</span><span class="pp-pln"> async</span></div><div class="L2"><span class="pp-ln"> 232 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> this.fsimpl.stat</span></div><div class="L3"><span class="pp-ln"> 233 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> path_string</span></div><div class="L4"><span class="pp-ln"> 234 </span><span class="pp-pln">                    </span><span class="pp-mix frag-to-link-a" data-frag-id="d118">f_cb_no_err(</span><span class="pp-arg"> stats </span><span class="pp-mix">)</span></div><div class="L5"><span class="pp-ln"> 235 </span><span class="pp-pln">                        </span><span class="pp-tag">if</span><span class="pp-pln"> err</span></div><div class="L6"><span class="pp-ln"> 236 </span><span class="pp-pln">                            </span><span class="pp-tag">if</span><span class="pp-pln"> err.code === 'ENOENT'</span></div><div class="L7"><span class="pp-ln"> 237 </span><span class="pp-pln">                                </span><span class="pp-tag">return</span></div><div class="L8"><span class="pp-ln"> 238 </span><span class="pp-pln">                                    </span><span class="pp-tag">_</span><span class="pp-pln"> callback</span></div><div class="L9"><span class="pp-ln"> 239 </span><span class="pp-pln">                                        </span><span class="pp-tag">@</span><span class="pp-pln"> null</span></div><div class="L0"><span class="pp-ln"> 240 </span><span class="pp-pln">                                        </span><span class="pp-tag">@</span><span class="pp-pln"> false</span></div><div class="L1"><span class="pp-ln"> 241 </span><span class="pp-pln">                            </span><span class="pp-tag">else</span></div><div class="L2"><span class="pp-ln"> 242 </span><span class="pp-pln">                                </span><span class="pp-tag">return</span></div><div class="L3"><span class="pp-ln"> 243 </span><span class="pp-pln">                                    </span><span class="pp-tag">_</span><span class="pp-pln"> callback(err)</span></div><div class="L4"><span class="pp-ln"> 244 </span><span class="pp-pln">                        </span><span class="pp-tag">return</span></div><div class="L5"><span class="pp-ln"> 245 </span><span class="pp-pln">                            </span><span class="pp-tag">_</span><span class="pp-pln"> callback</span></div><div class="L6"><span class="pp-ln"> 246 </span><span class="pp-pln">                                </span><span class="pp-tag">@</span><span class="pp-pln"> null</span></div><div class="L7"><span class="pp-ln"> 247 </span><span class="pp-pln">                                </span><span class="pp-tag">@</span><span class="pp-pln"> stats.isDirectory() || stats.isFile()</span></div><div class="L8"><span class="pp-ln"> 248 </span><span class="pp-pln">            </span><span class="pp-kwd">$append</span><span class="pp-pln"> sync</span></div><div class="L9"><span class="pp-ln"> 249 </span><span class="pp-pln">                </span><span class="pp-tag">try</span></div><div class="L0"><span class="pp-ln"> 250 </span><span class="pp-pln">                    </span><span class="pp-tag">var</span><span class="pp-pln"> stats = this.fsimpl.statSync(path_string)</span></div><div class="L1"><span class="pp-ln"> 251 </span><span class="pp-pln">                    </span><span class="pp-tag">return</span><span class="pp-pln"> stats.isDirectory() || stats.isFile()</span></div><div class="L2"><span class="pp-ln"> 252 </span><span class="pp-pln">                </span><span class="pp-tag">catch</span><span class="pp-pln"> ex</span></div><div class="L3"><span class="pp-ln"> 253 </span><span class="pp-pln">                    </span><span class="pp-tag">if</span><span class="pp-pln"> ex.code === 'ENOENT'</span></div><div class="L4"><span class="pp-ln"> 254 </span><span class="pp-pln">                        </span><span class="pp-tag">return</span><span class="pp-pln"> false</span></div><div class="L5"><span class="pp-ln"> 255 </span><span class="pp-pln">                    </span><span class="pp-tag">else</span></div><div class="L6"><span class="pp-ln"> 256 </span><span class="pp-pln">                        </span><span class="pp-tag">throw</span><span class="pp-pln"> ex</span></div><div class="L7"><span class="pp-ln"> 257 </span><span class="pp-pln">                </span><span class="pp-tag">return</span><span class="pp-pln"> false</span></div><div class="L8"><span class="pp-ln"> 258 </span><span class="pp-pln">        </span><span class="pp-mix frag-to-link-a" data-frag-id="d28">vfile/m(</span><span class="pp-arg"> isDirectory</span><span class="pp-pln">,</span><span class="pp-arg">  statSync </span><span class="pp-mix">)</span></div><div class="L9"><span class="pp-ln"> 259 </span><span class="pp-pln">            </span><span class="pp-kwd">$append</span><span class="pp-pln"> async</span></div><div class="L0"><span class="pp-ln"> 260 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> this.fsimpl.stat</span></div><div class="L1"><span class="pp-ln"> 261 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> path_string</span></div><div class="L2"><span class="pp-ln"> 262 </span><span class="pp-pln">                    </span><span class="pp-mix frag-to-link-a" data-frag-id="d118">f_cb_no_err(</span><span class="pp-arg"> stats </span><span class="pp-mix">)</span></div><div class="L3"><span class="pp-ln"> 263 </span><span class="pp-pln">                        </span><span class="pp-tag">if</span><span class="pp-pln"> err</span></div><div class="L4"><span class="pp-ln"> 264 </span><span class="pp-pln">                            </span><span class="pp-tag">if</span><span class="pp-pln"> err.code === 'ENOENT'</span></div><div class="L5"><span class="pp-ln"> 265 </span><span class="pp-pln">                                </span><span class="pp-tag">return</span></div><div class="L6"><span class="pp-ln"> 266 </span><span class="pp-pln">                                    </span><span class="pp-tag">_</span><span class="pp-pln"> callback</span></div><div class="L7"><span class="pp-ln"> 267 </span><span class="pp-pln">                                        </span><span class="pp-tag">@</span><span class="pp-pln"> null</span></div><div class="L8"><span class="pp-ln"> 268 </span><span class="pp-pln">                                        </span><span class="pp-tag">@</span><span class="pp-pln"> false</span></div><div class="L9"><span class="pp-ln"> 269 </span><span class="pp-pln">                            </span><span class="pp-tag">else</span></div><div class="L0"><span class="pp-ln"> 270 </span><span class="pp-pln">                                </span><span class="pp-tag">return</span></div><div class="L1"><span class="pp-ln"> 271 </span><span class="pp-pln">                                    </span><span class="pp-tag">_</span><span class="pp-pln"> callback(err)</span></div><div class="L2"><span class="pp-ln"> 272 </span><span class="pp-pln">                        </span><span class="pp-tag">else</span></div><div class="L3"><span class="pp-ln"> 273 </span><span class="pp-pln">                            </span><span class="pp-mix frag-to-link-a" data-frag-id="d124">r_cb(</span><span class="pp-arg"> stats.isDirectory() </span><span class="pp-mix">)</span></div><div class="L4"><span class="pp-ln"> 274 </span><span class="pp-pln">            </span><span class="pp-kwd">$append</span><span class="pp-pln"> sync</span></div><div class="L5"><span class="pp-ln"> 275 </span><span class="pp-pln">                </span><span class="pp-tag">try</span></div><div class="L6"><span class="pp-ln"> 276 </span><span class="pp-pln">                    </span><span class="pp-tag">var</span><span class="pp-pln"> stat = this.fsimpl.statSync(path_string)</span></div><div class="L7"><span class="pp-ln"> 277 </span><span class="pp-pln">                    </span><span class="pp-tag">return</span><span class="pp-pln"> stat.isDirectory()</span></div><div class="L8"><span class="pp-ln"> 278 </span><span class="pp-pln">                </span><span class="pp-tag">catch</span><span class="pp-pln"> ex</span></div><div class="L9"><span class="pp-ln"> 279 </span><span class="pp-pln">                    </span><span class="pp-tag">if</span><span class="pp-pln"> ex.code === 'ENOENT'</span></div><div class="L0"><span class="pp-ln"> 280 </span><span class="pp-pln">                        </span><span class="pp-tag">return</span><span class="pp-pln"> false</span></div><div class="L1"><span class="pp-ln"> 281 </span><span class="pp-pln">                    </span><span class="pp-tag">else</span></div><div class="L2"><span class="pp-ln"> 282 </span><span class="pp-pln">                        </span><span class="pp-tag">throw</span><span class="pp-pln"> ex</span></div><div class="L3"><span class="pp-ln"> 283 </span><span class="pp-pln">                </span><span class="pp-tag">return</span><span class="pp-pln"> false</span></div><div class="L4"><span class="pp-ln"> 284 </span><span class="pp-pln">        </span><span class="pp-mix frag-to-link-a" data-frag-id="d28">vfile/m(</span><span class="pp-arg"> isFile</span><span class="pp-pln">,</span><span class="pp-arg">  statSync </span><span class="pp-mix">)</span></div><div class="L5"><span class="pp-ln"> 285 </span><span class="pp-pln">            </span><span class="pp-kwd">$append</span><span class="pp-pln"> async</span></div><div class="L6"><span class="pp-ln"> 286 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> this.fsimpl.stat</span></div><div class="L7"><span class="pp-ln"> 287 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> path_string</span></div><div class="L8"><span class="pp-ln"> 288 </span><span class="pp-pln">                    </span><span class="pp-tag">function</span></div><div class="L9"><span class="pp-ln"> 289 </span><span class="pp-pln">                        </span><span class="pp-tag">param</span><span class="pp-pln"> err</span></div><div class="L0"><span class="pp-ln"> 290 </span><span class="pp-pln">                        </span><span class="pp-tag">param</span><span class="pp-pln"> stats</span></div><div class="L1"><span class="pp-ln"> 291 </span><span class="pp-pln">                        </span><span class="pp-tag">if</span><span class="pp-pln"> err</span></div><div class="L2"><span class="pp-ln"> 292 </span><span class="pp-pln">                            </span><span class="pp-tag">if</span><span class="pp-pln"> err.code === 'ENOENT'</span></div><div class="L3"><span class="pp-ln"> 293 </span><span class="pp-pln">                                </span><span class="pp-tag">return</span></div><div class="L4"><span class="pp-ln"> 294 </span><span class="pp-pln">                                    </span><span class="pp-tag">_</span><span class="pp-pln"> callback</span></div><div class="L5"><span class="pp-ln"> 295 </span><span class="pp-pln">                                        </span><span class="pp-tag">@</span><span class="pp-pln"> null</span></div><div class="L6"><span class="pp-ln"> 296 </span><span class="pp-pln">                                        </span><span class="pp-tag">@</span><span class="pp-pln"> false</span></div><div class="L7"><span class="pp-ln"> 297 </span><span class="pp-pln">                            </span><span class="pp-tag">else</span></div><div class="L8"><span class="pp-ln"> 298 </span><span class="pp-pln">                                </span><span class="pp-tag">return</span></div><div class="L9"><span class="pp-ln"> 299 </span><span class="pp-pln">                                    </span><span class="pp-tag">_</span><span class="pp-pln"> callback(err)</span></div><div class="L0"><span class="pp-ln"> 300 </span><span class="pp-pln">                        </span><span class="pp-tag">return</span></div><div class="L1"><span class="pp-ln"> 301 </span><span class="pp-pln">                            </span><span class="pp-tag">_</span><span class="pp-pln"> callback</span></div><div class="L2"><span class="pp-ln"> 302 </span><span class="pp-pln">                                </span><span class="pp-tag">@</span><span class="pp-pln"> null</span></div><div class="L3"><span class="pp-ln"> 303 </span><span class="pp-pln">                                </span><span class="pp-tag">@</span><span class="pp-pln"> stats.isFile()</span></div><div class="L4"><span class="pp-ln"> 304 </span><span class="pp-pln">            </span><span class="pp-kwd">$append</span><span class="pp-pln"> sync</span></div><div class="L5"><span class="pp-ln"> 305 </span><span class="pp-pln">                </span><span class="pp-tag">try</span></div><div class="L6"><span class="pp-ln"> 306 </span><span class="pp-pln">                    </span><span class="pp-tag">var</span><span class="pp-pln"> stat = this.fsimpl.statSync(path_string)</span></div><div class="L7"><span class="pp-ln"> 307 </span><span class="pp-pln">                    </span><span class="pp-tag">return</span><span class="pp-pln"> stat.isFile()</span></div><div class="L8"><span class="pp-ln"> 308 </span><span class="pp-pln">                </span><span class="pp-tag">catch</span><span class="pp-pln"> ex</span></div><div class="L9"><span class="pp-ln"> 309 </span><span class="pp-pln">                    </span><span class="pp-tag">if</span><span class="pp-pln"> ex.code === 'ENOENT'</span></div><div class="L0"><span class="pp-ln"> 310 </span><span class="pp-pln">                        </span><span class="pp-tag">return</span><span class="pp-pln"> false</span></div><div class="L1"><span class="pp-ln"> 311 </span><span class="pp-pln">                    </span><span class="pp-tag">else</span></div><div class="L2"><span class="pp-ln"> 312 </span><span class="pp-pln">                        </span><span class="pp-tag">throw</span><span class="pp-pln"> ex</span></div><div class="L3"><span class="pp-ln"> 313 </span><span class="pp-pln">                </span><span class="pp-tag">return</span><span class="pp-pln"> false</span></div><div class="L4"><span class="pp-ln"> 314 </span><span class="pp-pln">        </span><span class="pp-kwd">$include</span><span class="pp-mix frag-to-link-a" data-frag-id="d27"> vfile/json</span></div><div class="L5"><span class="pp-ln"> 315 </span><span class="pp-pln">        </span><span class="pp-kwd">$include</span><span class="pp-mix frag-to-link-a" data-frag-id="d23"> vfile/getFiles</span></div><div class="L6"><span class="pp-ln"> 316 </span><span class="pp-pln">        </span><span class="pp-kwd">$include</span><span class="pp-mix frag-to-link-a" data-frag-id="d24"> vfile/getFolders</span></div><div class="L7"><span class="pp-ln"> 317 </span><span class="pp-pln">        </span><span class="pp-kwd">$include</span><span class="pp-mix frag-to-link-a" data-frag-id="d25"> vfile/glob</span></div><div class="L8"><span class="pp-ln"> 318 </span><span class="pp-pln">    </span><span class="pp-tag">function</span><span class="pp-pln"> unixifyPath</span></div><div class="L9"><span class="pp-ln"> 319 </span><span class="pp-pln">        </span><span class="pp-tag">param</span><span class="pp-pln"> path_string</span></div><div class="L0"><span class="pp-ln"> 320 </span><span class="pp-pln">        </span><span class="pp-tag">if</span><span class="pp-pln"> win32</span></div><div class="L1"><span class="pp-ln"> 321 </span><span class="pp-pln">            </span><span class="pp-tag">return</span><span class="pp-pln"> path_string.replace(/\\/g, '/')</span></div><div class="L2"><span class="pp-ln"> 322 </span><span class="pp-pln">        </span><span class="pp-tag">else</span></div><div class="L3"><span class="pp-ln"> 323 </span><span class="pp-pln">            </span><span class="pp-tag">return</span><span class="pp-pln"> path_string</span></div><div class="L4"><span class="pp-ln"> 324 </span><span class="pp-pln">    </span><span class="pp-kwd">$include</span><span class="pp-mix frag-to-link-a" data-frag-id="d26"> vfile/json_f</span></div><div class="L5"><span class="pp-ln"> 325 </span><span class="pp-pln">    </span><span class="pp-kwd">$include</span><span class="pp-mix frag-to-link-a" data-frag-id="d22"> vfile/default_fs</span></div><div class="L6"><span class="pp-ln"> 326 </span><span class="pp-pln">    </span><span class="pp-mix frag-to-link-a" data-frag-id="d128">wzerror(</span><span class="pp-arg"> wizzi-utils.fs.vfile </span><span class="pp-mix">)</span></div></pre>
                    </div>
                </div>
                <div class="code-panel" id="d32">
                    <div class="modal-view-container">
                        <h4 class="d-h2">/src/ittf/lib/glob/balanced-match.js.ittf</h4>
                        <pre class="prettyprint">

<div class="L1"><span class="pp-ln">   1 </span><span class="pp-pln"></span><span class="pp-tag">module</span></div><div class="L2"><span class="pp-ln">   2 </span><span class="pp-pln">    </span><span class="pp-tag">kind</span><span class="pp-pln"> jsfile</span></div><div class="L3"><span class="pp-ln">   3 </span><span class="pp-pln">    </span><span class="pp-tag">#</span><span class="pp-pln"> FROM</span></div><div class="L4"><span class="pp-ln">   4 </span><span class="pp-pln">    </span><span class="pp-tag">#</span><span class="pp-pln"> Copyright (c) 2013 Julian Gruber &lt;julian@juliangruber.com&gt;</span></div><div class="L5"><span class="pp-ln">   5 </span><span class="pp-pln">    </span><span class="pp-tag">#</span><span class="pp-pln"> source: https://github.com/juliangruber/balanced-match</span></div><div class="L6"><span class="pp-ln">   6 </span><span class="pp-pln">    </span><span class="pp-tag">#</span><span class="pp-pln"> license (MIT)</span></div><div class="L7"><span class="pp-ln">   7 </span><span class="pp-pln">    </span><span class="pp-tag">set</span><span class="pp-pln"> module.exports = balanced</span></div><div class="L8"><span class="pp-ln">   8 </span><span class="pp-pln">    </span><span class="pp-tag">function</span><span class="pp-pln"> balanced</span></div><div class="L9"><span class="pp-ln">   9 </span><span class="pp-pln">        </span><span class="pp-tag">param</span><span class="pp-pln"> a</span></div><div class="L0"><span class="pp-ln">  10 </span><span class="pp-pln">        </span><span class="pp-tag">param</span><span class="pp-pln"> b</span></div><div class="L1"><span class="pp-ln">  11 </span><span class="pp-pln">        </span><span class="pp-tag">param</span><span class="pp-pln"> str</span></div><div class="L2"><span class="pp-ln">  12 </span><span class="pp-pln">        </span><span class="pp-tag">if</span><span class="pp-pln"> a instanceof RegExp</span></div><div class="L3"><span class="pp-ln">  13 </span><span class="pp-pln">            </span><span class="pp-tag">set</span><span class="pp-pln"> a = maybeMatch(a, str)</span></div><div class="L4"><span class="pp-ln">  14 </span><span class="pp-pln">        </span><span class="pp-tag">if</span><span class="pp-pln"> b instanceof RegExp</span></div><div class="L5"><span class="pp-ln">  15 </span><span class="pp-pln">            </span><span class="pp-tag">set</span><span class="pp-pln"> b = maybeMatch(b, str)</span></div><div class="L6"><span class="pp-ln">  16 </span><span class="pp-pln">        </span><span class="pp-tag">var</span><span class="pp-pln"> r = range(a, b, str)</span></div><div class="L7"><span class="pp-ln">  17 </span><span class="pp-pln">        </span><span class="pp-tag">return</span><span class="pp-pln"> r && {start: r[0], end: r[1], pre: str.slice(0, r[0]), body: str.slice((r[0] + a.length), r[1]), post: str.slice((r[1] + b.length))}</span></div><div class="L8"><span class="pp-ln">  18 </span><span class="pp-pln">    </span><span class="pp-tag">function</span><span class="pp-pln"> maybeMatch</span></div><div class="L9"><span class="pp-ln">  19 </span><span class="pp-pln">        </span><span class="pp-tag">param</span><span class="pp-pln"> reg</span></div><div class="L0"><span class="pp-ln">  20 </span><span class="pp-pln">        </span><span class="pp-tag">param</span><span class="pp-pln"> str</span></div><div class="L1"><span class="pp-ln">  21 </span><span class="pp-pln">        </span><span class="pp-tag">var</span><span class="pp-pln"> m = str.match(reg)</span></div><div class="L2"><span class="pp-ln">  22 </span><span class="pp-pln">        </span><span class="pp-tag">return</span></div><div class="L3"><span class="pp-ln">  23 </span><span class="pp-pln">            </span><span class="pp-tag">iif</span><span class="pp-pln"> m</span></div><div class="L4"><span class="pp-ln">  24 </span><span class="pp-pln">                </span><span class="pp-tag">then</span></div><div class="L5"><span class="pp-ln">  25 </span><span class="pp-pln">                    </span><span class="pp-tag">set</span><span class="pp-pln"> m[0]</span></div><div class="L6"><span class="pp-ln">  26 </span><span class="pp-pln">                </span><span class="pp-tag">else</span><span class="pp-pln"> null</span></div><div class="L7"><span class="pp-ln">  27 </span><span class="pp-pln">    </span><span class="pp-tag">set</span><span class="pp-pln"> balanced.range = range</span></div><div class="L8"><span class="pp-ln">  28 </span><span class="pp-pln">    </span><span class="pp-tag">function</span><span class="pp-pln"> range</span></div><div class="L9"><span class="pp-ln">  29 </span><span class="pp-pln">        </span><span class="pp-tag">param</span><span class="pp-pln"> a</span></div><div class="L0"><span class="pp-ln">  30 </span><span class="pp-pln">        </span><span class="pp-tag">param</span><span class="pp-pln"> b</span></div><div class="L1"><span class="pp-ln">  31 </span><span class="pp-pln">        </span><span class="pp-tag">param</span><span class="pp-pln"> str</span></div><div class="L2"><span class="pp-ln">  32 </span><span class="pp-pln">        </span><span class="pp-tag">var</span></div><div class="L3"><span class="pp-ln">  33 </span><span class="pp-pln">            </span><span class="pp-tag">decl</span><span class="pp-pln"> begs</span></div><div class="L4"><span class="pp-ln">  34 </span><span class="pp-pln">            </span><span class="pp-tag">decl</span><span class="pp-pln"> beg</span></div><div class="L5"><span class="pp-ln">  35 </span><span class="pp-pln">            </span><span class="pp-tag">decl</span><span class="pp-pln"> left</span></div><div class="L6"><span class="pp-ln">  36 </span><span class="pp-pln">            </span><span class="pp-tag">decl</span><span class="pp-pln"> right</span></div><div class="L7"><span class="pp-ln">  37 </span><span class="pp-pln">            </span><span class="pp-tag">decl</span><span class="pp-pln"> result</span></div><div class="L8"><span class="pp-ln">  38 </span><span class="pp-pln">        </span><span class="pp-tag">var</span><span class="pp-pln"> ai = str.indexOf(a)</span></div><div class="L9"><span class="pp-ln">  39 </span><span class="pp-pln">        </span><span class="pp-tag">var</span><span class="pp-pln"> bi = str.indexOf(b, (ai + 1))</span></div><div class="L0"><span class="pp-ln">  40 </span><span class="pp-pln">        </span><span class="pp-tag">var</span><span class="pp-pln"> i = ai</span></div><div class="L1"><span class="pp-ln">  41 </span><span class="pp-pln">        </span><span class="pp-tag">if</span><span class="pp-pln"> ((ai &gt;= 0) && (bi &gt; 0))</span></div><div class="L2"><span class="pp-ln">  42 </span><span class="pp-pln">            </span><span class="pp-tag">set</span><span class="pp-pln"> begs = []</span></div><div class="L3"><span class="pp-ln">  43 </span><span class="pp-pln">            </span><span class="pp-tag">set</span><span class="pp-pln"> left = str.length</span></div><div class="L4"><span class="pp-ln">  44 </span><span class="pp-pln">            </span><span class="pp-tag">while</span><span class="pp-pln"> ((i &gt;= 0) && ! (result))</span></div><div class="L5"><span class="pp-ln">  45 </span><span class="pp-pln">                </span><span class="pp-tag">if</span><span class="pp-pln"> i == ai</span></div><div class="L6"><span class="pp-ln">  46 </span><span class="pp-pln">                    </span><span class="pp-tag">_</span><span class="pp-pln"> begs.push(i)</span></div><div class="L7"><span class="pp-ln">  47 </span><span class="pp-pln">                    </span><span class="pp-tag">set</span><span class="pp-pln"> ai = str.indexOf(a, (i + 1))</span></div><div class="L8"><span class="pp-ln">  48 </span><span class="pp-pln">                </span><span class="pp-tag">elif</span><span class="pp-pln"> begs.length == 1</span></div><div class="L9"><span class="pp-ln">  49 </span><span class="pp-pln">                    </span><span class="pp-tag">set</span><span class="pp-pln"> result = [begs.pop(), bi]</span></div><div class="L0"><span class="pp-ln">  50 </span><span class="pp-pln">                </span><span class="pp-tag">else</span></div><div class="L1"><span class="pp-ln">  51 </span><span class="pp-pln">                    </span><span class="pp-tag">set</span><span class="pp-pln"> beg = begs.pop()</span></div><div class="L2"><span class="pp-ln">  52 </span><span class="pp-pln">                    </span><span class="pp-tag">if</span><span class="pp-pln"> beg &lt; left</span></div><div class="L3"><span class="pp-ln">  53 </span><span class="pp-pln">                        </span><span class="pp-tag">set</span><span class="pp-pln"> left = beg</span></div><div class="L4"><span class="pp-ln">  54 </span><span class="pp-pln">                        </span><span class="pp-tag">set</span><span class="pp-pln"> right = bi</span></div><div class="L5"><span class="pp-ln">  55 </span><span class="pp-pln">                    </span><span class="pp-tag">set</span><span class="pp-pln"> bi = str.indexOf(b, (i + 1))</span></div><div class="L6"><span class="pp-ln">  56 </span><span class="pp-pln">                </span><span class="pp-tag">set</span><span class="pp-pln"> i = ((ai &lt; bi) && (ai &gt;= 0)) ? ai : bi</span></div><div class="L7"><span class="pp-ln">  57 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> begs.length</span></div><div class="L8"><span class="pp-ln">  58 </span><span class="pp-pln">                </span><span class="pp-tag">set</span><span class="pp-pln"> result = [left, right]</span></div><div class="L9"><span class="pp-ln">  59 </span><span class="pp-pln">        </span><span class="pp-tag">return</span><span class="pp-pln"> result</span></div></pre>
                    </div>
                </div>
                <div class="code-panel" id="d33">
                    <div class="modal-view-container">
                        <h4 class="d-h2">/src/ittf/lib/glob/brace-expansion.js.ittf</h4>
                        <pre class="prettyprint">

<div class="L1"><span class="pp-ln">   1 </span><span class="pp-pln"></span><span class="pp-tag">module</span></div><div class="L2"><span class="pp-ln">   2 </span><span class="pp-pln">    </span><span class="pp-tag">kind</span><span class="pp-pln"> jsfile</span></div><div class="L3"><span class="pp-ln">   3 </span><span class="pp-pln">    </span><span class="pp-tag">#</span><span class="pp-pln"> FROM</span></div><div class="L4"><span class="pp-ln">   4 </span><span class="pp-pln">    </span><span class="pp-tag">#</span><span class="pp-pln"> Copyright (c) 2013 Julian Gruber &lt;julian@juliangruber.com&gt;</span></div><div class="L5"><span class="pp-ln">   5 </span><span class="pp-pln">    </span><span class="pp-tag">#</span><span class="pp-pln"> source https://github.com/juliangruber/brace-expansion/blob/master/index.js</span></div><div class="L6"><span class="pp-ln">   6 </span><span class="pp-pln">    </span><span class="pp-tag">#</span><span class="pp-pln"> license (MIT) https://github.com/juliangruber/brace-expansion</span></div><div class="L7"><span class="pp-ln">   7 </span><span class="pp-pln">    </span><span class="pp-tag">var</span><span class="pp-pln"> concatMap = require('./concat-map')</span></div><div class="L8"><span class="pp-ln">   8 </span><span class="pp-pln">    </span><span class="pp-tag">var</span><span class="pp-pln"> balanced = require('./balanced-match')</span></div><div class="L9"><span class="pp-ln">   9 </span><span class="pp-pln">    </span><span class="pp-tag">set</span><span class="pp-pln"> module.exports = expandTop</span></div><div class="L0"><span class="pp-ln">  10 </span><span class="pp-pln">    </span><span class="pp-tag">var</span><span class="pp-pln"> escSlash = ((('\0SLASH' + Math.random())) + '\0')</span></div><div class="L1"><span class="pp-ln">  11 </span><span class="pp-pln">    </span><span class="pp-tag">var</span><span class="pp-pln"> escOpen = ((('\0OPEN' + Math.random())) + '\0')</span></div><div class="L2"><span class="pp-ln">  12 </span><span class="pp-pln">    </span><span class="pp-tag">var</span><span class="pp-pln"> escClose = ((('\0CLOSE' + Math.random())) + '\0')</span></div><div class="L3"><span class="pp-ln">  13 </span><span class="pp-pln">    </span><span class="pp-tag">var</span><span class="pp-pln"> escComma = ((('\0COMMA' + Math.random())) + '\0')</span></div><div class="L4"><span class="pp-ln">  14 </span><span class="pp-pln">    </span><span class="pp-tag">var</span><span class="pp-pln"> escPeriod = ((('\0PERIOD' + Math.random())) + '\0')</span></div><div class="L5"><span class="pp-ln">  15 </span><span class="pp-pln">    </span><span class="pp-tag">function</span><span class="pp-pln"> numeric</span></div><div class="L6"><span class="pp-ln">  16 </span><span class="pp-pln">        </span><span class="pp-tag">param</span><span class="pp-pln"> str</span></div><div class="L7"><span class="pp-ln">  17 </span><span class="pp-pln">        </span><span class="pp-tag">return</span></div><div class="L8"><span class="pp-ln">  18 </span><span class="pp-pln">            </span><span class="pp-tag">iif</span><span class="pp-pln"> parseInt(str, 10) == str</span></div><div class="L9"><span class="pp-ln">  19 </span><span class="pp-pln">                </span><span class="pp-tag">then</span></div><div class="L0"><span class="pp-ln">  20 </span><span class="pp-pln">                    </span><span class="pp-tag">_</span><span class="pp-pln"> parseInt(str, 10)</span></div><div class="L1"><span class="pp-ln">  21 </span><span class="pp-pln">                </span><span class="pp-tag">else</span></div><div class="L2"><span class="pp-ln">  22 </span><span class="pp-pln">                    </span><span class="pp-tag">_</span><span class="pp-pln"> str.charCodeAt(0)</span></div><div class="L3"><span class="pp-ln">  23 </span><span class="pp-pln">    </span><span class="pp-tag">function</span><span class="pp-pln"> escapeBraces</span></div><div class="L4"><span class="pp-ln">  24 </span><span class="pp-pln">        </span><span class="pp-tag">param</span><span class="pp-pln"> str</span></div><div class="L5"><span class="pp-ln">  25 </span><span class="pp-pln">        </span><span class="pp-tag">return</span></div><div class="L6"><span class="pp-ln">  26 </span><span class="pp-pln">            </span><span class="pp-tag">_</span><span class="pp-pln"> str.split('\\\\')</span></div><div class="L7"><span class="pp-ln">  27 </span><span class="pp-pln">                </span><span class="pp-tag">._</span><span class="pp-pln"> join(escSlash)</span></div><div class="L8"><span class="pp-ln">  28 </span><span class="pp-pln">                    </span><span class="pp-tag">._</span><span class="pp-pln"> split('\\{')</span></div><div class="L9"><span class="pp-ln">  29 </span><span class="pp-pln">                        </span><span class="pp-tag">._</span><span class="pp-pln"> join(escOpen)</span></div><div class="L0"><span class="pp-ln">  30 </span><span class="pp-pln">                            </span><span class="pp-tag">._</span><span class="pp-pln"> split('\\}')</span></div><div class="L1"><span class="pp-ln">  31 </span><span class="pp-pln">                                </span><span class="pp-tag">._</span><span class="pp-pln"> join(escClose)</span></div><div class="L2"><span class="pp-ln">  32 </span><span class="pp-pln">                                    </span><span class="pp-tag">._</span><span class="pp-pln"> split('\\,')</span></div><div class="L3"><span class="pp-ln">  33 </span><span class="pp-pln">                                        </span><span class="pp-tag">._</span><span class="pp-pln"> join(escComma)</span></div><div class="L4"><span class="pp-ln">  34 </span><span class="pp-pln">                                            </span><span class="pp-tag">._</span><span class="pp-pln"> split('\\.')</span></div><div class="L5"><span class="pp-ln">  35 </span><span class="pp-pln">                                                </span><span class="pp-tag">._</span><span class="pp-pln"> join(escPeriod)</span></div><div class="L6"><span class="pp-ln">  36 </span><span class="pp-pln">    </span><span class="pp-tag">function</span><span class="pp-pln"> unescapeBraces</span></div><div class="L7"><span class="pp-ln">  37 </span><span class="pp-pln">        </span><span class="pp-tag">param</span><span class="pp-pln"> str</span></div><div class="L8"><span class="pp-ln">  38 </span><span class="pp-pln">        </span><span class="pp-tag">return</span></div><div class="L9"><span class="pp-ln">  39 </span><span class="pp-pln">            </span><span class="pp-tag">_</span><span class="pp-pln"> str.split(escSlash)</span></div><div class="L0"><span class="pp-ln">  40 </span><span class="pp-pln">                </span><span class="pp-tag">._</span><span class="pp-pln"> join('\\')</span></div><div class="L1"><span class="pp-ln">  41 </span><span class="pp-pln">                    </span><span class="pp-tag">._</span><span class="pp-pln"> split(escOpen)</span></div><div class="L2"><span class="pp-ln">  42 </span><span class="pp-pln">                        </span><span class="pp-tag">._</span><span class="pp-pln"> join('{')</span></div><div class="L3"><span class="pp-ln">  43 </span><span class="pp-pln">                            </span><span class="pp-tag">._</span><span class="pp-pln"> split(escClose)</span></div><div class="L4"><span class="pp-ln">  44 </span><span class="pp-pln">                                </span><span class="pp-tag">._</span><span class="pp-pln"> join('}')</span></div><div class="L5"><span class="pp-ln">  45 </span><span class="pp-pln">                                    </span><span class="pp-tag">._</span><span class="pp-pln"> split(escComma)</span></div><div class="L6"><span class="pp-ln">  46 </span><span class="pp-pln">                                        </span><span class="pp-tag">._</span><span class="pp-pln"> join(',')</span></div><div class="L7"><span class="pp-ln">  47 </span><span class="pp-pln">                                            </span><span class="pp-tag">._</span><span class="pp-pln"> split(escPeriod)</span></div><div class="L8"><span class="pp-ln">  48 </span><span class="pp-pln">                                                </span><span class="pp-tag">._</span><span class="pp-pln"> join('.')</span></div><div class="L9"><span class="pp-ln">  49 </span><span class="pp-pln">    </span><span class="pp-tag">function</span><span class="pp-pln"> parseCommaParts</span></div><div class="L0"><span class="pp-ln">  50 </span><span class="pp-pln">        </span><span class="pp-tag">param</span><span class="pp-pln"> str</span></div><div class="L1"><span class="pp-ln">  51 </span><span class="pp-pln">        </span><span class="pp-tag">if</span><span class="pp-pln"> ! (str)</span></div><div class="L2"><span class="pp-ln">  52 </span><span class="pp-pln">            </span><span class="pp-tag">return</span></div><div class="L3"><span class="pp-ln">  53 </span><span class="pp-pln">                </span><span class="pp-tag">[</span></div><div class="L4"><span class="pp-ln">  54 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> ''</span></div><div class="L5"><span class="pp-ln">  55 </span><span class="pp-pln">        </span><span class="pp-tag">var</span><span class="pp-pln"> parts</span></div><div class="L6"><span class="pp-ln">  56 </span><span class="pp-pln">            </span><span class="pp-tag">[</span></div><div class="L7"><span class="pp-ln">  57 </span><span class="pp-pln">        </span><span class="pp-tag">var</span><span class="pp-pln"> m = balanced('{', '}', str)</span></div><div class="L8"><span class="pp-ln">  58 </span><span class="pp-pln">        </span><span class="pp-tag">if</span><span class="pp-pln"> ! (m)</span></div><div class="L9"><span class="pp-ln">  59 </span><span class="pp-pln">            </span><span class="pp-tag">return</span><span class="pp-pln"> str.split(',')</span></div><div class="L0"><span class="pp-ln">  60 </span><span class="pp-pln">        </span><span class="pp-tag">var</span><span class="pp-pln"> pre = m.pre</span></div><div class="L1"><span class="pp-ln">  61 </span><span class="pp-pln">        </span><span class="pp-tag">var</span><span class="pp-pln"> body = m.body</span></div><div class="L2"><span class="pp-ln">  62 </span><span class="pp-pln">        </span><span class="pp-tag">var</span><span class="pp-pln"> post = m.post</span></div><div class="L3"><span class="pp-ln">  63 </span><span class="pp-pln">        </span><span class="pp-tag">var</span><span class="pp-pln"> p = pre.split(',')</span></div><div class="L4"><span class="pp-ln">  64 </span><span class="pp-pln">        </span><span class="pp-tag">set</span><span class="pp-pln"> p[(p.length - 1)] += ((('{' + body)) + '}')</span></div><div class="L5"><span class="pp-ln">  65 </span><span class="pp-pln">        </span><span class="pp-tag">var</span><span class="pp-pln"> postParts = parseCommaParts(post)</span></div><div class="L6"><span class="pp-ln">  66 </span><span class="pp-pln">        </span><span class="pp-tag">if</span><span class="pp-pln"> post.length</span></div><div class="L7"><span class="pp-ln">  67 </span><span class="pp-pln">            </span><span class="pp-tag">set</span><span class="pp-pln"> p[(p.length - 1)] += postParts.shift()</span></div><div class="L8"><span class="pp-ln">  68 </span><span class="pp-pln">            </span><span class="pp-tag">_</span><span class="pp-pln"> p.push.apply(p, postParts)</span></div><div class="L9"><span class="pp-ln">  69 </span><span class="pp-pln">        </span><span class="pp-tag">_</span><span class="pp-pln"> parts.push.apply(parts, p)</span></div><div class="L0"><span class="pp-ln">  70 </span><span class="pp-pln">        </span><span class="pp-tag">return</span><span class="pp-pln"> parts</span></div><div class="L1"><span class="pp-ln">  71 </span><span class="pp-pln">    </span><span class="pp-tag">function</span><span class="pp-pln"> expandTop</span></div><div class="L2"><span class="pp-ln">  72 </span><span class="pp-pln">        </span><span class="pp-tag">param</span><span class="pp-pln"> str</span></div><div class="L3"><span class="pp-ln">  73 </span><span class="pp-pln">        </span><span class="pp-tag">if</span><span class="pp-pln"> ! (str)</span></div><div class="L4"><span class="pp-ln">  74 </span><span class="pp-pln">            </span><span class="pp-tag">return</span></div><div class="L5"><span class="pp-ln">  75 </span><span class="pp-pln">                </span><span class="pp-tag">[</span></div><div class="L6"><span class="pp-ln">  76 </span><span class="pp-pln">        </span><span class="pp-tag">if</span><span class="pp-pln"> str.substr(0, 2) === '{}'</span></div><div class="L7"><span class="pp-ln">  77 </span><span class="pp-pln">            </span><span class="pp-tag">set</span><span class="pp-pln"> str = ('\\{\\}' + str.substr(2))</span></div><div class="L8"><span class="pp-ln">  78 </span><span class="pp-pln">        </span><span class="pp-tag">return</span></div><div class="L9"><span class="pp-ln">  79 </span><span class="pp-pln">            </span><span class="pp-tag">_</span><span class="pp-pln"> expand</span></div><div class="L0"><span class="pp-ln">  80 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> escapeBraces(str)</span></div><div class="L1"><span class="pp-ln">  81 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> true</span></div><div class="L2"><span class="pp-ln">  82 </span><span class="pp-pln">                </span><span class="pp-tag">._</span><span class="pp-pln"> map(unescapeBraces)</span></div><div class="L3"><span class="pp-ln">  83 </span><span class="pp-pln">    </span><span class="pp-tag">function</span><span class="pp-pln"> identity</span></div><div class="L4"><span class="pp-ln">  84 </span><span class="pp-pln">        </span><span class="pp-tag">param</span><span class="pp-pln"> e</span></div><div class="L5"><span class="pp-ln">  85 </span><span class="pp-pln">        </span><span class="pp-tag">return</span><span class="pp-pln"> e</span></div><div class="L6"><span class="pp-ln">  86 </span><span class="pp-pln">    </span><span class="pp-tag">function</span><span class="pp-pln"> embrace</span></div><div class="L7"><span class="pp-ln">  87 </span><span class="pp-pln">        </span><span class="pp-tag">param</span><span class="pp-pln"> str</span></div><div class="L8"><span class="pp-ln">  88 </span><span class="pp-pln">        </span><span class="pp-tag">return</span><span class="pp-pln"> ((('{' + str)) + '}')</span></div><div class="L9"><span class="pp-ln">  89 </span><span class="pp-pln">    </span><span class="pp-tag">function</span><span class="pp-pln"> isPadded</span></div><div class="L0"><span class="pp-ln">  90 </span><span class="pp-pln">        </span><span class="pp-tag">param</span><span class="pp-pln"> el</span></div><div class="L1"><span class="pp-ln">  91 </span><span class="pp-pln">        </span><span class="pp-tag">return</span><span class="pp-pln"> /^-?0\d/.test(el)</span></div><div class="L2"><span class="pp-ln">  92 </span><span class="pp-pln">    </span><span class="pp-tag">function</span><span class="pp-pln"> lte</span></div><div class="L3"><span class="pp-ln">  93 </span><span class="pp-pln">        </span><span class="pp-tag">param</span><span class="pp-pln"> i</span></div><div class="L4"><span class="pp-ln">  94 </span><span class="pp-pln">        </span><span class="pp-tag">param</span><span class="pp-pln"> y</span></div><div class="L5"><span class="pp-ln">  95 </span><span class="pp-pln">        </span><span class="pp-tag">return</span><span class="pp-pln"> i &lt;= y</span></div><div class="L6"><span class="pp-ln">  96 </span><span class="pp-pln">    </span><span class="pp-tag">function</span><span class="pp-pln"> gte</span></div><div class="L7"><span class="pp-ln">  97 </span><span class="pp-pln">        </span><span class="pp-tag">param</span><span class="pp-pln"> i</span></div><div class="L8"><span class="pp-ln">  98 </span><span class="pp-pln">        </span><span class="pp-tag">param</span><span class="pp-pln"> y</span></div><div class="L9"><span class="pp-ln">  99 </span><span class="pp-pln">        </span><span class="pp-tag">return</span><span class="pp-pln"> i &gt;= y</span></div><div class="L0"><span class="pp-ln"> 100 </span><span class="pp-pln">    </span><span class="pp-tag">function</span><span class="pp-pln"> expand</span></div><div class="L1"><span class="pp-ln"> 101 </span><span class="pp-pln">        </span><span class="pp-tag">param</span><span class="pp-pln"> str</span></div><div class="L2"><span class="pp-ln"> 102 </span><span class="pp-pln">        </span><span class="pp-tag">param</span><span class="pp-pln"> isTop</span></div><div class="L3"><span class="pp-ln"> 103 </span><span class="pp-pln">        </span><span class="pp-tag">var</span><span class="pp-pln"> expansions</span></div><div class="L4"><span class="pp-ln"> 104 </span><span class="pp-pln">            </span><span class="pp-tag">[</span></div><div class="L5"><span class="pp-ln"> 105 </span><span class="pp-pln">        </span><span class="pp-tag">var</span><span class="pp-pln"> m = balanced('{', '}', str)</span></div><div class="L6"><span class="pp-ln"> 106 </span><span class="pp-pln">        </span><span class="pp-tag">if</span><span class="pp-pln"> (! (m) || /\$$/.test(m.pre))</span></div><div class="L7"><span class="pp-ln"> 107 </span><span class="pp-pln">            </span><span class="pp-tag">return</span></div><div class="L8"><span class="pp-ln"> 108 </span><span class="pp-pln">                </span><span class="pp-tag">[</span></div><div class="L9"><span class="pp-ln"> 109 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> str</span></div><div class="L0"><span class="pp-ln"> 110 </span><span class="pp-pln">        </span><span class="pp-tag">var</span><span class="pp-pln"> isNumericSequence</span></div><div class="L1"><span class="pp-ln"> 111 </span><span class="pp-pln">            </span><span class="pp-tag">_</span><span class="pp-pln"> /^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test</span></div><div class="L2"><span class="pp-ln"> 112 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> m.body</span></div><div class="L3"><span class="pp-ln"> 113 </span><span class="pp-pln">        </span><span class="pp-tag">var</span><span class="pp-pln"> isAlphaSequence</span></div><div class="L4"><span class="pp-ln"> 114 </span><span class="pp-pln">            </span><span class="pp-tag">_</span><span class="pp-pln"> /^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test</span></div><div class="L5"><span class="pp-ln"> 115 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> m.body</span></div><div class="L6"><span class="pp-ln"> 116 </span><span class="pp-pln">        </span><span class="pp-tag">var</span><span class="pp-pln"> isSequence = (isNumericSequence || isAlphaSequence)</span></div><div class="L7"><span class="pp-ln"> 117 </span><span class="pp-pln">        </span><span class="pp-tag">var</span><span class="pp-pln"> isOptions = m.body.indexOf(',') &gt;= 0</span></div><div class="L8"><span class="pp-ln"> 118 </span><span class="pp-pln">        </span><span class="pp-tag">if</span><span class="pp-pln"> ! (isSequence) && ! (isOptions)</span></div><div class="L9"><span class="pp-ln"> 119 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> m.post.match(/,.*\}/)</span></div><div class="L0"><span class="pp-ln"> 120 </span><span class="pp-pln">                </span><span class="pp-tag">set</span><span class="pp-pln"> str = (((((((m.pre + '{')) + m.body)) + escClose)) + m.post)</span></div><div class="L1"><span class="pp-ln"> 121 </span><span class="pp-pln">                </span><span class="pp-tag">return</span><span class="pp-pln"> expand(str)</span></div><div class="L2"><span class="pp-ln"> 122 </span><span class="pp-pln">            </span><span class="pp-tag">return</span></div><div class="L3"><span class="pp-ln"> 123 </span><span class="pp-pln">                </span><span class="pp-tag">[</span></div><div class="L4"><span class="pp-ln"> 124 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> str</span></div><div class="L5"><span class="pp-ln"> 125 </span><span class="pp-pln">        </span><span class="pp-tag">var</span><span class="pp-pln"> n</span></div><div class="L6"><span class="pp-ln"> 126 </span><span class="pp-pln">        </span><span class="pp-tag">if</span><span class="pp-pln"> isSequence</span></div><div class="L7"><span class="pp-ln"> 127 </span><span class="pp-pln">            </span><span class="pp-tag">set</span><span class="pp-pln"> n = m.body.split(/\.\./)</span></div><div class="L8"><span class="pp-ln"> 128 </span><span class="pp-pln">        </span><span class="pp-tag">else</span></div><div class="L9"><span class="pp-ln"> 129 </span><span class="pp-pln">            </span><span class="pp-tag">set</span><span class="pp-pln"> n = parseCommaParts(m.body)</span></div><div class="L0"><span class="pp-ln"> 130 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> n.length === 1</span></div><div class="L1"><span class="pp-ln"> 131 </span><span class="pp-pln">                </span><span class="pp-tag">set</span><span class="pp-pln"> n = expand(n[0], false).map(embrace)</span></div><div class="L2"><span class="pp-ln"> 132 </span><span class="pp-pln">                </span><span class="pp-tag">if</span><span class="pp-pln"> n.length === 1</span></div><div class="L3"><span class="pp-ln"> 133 </span><span class="pp-pln">                    </span><span class="pp-tag">var</span><span class="pp-pln"> post</span></div><div class="L4"><span class="pp-ln"> 134 </span><span class="pp-pln">                        </span><span class="pp-tag">iif</span><span class="pp-pln"> m.post.length</span></div><div class="L5"><span class="pp-ln"> 135 </span><span class="pp-pln">                            </span><span class="pp-tag">then</span></div><div class="L6"><span class="pp-ln"> 136 </span><span class="pp-pln">                                </span><span class="pp-tag">_</span><span class="pp-pln"> expand</span></div><div class="L7"><span class="pp-ln"> 137 </span><span class="pp-pln">                                    </span><span class="pp-tag">@</span><span class="pp-pln"> m.post</span></div><div class="L8"><span class="pp-ln"> 138 </span><span class="pp-pln">                                    </span><span class="pp-tag">@</span><span class="pp-pln"> false</span></div><div class="L9"><span class="pp-ln"> 139 </span><span class="pp-pln">                            </span><span class="pp-tag">else</span></div><div class="L0"><span class="pp-ln"> 140 </span><span class="pp-pln">                                </span><span class="pp-tag">[</span></div><div class="L1"><span class="pp-ln"> 141 </span><span class="pp-pln">                                    </span><span class="pp-tag">@</span><span class="pp-pln"> ''</span></div><div class="L2"><span class="pp-ln"> 142 </span><span class="pp-pln">                    </span><span class="pp-tag">return</span></div><div class="L3"><span class="pp-ln"> 143 </span><span class="pp-pln">                        </span><span class="pp-tag">_</span><span class="pp-pln"> post.map</span></div><div class="L4"><span class="pp-ln"> 144 </span><span class="pp-pln">                            </span><span class="pp-tag">function</span></div><div class="L5"><span class="pp-ln"> 145 </span><span class="pp-pln">                                </span><span class="pp-tag">param</span><span class="pp-pln"> p</span></div><div class="L6"><span class="pp-ln"> 146 </span><span class="pp-pln">                                </span><span class="pp-tag">return</span><span class="pp-pln"> (((m.pre + n[0])) + p)</span></div><div class="L7"><span class="pp-ln"> 147 </span><span class="pp-pln">        </span><span class="pp-tag">var</span><span class="pp-pln"> pre = m.pre</span></div><div class="L8"><span class="pp-ln"> 148 </span><span class="pp-pln">        </span><span class="pp-tag">var</span><span class="pp-pln"> post</span></div><div class="L9"><span class="pp-ln"> 149 </span><span class="pp-pln">            </span><span class="pp-tag">iif</span><span class="pp-pln"> m.post.length</span></div><div class="L0"><span class="pp-ln"> 150 </span><span class="pp-pln">                </span><span class="pp-tag">then</span></div><div class="L1"><span class="pp-ln"> 151 </span><span class="pp-pln">                    </span><span class="pp-tag">_</span><span class="pp-pln"> expand</span></div><div class="L2"><span class="pp-ln"> 152 </span><span class="pp-pln">                        </span><span class="pp-tag">@</span><span class="pp-pln"> m.post</span></div><div class="L3"><span class="pp-ln"> 153 </span><span class="pp-pln">                        </span><span class="pp-tag">@</span><span class="pp-pln"> false</span></div><div class="L4"><span class="pp-ln"> 154 </span><span class="pp-pln">                </span><span class="pp-tag">else</span></div><div class="L5"><span class="pp-ln"> 155 </span><span class="pp-pln">                    </span><span class="pp-tag">[</span></div><div class="L6"><span class="pp-ln"> 156 </span><span class="pp-pln">                        </span><span class="pp-tag">@</span><span class="pp-pln"> ''</span></div><div class="L7"><span class="pp-ln"> 157 </span><span class="pp-pln">        </span><span class="pp-tag">var</span><span class="pp-pln"> N</span></div><div class="L8"><span class="pp-ln"> 158 </span><span class="pp-pln">        </span><span class="pp-tag">if</span><span class="pp-pln"> isSequence</span></div><div class="L9"><span class="pp-ln"> 159 </span><span class="pp-pln">            </span><span class="pp-tag">var</span><span class="pp-pln"> x</span></div><div class="L0"><span class="pp-ln"> 160 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> numeric</span></div><div class="L1"><span class="pp-ln"> 161 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> n[0]</span></div><div class="L2"><span class="pp-ln"> 162 </span><span class="pp-pln">            </span><span class="pp-tag">var</span><span class="pp-pln"> y</span></div><div class="L3"><span class="pp-ln"> 163 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> numeric</span></div><div class="L4"><span class="pp-ln"> 164 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> n[1]</span></div><div class="L5"><span class="pp-ln"> 165 </span><span class="pp-pln">            </span><span class="pp-tag">var</span><span class="pp-pln"> width</span></div><div class="L6"><span class="pp-ln"> 166 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> Math.max</span></div><div class="L7"><span class="pp-ln"> 167 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> n[0].length</span></div><div class="L8"><span class="pp-ln"> 168 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> n[1].length</span></div><div class="L9"><span class="pp-ln"> 169 </span><span class="pp-pln">            </span><span class="pp-tag">var</span><span class="pp-pln"> incr</span></div><div class="L0"><span class="pp-ln"> 170 </span><span class="pp-pln">                </span><span class="pp-tag">iif</span><span class="pp-pln"> n.length == 3</span></div><div class="L1"><span class="pp-ln"> 171 </span><span class="pp-pln">                    </span><span class="pp-tag">then</span></div><div class="L2"><span class="pp-ln"> 172 </span><span class="pp-pln">                        </span><span class="pp-tag">_</span><span class="pp-pln"> Math.abs</span></div><div class="L3"><span class="pp-ln"> 173 </span><span class="pp-pln">                            </span><span class="pp-tag">_</span><span class="pp-pln"> numeric</span></div><div class="L4"><span class="pp-ln"> 174 </span><span class="pp-pln">                                </span><span class="pp-tag">@</span><span class="pp-pln"> n[2]</span></div><div class="L5"><span class="pp-ln"> 175 </span><span class="pp-pln">                    </span><span class="pp-tag">else</span><span class="pp-pln"> 1</span></div><div class="L6"><span class="pp-ln"> 176 </span><span class="pp-pln">            </span><span class="pp-tag">var</span><span class="pp-pln"> test = lte</span></div><div class="L7"><span class="pp-ln"> 177 </span><span class="pp-pln">            </span><span class="pp-tag">var</span><span class="pp-pln"> reverse = y &lt; x</span></div><div class="L8"><span class="pp-ln"> 178 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> reverse</span></div><div class="L9"><span class="pp-ln"> 179 </span><span class="pp-pln">                </span><span class="pp-tag">set</span><span class="pp-pln"> incr *= - (1)</span></div><div class="L0"><span class="pp-ln"> 180 </span><span class="pp-pln">                </span><span class="pp-tag">set</span><span class="pp-pln"> test = gte</span></div><div class="L1"><span class="pp-ln"> 181 </span><span class="pp-pln">            </span><span class="pp-tag">var</span><span class="pp-pln"> pad = n.some(isPadded)</span></div><div class="L2"><span class="pp-ln"> 182 </span><span class="pp-pln">            </span><span class="pp-tag">set</span><span class="pp-pln"> N = []</span></div><div class="L3"><span class="pp-ln"> 183 </span><span class="pp-pln">            </span><span class="pp-tag">for</span><span class="pp-pln"> var i = x; test(i, y); i += incr</span></div><div class="L4"><span class="pp-ln"> 184 </span><span class="pp-pln">                </span><span class="pp-tag">var</span><span class="pp-pln"> c</span></div><div class="L5"><span class="pp-ln"> 185 </span><span class="pp-pln">                </span><span class="pp-tag">if</span><span class="pp-pln"> isAlphaSequence</span></div><div class="L6"><span class="pp-ln"> 186 </span><span class="pp-pln">                    </span><span class="pp-tag">set</span><span class="pp-pln"> c = String.fromCharCode(i)</span></div><div class="L7"><span class="pp-ln"> 187 </span><span class="pp-pln">                    </span><span class="pp-tag">if</span><span class="pp-pln"> c === '\\'</span></div><div class="L8"><span class="pp-ln"> 188 </span><span class="pp-pln">                        </span><span class="pp-tag">set</span><span class="pp-pln"> c = ''</span></div><div class="L9"><span class="pp-ln"> 189 </span><span class="pp-pln">                </span><span class="pp-tag">else</span></div><div class="L0"><span class="pp-ln"> 190 </span><span class="pp-pln">                    </span><span class="pp-tag">set</span><span class="pp-pln"> c = String(i)</span></div><div class="L1"><span class="pp-ln"> 191 </span><span class="pp-pln">                    </span><span class="pp-tag">if</span><span class="pp-pln"> pad</span></div><div class="L2"><span class="pp-ln"> 192 </span><span class="pp-pln">                        </span><span class="pp-tag">var</span><span class="pp-pln"> need = (width - c.length)</span></div><div class="L3"><span class="pp-ln"> 193 </span><span class="pp-pln">                        </span><span class="pp-tag">if</span><span class="pp-pln"> need &gt; 0</span></div><div class="L4"><span class="pp-ln"> 194 </span><span class="pp-pln">                            </span><span class="pp-tag">var</span><span class="pp-pln"> z</span></div><div class="L5"><span class="pp-ln"> 195 </span><span class="pp-pln">                                </span><span class="pp-tag">new</span><span class="pp-pln"> Array((need + 1))</span></div><div class="L6"><span class="pp-ln"> 196 </span><span class="pp-pln">                                    </span><span class="pp-tag">._</span><span class="pp-pln"> join('0')</span></div><div class="L7"><span class="pp-ln"> 197 </span><span class="pp-pln">                            </span><span class="pp-tag">if</span><span class="pp-pln"> i &lt; 0</span></div><div class="L8"><span class="pp-ln"> 198 </span><span class="pp-pln">                                </span><span class="pp-tag">set</span><span class="pp-pln"> c = ((('-' + z)) + c.slice(1))</span></div><div class="L9"><span class="pp-ln"> 199 </span><span class="pp-pln">                            </span><span class="pp-tag">else</span></div><div class="L0"><span class="pp-ln"> 200 </span><span class="pp-pln">                                </span><span class="pp-tag">set</span><span class="pp-pln"> c = (z + c)</span></div><div class="L1"><span class="pp-ln"> 201 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> N.push(c)</span></div><div class="L2"><span class="pp-ln"> 202 </span><span class="pp-pln">        </span><span class="pp-tag">else</span></div><div class="L3"><span class="pp-ln"> 203 </span><span class="pp-pln">            </span><span class="pp-tag">set</span><span class="pp-pln"> N =</span></div><div class="L4"><span class="pp-ln"> 204 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> concatMap</span></div><div class="L5"><span class="pp-ln"> 205 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> n</span></div><div class="L6"><span class="pp-ln"> 206 </span><span class="pp-pln">                    </span><span class="pp-tag">function</span></div><div class="L7"><span class="pp-ln"> 207 </span><span class="pp-pln">                        </span><span class="pp-tag">param</span><span class="pp-pln"> el</span></div><div class="L8"><span class="pp-ln"> 208 </span><span class="pp-pln">                        </span><span class="pp-tag">return</span><span class="pp-pln"> expand(el, false)</span></div><div class="L9"><span class="pp-ln"> 209 </span><span class="pp-pln">        </span><span class="pp-tag">for</span><span class="pp-pln"> var j = 0; j &lt; N.length; j++</span></div><div class="L0"><span class="pp-ln"> 210 </span><span class="pp-pln">            </span><span class="pp-tag">for</span><span class="pp-pln"> var k = 0; k &lt; post.length; k++</span></div><div class="L1"><span class="pp-ln"> 211 </span><span class="pp-pln">                </span><span class="pp-tag">var</span><span class="pp-pln"> expansion = (((pre + N[j])) + post[k])</span></div><div class="L2"><span class="pp-ln"> 212 </span><span class="pp-pln">                </span><span class="pp-tag">if</span><span class="pp-pln"> (((! (isTop) || isSequence)) || expansion)</span></div><div class="L3"><span class="pp-ln"> 213 </span><span class="pp-pln">                    </span><span class="pp-tag">_</span><span class="pp-pln"> expansions.push(expansion)</span></div><div class="L4"><span class="pp-ln"> 214 </span><span class="pp-pln">        </span><span class="pp-tag">return</span><span class="pp-pln"> expansions</span></div></pre>
                    </div>
                </div>
                <div class="code-panel" id="d34">
                    <div class="modal-view-container">
                        <h4 class="d-h2">/src/ittf/lib/glob/common.js.ittf</h4>
                        <pre class="prettyprint">

<div class="L1"><span class="pp-ln">   1 </span><span class="pp-pln"></span><span class="pp-tag">module</span></div><div class="L2"><span class="pp-ln">   2 </span><span class="pp-pln">    </span><span class="pp-tag">kind</span><span class="pp-pln"> jsfile</span></div><div class="L3"><span class="pp-ln">   3 </span><span class="pp-pln">    </span><span class="pp-tag">#</span><span class="pp-pln"> FROM</span></div><div class="L4"><span class="pp-ln">   4 </span><span class="pp-pln">    </span><span class="pp-tag">#</span><span class="pp-pln"> Copyright (c) Isaac Z. Schlueter and Contributors</span></div><div class="L5"><span class="pp-ln">   5 </span><span class="pp-pln">    </span><span class="pp-tag">#</span><span class="pp-pln"> source: https://github.com/isaacs/node-glob/blob/master/common.js</span></div><div class="L6"><span class="pp-ln">   6 </span><span class="pp-pln">    </span><span class="pp-tag">#</span><span class="pp-pln"> license (ISC)</span></div><div class="L7"><span class="pp-ln">   7 </span><span class="pp-pln">    </span><span class="pp-tag">set</span><span class="pp-pln"> exports.alphasort = alphasort</span></div><div class="L8"><span class="pp-ln">   8 </span><span class="pp-pln">    </span><span class="pp-tag">set</span><span class="pp-pln"> exports.alphasorti = alphasorti</span></div><div class="L9"><span class="pp-ln">   9 </span><span class="pp-pln">    </span><span class="pp-tag">set</span><span class="pp-pln"> exports.setopts = setopts</span></div><div class="L0"><span class="pp-ln">  10 </span><span class="pp-pln">    </span><span class="pp-tag">set</span><span class="pp-pln"> exports.ownProp = ownProp</span></div><div class="L1"><span class="pp-ln">  11 </span><span class="pp-pln">    </span><span class="pp-tag">set</span><span class="pp-pln"> exports.makeAbs = makeAbs</span></div><div class="L2"><span class="pp-ln">  12 </span><span class="pp-pln">    </span><span class="pp-tag">set</span><span class="pp-pln"> exports.finish = finish</span></div><div class="L3"><span class="pp-ln">  13 </span><span class="pp-pln">    </span><span class="pp-tag">set</span><span class="pp-pln"> exports.mark = mark</span></div><div class="L4"><span class="pp-ln">  14 </span><span class="pp-pln">    </span><span class="pp-tag">set</span><span class="pp-pln"> exports.isIgnored = isIgnored</span></div><div class="L5"><span class="pp-ln">  15 </span><span class="pp-pln">    </span><span class="pp-tag">set</span><span class="pp-pln"> exports.childrenIgnored = childrenIgnored</span></div><div class="L6"><span class="pp-ln">  16 </span><span class="pp-pln">    </span><span class="pp-tag">function</span><span class="pp-pln"> ownProp</span></div><div class="L7"><span class="pp-ln">  17 </span><span class="pp-pln">        </span><span class="pp-tag">param</span><span class="pp-pln"> obj</span></div><div class="L8"><span class="pp-ln">  18 </span><span class="pp-pln">        </span><span class="pp-tag">param</span><span class="pp-pln"> field</span></div><div class="L9"><span class="pp-ln">  19 </span><span class="pp-pln">        </span><span class="pp-tag">return</span><span class="pp-pln"> Object.prototype.hasOwnProperty.call(obj, field)</span></div><div class="L0"><span class="pp-ln">  20 </span><span class="pp-pln">    </span><span class="pp-tag">var</span><span class="pp-pln"> path = require("path")</span></div><div class="L1"><span class="pp-ln">  21 </span><span class="pp-pln">    </span><span class="pp-tag">var</span><span class="pp-pln"> minimatch = require("./minimatch")</span></div><div class="L2"><span class="pp-ln">  22 </span><span class="pp-pln">    </span><span class="pp-tag">var</span><span class="pp-pln"> isAbsolute = require("./path-is-absolute")</span></div><div class="L3"><span class="pp-ln">  23 </span><span class="pp-pln">    </span><span class="pp-tag">var</span><span class="pp-pln"> Minimatch = minimatch.Minimatch</span></div><div class="L4"><span class="pp-ln">  24 </span><span class="pp-pln">    </span><span class="pp-tag">function</span><span class="pp-pln"> alphasorti</span></div><div class="L5"><span class="pp-ln">  25 </span><span class="pp-pln">        </span><span class="pp-tag">param</span><span class="pp-pln"> a</span></div><div class="L6"><span class="pp-ln">  26 </span><span class="pp-pln">        </span><span class="pp-tag">param</span><span class="pp-pln"> b</span></div><div class="L7"><span class="pp-ln">  27 </span><span class="pp-pln">        </span><span class="pp-tag">return</span></div><div class="L8"><span class="pp-ln">  28 </span><span class="pp-pln">            </span><span class="pp-tag">_</span><span class="pp-pln"> a.toLowerCase()</span></div><div class="L9"><span class="pp-ln">  29 </span><span class="pp-pln">                </span><span class="pp-tag">._</span><span class="pp-pln"> localeCompare</span></div><div class="L0"><span class="pp-ln">  30 </span><span class="pp-pln">                    </span><span class="pp-tag">_</span><span class="pp-pln"> b.toLowerCase()</span></div><div class="L1"><span class="pp-ln">  31 </span><span class="pp-pln">    </span><span class="pp-tag">function</span><span class="pp-pln"> alphasort</span></div><div class="L2"><span class="pp-ln">  32 </span><span class="pp-pln">        </span><span class="pp-tag">param</span><span class="pp-pln"> a</span></div><div class="L3"><span class="pp-ln">  33 </span><span class="pp-pln">        </span><span class="pp-tag">param</span><span class="pp-pln"> b</span></div><div class="L4"><span class="pp-ln">  34 </span><span class="pp-pln">        </span><span class="pp-tag">return</span><span class="pp-pln"> a.localeCompare(b)</span></div><div class="L5"><span class="pp-ln">  35 </span><span class="pp-pln">    </span><span class="pp-tag">function</span><span class="pp-pln"> setupIgnores</span></div><div class="L6"><span class="pp-ln">  36 </span><span class="pp-pln">        </span><span class="pp-tag">param</span><span class="pp-pln"> self</span></div><div class="L7"><span class="pp-ln">  37 </span><span class="pp-pln">        </span><span class="pp-tag">param</span><span class="pp-pln"> options</span></div><div class="L8"><span class="pp-ln">  38 </span><span class="pp-pln">        </span><span class="pp-tag">set</span><span class="pp-pln"> self.ignore = (options.ignore || [])</span></div><div class="L9"><span class="pp-ln">  39 </span><span class="pp-pln">        </span><span class="pp-tag">if</span><span class="pp-pln"> ! (Array.isArray(self.ignore))</span></div><div class="L0"><span class="pp-ln">  40 </span><span class="pp-pln">            </span><span class="pp-tag">set</span><span class="pp-pln"> self.ignore = [self.ignore]</span></div><div class="L1"><span class="pp-ln">  41 </span><span class="pp-pln">        </span><span class="pp-tag">if</span><span class="pp-pln"> self.ignore.length</span></div><div class="L2"><span class="pp-ln">  42 </span><span class="pp-pln">            </span><span class="pp-tag">set</span><span class="pp-pln"> self.ignore = self.ignore.map(ignoreMap)</span></div><div class="L3"><span class="pp-ln">  43 </span><span class="pp-pln">    </span><span class="pp-tag">function</span><span class="pp-pln"> ignoreMap</span></div><div class="L4"><span class="pp-ln">  44 </span><span class="pp-pln">        </span><span class="pp-tag">param</span><span class="pp-pln"> pattern</span></div><div class="L5"><span class="pp-ln">  45 </span><span class="pp-pln">        </span><span class="pp-tag">var</span><span class="pp-pln"> gmatcher = null</span></div><div class="L6"><span class="pp-ln">  46 </span><span class="pp-pln">        </span><span class="pp-tag">if</span><span class="pp-pln"> pattern.slice(- (3)) === '/**'</span></div><div class="L7"><span class="pp-ln">  47 </span><span class="pp-pln">            </span><span class="pp-tag">var</span><span class="pp-pln"> gpattern = pattern.replace(/(\/\*\*)+$/, '')</span></div><div class="L8"><span class="pp-ln">  48 </span><span class="pp-pln">            </span><span class="pp-tag">set</span><span class="pp-pln"> gmatcher = new Minimatch(gpattern, {dot: true})</span></div><div class="L9"><span class="pp-ln">  49 </span><span class="pp-pln">        </span><span class="pp-tag">return</span></div><div class="L0"><span class="pp-ln">  50 </span><span class="pp-pln">            </span><span class="pp-tag">{</span></div><div class="L1"><span class="pp-ln">  51 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> matcher</span></div><div class="L2"><span class="pp-ln">  52 </span><span class="pp-pln">                    </span><span class="pp-tag">new</span><span class="pp-pln"> Minimatch</span></div><div class="L3"><span class="pp-ln">  53 </span><span class="pp-pln">                        </span><span class="pp-tag">@</span><span class="pp-pln"> pattern</span></div><div class="L4"><span class="pp-ln">  54 </span><span class="pp-pln">                        </span><span class="pp-tag">{</span></div><div class="L5"><span class="pp-ln">  55 </span><span class="pp-pln">                            </span><span class="pp-tag">@</span><span class="pp-pln"> dot true</span></div><div class="L6"><span class="pp-ln">  56 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> gmatcher gmatcher</span></div><div class="L7"><span class="pp-ln">  57 </span><span class="pp-pln">    </span><span class="pp-tag">function</span><span class="pp-pln"> setopts</span></div><div class="L8"><span class="pp-ln">  58 </span><span class="pp-pln">        </span><span class="pp-tag">param</span><span class="pp-pln"> self</span></div><div class="L9"><span class="pp-ln">  59 </span><span class="pp-pln">        </span><span class="pp-tag">param</span><span class="pp-pln"> pattern</span></div><div class="L0"><span class="pp-ln">  60 </span><span class="pp-pln">        </span><span class="pp-tag">param</span><span class="pp-pln"> options</span></div><div class="L1"><span class="pp-ln">  61 </span><span class="pp-pln">        </span><span class="pp-tag">if</span><span class="pp-pln"> ! (options)</span></div><div class="L2"><span class="pp-ln">  62 </span><span class="pp-pln">            </span><span class="pp-tag">set</span><span class="pp-pln"> options =</span></div><div class="L3"><span class="pp-ln">  63 </span><span class="pp-pln">                </span><span class="pp-tag">{</span></div><div class="L4"><span class="pp-ln">  64 </span><span class="pp-pln">        </span><span class="pp-tag">if</span><span class="pp-pln"> (options.matchBase && (- (1) === pattern.indexOf("/")))</span></div><div class="L5"><span class="pp-ln">  65 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> options.noglobstar</span></div><div class="L6"><span class="pp-ln">  66 </span><span class="pp-pln">                </span><span class="pp-tag">throw</span></div><div class="L7"><span class="pp-ln">  67 </span><span class="pp-pln">                    </span><span class="pp-tag">new</span><span class="pp-pln"> Error("base matching requires globstar")</span></div><div class="L8"><span class="pp-ln">  68 </span><span class="pp-pln">            </span><span class="pp-tag">set</span><span class="pp-pln"> pattern = ("**/" + pattern)</span></div><div class="L9"><span class="pp-ln">  69 </span><span class="pp-pln">        </span><span class="pp-tag">set</span><span class="pp-pln"> self.silent = ! (! (options.silent))</span></div><div class="L0"><span class="pp-ln">  70 </span><span class="pp-pln">        </span><span class="pp-tag">set</span><span class="pp-pln"> self.pattern = pattern</span></div><div class="L1"><span class="pp-ln">  71 </span><span class="pp-pln">        </span><span class="pp-tag">set</span><span class="pp-pln"> self.strict = options.strict !== false</span></div><div class="L2"><span class="pp-ln">  72 </span><span class="pp-pln">        </span><span class="pp-tag">set</span><span class="pp-pln"> self.realpath = ! (! (options.realpath))</span></div><div class="L3"><span class="pp-ln">  73 </span><span class="pp-pln">        </span><span class="pp-tag">set</span><span class="pp-pln"> self.realpathCache = (options.realpathCache || Object.create(null))</span></div><div class="L4"><span class="pp-ln">  74 </span><span class="pp-pln">        </span><span class="pp-tag">set</span><span class="pp-pln"> self.follow = ! (! (options.follow))</span></div><div class="L5"><span class="pp-ln">  75 </span><span class="pp-pln">        </span><span class="pp-tag">set</span><span class="pp-pln"> self.dot = ! (! (options.dot))</span></div><div class="L6"><span class="pp-ln">  76 </span><span class="pp-pln">        </span><span class="pp-tag">set</span><span class="pp-pln"> self.mark = ! (! (options.mark))</span></div><div class="L7"><span class="pp-ln">  77 </span><span class="pp-pln">        </span><span class="pp-tag">set</span><span class="pp-pln"> self.nodir = ! (! (options.nodir))</span></div><div class="L8"><span class="pp-ln">  78 </span><span class="pp-pln">        </span><span class="pp-tag">if</span><span class="pp-pln"> self.nodir</span></div><div class="L9"><span class="pp-ln">  79 </span><span class="pp-pln">            </span><span class="pp-tag">set</span><span class="pp-pln"> self.mark = true</span></div><div class="L0"><span class="pp-ln">  80 </span><span class="pp-pln">        </span><span class="pp-tag">set</span><span class="pp-pln"> self.sync = ! (! (options.sync))</span></div><div class="L1"><span class="pp-ln">  81 </span><span class="pp-pln">        </span><span class="pp-tag">set</span><span class="pp-pln"> self.nounique = ! (! (options.nounique))</span></div><div class="L2"><span class="pp-ln">  82 </span><span class="pp-pln">        </span><span class="pp-tag">set</span><span class="pp-pln"> self.nonull = ! (! (options.nonull))</span></div><div class="L3"><span class="pp-ln">  83 </span><span class="pp-pln">        </span><span class="pp-tag">set</span><span class="pp-pln"> self.nosort = ! (! (options.nosort))</span></div><div class="L4"><span class="pp-ln">  84 </span><span class="pp-pln">        </span><span class="pp-tag">set</span><span class="pp-pln"> self.nocase = ! (! (options.nocase))</span></div><div class="L5"><span class="pp-ln">  85 </span><span class="pp-pln">        </span><span class="pp-tag">set</span><span class="pp-pln"> self.stat = ! (! (options.stat))</span></div><div class="L6"><span class="pp-ln">  86 </span><span class="pp-pln">        </span><span class="pp-tag">set</span><span class="pp-pln"> self.noprocess = ! (! (options.noprocess))</span></div><div class="L7"><span class="pp-ln">  87 </span><span class="pp-pln">        </span><span class="pp-tag">set</span><span class="pp-pln"> self.absolute = ! (! (options.absolute))</span></div><div class="L8"><span class="pp-ln">  88 </span><span class="pp-pln">        </span><span class="pp-tag">set</span><span class="pp-pln"> self.maxLength = (options.maxLength || Infinity)</span></div><div class="L9"><span class="pp-ln">  89 </span><span class="pp-pln">        </span><span class="pp-tag">set</span><span class="pp-pln"> self.cache = (options.cache || Object.create(null))</span></div><div class="L0"><span class="pp-ln">  90 </span><span class="pp-pln">        </span><span class="pp-tag">set</span><span class="pp-pln"> self.statCache = (options.statCache || Object.create(null))</span></div><div class="L1"><span class="pp-ln">  91 </span><span class="pp-pln">        </span><span class="pp-tag">set</span><span class="pp-pln"> self.symlinks = (options.symlinks || Object.create(null))</span></div><div class="L2"><span class="pp-ln">  92 </span><span class="pp-pln">        </span><span class="pp-tag">_</span><span class="pp-pln"> setupIgnores(self, options)</span></div><div class="L3"><span class="pp-ln">  93 </span><span class="pp-pln">        </span><span class="pp-tag">set</span><span class="pp-pln"> self.changedCwd = false</span></div><div class="L4"><span class="pp-ln">  94 </span><span class="pp-pln">        </span><span class="pp-tag">var</span><span class="pp-pln"> cwd = process.cwd()</span></div><div class="L5"><span class="pp-ln">  95 </span><span class="pp-pln">        </span><span class="pp-tag">if</span><span class="pp-pln"> ! (ownProp(options, "cwd"))</span></div><div class="L6"><span class="pp-ln">  96 </span><span class="pp-pln">            </span><span class="pp-tag">set</span><span class="pp-pln"> self.cwd = cwd</span></div><div class="L7"><span class="pp-ln">  97 </span><span class="pp-pln">        </span><span class="pp-tag">else</span></div><div class="L8"><span class="pp-ln">  98 </span><span class="pp-pln">            </span><span class="pp-tag">set</span><span class="pp-pln"> self.cwd = path.resolve(options.cwd)</span></div><div class="L9"><span class="pp-ln">  99 </span><span class="pp-pln">            </span><span class="pp-tag">set</span><span class="pp-pln"> self.changedCwd = self.cwd !== cwd</span></div><div class="L0"><span class="pp-ln"> 100 </span><span class="pp-pln">        </span><span class="pp-tag">set</span><span class="pp-pln"> self.root = (options.root || path.resolve(self.cwd, "/"))</span></div><div class="L1"><span class="pp-ln"> 101 </span><span class="pp-pln">        </span><span class="pp-tag">set</span><span class="pp-pln"> self.root = path.resolve(self.root)</span></div><div class="L2"><span class="pp-ln"> 102 </span><span class="pp-pln">        </span><span class="pp-tag">if</span><span class="pp-pln"> process.platform === "win32"</span></div><div class="L3"><span class="pp-ln"> 103 </span><span class="pp-pln">            </span><span class="pp-tag">set</span><span class="pp-pln"> self.root = self.root.replace(/\\/g, "/")</span></div><div class="L4"><span class="pp-ln"> 104 </span><span class="pp-pln">        </span><span class="pp-tag">set</span><span class="pp-pln"> self.cwdAbs = isAbsolute(self.cwd) ? self.cwd : makeAbs(self, self.cwd)</span></div><div class="L5"><span class="pp-ln"> 105 </span><span class="pp-pln">        </span><span class="pp-tag">if</span><span class="pp-pln"> process.platform === "win32"</span></div><div class="L6"><span class="pp-ln"> 106 </span><span class="pp-pln">            </span><span class="pp-tag">set</span><span class="pp-pln"> self.cwdAbs = self.cwdAbs.replace(/\\/g, "/")</span></div><div class="L7"><span class="pp-ln"> 107 </span><span class="pp-pln">        </span><span class="pp-tag">set</span><span class="pp-pln"> self.nomount = ! (! (options.nomount))</span></div><div class="L8"><span class="pp-ln"> 108 </span><span class="pp-pln">        </span><span class="pp-tag">set</span><span class="pp-pln"> options.nonegate = true</span></div><div class="L9"><span class="pp-ln"> 109 </span><span class="pp-pln">        </span><span class="pp-tag">set</span><span class="pp-pln"> options.nocomment = true</span></div><div class="L0"><span class="pp-ln"> 110 </span><span class="pp-pln">        </span><span class="pp-tag">set</span><span class="pp-pln"> self.minimatch = new Minimatch(pattern, options)</span></div><div class="L1"><span class="pp-ln"> 111 </span><span class="pp-pln">        </span><span class="pp-tag">set</span><span class="pp-pln"> self.options = self.minimatch.options</span></div><div class="L2"><span class="pp-ln"> 112 </span><span class="pp-pln">    </span><span class="pp-tag">function</span><span class="pp-pln"> finish</span></div><div class="L3"><span class="pp-ln"> 113 </span><span class="pp-pln">        </span><span class="pp-tag">param</span><span class="pp-pln"> self</span></div><div class="L4"><span class="pp-ln"> 114 </span><span class="pp-pln">        </span><span class="pp-tag">var</span><span class="pp-pln"> nou = self.nounique</span></div><div class="L5"><span class="pp-ln"> 115 </span><span class="pp-pln">        </span><span class="pp-tag">var</span><span class="pp-pln"> all</span></div><div class="L6"><span class="pp-ln"> 116 </span><span class="pp-pln">            </span><span class="pp-tag">iif</span><span class="pp-pln"> nou</span></div><div class="L7"><span class="pp-ln"> 117 </span><span class="pp-pln">                </span><span class="pp-tag">then</span></div><div class="L8"><span class="pp-ln"> 118 </span><span class="pp-pln">                    </span><span class="pp-tag">[</span></div><div class="L9"><span class="pp-ln"> 119 </span><span class="pp-pln">                </span><span class="pp-tag">else</span></div><div class="L0"><span class="pp-ln"> 120 </span><span class="pp-pln">                    </span><span class="pp-tag">_</span><span class="pp-pln"> Object.create(null)</span></div><div class="L1"><span class="pp-ln"> 121 </span><span class="pp-pln">        </span><span class="pp-tag">for</span><span class="pp-pln"> var i = 0, l = self.matches.length; i &lt; l; i++</span></div><div class="L2"><span class="pp-ln"> 122 </span><span class="pp-pln">            </span><span class="pp-tag">var</span><span class="pp-pln"> matches = self.matches[i]</span></div><div class="L3"><span class="pp-ln"> 123 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> !matches || Object.keys(matches).length === 0</span></div><div class="L4"><span class="pp-ln"> 124 </span><span class="pp-pln">                </span><span class="pp-tag">if</span><span class="pp-pln"> self.nonull</span></div><div class="L5"><span class="pp-ln"> 125 </span><span class="pp-pln">                    </span><span class="pp-tag">var</span><span class="pp-pln"> literal = self.minimatch.globSet[i]</span></div><div class="L6"><span class="pp-ln"> 126 </span><span class="pp-pln">                    </span><span class="pp-tag">if</span><span class="pp-pln"> nou</span></div><div class="L7"><span class="pp-ln"> 127 </span><span class="pp-pln">                        </span><span class="pp-tag">_</span><span class="pp-pln"> all.push(literal)</span></div><div class="L8"><span class="pp-ln"> 128 </span><span class="pp-pln">                    </span><span class="pp-tag">else</span></div><div class="L9"><span class="pp-ln"> 129 </span><span class="pp-pln">                        </span><span class="pp-tag">set</span><span class="pp-pln"> all[literal] = true</span></div><div class="L0"><span class="pp-ln"> 130 </span><span class="pp-pln">            </span><span class="pp-tag">else</span></div><div class="L1"><span class="pp-ln"> 131 </span><span class="pp-pln">                </span><span class="pp-tag">var</span><span class="pp-pln"> m = Object.keys(matches)</span></div><div class="L2"><span class="pp-ln"> 132 </span><span class="pp-pln">                </span><span class="pp-tag">if</span><span class="pp-pln"> nou</span></div><div class="L3"><span class="pp-ln"> 133 </span><span class="pp-pln">                    </span><span class="pp-tag">_</span><span class="pp-pln"> all.push.apply(all, m)</span></div><div class="L4"><span class="pp-ln"> 134 </span><span class="pp-pln">                </span><span class="pp-tag">else</span></div><div class="L5"><span class="pp-ln"> 135 </span><span class="pp-pln">                    </span><span class="pp-tag">_</span><span class="pp-pln"> m.forEach</span></div><div class="L6"><span class="pp-ln"> 136 </span><span class="pp-pln">                        </span><span class="pp-tag">function</span></div><div class="L7"><span class="pp-ln"> 137 </span><span class="pp-pln">                            </span><span class="pp-tag">param</span><span class="pp-pln"> m</span></div><div class="L8"><span class="pp-ln"> 138 </span><span class="pp-pln">                            </span><span class="pp-tag">set</span><span class="pp-pln"> all[m] = true</span></div><div class="L9"><span class="pp-ln"> 139 </span><span class="pp-pln">        </span><span class="pp-tag">if</span><span class="pp-pln"> !nou</span></div><div class="L0"><span class="pp-ln"> 140 </span><span class="pp-pln">            </span><span class="pp-tag">set</span><span class="pp-pln"> all = Object.keys(all)</span></div><div class="L1"><span class="pp-ln"> 141 </span><span class="pp-pln">        </span><span class="pp-tag">if</span><span class="pp-pln"> !self.nosort</span></div><div class="L2"><span class="pp-ln"> 142 </span><span class="pp-pln">            </span><span class="pp-tag">set</span><span class="pp-pln"> all = all.sort(self.nocase ? alphasorti : alphasort)</span></div><div class="L3"><span class="pp-ln"> 143 </span><span class="pp-pln">        </span><span class="pp-tag">if</span><span class="pp-pln"> self.mark</span></div><div class="L4"><span class="pp-ln"> 144 </span><span class="pp-pln">            </span><span class="pp-tag">for</span><span class="pp-pln"> var i = 0; i &lt; all.length; i++</span></div><div class="L5"><span class="pp-ln"> 145 </span><span class="pp-pln">                </span><span class="pp-tag">set</span><span class="pp-pln"> all[i] = self._mark(all[i])</span></div><div class="L6"><span class="pp-ln"> 146 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> self.nodir</span></div><div class="L7"><span class="pp-ln"> 147 </span><span class="pp-pln">                </span><span class="pp-tag">set</span><span class="pp-pln"> all =</span></div><div class="L8"><span class="pp-ln"> 148 </span><span class="pp-pln">                    </span><span class="pp-tag">_</span><span class="pp-pln"> all.filter</span></div><div class="L9"><span class="pp-ln"> 149 </span><span class="pp-pln">                        </span><span class="pp-tag">function</span></div><div class="L0"><span class="pp-ln"> 150 </span><span class="pp-pln">                            </span><span class="pp-tag">param</span><span class="pp-pln"> e</span></div><div class="L1"><span class="pp-ln"> 151 </span><span class="pp-pln">                            </span><span class="pp-tag">var</span><span class="pp-pln"> notDir = ! (/\/$/.test(e))</span></div><div class="L2"><span class="pp-ln"> 152 </span><span class="pp-pln">                            </span><span class="pp-tag">var</span><span class="pp-pln"> c = (self.cache[e] || self.cache[makeAbs(self, e)])</span></div><div class="L3"><span class="pp-ln"> 153 </span><span class="pp-pln">                            </span><span class="pp-tag">if</span><span class="pp-pln"> notDir && c</span></div><div class="L4"><span class="pp-ln"> 154 </span><span class="pp-pln">                                </span><span class="pp-tag">set</span><span class="pp-pln"> notDir = ((c !== 'DIR') && ! (Array.isArray(c)))</span></div><div class="L5"><span class="pp-ln"> 155 </span><span class="pp-pln">                            </span><span class="pp-tag">return</span><span class="pp-pln"> notDir</span></div><div class="L6"><span class="pp-ln"> 156 </span><span class="pp-pln">        </span><span class="pp-tag">if</span><span class="pp-pln"> self.ignore.length</span></div><div class="L7"><span class="pp-ln"> 157 </span><span class="pp-pln">            </span><span class="pp-tag">set</span><span class="pp-pln"> all =</span></div><div class="L8"><span class="pp-ln"> 158 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> all.filter</span></div><div class="L9"><span class="pp-ln"> 159 </span><span class="pp-pln">                    </span><span class="pp-tag">function</span></div><div class="L0"><span class="pp-ln"> 160 </span><span class="pp-pln">                        </span><span class="pp-tag">param</span><span class="pp-pln"> m</span></div><div class="L1"><span class="pp-ln"> 161 </span><span class="pp-pln">                        </span><span class="pp-tag">return</span><span class="pp-pln"> ! (isIgnored(self, m))</span></div><div class="L2"><span class="pp-ln"> 162 </span><span class="pp-pln">        </span><span class="pp-tag">set</span><span class="pp-pln"> self.found = all</span></div><div class="L3"><span class="pp-ln"> 163 </span><span class="pp-pln">    </span><span class="pp-tag">function</span><span class="pp-pln"> mark</span></div><div class="L4"><span class="pp-ln"> 164 </span><span class="pp-pln">        </span><span class="pp-tag">param</span><span class="pp-pln"> self</span></div><div class="L5"><span class="pp-ln"> 165 </span><span class="pp-pln">        </span><span class="pp-tag">param</span><span class="pp-pln"> p</span></div><div class="L6"><span class="pp-ln"> 166 </span><span class="pp-pln">        </span><span class="pp-tag">var</span><span class="pp-pln"> abs = makeAbs(self, p)</span></div><div class="L7"><span class="pp-ln"> 167 </span><span class="pp-pln">        </span><span class="pp-tag">var</span><span class="pp-pln"> c = self.cache[abs]</span></div><div class="L8"><span class="pp-ln"> 168 </span><span class="pp-pln">        </span><span class="pp-tag">var</span><span class="pp-pln"> m = p</span></div><div class="L9"><span class="pp-ln"> 169 </span><span class="pp-pln">        </span><span class="pp-tag">if</span><span class="pp-pln"> c</span></div><div class="L0"><span class="pp-ln"> 170 </span><span class="pp-pln">            </span><span class="pp-tag">var</span><span class="pp-pln"> isDir = ((c === 'DIR') || Array.isArray(c))</span></div><div class="L1"><span class="pp-ln"> 171 </span><span class="pp-pln">            </span><span class="pp-tag">var</span><span class="pp-pln"> slash = p.slice(- (1)) === '/'</span></div><div class="L2"><span class="pp-ln"> 172 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> isDir && ! (slash)</span></div><div class="L3"><span class="pp-ln"> 173 </span><span class="pp-pln">                </span><span class="pp-tag">set</span><span class="pp-pln"> m += '/'</span></div><div class="L4"><span class="pp-ln"> 174 </span><span class="pp-pln">            </span><span class="pp-tag">elif</span><span class="pp-pln"> ! (isDir) && slash</span></div><div class="L5"><span class="pp-ln"> 175 </span><span class="pp-pln">                </span><span class="pp-tag">set</span><span class="pp-pln"> m = m.slice(0, - (1))</span></div><div class="L6"><span class="pp-ln"> 176 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> m !== p</span></div><div class="L7"><span class="pp-ln"> 177 </span><span class="pp-pln">                </span><span class="pp-tag">var</span><span class="pp-pln"> mabs = makeAbs(self, m)</span></div><div class="L8"><span class="pp-ln"> 178 </span><span class="pp-pln">                </span><span class="pp-tag">set</span><span class="pp-pln"> self.statCache[mabs] = self.statCache[abs]</span></div><div class="L9"><span class="pp-ln"> 179 </span><span class="pp-pln">                </span><span class="pp-tag">set</span><span class="pp-pln"> self.cache[mabs] = self.cache[abs]</span></div><div class="L0"><span class="pp-ln"> 180 </span><span class="pp-pln">        </span><span class="pp-tag">return</span><span class="pp-pln"> m</span></div><div class="L1"><span class="pp-ln"> 181 </span><span class="pp-pln">    </span><span class="pp-tag">function</span><span class="pp-pln"> makeAbs</span></div><div class="L2"><span class="pp-ln"> 182 </span><span class="pp-pln">        </span><span class="pp-tag">param</span><span class="pp-pln"> self</span></div><div class="L3"><span class="pp-ln"> 183 </span><span class="pp-pln">        </span><span class="pp-tag">param</span><span class="pp-pln"> f</span></div><div class="L4"><span class="pp-ln"> 184 </span><span class="pp-pln">        </span><span class="pp-tag">var</span><span class="pp-pln"> abs = f</span></div><div class="L5"><span class="pp-ln"> 185 </span><span class="pp-pln">        </span><span class="pp-tag">if</span><span class="pp-pln"> f.charAt(0) === '/'</span></div><div class="L6"><span class="pp-ln"> 186 </span><span class="pp-pln">            </span><span class="pp-tag">set</span><span class="pp-pln"> abs = path.join(self.root, f)</span></div><div class="L7"><span class="pp-ln"> 187 </span><span class="pp-pln">        </span><span class="pp-tag">elif</span><span class="pp-pln"> (isAbsolute(f) || (f === ''))</span></div><div class="L8"><span class="pp-ln"> 188 </span><span class="pp-pln">            </span><span class="pp-tag">set</span><span class="pp-pln"> abs = f</span></div><div class="L9"><span class="pp-ln"> 189 </span><span class="pp-pln">        </span><span class="pp-tag">elif</span><span class="pp-pln"> self.changedCwd</span></div><div class="L0"><span class="pp-ln"> 190 </span><span class="pp-pln">            </span><span class="pp-tag">set</span><span class="pp-pln"> abs = path.resolve(self.cwd, f)</span></div><div class="L1"><span class="pp-ln"> 191 </span><span class="pp-pln">        </span><span class="pp-tag">else</span></div><div class="L2"><span class="pp-ln"> 192 </span><span class="pp-pln">            </span><span class="pp-tag">set</span><span class="pp-pln"> abs = path.resolve(f)</span></div><div class="L3"><span class="pp-ln"> 193 </span><span class="pp-pln">        </span><span class="pp-tag">if</span><span class="pp-pln"> process.platform === 'win32'</span></div><div class="L4"><span class="pp-ln"> 194 </span><span class="pp-pln">            </span><span class="pp-tag">set</span><span class="pp-pln"> abs = abs.replace(/\\/g, '/')</span></div><div class="L5"><span class="pp-ln"> 195 </span><span class="pp-pln">        </span><span class="pp-tag">#</span><span class="pp-pln"> log '***** wizzi-utils.glob.common.makeAbs.abs', abs</span></div><div class="L6"><span class="pp-ln"> 196 </span><span class="pp-pln">        </span><span class="pp-tag">return</span><span class="pp-pln"> abs</span></div><div class="L7"><span class="pp-ln"> 197 </span><span class="pp-pln">    </span><span class="pp-tag">function</span><span class="pp-pln"> isIgnored</span></div><div class="L8"><span class="pp-ln"> 198 </span><span class="pp-pln">        </span><span class="pp-tag">param</span><span class="pp-pln"> self</span></div><div class="L9"><span class="pp-ln"> 199 </span><span class="pp-pln">        </span><span class="pp-tag">param</span><span class="pp-pln"> path</span></div><div class="L0"><span class="pp-ln"> 200 </span><span class="pp-pln">        </span><span class="pp-tag">if</span><span class="pp-pln"> ! (self.ignore.length)</span></div><div class="L1"><span class="pp-ln"> 201 </span><span class="pp-pln">            </span><span class="pp-tag">return</span><span class="pp-pln"> false</span></div><div class="L2"><span class="pp-ln"> 202 </span><span class="pp-pln">        </span><span class="pp-tag">return</span></div><div class="L3"><span class="pp-ln"> 203 </span><span class="pp-pln">            </span><span class="pp-tag">_</span><span class="pp-pln"> self.ignore.some</span></div><div class="L4"><span class="pp-ln"> 204 </span><span class="pp-pln">                </span><span class="pp-tag">function</span></div><div class="L5"><span class="pp-ln"> 205 </span><span class="pp-pln">                    </span><span class="pp-tag">param</span><span class="pp-pln"> item</span></div><div class="L6"><span class="pp-ln"> 206 </span><span class="pp-pln">                    </span><span class="pp-tag">return</span><span class="pp-pln"> ( item.matcher.match(path) || !!(item.gmatcher && item.gmatcher.match(path)) )</span></div><div class="L7"><span class="pp-ln"> 207 </span><span class="pp-pln">    </span><span class="pp-tag">function</span><span class="pp-pln"> childrenIgnored</span></div><div class="L8"><span class="pp-ln"> 208 </span><span class="pp-pln">        </span><span class="pp-tag">param</span><span class="pp-pln"> self</span></div><div class="L9"><span class="pp-ln"> 209 </span><span class="pp-pln">        </span><span class="pp-tag">param</span><span class="pp-pln"> path</span></div><div class="L0"><span class="pp-ln"> 210 </span><span class="pp-pln">        </span><span class="pp-tag">if</span><span class="pp-pln"> !self.ignore.length</span></div><div class="L1"><span class="pp-ln"> 211 </span><span class="pp-pln">            </span><span class="pp-tag">return</span><span class="pp-pln"> false</span></div><div class="L2"><span class="pp-ln"> 212 </span><span class="pp-pln">        </span><span class="pp-tag">return</span></div><div class="L3"><span class="pp-ln"> 213 </span><span class="pp-pln">            </span><span class="pp-tag">_</span><span class="pp-pln"> self.ignore.some</span></div><div class="L4"><span class="pp-ln"> 214 </span><span class="pp-pln">                </span><span class="pp-tag">function</span></div><div class="L5"><span class="pp-ln"> 215 </span><span class="pp-pln">                    </span><span class="pp-tag">param</span><span class="pp-pln"> item</span></div><div class="L6"><span class="pp-ln"> 216 </span><span class="pp-pln">                    </span><span class="pp-tag">return</span><span class="pp-pln"> !!(item.gmatcher && item.gmatcher.match(path))</span></div></pre>
                    </div>
                </div>
                <div class="code-panel" id="d35">
                    <div class="modal-view-container">
                        <h4 class="d-h2">/src/ittf/lib/glob/concat-map.js.ittf</h4>
                        <pre class="prettyprint">

<div class="L1"><span class="pp-ln">   1 </span><span class="pp-pln"></span><span class="pp-tag">module</span></div><div class="L2"><span class="pp-ln">   2 </span><span class="pp-pln">    </span><span class="pp-tag">kind</span><span class="pp-pln"> jsfile</span></div><div class="L3"><span class="pp-ln">   3 </span><span class="pp-pln">    </span><span class="pp-tag">#</span><span class="pp-pln"> FROM</span></div><div class="L4"><span class="pp-ln">   4 </span><span class="pp-pln">    </span><span class="pp-tag">#</span><span class="pp-pln"> Copyright</span></div><div class="L5"><span class="pp-ln">   5 </span><span class="pp-pln">    </span><span class="pp-tag">#</span><span class="pp-pln"> source: https://github.com/substack/node-concat-map/blob/master/index.js</span></div><div class="L6"><span class="pp-ln">   6 </span><span class="pp-pln">    </span><span class="pp-tag">#</span><span class="pp-pln"> license (MIT)</span></div><div class="L7"><span class="pp-ln">   7 </span><span class="pp-pln">    </span><span class="pp-tag">set</span><span class="pp-pln"> module.exports =</span></div><div class="L8"><span class="pp-ln">   8 </span><span class="pp-pln">        </span><span class="pp-tag">function</span></div><div class="L9"><span class="pp-ln">   9 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> xs</span></div><div class="L0"><span class="pp-ln">  10 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> fn</span></div><div class="L1"><span class="pp-ln">  11 </span><span class="pp-pln">            </span><span class="pp-tag">var</span><span class="pp-pln"> res</span></div><div class="L2"><span class="pp-ln">  12 </span><span class="pp-pln">                </span><span class="pp-tag">[</span></div><div class="L3"><span class="pp-ln">  13 </span><span class="pp-pln">            </span><span class="pp-tag">for</span><span class="pp-pln"> var i = 0; i &lt; xs.length; i++</span></div><div class="L4"><span class="pp-ln">  14 </span><span class="pp-pln">                </span><span class="pp-tag">var</span><span class="pp-pln"> x</span></div><div class="L5"><span class="pp-ln">  15 </span><span class="pp-pln">                    </span><span class="pp-tag">_</span><span class="pp-pln"> fn</span></div><div class="L6"><span class="pp-ln">  16 </span><span class="pp-pln">                        </span><span class="pp-tag">@</span><span class="pp-pln"> xs[i]</span></div><div class="L7"><span class="pp-ln">  17 </span><span class="pp-pln">                        </span><span class="pp-tag">@</span><span class="pp-pln"> i</span></div><div class="L8"><span class="pp-ln">  18 </span><span class="pp-pln">                </span><span class="pp-tag">if</span><span class="pp-pln"> isArray(x)</span></div><div class="L9"><span class="pp-ln">  19 </span><span class="pp-pln">                    </span><span class="pp-tag">_</span><span class="pp-pln"> res.push.apply(res, x)</span></div><div class="L0"><span class="pp-ln">  20 </span><span class="pp-pln">                </span><span class="pp-tag">else</span></div><div class="L1"><span class="pp-ln">  21 </span><span class="pp-pln">                    </span><span class="pp-tag">_</span><span class="pp-pln"> res.push(x)</span></div><div class="L2"><span class="pp-ln">  22 </span><span class="pp-pln">            </span><span class="pp-tag">return</span><span class="pp-pln"> res</span></div><div class="L3"><span class="pp-ln">  23 </span><span class="pp-pln">    </span><span class="pp-tag">var</span><span class="pp-pln"> isArray</span></div><div class="L4"><span class="pp-ln">  24 </span><span class="pp-pln">        </span><span class="pp-tag">||</span></div><div class="L5"><span class="pp-ln">  25 </span><span class="pp-pln">            </span><span class="pp-tag">set</span><span class="pp-pln"> Array.isArray</span></div><div class="L6"><span class="pp-ln">  26 </span><span class="pp-pln">            </span><span class="pp-tag">function</span></div><div class="L7"><span class="pp-ln">  27 </span><span class="pp-pln">                </span><span class="pp-tag">param</span><span class="pp-pln"> xs</span></div><div class="L8"><span class="pp-ln">  28 </span><span class="pp-pln">                </span><span class="pp-tag">return</span><span class="pp-pln"> Object.prototype.toString.call(xs) === '[object Array]'</span></div></pre>
                    </div>
                </div>
                <div class="code-panel" id="d36">
                    <div class="modal-view-container">
                        <h4 class="d-h2">/src/ittf/lib/glob/fs.realpath.js.ittf</h4>
                        <pre class="prettyprint">

<div class="L1"><span class="pp-ln">   1 </span><span class="pp-pln"></span><span class="pp-tag">module</span></div><div class="L2"><span class="pp-ln">   2 </span><span class="pp-pln">    </span><span class="pp-tag">kind</span><span class="pp-pln"> jsfile</span></div><div class="L3"><span class="pp-ln">   3 </span><span class="pp-pln">    </span><span class="pp-tag">#</span><span class="pp-pln"> FROM</span></div><div class="L4"><span class="pp-ln">   4 </span><span class="pp-pln">    </span><span class="pp-tag">#</span><span class="pp-pln"> Copyright (c) Isaac Z. Schlueter and Contributors</span></div><div class="L5"><span class="pp-ln">   5 </span><span class="pp-pln">    </span><span class="pp-tag">#</span><span class="pp-pln"> source: https://github.com/isaacs/fs.realpath/blob/master/index.js</span></div><div class="L6"><span class="pp-ln">   6 </span><span class="pp-pln">    </span><span class="pp-tag">#</span><span class="pp-pln"> license (ISC) https://github.com/isaacs/fs.realpath/blob/master/LICENSE</span></div><div class="L7"><span class="pp-ln">   7 </span><span class="pp-pln">    </span><span class="pp-tag">set</span><span class="pp-pln"> module.exports = realpath</span></div><div class="L8"><span class="pp-ln">   8 </span><span class="pp-pln">    </span><span class="pp-tag">set</span><span class="pp-pln"> realpath.realpath = realpath</span></div><div class="L9"><span class="pp-ln">   9 </span><span class="pp-pln">    </span><span class="pp-tag">set</span><span class="pp-pln"> realpath.sync = realpathSync</span></div><div class="L0"><span class="pp-ln">  10 </span><span class="pp-pln">    </span><span class="pp-tag">set</span><span class="pp-pln"> realpath.realpathSync = realpathSync</span></div><div class="L1"><span class="pp-ln">  11 </span><span class="pp-pln">    </span><span class="pp-tag">set</span><span class="pp-pln"> realpath.monkeypatch = monkeypatch</span></div><div class="L2"><span class="pp-ln">  12 </span><span class="pp-pln">    </span><span class="pp-tag">set</span><span class="pp-pln"> realpath.unmonkeypatch = unmonkeypatch</span></div><div class="L3"><span class="pp-ln">  13 </span><span class="pp-pln">    </span><span class="pp-tag">var</span><span class="pp-pln"> fs = require('fs')</span></div><div class="L4"><span class="pp-ln">  14 </span><span class="pp-pln">    </span><span class="pp-tag">var</span><span class="pp-pln"> origRealpath = fs.realpath</span></div><div class="L5"><span class="pp-ln">  15 </span><span class="pp-pln">    </span><span class="pp-tag">var</span><span class="pp-pln"> origRealpathSync = fs.realpathSync</span></div><div class="L6"><span class="pp-ln">  16 </span><span class="pp-pln">    </span><span class="pp-tag">var</span><span class="pp-pln"> version = process.version</span></div><div class="L7"><span class="pp-ln">  17 </span><span class="pp-pln">    </span><span class="pp-tag">var</span><span class="pp-pln"> ok = /^v[0-5]\./.test(version)</span></div><div class="L8"><span class="pp-ln">  18 </span><span class="pp-pln">    </span><span class="pp-tag">var</span><span class="pp-pln"> old = require('./old.js')</span></div><div class="L9"><span class="pp-ln">  19 </span><span class="pp-pln">    </span><span class="pp-tag">function</span><span class="pp-pln"> newError</span></div><div class="L0"><span class="pp-ln">  20 </span><span class="pp-pln">        </span><span class="pp-tag">param</span><span class="pp-pln"> er</span></div><div class="L1"><span class="pp-ln">  21 </span><span class="pp-pln">        </span><span class="pp-tag">return</span><span class="pp-pln"> (((er && (er.syscall === 'realpath'))) && (((((er.code === 'ELOOP') || (er.code === 'ENOMEM'))) || (er.code === 'ENAMETOOLONG'))))</span></div><div class="L2"><span class="pp-ln">  22 </span><span class="pp-pln">    </span><span class="pp-tag">function</span><span class="pp-pln"> realpath</span></div><div class="L3"><span class="pp-ln">  23 </span><span class="pp-pln">        </span><span class="pp-tag">param</span><span class="pp-pln"> p</span></div><div class="L4"><span class="pp-ln">  24 </span><span class="pp-pln">        </span><span class="pp-tag">param</span><span class="pp-pln"> cache</span></div><div class="L5"><span class="pp-ln">  25 </span><span class="pp-pln">        </span><span class="pp-tag">param</span><span class="pp-pln"> cb</span></div><div class="L6"><span class="pp-ln">  26 </span><span class="pp-pln">        </span><span class="pp-tag">if</span><span class="pp-pln"> ok</span></div><div class="L7"><span class="pp-ln">  27 </span><span class="pp-pln">            </span><span class="pp-tag">return</span><span class="pp-pln"> origRealpath(p, cache, cb)</span></div><div class="L8"><span class="pp-ln">  28 </span><span class="pp-pln">        </span><span class="pp-tag">if</span><span class="pp-pln"> typeof (cache) === 'function'</span></div><div class="L9"><span class="pp-ln">  29 </span><span class="pp-pln">            </span><span class="pp-tag">set</span><span class="pp-pln"> cb = cache</span></div><div class="L0"><span class="pp-ln">  30 </span><span class="pp-pln">            </span><span class="pp-tag">set</span><span class="pp-pln"> cache = null</span></div><div class="L1"><span class="pp-ln">  31 </span><span class="pp-pln">        </span><span class="pp-tag">_</span><span class="pp-pln"> origRealpath</span></div><div class="L2"><span class="pp-ln">  32 </span><span class="pp-pln">            </span><span class="pp-tag">@</span><span class="pp-pln"> p</span></div><div class="L3"><span class="pp-ln">  33 </span><span class="pp-pln">            </span><span class="pp-tag">@</span><span class="pp-pln"> cache</span></div><div class="L4"><span class="pp-ln">  34 </span><span class="pp-pln">            </span><span class="pp-tag">function</span></div><div class="L5"><span class="pp-ln">  35 </span><span class="pp-pln">                </span><span class="pp-tag">param</span><span class="pp-pln"> er</span></div><div class="L6"><span class="pp-ln">  36 </span><span class="pp-pln">                </span><span class="pp-tag">param</span><span class="pp-pln"> result</span></div><div class="L7"><span class="pp-ln">  37 </span><span class="pp-pln">                </span><span class="pp-tag">if</span><span class="pp-pln"> newError(er)</span></div><div class="L8"><span class="pp-ln">  38 </span><span class="pp-pln">                    </span><span class="pp-tag">_</span><span class="pp-pln"> old.realpath(p, cache, cb)</span></div><div class="L9"><span class="pp-ln">  39 </span><span class="pp-pln">                </span><span class="pp-tag">else</span></div><div class="L0"><span class="pp-ln">  40 </span><span class="pp-pln">                    </span><span class="pp-tag">_</span><span class="pp-pln"> cb(er, result)</span></div><div class="L1"><span class="pp-ln">  41 </span><span class="pp-pln">    </span><span class="pp-tag">function</span><span class="pp-pln"> realpathSync</span></div><div class="L2"><span class="pp-ln">  42 </span><span class="pp-pln">        </span><span class="pp-tag">param</span><span class="pp-pln"> p</span></div><div class="L3"><span class="pp-ln">  43 </span><span class="pp-pln">        </span><span class="pp-tag">param</span><span class="pp-pln"> cache</span></div><div class="L4"><span class="pp-ln">  44 </span><span class="pp-pln">        </span><span class="pp-tag">if</span><span class="pp-pln"> ok</span></div><div class="L5"><span class="pp-ln">  45 </span><span class="pp-pln">            </span><span class="pp-tag">return</span><span class="pp-pln"> origRealpathSync(p, cache)</span></div><div class="L6"><span class="pp-ln">  46 </span><span class="pp-pln">        </span><span class="pp-tag">try</span></div><div class="L7"><span class="pp-ln">  47 </span><span class="pp-pln">            </span><span class="pp-tag">return</span><span class="pp-pln"> origRealpathSync(p, cache)</span></div><div class="L8"><span class="pp-ln">  48 </span><span class="pp-pln">        </span><span class="pp-tag">catch</span><span class="pp-pln"> er</span></div><div class="L9"><span class="pp-ln">  49 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> newError(er)</span></div><div class="L0"><span class="pp-ln">  50 </span><span class="pp-pln">                </span><span class="pp-tag">return</span><span class="pp-pln"> old.realpathSync(p, cache)</span></div><div class="L1"><span class="pp-ln">  51 </span><span class="pp-pln">            </span><span class="pp-tag">else</span></div><div class="L2"><span class="pp-ln">  52 </span><span class="pp-pln">                </span><span class="pp-tag">throw</span><span class="pp-pln"> er</span></div><div class="L3"><span class="pp-ln">  53 </span><span class="pp-pln">    </span><span class="pp-tag">function</span><span class="pp-pln"> monkeypatch</span></div><div class="L4"><span class="pp-ln">  54 </span><span class="pp-pln">        </span><span class="pp-tag">set</span><span class="pp-pln"> fs.realpath = realpath</span></div><div class="L5"><span class="pp-ln">  55 </span><span class="pp-pln">        </span><span class="pp-tag">set</span><span class="pp-pln"> fs.realpathSync = realpathSync</span></div><div class="L6"><span class="pp-ln">  56 </span><span class="pp-pln">    </span><span class="pp-tag">function</span><span class="pp-pln"> unmonkeypatch</span></div><div class="L7"><span class="pp-ln">  57 </span><span class="pp-pln">        </span><span class="pp-tag">set</span><span class="pp-pln"> fs.realpath = origRealpath</span></div><div class="L8"><span class="pp-ln">  58 </span><span class="pp-pln">        </span><span class="pp-tag">set</span><span class="pp-pln"> fs.realpathSync = origRealpathSync</span></div></pre>
                    </div>
                </div>
                <div class="code-panel" id="d37">
                    <div class="modal-view-container">
                        <h4 class="d-h2">/src/ittf/lib/glob/index.js.ittf</h4>
                        <pre class="prettyprint">

<div class="L1"><span class="pp-ln">   1 </span><span class="pp-pln"></span><span class="pp-tag">module</span></div><div class="L2"><span class="pp-ln">   2 </span><span class="pp-pln">    </span><span class="pp-tag">kind</span><span class="pp-pln"> jsfile</span></div><div class="L3"><span class="pp-ln">   3 </span><span class="pp-pln">    </span><span class="pp-tag">#</span><span class="pp-pln"> FROM</span></div><div class="L4"><span class="pp-ln">   4 </span><span class="pp-pln">    </span><span class="pp-tag">#</span><span class="pp-pln"> Copyright (c) Isaac Z. Schlueter and Contributors</span></div><div class="L5"><span class="pp-ln">   5 </span><span class="pp-pln">    </span><span class="pp-tag">#</span><span class="pp-pln"> source https://github.com/isaacs/node-glob/blob/master/glob.js</span></div><div class="L6"><span class="pp-ln">   6 </span><span class="pp-pln">    </span><span class="pp-tag">#</span><span class="pp-pln"> license (ISC)</span></div><div class="L7"><span class="pp-ln">   7 </span><span class="pp-pln">    </span><span class="pp-tag">set</span><span class="pp-pln"> module.exports = glob</span></div><div class="L8"><span class="pp-ln">   8 </span><span class="pp-pln">    </span><span class="pp-tag">var</span><span class="pp-pln"> minimatch = require('./minimatch')</span></div><div class="L9"><span class="pp-ln">   9 </span><span class="pp-pln">    </span><span class="pp-tag">var</span><span class="pp-pln"> Minimatch = minimatch.Minimatch</span></div><div class="L0"><span class="pp-ln">  10 </span><span class="pp-pln">    </span><span class="pp-tag">var</span><span class="pp-pln"> inherits = require('inherits')</span></div><div class="L1"><span class="pp-ln">  11 </span><span class="pp-pln">    </span><span class="pp-tag">var</span><span class="pp-pln"> EE</span></div><div class="L2"><span class="pp-ln">  12 </span><span class="pp-pln">        </span><span class="pp-tag">_</span><span class="pp-pln"> require('events')</span></div><div class="L3"><span class="pp-ln">  13 </span><span class="pp-pln">            </span><span class="pp-tag">.</span><span class="pp-pln"> EventEmitter</span></div><div class="L4"><span class="pp-ln">  14 </span><span class="pp-pln">    </span><span class="pp-tag">var</span><span class="pp-pln"> path = require('path')</span></div><div class="L5"><span class="pp-ln">  15 </span><span class="pp-pln">    </span><span class="pp-tag">var</span><span class="pp-pln"> assert = require('assert')</span></div><div class="L6"><span class="pp-ln">  16 </span><span class="pp-pln">    </span><span class="pp-tag">var</span><span class="pp-pln"> isAbsolute = require('./path-is-absolute')</span></div><div class="L7"><span class="pp-ln">  17 </span><span class="pp-pln">    </span><span class="pp-tag">var</span><span class="pp-pln"> common = require('./common.js')</span></div><div class="L8"><span class="pp-ln">  18 </span><span class="pp-pln">    </span><span class="pp-tag">var</span><span class="pp-pln"> globSync = require('./sync.js')</span></div><div class="L9"><span class="pp-ln">  19 </span><span class="pp-pln">    </span><span class="pp-tag">var</span><span class="pp-pln"> alphasort = common.alphasort</span></div><div class="L0"><span class="pp-ln">  20 </span><span class="pp-pln">    </span><span class="pp-tag">var</span><span class="pp-pln"> alphasorti = common.alphasorti</span></div><div class="L1"><span class="pp-ln">  21 </span><span class="pp-pln">    </span><span class="pp-tag">var</span><span class="pp-pln"> setopts = common.setopts</span></div><div class="L2"><span class="pp-ln">  22 </span><span class="pp-pln">    </span><span class="pp-tag">var</span><span class="pp-pln"> ownProp = common.ownProp</span></div><div class="L3"><span class="pp-ln">  23 </span><span class="pp-pln">    </span><span class="pp-tag">var</span><span class="pp-pln"> inflight = require('./inflight')</span></div><div class="L4"><span class="pp-ln">  24 </span><span class="pp-pln">    </span><span class="pp-tag">var</span><span class="pp-pln"> util = require('util')</span></div><div class="L5"><span class="pp-ln">  25 </span><span class="pp-pln">    </span><span class="pp-tag">var</span><span class="pp-pln"> childrenIgnored = common.childrenIgnored</span></div><div class="L6"><span class="pp-ln">  26 </span><span class="pp-pln">    </span><span class="pp-tag">var</span><span class="pp-pln"> isIgnored = common.isIgnored</span></div><div class="L7"><span class="pp-ln">  27 </span><span class="pp-pln">    </span><span class="pp-tag">var</span><span class="pp-pln"> once = require('./once')</span></div><div class="L8"><span class="pp-ln">  28 </span><span class="pp-pln">    </span><span class="pp-tag">function</span><span class="pp-pln"> glob</span></div><div class="L9"><span class="pp-ln">  29 </span><span class="pp-pln">        </span><span class="pp-tag">param</span><span class="pp-pln"> pattern</span></div><div class="L0"><span class="pp-ln">  30 </span><span class="pp-pln">        </span><span class="pp-tag">param</span><span class="pp-pln"> virtFS</span></div><div class="L1"><span class="pp-ln">  31 </span><span class="pp-pln">        </span><span class="pp-tag">param</span><span class="pp-pln"> options</span></div><div class="L2"><span class="pp-ln">  32 </span><span class="pp-pln">        </span><span class="pp-tag">param</span><span class="pp-pln"> cb</span></div><div class="L3"><span class="pp-ln">  33 </span><span class="pp-pln">        </span><span class="pp-tag">#</span><span class="pp-pln"> log 'wizzi-utils.glob.index.pattern', pattern</span></div><div class="L4"><span class="pp-ln">  34 </span><span class="pp-pln">        </span><span class="pp-tag">if</span><span class="pp-pln"> typeof(options) === 'function'</span></div><div class="L5"><span class="pp-ln">  35 </span><span class="pp-pln">            </span><span class="pp-tag">set</span><span class="pp-pln"> cb = options, options = {}</span></div><div class="L6"><span class="pp-ln">  36 </span><span class="pp-pln">        </span><span class="pp-tag">if</span><span class="pp-pln"> !options</span></div><div class="L7"><span class="pp-ln">  37 </span><span class="pp-pln">            </span><span class="pp-tag">set</span><span class="pp-pln"> options =</span></div><div class="L8"><span class="pp-ln">  38 </span><span class="pp-pln">                </span><span class="pp-tag">{</span></div><div class="L9"><span class="pp-ln">  39 </span><span class="pp-pln">        </span><span class="pp-tag">if</span><span class="pp-pln"> options.sync</span></div><div class="L0"><span class="pp-ln">  40 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> cb</span></div><div class="L1"><span class="pp-ln">  41 </span><span class="pp-pln">                </span><span class="pp-tag">throw</span><span class="pp-pln"> new TypeError('callback provided to sync glob')</span></div><div class="L2"><span class="pp-ln">  42 </span><span class="pp-pln">            </span><span class="pp-tag">return</span><span class="pp-pln"> globSync(pattern, virtFS, options)</span></div><div class="L3"><span class="pp-ln">  43 </span><span class="pp-pln">        </span><span class="pp-tag">else</span></div><div class="L4"><span class="pp-ln">  44 </span><span class="pp-pln">            </span><span class="pp-tag">return</span></div><div class="L5"><span class="pp-ln">  45 </span><span class="pp-pln">                </span><span class="pp-tag">new</span><span class="pp-pln"> Glob(pattern, virtFS, options, cb)</span></div><div class="L6"><span class="pp-ln">  46 </span><span class="pp-pln">    </span><span class="pp-tag">class</span><span class="pp-pln"> Glob</span></div><div class="L7"><span class="pp-ln">  47 </span><span class="pp-pln">        </span><span class="pp-tag">ctor</span></div><div class="L8"><span class="pp-ln">  48 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> pattern</span></div><div class="L9"><span class="pp-ln">  49 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> virtFS</span></div><div class="L0"><span class="pp-ln">  50 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> options</span></div><div class="L1"><span class="pp-ln">  51 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> cb</span></div><div class="L2"><span class="pp-ln">  52 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> typeof (options) === 'function'</span></div><div class="L3"><span class="pp-ln">  53 </span><span class="pp-pln">                </span><span class="pp-tag">set</span><span class="pp-pln"> cb = options</span></div><div class="L4"><span class="pp-ln">  54 </span><span class="pp-pln">                </span><span class="pp-tag">set</span><span class="pp-pln"> options = null</span></div><div class="L5"><span class="pp-ln">  55 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> !(this instanceof Glob)</span></div><div class="L6"><span class="pp-ln">  56 </span><span class="pp-pln">                </span><span class="pp-tag">return</span></div><div class="L7"><span class="pp-ln">  57 </span><span class="pp-pln">                    </span><span class="pp-tag">new</span><span class="pp-pln"> Glob(pattern, virtFS, options, cb)</span></div><div class="L8"><span class="pp-ln">  58 </span><span class="pp-pln">            </span><span class="pp-tag">set</span><span class="pp-pln"> this.virtFS = virtFS</span></div><div class="L9"><span class="pp-ln">  59 </span><span class="pp-pln">            </span><span class="pp-tag">#</span><span class="pp-pln"> log 'wizzi-utils.Glob.ctor.pattern', pattern</span></div><div class="L0"><span class="pp-ln">  60 </span><span class="pp-pln">            </span><span class="pp-tag">_</span><span class="pp-pln"> setopts(this, pattern, options)</span></div><div class="L1"><span class="pp-ln">  61 </span><span class="pp-pln">            </span><span class="pp-tag">#</span><span class="pp-pln"> log 'wizzi-utils.Glob.ctor.this.minimatch', this.minimatch</span></div><div class="L2"><span class="pp-ln">  62 </span><span class="pp-pln">            </span><span class="pp-tag">#</span><span class="pp-pln"> log 'wizzi-utils.Glob.ctor.this.minimatch.set', this.minimatch.set</span></div><div class="L3"><span class="pp-ln">  63 </span><span class="pp-pln">            </span><span class="pp-tag">var</span><span class="pp-pln"> n = this.minimatch.set.length</span></div><div class="L4"><span class="pp-ln">  64 </span><span class="pp-pln">            </span><span class="pp-tag">set</span><span class="pp-pln"> this.matches = new Array(n)</span></div><div class="L5"><span class="pp-ln">  65 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> typeof(cb) === 'function'</span></div><div class="L6"><span class="pp-ln">  66 </span><span class="pp-pln">                </span><span class="pp-tag">set</span><span class="pp-pln"> cb = once(cb)</span></div><div class="L7"><span class="pp-ln">  67 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> this.on('error', cb)</span></div><div class="L8"><span class="pp-ln">  68 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> this.on</span></div><div class="L9"><span class="pp-ln">  69 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> 'end'</span></div><div class="L0"><span class="pp-ln">  70 </span><span class="pp-pln">                    </span><span class="pp-tag">function</span></div><div class="L1"><span class="pp-ln">  71 </span><span class="pp-pln">                        </span><span class="pp-tag">param</span><span class="pp-pln"> matches</span></div><div class="L2"><span class="pp-ln">  72 </span><span class="pp-pln">                        </span><span class="pp-tag">#</span><span class="pp-pln"> log 'on.end.cb.matches', matches.length</span></div><div class="L3"><span class="pp-ln">  73 </span><span class="pp-pln">                        </span><span class="pp-tag">_</span><span class="pp-pln"> cb(null, matches)</span></div><div class="L4"><span class="pp-ln">  74 </span><span class="pp-pln">            </span><span class="pp-tag">var</span><span class="pp-pln"> self = this</span></div><div class="L5"><span class="pp-ln">  75 </span><span class="pp-pln">            </span><span class="pp-tag">set</span><span class="pp-pln"> this._processing = 0</span></div><div class="L6"><span class="pp-ln">  76 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> this.noprocess</span></div><div class="L7"><span class="pp-ln">  77 </span><span class="pp-pln">                </span><span class="pp-tag">return</span><span class="pp-pln"> this</span></div><div class="L8"><span class="pp-ln">  78 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> n === 0</span></div><div class="L9"><span class="pp-ln">  79 </span><span class="pp-pln">                </span><span class="pp-tag">return</span><span class="pp-pln"> done()</span></div><div class="L0"><span class="pp-ln">  80 </span><span class="pp-pln">            </span><span class="pp-tag">var</span><span class="pp-pln"> sync = true</span></div><div class="L1"><span class="pp-ln">  81 </span><span class="pp-pln">            </span><span class="pp-tag">for</span><span class="pp-pln"> var i = 0; i &lt; n; i++</span></div><div class="L2"><span class="pp-ln">  82 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> this._process</span></div><div class="L3"><span class="pp-ln">  83 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> this.minimatch.set[i]</span></div><div class="L4"><span class="pp-ln">  84 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> i</span></div><div class="L5"><span class="pp-ln">  85 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> false</span></div><div class="L6"><span class="pp-ln">  86 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> done</span></div><div class="L7"><span class="pp-ln">  87 </span><span class="pp-pln">            </span><span class="pp-tag">set</span><span class="pp-pln"> sync = false</span></div><div class="L8"><span class="pp-ln">  88 </span><span class="pp-pln">            </span><span class="pp-tag">function</span><span class="pp-pln"> done</span></div><div class="L9"><span class="pp-ln">  89 </span><span class="pp-pln">                </span><span class="pp-tag">set</span><span class="pp-pln"> --self._processing</span></div><div class="L0"><span class="pp-ln">  90 </span><span class="pp-pln">                </span><span class="pp-tag">#</span><span class="pp-pln"> log '---------- done self._processing, sync', self._processing, sync</span></div><div class="L1"><span class="pp-ln">  91 </span><span class="pp-pln">                </span><span class="pp-tag">if</span><span class="pp-pln"> self._processing &lt;= 0</span></div><div class="L2"><span class="pp-ln">  92 </span><span class="pp-pln">                    </span><span class="pp-tag">if</span><span class="pp-pln"> sync</span></div><div class="L3"><span class="pp-ln">  93 </span><span class="pp-pln">                        </span><span class="pp-tag">_</span><span class="pp-pln"> process.nextTick</span></div><div class="L4"><span class="pp-ln">  94 </span><span class="pp-pln">                            </span><span class="pp-tag">function</span></div><div class="L5"><span class="pp-ln">  95 </span><span class="pp-pln">                                </span><span class="pp-tag">_</span><span class="pp-pln"> self._finish()</span></div><div class="L6"><span class="pp-ln">  96 </span><span class="pp-pln">                    </span><span class="pp-tag">else</span></div><div class="L7"><span class="pp-ln">  97 </span><span class="pp-pln">                        </span><span class="pp-tag">_</span><span class="pp-pln"> self._finish()</span></div><div class="L8"><span class="pp-ln">  98 </span><span class="pp-pln">        </span><span class="pp-tag">m</span><span class="pp-pln"> _finish</span></div><div class="L9"><span class="pp-ln">  99 </span><span class="pp-pln">            </span><span class="pp-tag">_</span><span class="pp-pln"> assert(this instanceof Glob)</span></div><div class="L0"><span class="pp-ln"> 100 </span><span class="pp-pln">            </span><span class="pp-tag">_</span><span class="pp-pln"> common.finish(this)</span></div><div class="L1"><span class="pp-ln"> 101 </span><span class="pp-pln">            </span><span class="pp-tag">_</span><span class="pp-pln"> this.emit</span></div><div class="L2"><span class="pp-ln"> 102 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> 'end'</span></div><div class="L3"><span class="pp-ln"> 103 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> this.found</span></div><div class="L4"><span class="pp-ln"> 104 </span><span class="pp-pln">        </span><span class="pp-tag">m</span><span class="pp-pln"> _mark</span></div><div class="L5"><span class="pp-ln"> 105 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> p</span></div><div class="L6"><span class="pp-ln"> 106 </span><span class="pp-pln">            </span><span class="pp-tag">return</span><span class="pp-pln"> common.mark(this, p)</span></div><div class="L7"><span class="pp-ln"> 107 </span><span class="pp-pln">        </span><span class="pp-tag">m</span><span class="pp-pln"> _makeAbs</span></div><div class="L8"><span class="pp-ln"> 108 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> f</span></div><div class="L9"><span class="pp-ln"> 109 </span><span class="pp-pln">            </span><span class="pp-tag">return</span><span class="pp-pln"> common.makeAbs(this, f)</span></div><div class="L0"><span class="pp-ln"> 110 </span><span class="pp-pln">        </span><span class="pp-tag">m</span><span class="pp-pln"> _process</span></div><div class="L1"><span class="pp-ln"> 111 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> pattern</span></div><div class="L2"><span class="pp-ln"> 112 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> index</span></div><div class="L3"><span class="pp-ln"> 113 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> inGlobStar</span></div><div class="L4"><span class="pp-ln"> 114 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> cbDone</span></div><div class="L5"><span class="pp-ln"> 115 </span><span class="pp-pln">            </span><span class="pp-tag">_</span><span class="pp-pln"> assert(this instanceof Glob)</span></div><div class="L6"><span class="pp-ln"> 116 </span><span class="pp-pln">            </span><span class="pp-tag">_</span><span class="pp-pln"> assert(typeof (cbDone) === 'function')</span></div><div class="L7"><span class="pp-ln"> 117 </span><span class="pp-pln">            </span><span class="pp-tag">set</span><span class="pp-pln"> this._processing++</span></div><div class="L8"><span class="pp-ln"> 118 </span><span class="pp-pln">            </span><span class="pp-tag">#</span><span class="pp-pln"> log '_process.pattern.index.inGlobStar', pattern, index, inGlobStar</span></div><div class="L9"><span class="pp-ln"> 119 </span><span class="pp-pln">            </span><span class="pp-tag">var</span><span class="pp-pln"> n = 0</span></div><div class="L0"><span class="pp-ln"> 120 </span><span class="pp-pln">            </span><span class="pp-tag">while</span><span class="pp-pln"> typeof (pattern[n]) === 'string'</span></div><div class="L1"><span class="pp-ln"> 121 </span><span class="pp-pln">                </span><span class="pp-tag">set</span><span class="pp-pln"> n++</span></div><div class="L2"><span class="pp-ln"> 122 </span><span class="pp-pln">            </span><span class="pp-tag">#</span><span class="pp-pln"> log '_process.n', n</span></div><div class="L3"><span class="pp-ln"> 123 </span><span class="pp-pln">            </span><span class="pp-tag">var</span><span class="pp-pln"> prefix</span></div><div class="L4"><span class="pp-ln"> 124 </span><span class="pp-pln">            </span><span class="pp-tag">switch</span><span class="pp-pln"> n</span></div><div class="L5"><span class="pp-ln"> 125 </span><span class="pp-pln">                </span><span class="pp-tag">case</span><span class="pp-pln"> pattern.length</span></div><div class="L6"><span class="pp-ln"> 126 </span><span class="pp-pln">                    </span><span class="pp-tag">#</span><span class="pp-pln"> log '_process.prefix.case._processSimple'</span></div><div class="L7"><span class="pp-ln"> 127 </span><span class="pp-pln">                    </span><span class="pp-tag">_</span><span class="pp-pln"> this._processSimple</span></div><div class="L8"><span class="pp-ln"> 128 </span><span class="pp-pln">                        </span><span class="pp-tag">_</span><span class="pp-pln"> pattern.join('/')</span></div><div class="L9"><span class="pp-ln"> 129 </span><span class="pp-pln">                        </span><span class="pp-tag">@</span><span class="pp-pln"> index</span></div><div class="L0"><span class="pp-ln"> 130 </span><span class="pp-pln">                        </span><span class="pp-tag">@</span><span class="pp-pln"> cbDone</span></div><div class="L1"><span class="pp-ln"> 131 </span><span class="pp-pln">                    </span><span class="pp-tag">return</span></div><div class="L2"><span class="pp-ln"> 132 </span><span class="pp-pln">                </span><span class="pp-tag">case</span><span class="pp-pln"> 0</span></div><div class="L3"><span class="pp-ln"> 133 </span><span class="pp-pln">                    </span><span class="pp-tag">set</span><span class="pp-pln"> prefix = null</span></div><div class="L4"><span class="pp-ln"> 134 </span><span class="pp-pln">                    </span><span class="pp-tag">#</span><span class="pp-pln"> log '_process.prefix.n=0', prefix</span></div><div class="L5"><span class="pp-ln"> 135 </span><span class="pp-pln">                    </span><span class="pp-tag">break</span></div><div class="L6"><span class="pp-ln"> 136 </span><span class="pp-pln">                </span><span class="pp-tag">default</span></div><div class="L7"><span class="pp-ln"> 137 </span><span class="pp-pln">                    </span><span class="pp-tag">set</span><span class="pp-pln"> prefix = pattern.slice(0, n).join('/')</span></div><div class="L8"><span class="pp-ln"> 138 </span><span class="pp-pln">                    </span><span class="pp-tag">#</span><span class="pp-pln"> log '_process.prefix.default', prefix</span></div><div class="L9"><span class="pp-ln"> 139 </span><span class="pp-pln">                    </span><span class="pp-tag">break</span></div><div class="L0"><span class="pp-ln"> 140 </span><span class="pp-pln">            </span><span class="pp-tag">var</span><span class="pp-pln"> remain = pattern.slice(n)</span></div><div class="L1"><span class="pp-ln"> 141 </span><span class="pp-pln">            </span><span class="pp-tag">#</span><span class="pp-pln"> log 'pattern, remain', pattern, '-- / --', remain</span></div><div class="L2"><span class="pp-ln"> 142 </span><span class="pp-pln">            </span><span class="pp-tag">var</span><span class="pp-pln"> read</span></div><div class="L3"><span class="pp-ln"> 143 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> prefix === null</span></div><div class="L4"><span class="pp-ln"> 144 </span><span class="pp-pln">                </span><span class="pp-tag">set</span><span class="pp-pln"> read = '.'</span></div><div class="L5"><span class="pp-ln"> 145 </span><span class="pp-pln">            </span><span class="pp-tag">elif</span><span class="pp-pln"> isAbsolute(prefix) || isAbsolute(pattern.join('/'))</span></div><div class="L6"><span class="pp-ln"> 146 </span><span class="pp-pln">                </span><span class="pp-tag">if</span><span class="pp-pln"> !prefix || !isAbsolute(prefix)</span></div><div class="L7"><span class="pp-ln"> 147 </span><span class="pp-pln">                    </span><span class="pp-tag">set</span><span class="pp-pln"> prefix = ('/' + prefix)</span></div><div class="L8"><span class="pp-ln"> 148 </span><span class="pp-pln">                </span><span class="pp-tag">set</span><span class="pp-pln"> read = prefix</span></div><div class="L9"><span class="pp-ln"> 149 </span><span class="pp-pln">            </span><span class="pp-tag">else</span></div><div class="L0"><span class="pp-ln"> 150 </span><span class="pp-pln">                </span><span class="pp-tag">set</span><span class="pp-pln"> read = prefix</span></div><div class="L1"><span class="pp-ln"> 151 </span><span class="pp-pln">            </span><span class="pp-tag">var</span><span class="pp-pln"> abs = this._makeAbs(read)</span></div><div class="L2"><span class="pp-ln"> 152 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> childrenIgnored(this, read)</span></div><div class="L3"><span class="pp-ln"> 153 </span><span class="pp-pln">                </span><span class="pp-tag">return</span><span class="pp-pln"> cbDone()</span></div><div class="L4"><span class="pp-ln"> 154 </span><span class="pp-pln">            </span><span class="pp-tag">var</span><span class="pp-pln"> isGlobStar = remain[0] === minimatch.GLOBSTAR</span></div><div class="L5"><span class="pp-ln"> 155 </span><span class="pp-pln">            </span><span class="pp-tag">#</span><span class="pp-pln"> log 'read, abs, remain, isGlobStar', read, abs, remain, isGlobStar</span></div><div class="L6"><span class="pp-ln"> 156 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> isGlobStar</span></div><div class="L7"><span class="pp-ln"> 157 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> this._processGlobStar(prefix, read, abs, remain, index, inGlobStar, cbDone)</span></div><div class="L8"><span class="pp-ln"> 158 </span><span class="pp-pln">            </span><span class="pp-tag">else</span></div><div class="L9"><span class="pp-ln"> 159 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> this._processReaddir(prefix, read, abs, remain, index, inGlobStar, cbDone)</span></div><div class="L0"><span class="pp-ln"> 160 </span><span class="pp-pln">        </span><span class="pp-tag">m</span><span class="pp-pln"> _processReaddir</span></div><div class="L1"><span class="pp-ln"> 161 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> prefix</span></div><div class="L2"><span class="pp-ln"> 162 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> read</span></div><div class="L3"><span class="pp-ln"> 163 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> abs</span></div><div class="L4"><span class="pp-ln"> 164 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> remain</span></div><div class="L5"><span class="pp-ln"> 165 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> index</span></div><div class="L6"><span class="pp-ln"> 166 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> inGlobStar</span></div><div class="L7"><span class="pp-ln"> 167 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> cbDone</span></div><div class="L8"><span class="pp-ln"> 168 </span><span class="pp-pln">            </span><span class="pp-tag">var</span><span class="pp-pln"> self = this</span></div><div class="L9"><span class="pp-ln"> 169 </span><span class="pp-pln">            </span><span class="pp-tag">_</span><span class="pp-pln"> this._readdir</span></div><div class="L0"><span class="pp-ln"> 170 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> abs</span></div><div class="L1"><span class="pp-ln"> 171 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> inGlobStar</span></div><div class="L2"><span class="pp-ln"> 172 </span><span class="pp-pln">                </span><span class="pp-tag">function</span></div><div class="L3"><span class="pp-ln"> 173 </span><span class="pp-pln">                    </span><span class="pp-tag">param</span><span class="pp-pln"> er</span></div><div class="L4"><span class="pp-ln"> 174 </span><span class="pp-pln">                    </span><span class="pp-tag">param</span><span class="pp-pln"> entries</span></div><div class="L5"><span class="pp-ln"> 175 </span><span class="pp-pln">                    </span><span class="pp-tag">return</span><span class="pp-pln"> self._processReaddir2(prefix, read, abs, remain, index, inGlobStar, entries, cbDone)</span></div><div class="L6"><span class="pp-ln"> 176 </span><span class="pp-pln">        </span><span class="pp-tag">m</span><span class="pp-pln"> _processReaddir2</span></div><div class="L7"><span class="pp-ln"> 177 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> prefix</span></div><div class="L8"><span class="pp-ln"> 178 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> read</span></div><div class="L9"><span class="pp-ln"> 179 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> abs</span></div><div class="L0"><span class="pp-ln"> 180 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> remain</span></div><div class="L1"><span class="pp-ln"> 181 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> index</span></div><div class="L2"><span class="pp-ln"> 182 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> inGlobStar</span></div><div class="L3"><span class="pp-ln"> 183 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> entries</span></div><div class="L4"><span class="pp-ln"> 184 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> cbDone</span></div><div class="L5"><span class="pp-ln"> 185 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> !entries</span></div><div class="L6"><span class="pp-ln"> 186 </span><span class="pp-pln">                </span><span class="pp-tag">return</span><span class="pp-pln"> cbDone()</span></div><div class="L7"><span class="pp-ln"> 187 </span><span class="pp-pln">            </span><span class="pp-tag">var</span><span class="pp-pln"> pn = remain[0]</span></div><div class="L8"><span class="pp-ln"> 188 </span><span class="pp-pln">            </span><span class="pp-tag">var</span><span class="pp-pln"> negate = !!this.minimatch.negate</span></div><div class="L9"><span class="pp-ln"> 189 </span><span class="pp-pln">            </span><span class="pp-tag">var</span><span class="pp-pln"> rawGlob = pn._glob</span></div><div class="L0"><span class="pp-ln"> 190 </span><span class="pp-pln">            </span><span class="pp-tag">var</span><span class="pp-pln"> dotOk = this.dot || rawGlob.charAt(0) === '.'</span></div><div class="L1"><span class="pp-ln"> 191 </span><span class="pp-pln">            </span><span class="pp-tag">#</span><span class="pp-pln"> log '***** _processReaddir2 pn, negate, rawGlob, dotOk', pn, negate, rawGlob, dotOk</span></div><div class="L2"><span class="pp-ln"> 192 </span><span class="pp-pln">            </span><span class="pp-tag">var</span><span class="pp-pln"> matchedEntries</span></div><div class="L3"><span class="pp-ln"> 193 </span><span class="pp-pln">                </span><span class="pp-tag">[</span></div><div class="L4"><span class="pp-ln"> 194 </span><span class="pp-pln">            </span><span class="pp-tag">for</span><span class="pp-pln"> var i = 0; i &lt; entries.length; i++</span></div><div class="L5"><span class="pp-ln"> 195 </span><span class="pp-pln">                </span><span class="pp-tag">var</span><span class="pp-pln"> e = entries[i]</span></div><div class="L6"><span class="pp-ln"> 196 </span><span class="pp-pln">                </span><span class="pp-tag">#</span><span class="pp-pln"> var ePath = e.basename</span></div><div class="L7"><span class="pp-ln"> 197 </span><span class="pp-pln">                </span><span class="pp-tag">var</span><span class="pp-pln"> ePath = e</span></div><div class="L8"><span class="pp-ln"> 198 </span><span class="pp-pln">                </span><span class="pp-tag">if</span><span class="pp-pln"> ePath.charAt(0) !== '.' || dotOk</span></div><div class="L9"><span class="pp-ln"> 199 </span><span class="pp-pln">                    </span><span class="pp-tag">var</span><span class="pp-pln"> m</span></div><div class="L0"><span class="pp-ln"> 200 </span><span class="pp-pln">                    </span><span class="pp-tag">if</span><span class="pp-pln"> negate && !prefix</span></div><div class="L1"><span class="pp-ln"> 201 </span><span class="pp-pln">                        </span><span class="pp-tag">set</span><span class="pp-pln"> m = !ePath.match(pn)</span></div><div class="L2"><span class="pp-ln"> 202 </span><span class="pp-pln">                    </span><span class="pp-tag">else</span></div><div class="L3"><span class="pp-ln"> 203 </span><span class="pp-pln">                        </span><span class="pp-tag">set</span><span class="pp-pln"> m = ePath.match(pn)</span></div><div class="L4"><span class="pp-ln"> 204 </span><span class="pp-pln">                    </span><span class="pp-tag">if</span><span class="pp-pln"> m</span></div><div class="L5"><span class="pp-ln"> 205 </span><span class="pp-pln">                        </span><span class="pp-tag">_</span><span class="pp-pln"> matchedEntries.push(e)</span></div><div class="L6"><span class="pp-ln"> 206 </span><span class="pp-pln">            </span><span class="pp-tag">var</span><span class="pp-pln"> len = matchedEntries.length</span></div><div class="L7"><span class="pp-ln"> 207 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> len === 0</span></div><div class="L8"><span class="pp-ln"> 208 </span><span class="pp-pln">                </span><span class="pp-tag">return</span><span class="pp-pln"> cbDone()</span></div><div class="L9"><span class="pp-ln"> 209 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> remain.length === 1 && !this.mark && !this.stat</span></div><div class="L0"><span class="pp-ln"> 210 </span><span class="pp-pln">                </span><span class="pp-tag">if</span><span class="pp-pln"> !this.matches[index]</span></div><div class="L1"><span class="pp-ln"> 211 </span><span class="pp-pln">                    </span><span class="pp-tag">set</span><span class="pp-pln"> this.matches[index] = Object.create(null)</span></div><div class="L2"><span class="pp-ln"> 212 </span><span class="pp-pln">                </span><span class="pp-tag">for</span><span class="pp-pln"> var i = 0; i &lt; len; i++</span></div><div class="L3"><span class="pp-ln"> 213 </span><span class="pp-pln">                    </span><span class="pp-tag">var</span><span class="pp-pln"> e = matchedEntries[i]</span></div><div class="L4"><span class="pp-ln"> 214 </span><span class="pp-pln">                    </span><span class="pp-tag">#</span><span class="pp-pln"> var ePath = e.basename</span></div><div class="L5"><span class="pp-ln"> 215 </span><span class="pp-pln">                    </span><span class="pp-tag">var</span><span class="pp-pln"> ePath = e</span></div><div class="L6"><span class="pp-ln"> 216 </span><span class="pp-pln">                    </span><span class="pp-tag">if</span><span class="pp-pln"> prefix</span></div><div class="L7"><span class="pp-ln"> 217 </span><span class="pp-pln">                        </span><span class="pp-tag">if</span><span class="pp-pln"> prefix !== '/'</span></div><div class="L8"><span class="pp-ln"> 218 </span><span class="pp-pln">                            </span><span class="pp-tag">set</span><span class="pp-pln"> ePath = prefix + '/' + ePath</span></div><div class="L9"><span class="pp-ln"> 219 </span><span class="pp-pln">                        </span><span class="pp-tag">else</span></div><div class="L0"><span class="pp-ln"> 220 </span><span class="pp-pln">                            </span><span class="pp-tag">set</span><span class="pp-pln"> ePath = prefix + ePath</span></div><div class="L1"><span class="pp-ln"> 221 </span><span class="pp-pln">                    </span><span class="pp-tag">if</span><span class="pp-pln"> ePath.charAt(0) === '/' && !this.nomount</span></div><div class="L2"><span class="pp-ln"> 222 </span><span class="pp-pln">                        </span><span class="pp-tag">set</span><span class="pp-pln"> ePath = path.join(this.root, ePath)</span></div><div class="L3"><span class="pp-ln"> 223 </span><span class="pp-pln">                    </span><span class="pp-tag">_</span><span class="pp-pln"> this._emitMatch(index, ePath, e)</span></div><div class="L4"><span class="pp-ln"> 224 </span><span class="pp-pln">                </span><span class="pp-tag">return</span><span class="pp-pln"> cbDone()</span></div><div class="L5"><span class="pp-ln"> 225 </span><span class="pp-pln">            </span><span class="pp-tag">_</span><span class="pp-pln"> remain.shift()</span></div><div class="L6"><span class="pp-ln"> 226 </span><span class="pp-pln">            </span><span class="pp-tag">for</span><span class="pp-pln"> var i = 0; i &lt; len; i++</span></div><div class="L7"><span class="pp-ln"> 227 </span><span class="pp-pln">                </span><span class="pp-tag">#</span><span class="pp-pln"> var ePath = matchedEntries[i].basename</span></div><div class="L8"><span class="pp-ln"> 228 </span><span class="pp-pln">                </span><span class="pp-tag">var</span><span class="pp-pln"> ePath = matchedEntries[i]</span></div><div class="L9"><span class="pp-ln"> 229 </span><span class="pp-pln">                </span><span class="pp-tag">var</span><span class="pp-pln"> newPattern</span></div><div class="L0"><span class="pp-ln"> 230 </span><span class="pp-pln">                </span><span class="pp-tag">if</span><span class="pp-pln"> prefix</span></div><div class="L1"><span class="pp-ln"> 231 </span><span class="pp-pln">                    </span><span class="pp-tag">if</span><span class="pp-pln"> prefix !== '/'</span></div><div class="L2"><span class="pp-ln"> 232 </span><span class="pp-pln">                        </span><span class="pp-tag">set</span><span class="pp-pln"> ePath = prefix + '/' + ePath</span></div><div class="L3"><span class="pp-ln"> 233 </span><span class="pp-pln">                    </span><span class="pp-tag">else</span></div><div class="L4"><span class="pp-ln"> 234 </span><span class="pp-pln">                        </span><span class="pp-tag">set</span><span class="pp-pln"> ePath = prefix + ePath</span></div><div class="L5"><span class="pp-ln"> 235 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> this._process</span></div><div class="L6"><span class="pp-ln"> 236 </span><span class="pp-pln">                    </span><span class="pp-tag">[</span></div><div class="L7"><span class="pp-ln"> 237 </span><span class="pp-pln">                        </span><span class="pp-tag">@</span><span class="pp-pln"> ePath</span></div><div class="L8"><span class="pp-ln"> 238 </span><span class="pp-pln">                        </span><span class="pp-tag">._</span><span class="pp-pln"> concat(remain)</span></div><div class="L9"><span class="pp-ln"> 239 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> index</span></div><div class="L0"><span class="pp-ln"> 240 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> inGlobStar</span></div><div class="L1"><span class="pp-ln"> 241 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> cbDone</span></div><div class="L2"><span class="pp-ln"> 242 </span><span class="pp-pln">            </span><span class="pp-tag">_</span><span class="pp-pln"> cbDone()</span></div><div class="L3"><span class="pp-ln"> 243 </span><span class="pp-pln">        </span><span class="pp-tag">m</span><span class="pp-pln"> _emitMatch</span></div><div class="L4"><span class="pp-ln"> 244 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> index</span></div><div class="L5"><span class="pp-ln"> 245 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> ePath</span></div><div class="L6"><span class="pp-ln"> 246 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> e</span></div><div class="L7"><span class="pp-ln"> 247 </span><span class="pp-pln">            </span><span class="pp-tag">#</span><span class="pp-pln"> log '***** _emitMatch.index,ePath,e', index, ePath, e</span></div><div class="L8"><span class="pp-ln"> 248 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> isIgnored(this, ePath)</span></div><div class="L9"><span class="pp-ln"> 249 </span><span class="pp-pln">                </span><span class="pp-tag">return</span></div><div class="L0"><span class="pp-ln"> 250 </span><span class="pp-pln">            </span><span class="pp-tag">var</span><span class="pp-pln"> abs</span></div><div class="L1"><span class="pp-ln"> 251 </span><span class="pp-pln">                </span><span class="pp-tag">iif</span><span class="pp-pln"> isAbsolute(ePath)</span></div><div class="L2"><span class="pp-ln"> 252 </span><span class="pp-pln">                    </span><span class="pp-tag">then</span><span class="pp-pln"> ePath</span></div><div class="L3"><span class="pp-ln"> 253 </span><span class="pp-pln">                    </span><span class="pp-tag">else</span></div><div class="L4"><span class="pp-ln"> 254 </span><span class="pp-pln">                        </span><span class="pp-tag">_</span><span class="pp-pln"> this._makeAbs(ePath)</span></div><div class="L5"><span class="pp-ln"> 255 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> this.mark</span></div><div class="L6"><span class="pp-ln"> 256 </span><span class="pp-pln">                </span><span class="pp-tag">set</span><span class="pp-pln"> ePath = this._mark(ePath)</span></div><div class="L7"><span class="pp-ln"> 257 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> this.absolute</span></div><div class="L8"><span class="pp-ln"> 258 </span><span class="pp-pln">                </span><span class="pp-tag">set</span><span class="pp-pln"> ePath = abs</span></div><div class="L9"><span class="pp-ln"> 259 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> this.matches[index][ePath]</span></div><div class="L0"><span class="pp-ln"> 260 </span><span class="pp-pln">                </span><span class="pp-tag">return</span></div><div class="L1"><span class="pp-ln"> 261 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> this.nodir</span></div><div class="L2"><span class="pp-ln"> 262 </span><span class="pp-pln">                </span><span class="pp-tag">var</span><span class="pp-pln"> c = this.cache[abs]</span></div><div class="L3"><span class="pp-ln"> 263 </span><span class="pp-pln">                </span><span class="pp-tag">if</span><span class="pp-pln"> (c === 'DIR') || Array.isArray(c)</span></div><div class="L4"><span class="pp-ln"> 264 </span><span class="pp-pln">                    </span><span class="pp-tag">return</span></div><div class="L5"><span class="pp-ln"> 265 </span><span class="pp-pln">            </span><span class="pp-tag">set</span><span class="pp-pln"> this.matches[index][ePath] = true</span></div><div class="L6"><span class="pp-ln"> 266 </span><span class="pp-pln">            </span><span class="pp-tag">var</span><span class="pp-pln"> st = this.statCache[abs]</span></div><div class="L7"><span class="pp-ln"> 267 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> st</span></div><div class="L8"><span class="pp-ln"> 268 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> this.emit('stat', ePath, e, st)</span></div><div class="L9"><span class="pp-ln"> 269 </span><span class="pp-pln">            </span><span class="pp-tag">_</span><span class="pp-pln"> this.emit('match', ePath, e)</span></div><div class="L0"><span class="pp-ln"> 270 </span><span class="pp-pln">        </span><span class="pp-tag">m</span><span class="pp-pln"> _readdirInGlobStar</span></div><div class="L1"><span class="pp-ln"> 271 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> abs</span></div><div class="L2"><span class="pp-ln"> 272 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> cb</span></div><div class="L3"><span class="pp-ln"> 273 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> this.follow</span></div><div class="L4"><span class="pp-ln"> 274 </span><span class="pp-pln">                </span><span class="pp-tag">return</span><span class="pp-pln"> this._readdir(abs, false, cb)</span></div><div class="L5"><span class="pp-ln"> 275 </span><span class="pp-pln">            </span><span class="pp-tag">var</span><span class="pp-pln"> lstatkey = ('lstat\0' + abs)</span></div><div class="L6"><span class="pp-ln"> 276 </span><span class="pp-pln">            </span><span class="pp-tag">var</span><span class="pp-pln"> self = this</span></div><div class="L7"><span class="pp-ln"> 277 </span><span class="pp-pln">            </span><span class="pp-tag">var</span><span class="pp-pln"> lstatcb = inflight(lstatkey, lstatcb_)</span></div><div class="L8"><span class="pp-ln"> 278 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> lstatcb</span></div><div class="L9"><span class="pp-ln"> 279 </span><span class="pp-pln">                </span><span class="pp-tag">#</span><span class="pp-pln"> log 'wizzi-utils.Glob._readdirInGlobStar.abs', abs</span></div><div class="L0"><span class="pp-ln"> 280 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> this.virtFS.stat(abs, lstatcb)</span></div><div class="L1"><span class="pp-ln"> 281 </span><span class="pp-pln">            </span><span class="pp-tag">function</span><span class="pp-pln"> lstatcb_</span></div><div class="L2"><span class="pp-ln"> 282 </span><span class="pp-pln">                </span><span class="pp-tag">param</span><span class="pp-pln"> er</span></div><div class="L3"><span class="pp-ln"> 283 </span><span class="pp-pln">                </span><span class="pp-tag">param</span><span class="pp-pln"> lstat</span></div><div class="L4"><span class="pp-ln"> 284 </span><span class="pp-pln">                </span><span class="pp-tag">if</span><span class="pp-pln"> er && er.code === 'ENOENT'</span></div><div class="L5"><span class="pp-ln"> 285 </span><span class="pp-pln">                    </span><span class="pp-tag">return</span><span class="pp-pln"> cb()</span></div><div class="L6"><span class="pp-ln"> 286 </span><span class="pp-pln">                </span><span class="pp-tag">if</span><span class="pp-pln"> lstat && !lstat.isDirectory()</span></div><div class="L7"><span class="pp-ln"> 287 </span><span class="pp-pln">                    </span><span class="pp-tag">set</span><span class="pp-pln"> self.cache[abs] = 'FILE'</span></div><div class="L8"><span class="pp-ln"> 288 </span><span class="pp-pln">                    </span><span class="pp-tag">_</span><span class="pp-pln"> cb()</span></div><div class="L9"><span class="pp-ln"> 289 </span><span class="pp-pln">                </span><span class="pp-tag">else</span></div><div class="L0"><span class="pp-ln"> 290 </span><span class="pp-pln">                    </span><span class="pp-tag">_</span><span class="pp-pln"> self._readdir(abs, false, cb)</span></div><div class="L1"><span class="pp-ln"> 291 </span><span class="pp-pln">        </span><span class="pp-tag">m</span><span class="pp-pln"> _readdir</span></div><div class="L2"><span class="pp-ln"> 292 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> abs</span></div><div class="L3"><span class="pp-ln"> 293 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> inGlobStar</span></div><div class="L4"><span class="pp-ln"> 294 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> cb</span></div><div class="L5"><span class="pp-ln"> 295 </span><span class="pp-pln">            </span><span class="pp-tag">set</span><span class="pp-pln"> cb = inflight('readdir\0' + abs + '\0' + inGlobStar, cb)</span></div><div class="L6"><span class="pp-ln"> 296 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> !(cb)</span></div><div class="L7"><span class="pp-ln"> 297 </span><span class="pp-pln">                </span><span class="pp-tag">return</span></div><div class="L8"><span class="pp-ln"> 298 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> inGlobStar</span></div><div class="L9"><span class="pp-ln"> 299 </span><span class="pp-pln">                </span><span class="pp-tag">return</span><span class="pp-pln"> this._readdirInGlobStar(abs, cb)</span></div><div class="L0"><span class="pp-ln"> 300 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> ownProp(this.cache, abs)</span></div><div class="L1"><span class="pp-ln"> 301 </span><span class="pp-pln">                </span><span class="pp-tag">var</span><span class="pp-pln"> c = this.cache[abs]</span></div><div class="L2"><span class="pp-ln"> 302 </span><span class="pp-pln">                </span><span class="pp-tag">if</span><span class="pp-pln"> !c || c === 'FILE'</span></div><div class="L3"><span class="pp-ln"> 303 </span><span class="pp-pln">                    </span><span class="pp-tag">return</span><span class="pp-pln"> cb()</span></div><div class="L4"><span class="pp-ln"> 304 </span><span class="pp-pln">                </span><span class="pp-tag">if</span><span class="pp-pln"> Array.isArray(c)</span></div><div class="L5"><span class="pp-ln"> 305 </span><span class="pp-pln">                    </span><span class="pp-tag">return</span><span class="pp-pln"> cb(null, c)</span></div><div class="L6"><span class="pp-ln"> 306 </span><span class="pp-pln">            </span><span class="pp-tag">var</span><span class="pp-pln"> self = this</span></div><div class="L7"><span class="pp-ln"> 307 </span><span class="pp-pln">            </span><span class="pp-tag">#</span><span class="pp-pln"> log 'wizzi-utils.Glob._readdir.abs', abs</span></div><div class="L8"><span class="pp-ln"> 308 </span><span class="pp-pln">            </span><span class="pp-tag">_</span><span class="pp-pln"> this.virtFS.readdir</span></div><div class="L9"><span class="pp-ln"> 309 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> abs</span></div><div class="L0"><span class="pp-ln"> 310 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> readdirCb(this, abs, cb)</span></div><div class="L1"><span class="pp-ln"> 311 </span><span class="pp-pln">            </span><span class="pp-tag">function</span><span class="pp-pln"> readdirCb</span></div><div class="L2"><span class="pp-ln"> 312 </span><span class="pp-pln">                </span><span class="pp-tag">param</span><span class="pp-pln"> self</span></div><div class="L3"><span class="pp-ln"> 313 </span><span class="pp-pln">                </span><span class="pp-tag">param</span><span class="pp-pln"> abs</span></div><div class="L4"><span class="pp-ln"> 314 </span><span class="pp-pln">                </span><span class="pp-tag">param</span><span class="pp-pln"> cb</span></div><div class="L5"><span class="pp-ln"> 315 </span><span class="pp-pln">                </span><span class="pp-tag">return</span></div><div class="L6"><span class="pp-ln"> 316 </span><span class="pp-pln">                    </span><span class="pp-tag">function</span></div><div class="L7"><span class="pp-ln"> 317 </span><span class="pp-pln">                        </span><span class="pp-tag">param</span><span class="pp-pln"> er</span></div><div class="L8"><span class="pp-ln"> 318 </span><span class="pp-pln">                        </span><span class="pp-tag">param</span><span class="pp-pln"> entries</span></div><div class="L9"><span class="pp-ln"> 319 </span><span class="pp-pln">                        </span><span class="pp-tag">if</span><span class="pp-pln"> er</span></div><div class="L0"><span class="pp-ln"> 320 </span><span class="pp-pln">                            </span><span class="pp-tag">_</span><span class="pp-pln"> self._readdirError(abs, er, cb)</span></div><div class="L1"><span class="pp-ln"> 321 </span><span class="pp-pln">                        </span><span class="pp-tag">else</span></div><div class="L2"><span class="pp-ln"> 322 </span><span class="pp-pln">                            </span><span class="pp-tag">_</span><span class="pp-pln"> self._readdirEntries(abs, entries, cb)</span></div><div class="L3"><span class="pp-ln"> 323 </span><span class="pp-pln">        </span><span class="pp-tag">m</span><span class="pp-pln"> _readdirEntries</span></div><div class="L4"><span class="pp-ln"> 324 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> abs</span></div><div class="L5"><span class="pp-ln"> 325 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> entries</span></div><div class="L6"><span class="pp-ln"> 326 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> cb</span></div><div class="L7"><span class="pp-ln"> 327 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> !(this.mark) && !(this.stat)</span></div><div class="L8"><span class="pp-ln"> 328 </span><span class="pp-pln">                </span><span class="pp-tag">for</span><span class="pp-pln"> var i = 0; i &lt; entries.length; i++</span></div><div class="L9"><span class="pp-ln"> 329 </span><span class="pp-pln">                    </span><span class="pp-tag">var</span><span class="pp-pln"> e = entries[i]</span></div><div class="L0"><span class="pp-ln"> 330 </span><span class="pp-pln">                    </span><span class="pp-tag">#</span><span class="pp-pln"> var ePath = e.basename</span></div><div class="L1"><span class="pp-ln"> 331 </span><span class="pp-pln">                    </span><span class="pp-tag">var</span><span class="pp-pln"> ePath = e</span></div><div class="L2"><span class="pp-ln"> 332 </span><span class="pp-pln">                    </span><span class="pp-tag">if</span><span class="pp-pln"> abs === '/'</span></div><div class="L3"><span class="pp-ln"> 333 </span><span class="pp-pln">                        </span><span class="pp-tag">set</span><span class="pp-pln"> ePath = abs + ePath</span></div><div class="L4"><span class="pp-ln"> 334 </span><span class="pp-pln">                    </span><span class="pp-tag">else</span></div><div class="L5"><span class="pp-ln"> 335 </span><span class="pp-pln">                        </span><span class="pp-tag">set</span><span class="pp-pln"> ePath = abs + '/' + ePath</span></div><div class="L6"><span class="pp-ln"> 336 </span><span class="pp-pln">                    </span><span class="pp-tag">set</span><span class="pp-pln"> this.cache[ePath] = true</span></div><div class="L7"><span class="pp-ln"> 337 </span><span class="pp-pln">            </span><span class="pp-tag">set</span><span class="pp-pln"> this.cache[abs] = entries</span></div><div class="L8"><span class="pp-ln"> 338 </span><span class="pp-pln">            </span><span class="pp-tag">return</span><span class="pp-pln"> cb(null, entries)</span></div><div class="L9"><span class="pp-ln"> 339 </span><span class="pp-pln">        </span><span class="pp-tag">m</span><span class="pp-pln"> _readdirError</span></div><div class="L0"><span class="pp-ln"> 340 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> f</span></div><div class="L1"><span class="pp-ln"> 341 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> er</span></div><div class="L2"><span class="pp-ln"> 342 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> cb</span></div><div class="L3"><span class="pp-ln"> 343 </span><span class="pp-pln">            </span><span class="pp-tag">switch</span><span class="pp-pln"> er.code</span></div><div class="L4"><span class="pp-ln"> 344 </span><span class="pp-pln">                </span><span class="pp-tag">case</span><span class="pp-pln"> 'ENOTSUP'</span></div><div class="L5"><span class="pp-ln"> 345 </span><span class="pp-pln">                </span><span class="pp-tag">case</span><span class="pp-pln"> 'ENOTDIR'</span></div><div class="L6"><span class="pp-ln"> 346 </span><span class="pp-pln">                    </span><span class="pp-tag">var</span><span class="pp-pln"> abs = this._makeAbs(f)</span></div><div class="L7"><span class="pp-ln"> 347 </span><span class="pp-pln">                    </span><span class="pp-tag">set</span><span class="pp-pln"> this.cache[abs] = 'FILE'</span></div><div class="L8"><span class="pp-ln"> 348 </span><span class="pp-pln">                    </span><span class="pp-tag">if</span><span class="pp-pln"> abs === this.cwdAbs</span></div><div class="L9"><span class="pp-ln"> 349 </span><span class="pp-pln">                        </span><span class="pp-tag">var</span><span class="pp-pln"> error</span></div><div class="L0"><span class="pp-ln"> 350 </span><span class="pp-pln">                            </span><span class="pp-tag">new</span><span class="pp-pln"> Error(((er.code + ' invalid cwd ')) + this.cwd)</span></div><div class="L1"><span class="pp-ln"> 351 </span><span class="pp-pln">                        </span><span class="pp-tag">set</span><span class="pp-pln"> error.path = this.cwd</span></div><div class="L2"><span class="pp-ln"> 352 </span><span class="pp-pln">                        </span><span class="pp-tag">set</span><span class="pp-pln"> error.code = er.code</span></div><div class="L3"><span class="pp-ln"> 353 </span><span class="pp-pln">                        </span><span class="pp-tag">_</span><span class="pp-pln"> this.emit('error', error)</span></div><div class="L4"><span class="pp-ln"> 354 </span><span class="pp-pln">                        </span><span class="pp-tag">_</span><span class="pp-pln"> this.abort()</span></div><div class="L5"><span class="pp-ln"> 355 </span><span class="pp-pln">                    </span><span class="pp-tag">break</span></div><div class="L6"><span class="pp-ln"> 356 </span><span class="pp-pln">                </span><span class="pp-tag">case</span><span class="pp-pln"> 'ENOENT'</span></div><div class="L7"><span class="pp-ln"> 357 </span><span class="pp-pln">                </span><span class="pp-tag">case</span><span class="pp-pln"> 'ELOOP'</span></div><div class="L8"><span class="pp-ln"> 358 </span><span class="pp-pln">                </span><span class="pp-tag">case</span><span class="pp-pln"> 'ENAMETOOLONG'</span></div><div class="L9"><span class="pp-ln"> 359 </span><span class="pp-pln">                </span><span class="pp-tag">case</span><span class="pp-pln"> 'UNKNOWN'</span></div><div class="L0"><span class="pp-ln"> 360 </span><span class="pp-pln">                    </span><span class="pp-tag">set</span><span class="pp-pln"> this.cache[this._makeAbs(f)] = false</span></div><div class="L1"><span class="pp-ln"> 361 </span><span class="pp-pln">                    </span><span class="pp-tag">break</span></div><div class="L2"><span class="pp-ln"> 362 </span><span class="pp-pln">                </span><span class="pp-tag">default</span></div><div class="L3"><span class="pp-ln"> 363 </span><span class="pp-pln">                    </span><span class="pp-tag">set</span><span class="pp-pln"> this.cache[this._makeAbs(f)] = false</span></div><div class="L4"><span class="pp-ln"> 364 </span><span class="pp-pln">                    </span><span class="pp-tag">if</span><span class="pp-pln"> this.strict</span></div><div class="L5"><span class="pp-ln"> 365 </span><span class="pp-pln">                        </span><span class="pp-tag">_</span><span class="pp-pln"> this.emit('error', er)</span></div><div class="L6"><span class="pp-ln"> 366 </span><span class="pp-pln">                        </span><span class="pp-tag">_</span><span class="pp-pln"> this.abort()</span></div><div class="L7"><span class="pp-ln"> 367 </span><span class="pp-pln">                    </span><span class="pp-tag">if</span><span class="pp-pln"> ! (this.silent)</span></div><div class="L8"><span class="pp-ln"> 368 </span><span class="pp-pln">                        </span><span class="pp-tag">_</span><span class="pp-pln"> console.error('glob error', er)</span></div><div class="L9"><span class="pp-ln"> 369 </span><span class="pp-pln">                    </span><span class="pp-tag">break</span></div><div class="L0"><span class="pp-ln"> 370 </span><span class="pp-pln">            </span><span class="pp-tag">return</span><span class="pp-pln"> cb()</span></div><div class="L1"><span class="pp-ln"> 371 </span><span class="pp-pln">        </span><span class="pp-tag">m</span><span class="pp-pln"> _processGlobStar</span></div><div class="L2"><span class="pp-ln"> 372 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> prefix</span></div><div class="L3"><span class="pp-ln"> 373 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> read</span></div><div class="L4"><span class="pp-ln"> 374 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> abs</span></div><div class="L5"><span class="pp-ln"> 375 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> remain</span></div><div class="L6"><span class="pp-ln"> 376 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> index</span></div><div class="L7"><span class="pp-ln"> 377 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> inGlobStar</span></div><div class="L8"><span class="pp-ln"> 378 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> cbDone</span></div><div class="L9"><span class="pp-ln"> 379 </span><span class="pp-pln">            </span><span class="pp-tag">var</span><span class="pp-pln"> self = this</span></div><div class="L0"><span class="pp-ln"> 380 </span><span class="pp-pln">            </span><span class="pp-tag">#</span><span class="pp-pln"> log '_processGlobStar'</span></div><div class="L1"><span class="pp-ln"> 381 </span><span class="pp-pln">            </span><span class="pp-tag">_</span><span class="pp-pln"> this._readdir</span></div><div class="L2"><span class="pp-ln"> 382 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> abs</span></div><div class="L3"><span class="pp-ln"> 383 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> inGlobStar</span></div><div class="L4"><span class="pp-ln"> 384 </span><span class="pp-pln">                </span><span class="pp-tag">function</span></div><div class="L5"><span class="pp-ln"> 385 </span><span class="pp-pln">                    </span><span class="pp-tag">param</span><span class="pp-pln"> er</span></div><div class="L6"><span class="pp-ln"> 386 </span><span class="pp-pln">                    </span><span class="pp-tag">param</span><span class="pp-pln"> entries</span></div><div class="L7"><span class="pp-ln"> 387 </span><span class="pp-pln">                    </span><span class="pp-tag">_</span><span class="pp-pln"> self._processGlobStar2(prefix, read, abs, remain, index, inGlobStar, entries, cbDone)</span></div><div class="L8"><span class="pp-ln"> 388 </span><span class="pp-pln">        </span><span class="pp-tag">m</span><span class="pp-pln"> _processGlobStar2</span></div><div class="L9"><span class="pp-ln"> 389 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> prefix</span></div><div class="L0"><span class="pp-ln"> 390 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> read</span></div><div class="L1"><span class="pp-ln"> 391 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> abs</span></div><div class="L2"><span class="pp-ln"> 392 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> remain</span></div><div class="L3"><span class="pp-ln"> 393 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> index</span></div><div class="L4"><span class="pp-ln"> 394 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> inGlobStar</span></div><div class="L5"><span class="pp-ln"> 395 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> entries</span></div><div class="L6"><span class="pp-ln"> 396 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> cbDone</span></div><div class="L7"><span class="pp-ln"> 397 </span><span class="pp-pln">            </span><span class="pp-tag">#</span><span class="pp-pln"> log '_processGlobStar2.entries', entries</span></div><div class="L8"><span class="pp-ln"> 398 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> !(entries)</span></div><div class="L9"><span class="pp-ln"> 399 </span><span class="pp-pln">                </span><span class="pp-tag">return</span><span class="pp-pln"> cbDone()</span></div><div class="L0"><span class="pp-ln"> 400 </span><span class="pp-pln">            </span><span class="pp-tag">var</span><span class="pp-pln"> remainWithoutGlobStar = remain.slice(1)</span></div><div class="L1"><span class="pp-ln"> 401 </span><span class="pp-pln">            </span><span class="pp-tag">var</span><span class="pp-pln"> gspref</span></div><div class="L2"><span class="pp-ln"> 402 </span><span class="pp-pln">                </span><span class="pp-tag">iif</span><span class="pp-pln"> prefix</span></div><div class="L3"><span class="pp-ln"> 403 </span><span class="pp-pln">                    </span><span class="pp-tag">then</span></div><div class="L4"><span class="pp-ln"> 404 </span><span class="pp-pln">                        </span><span class="pp-tag">[</span></div><div class="L5"><span class="pp-ln"> 405 </span><span class="pp-pln">                            </span><span class="pp-tag">@</span><span class="pp-pln"> prefix</span></div><div class="L6"><span class="pp-ln"> 406 </span><span class="pp-pln">                    </span><span class="pp-tag">else</span></div><div class="L7"><span class="pp-ln"> 407 </span><span class="pp-pln">                        </span><span class="pp-tag">[</span></div><div class="L8"><span class="pp-ln"> 408 </span><span class="pp-pln">            </span><span class="pp-tag">var</span><span class="pp-pln"> noGlobStar = gspref.concat(remainWithoutGlobStar)</span></div><div class="L9"><span class="pp-ln"> 409 </span><span class="pp-pln">            </span><span class="pp-tag">_</span><span class="pp-pln"> this._process(noGlobStar, index, false, cbDone)</span></div><div class="L0"><span class="pp-ln"> 410 </span><span class="pp-pln">            </span><span class="pp-tag">var</span><span class="pp-pln"> len = entries.length</span></div><div class="L1"><span class="pp-ln"> 411 </span><span class="pp-pln">            </span><span class="pp-tag">for</span><span class="pp-pln"> var i = 0; i &lt; len; i++</span></div><div class="L2"><span class="pp-ln"> 412 </span><span class="pp-pln">                </span><span class="pp-tag">#</span><span class="pp-pln"> var ePath = entries[i].basename</span></div><div class="L3"><span class="pp-ln"> 413 </span><span class="pp-pln">                </span><span class="pp-tag">var</span><span class="pp-pln"> ePath = entries[i]</span></div><div class="L4"><span class="pp-ln"> 414 </span><span class="pp-pln">                </span><span class="pp-tag">if</span><span class="pp-pln"> ePath.charAt(0) === '.' && !this.dot</span></div><div class="L5"><span class="pp-ln"> 415 </span><span class="pp-pln">                    </span><span class="pp-tag">continue</span></div><div class="L6"><span class="pp-ln"> 416 </span><span class="pp-pln">                </span><span class="pp-tag">var</span><span class="pp-pln"> instead</span></div><div class="L7"><span class="pp-ln"> 417 </span><span class="pp-pln">                    </span><span class="pp-tag">_</span><span class="pp-pln"> gspref.concat</span></div><div class="L8"><span class="pp-ln"> 418 </span><span class="pp-pln">                        </span><span class="pp-tag">@</span><span class="pp-pln"> ePath</span></div><div class="L9"><span class="pp-ln"> 419 </span><span class="pp-pln">                        </span><span class="pp-tag">@</span><span class="pp-pln"> remainWithoutGlobStar</span></div><div class="L0"><span class="pp-ln"> 420 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> this._process(instead, index, true, cbDone)</span></div><div class="L1"><span class="pp-ln"> 421 </span><span class="pp-pln">                </span><span class="pp-tag">var</span><span class="pp-pln"> below</span></div><div class="L2"><span class="pp-ln"> 422 </span><span class="pp-pln">                    </span><span class="pp-tag">_</span><span class="pp-pln"> gspref.concat</span></div><div class="L3"><span class="pp-ln"> 423 </span><span class="pp-pln">                        </span><span class="pp-tag">@</span><span class="pp-pln"> ePath</span></div><div class="L4"><span class="pp-ln"> 424 </span><span class="pp-pln">                        </span><span class="pp-tag">@</span><span class="pp-pln"> remain</span></div><div class="L5"><span class="pp-ln"> 425 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> this._process(below, index, true, cbDone)</span></div><div class="L6"><span class="pp-ln"> 426 </span><span class="pp-pln">                </span><span class="pp-tag">#</span><span class="pp-pln"> log '_processGlobStar2 e.instead.below', ePath, instead, below</span></div><div class="L7"><span class="pp-ln"> 427 </span><span class="pp-pln">            </span><span class="pp-tag">_</span><span class="pp-pln"> cbDone()</span></div><div class="L8"><span class="pp-ln"> 428 </span><span class="pp-pln">        </span><span class="pp-tag">m</span><span class="pp-pln"> _processSimple</span></div><div class="L9"><span class="pp-ln"> 429 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> prefix</span></div><div class="L0"><span class="pp-ln"> 430 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> index</span></div><div class="L1"><span class="pp-ln"> 431 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> cbDone</span></div><div class="L2"><span class="pp-ln"> 432 </span><span class="pp-pln">            </span><span class="pp-tag">#</span><span class="pp-pln"> log '***** _processSimple', prefix, index</span></div><div class="L3"><span class="pp-ln"> 433 </span><span class="pp-pln">            </span><span class="pp-tag">var</span><span class="pp-pln"> self = this</span></div><div class="L4"><span class="pp-ln"> 434 </span><span class="pp-pln">            </span><span class="pp-tag">_</span><span class="pp-pln"> this._stat</span></div><div class="L5"><span class="pp-ln"> 435 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> prefix</span></div><div class="L6"><span class="pp-ln"> 436 </span><span class="pp-pln">                </span><span class="pp-tag">function</span></div><div class="L7"><span class="pp-ln"> 437 </span><span class="pp-pln">                    </span><span class="pp-tag">param</span><span class="pp-pln"> er</span></div><div class="L8"><span class="pp-ln"> 438 </span><span class="pp-pln">                    </span><span class="pp-tag">param</span><span class="pp-pln"> exists</span></div><div class="L9"><span class="pp-ln"> 439 </span><span class="pp-pln">                    </span><span class="pp-tag">_</span><span class="pp-pln"> self._processSimple2(prefix, index, er, exists, cbDone)</span></div><div class="L0"><span class="pp-ln"> 440 </span><span class="pp-pln">        </span><span class="pp-tag">m</span><span class="pp-pln"> _processSimple2</span></div><div class="L1"><span class="pp-ln"> 441 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> prefix</span></div><div class="L2"><span class="pp-ln"> 442 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> index</span></div><div class="L3"><span class="pp-ln"> 443 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> er</span></div><div class="L4"><span class="pp-ln"> 444 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> exists</span></div><div class="L5"><span class="pp-ln"> 445 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> cbDone</span></div><div class="L6"><span class="pp-ln"> 446 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> !this.matches[index]</span></div><div class="L7"><span class="pp-ln"> 447 </span><span class="pp-pln">                </span><span class="pp-tag">set</span><span class="pp-pln"> this.matches[index] = Object.create(null)</span></div><div class="L8"><span class="pp-ln"> 448 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> !exists</span></div><div class="L9"><span class="pp-ln"> 449 </span><span class="pp-pln">                </span><span class="pp-tag">return</span><span class="pp-pln"> cbDone()</span></div><div class="L0"><span class="pp-ln"> 450 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> prefix && isAbsolute(prefix) && !this.nomount</span></div><div class="L1"><span class="pp-ln"> 451 </span><span class="pp-pln">                </span><span class="pp-tag">var</span><span class="pp-pln"> trail = /[\/\\]$/.test(prefix)</span></div><div class="L2"><span class="pp-ln"> 452 </span><span class="pp-pln">                </span><span class="pp-tag">if</span><span class="pp-pln"> prefix.charAt(0) === '/'</span></div><div class="L3"><span class="pp-ln"> 453 </span><span class="pp-pln">                    </span><span class="pp-tag">set</span><span class="pp-pln"> prefix = path.join(this.root, prefix)</span></div><div class="L4"><span class="pp-ln"> 454 </span><span class="pp-pln">                </span><span class="pp-tag">else</span></div><div class="L5"><span class="pp-ln"> 455 </span><span class="pp-pln">                    </span><span class="pp-tag">#</span><span class="pp-pln"> log '***** wizzi-utils.Glob._processSimple2.this.root,prefix', this.root, prefix</span></div><div class="L6"><span class="pp-ln"> 456 </span><span class="pp-pln">                    </span><span class="pp-tag">set</span><span class="pp-pln"> prefix = path.resolve(this.root, prefix)</span></div><div class="L7"><span class="pp-ln"> 457 </span><span class="pp-pln">                    </span><span class="pp-tag">#</span><span class="pp-pln"> log '***** wizzi-utils.Glob._processSimple2.prefix', prefix</span></div><div class="L8"><span class="pp-ln"> 458 </span><span class="pp-pln">                    </span><span class="pp-tag">if</span><span class="pp-pln"> trail</span></div><div class="L9"><span class="pp-ln"> 459 </span><span class="pp-pln">                        </span><span class="pp-tag">set</span><span class="pp-pln"> prefix += '/'</span></div><div class="L0"><span class="pp-ln"> 460 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> process.platform === 'win32'</span></div><div class="L1"><span class="pp-ln"> 461 </span><span class="pp-pln">                </span><span class="pp-tag">set</span><span class="pp-pln"> prefix = prefix.replace(/\\/g, '/')</span></div><div class="L2"><span class="pp-ln"> 462 </span><span class="pp-pln">            </span><span class="pp-tag">_</span><span class="pp-pln"> this._emitMatch(index, prefix, null)</span></div><div class="L3"><span class="pp-ln"> 463 </span><span class="pp-pln">            </span><span class="pp-tag">_</span><span class="pp-pln"> cbDone()</span></div><div class="L4"><span class="pp-ln"> 464 </span><span class="pp-pln">        </span><span class="pp-tag">#</span><span class="pp-pln"> from _processSimple</span></div><div class="L5"><span class="pp-ln"> 465 </span><span class="pp-pln">        </span><span class="pp-tag">m</span><span class="pp-pln"> _stat</span></div><div class="L6"><span class="pp-ln"> 466 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> f</span></div><div class="L7"><span class="pp-ln"> 467 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> cb</span></div><div class="L8"><span class="pp-ln"> 468 </span><span class="pp-pln">            </span><span class="pp-tag">var</span><span class="pp-pln"> abs = this._makeAbs(f)</span></div><div class="L9"><span class="pp-ln"> 469 </span><span class="pp-pln">            </span><span class="pp-tag">var</span><span class="pp-pln"> needDir = f.slice(-1) === '/'</span></div><div class="L0"><span class="pp-ln"> 470 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> f.length &gt; this.maxLength</span></div><div class="L1"><span class="pp-ln"> 471 </span><span class="pp-pln">                </span><span class="pp-tag">return</span><span class="pp-pln"> cb()</span></div><div class="L2"><span class="pp-ln"> 472 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> !this.stat && ownProp(this.cache, abs)</span></div><div class="L3"><span class="pp-ln"> 473 </span><span class="pp-pln">                </span><span class="pp-tag">var</span><span class="pp-pln"> c = this.cache[abs]</span></div><div class="L4"><span class="pp-ln"> 474 </span><span class="pp-pln">                </span><span class="pp-tag">if</span><span class="pp-pln"> Array.isArray(c)</span></div><div class="L5"><span class="pp-ln"> 475 </span><span class="pp-pln">                    </span><span class="pp-tag">set</span><span class="pp-pln"> c = 'DIR'</span></div><div class="L6"><span class="pp-ln"> 476 </span><span class="pp-pln">                </span><span class="pp-tag">if</span><span class="pp-pln"> !needDir || c === 'DIR'</span></div><div class="L7"><span class="pp-ln"> 477 </span><span class="pp-pln">                    </span><span class="pp-tag">return</span><span class="pp-pln"> cb(null, c)</span></div><div class="L8"><span class="pp-ln"> 478 </span><span class="pp-pln">                </span><span class="pp-tag">if</span><span class="pp-pln"> needDir && c === 'FILE'</span></div><div class="L9"><span class="pp-ln"> 479 </span><span class="pp-pln">                    </span><span class="pp-tag">return</span><span class="pp-pln"> cb()</span></div><div class="L0"><span class="pp-ln"> 480 </span><span class="pp-pln">            </span><span class="pp-tag">var</span><span class="pp-pln"> exists</span></div><div class="L1"><span class="pp-ln"> 481 </span><span class="pp-pln">            </span><span class="pp-tag">var</span><span class="pp-pln"> stat = this.statCache[abs]</span></div><div class="L2"><span class="pp-ln"> 482 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> stat !== undefined</span></div><div class="L3"><span class="pp-ln"> 483 </span><span class="pp-pln">                </span><span class="pp-tag">if</span><span class="pp-pln"> stat === false</span></div><div class="L4"><span class="pp-ln"> 484 </span><span class="pp-pln">                    </span><span class="pp-tag">return</span><span class="pp-pln"> cb(null, stat)</span></div><div class="L5"><span class="pp-ln"> 485 </span><span class="pp-pln">                </span><span class="pp-tag">else</span></div><div class="L6"><span class="pp-ln"> 486 </span><span class="pp-pln">                    </span><span class="pp-tag">var</span><span class="pp-pln"> type = stat.isDirectory() ? 'DIR' : 'FILE'</span></div><div class="L7"><span class="pp-ln"> 487 </span><span class="pp-pln">                    </span><span class="pp-tag">if</span><span class="pp-pln"> (needDir && (type === 'FILE'))</span></div><div class="L8"><span class="pp-ln"> 488 </span><span class="pp-pln">                        </span><span class="pp-tag">return</span><span class="pp-pln"> cb()</span></div><div class="L9"><span class="pp-ln"> 489 </span><span class="pp-pln">                    </span><span class="pp-tag">else</span></div><div class="L0"><span class="pp-ln"> 490 </span><span class="pp-pln">                        </span><span class="pp-tag">return</span><span class="pp-pln"> cb(null, type, stat)</span></div><div class="L1"><span class="pp-ln"> 491 </span><span class="pp-pln">            </span><span class="pp-tag">var</span><span class="pp-pln"> self = this</span></div><div class="L2"><span class="pp-ln"> 492 </span><span class="pp-pln">            </span><span class="pp-tag">var</span><span class="pp-pln"> statcb = inflight('stat\0' + abs, lstatcb_)</span></div><div class="L3"><span class="pp-ln"> 493 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> statcb</span></div><div class="L4"><span class="pp-ln"> 494 </span><span class="pp-pln">                </span><span class="pp-tag">#</span><span class="pp-pln"> log 'wizzi-utils.Glob._stat.abs', abs</span></div><div class="L5"><span class="pp-ln"> 495 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> this.virtFS.stat(abs, statcb)</span></div><div class="L6"><span class="pp-ln"> 496 </span><span class="pp-pln">            </span><span class="pp-tag">function</span><span class="pp-pln"> lstatcb_</span></div><div class="L7"><span class="pp-ln"> 497 </span><span class="pp-pln">                </span><span class="pp-tag">param</span><span class="pp-pln"> er</span></div><div class="L8"><span class="pp-ln"> 498 </span><span class="pp-pln">                </span><span class="pp-tag">param</span><span class="pp-pln"> lstat</span></div><div class="L9"><span class="pp-ln"> 499 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> self._stat2(f, abs, er, lstat, cb)</span></div><div class="L0"><span class="pp-ln"> 500 </span><span class="pp-pln">        </span><span class="pp-tag">m</span><span class="pp-pln"> _stat2</span></div><div class="L1"><span class="pp-ln"> 501 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> f</span></div><div class="L2"><span class="pp-ln"> 502 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> abs</span></div><div class="L3"><span class="pp-ln"> 503 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> er</span></div><div class="L4"><span class="pp-ln"> 504 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> stat</span></div><div class="L5"><span class="pp-ln"> 505 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> cb</span></div><div class="L6"><span class="pp-ln"> 506 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> er && (er.code === 'ENOENT' || er.code === 'ENOTDIR')</span></div><div class="L7"><span class="pp-ln"> 507 </span><span class="pp-pln">                </span><span class="pp-tag">set</span><span class="pp-pln"> this.statCache[abs] = false</span></div><div class="L8"><span class="pp-ln"> 508 </span><span class="pp-pln">                </span><span class="pp-tag">return</span><span class="pp-pln"> cb()</span></div><div class="L9"><span class="pp-ln"> 509 </span><span class="pp-pln">            </span><span class="pp-tag">var</span><span class="pp-pln"> needDir = f.slice(-1) === '/'</span></div><div class="L0"><span class="pp-ln"> 510 </span><span class="pp-pln">            </span><span class="pp-tag">set</span><span class="pp-pln"> this.statCache[abs] = stat</span></div><div class="L1"><span class="pp-ln"> 511 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> abs.slice(-1) === '/' && stat && !stat.isDirectory()</span></div><div class="L2"><span class="pp-ln"> 512 </span><span class="pp-pln">                </span><span class="pp-tag">return</span><span class="pp-pln"> cb(null, false, stat)</span></div><div class="L3"><span class="pp-ln"> 513 </span><span class="pp-pln">            </span><span class="pp-tag">var</span><span class="pp-pln"> c = true</span></div><div class="L4"><span class="pp-ln"> 514 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> stat</span></div><div class="L5"><span class="pp-ln"> 515 </span><span class="pp-pln">                </span><span class="pp-tag">set</span><span class="pp-pln"> c = stat.isDirectory() ? 'DIR' : 'FILE'</span></div><div class="L6"><span class="pp-ln"> 516 </span><span class="pp-pln">            </span><span class="pp-tag">set</span><span class="pp-pln"> this.cache[abs] = this.cache[abs] || c</span></div><div class="L7"><span class="pp-ln"> 517 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> needDir && c === 'FILE'</span></div><div class="L8"><span class="pp-ln"> 518 </span><span class="pp-pln">                </span><span class="pp-tag">return</span><span class="pp-pln"> cb()</span></div><div class="L9"><span class="pp-ln"> 519 </span><span class="pp-pln">            </span><span class="pp-tag">return</span><span class="pp-pln"> cb(null, c, stat)</span></div><div class="L0"><span class="pp-ln"> 520 </span><span class="pp-pln">    </span><span class="pp-tag">_</span><span class="pp-pln"> inherits(Glob, EE)</span></div></pre>
                    </div>
                </div>
                <div class="code-panel" id="d38">
                    <div class="modal-view-container">
                        <h4 class="d-h2">/src/ittf/lib/glob/inflight.js.ittf</h4>
                        <pre class="prettyprint">

<div class="L1"><span class="pp-ln">   1 </span><span class="pp-pln"></span><span class="pp-tag">module</span></div><div class="L2"><span class="pp-ln">   2 </span><span class="pp-pln">    </span><span class="pp-tag">kind</span><span class="pp-pln"> jsfile</span></div><div class="L3"><span class="pp-ln">   3 </span><span class="pp-pln">    </span><span class="pp-tag">#</span><span class="pp-pln"> FROM</span></div><div class="L4"><span class="pp-ln">   4 </span><span class="pp-pln">    </span><span class="pp-tag">#</span><span class="pp-pln"> Copyright (c) Isaac Z. Schlueter and Contributors</span></div><div class="L5"><span class="pp-ln">   5 </span><span class="pp-pln">    </span><span class="pp-tag">#</span><span class="pp-pln"> source https://github.com/npm/inflight/blob/master/inflight.js</span></div><div class="L6"><span class="pp-ln">   6 </span><span class="pp-pln">    </span><span class="pp-tag">#</span><span class="pp-pln"> license (ISC)</span></div><div class="L7"><span class="pp-ln">   7 </span><span class="pp-pln">    </span><span class="pp-tag">var</span><span class="pp-pln"> wrappy = require('wrappy')</span></div><div class="L8"><span class="pp-ln">   8 </span><span class="pp-pln">    </span><span class="pp-tag">var</span><span class="pp-pln"> reqs = Object.create(null)</span></div><div class="L9"><span class="pp-ln">   9 </span><span class="pp-pln">    </span><span class="pp-tag">var</span><span class="pp-pln"> once = require('./once')</span></div><div class="L0"><span class="pp-ln">  10 </span><span class="pp-pln">    </span><span class="pp-tag">set</span><span class="pp-pln"> module.exports = wrappy(inflight)</span></div><div class="L1"><span class="pp-ln">  11 </span><span class="pp-pln">    </span><span class="pp-tag">function</span><span class="pp-pln"> inflight</span></div><div class="L2"><span class="pp-ln">  12 </span><span class="pp-pln">        </span><span class="pp-tag">param</span><span class="pp-pln"> key</span></div><div class="L3"><span class="pp-ln">  13 </span><span class="pp-pln">        </span><span class="pp-tag">param</span><span class="pp-pln"> cb</span></div><div class="L4"><span class="pp-ln">  14 </span><span class="pp-pln">        </span><span class="pp-tag">if</span><span class="pp-pln"> reqs[key]</span></div><div class="L5"><span class="pp-ln">  15 </span><span class="pp-pln">            </span><span class="pp-tag">_</span><span class="pp-pln"> reqs[key].push(cb)</span></div><div class="L6"><span class="pp-ln">  16 </span><span class="pp-pln">            </span><span class="pp-tag">return</span><span class="pp-pln"> null</span></div><div class="L7"><span class="pp-ln">  17 </span><span class="pp-pln">        </span><span class="pp-tag">else</span></div><div class="L8"><span class="pp-ln">  18 </span><span class="pp-pln">            </span><span class="pp-tag">set</span><span class="pp-pln"> reqs[key] = [cb]</span></div><div class="L9"><span class="pp-ln">  19 </span><span class="pp-pln">            </span><span class="pp-tag">return</span><span class="pp-pln"> makeres(key)</span></div><div class="L0"><span class="pp-ln">  20 </span><span class="pp-pln">    </span><span class="pp-tag">function</span><span class="pp-pln"> makeres</span></div><div class="L1"><span class="pp-ln">  21 </span><span class="pp-pln">        </span><span class="pp-tag">param</span><span class="pp-pln"> key</span></div><div class="L2"><span class="pp-ln">  22 </span><span class="pp-pln">        </span><span class="pp-tag">return</span></div><div class="L3"><span class="pp-ln">  23 </span><span class="pp-pln">            </span><span class="pp-tag">_</span><span class="pp-pln"> once</span></div><div class="L4"><span class="pp-ln">  24 </span><span class="pp-pln">                </span><span class="pp-tag">function</span><span class="pp-pln"> RES</span></div><div class="L5"><span class="pp-ln">  25 </span><span class="pp-pln">                    </span><span class="pp-tag">var</span><span class="pp-pln"> cbs = reqs[key]</span></div><div class="L6"><span class="pp-ln">  26 </span><span class="pp-pln">                    </span><span class="pp-tag">var</span><span class="pp-pln"> len = cbs.length</span></div><div class="L7"><span class="pp-ln">  27 </span><span class="pp-pln">                    </span><span class="pp-tag">var</span><span class="pp-pln"> args = slice(arguments)</span></div><div class="L8"><span class="pp-ln">  28 </span><span class="pp-pln">                    </span><span class="pp-tag">try</span></div><div class="L9"><span class="pp-ln">  29 </span><span class="pp-pln">                        </span><span class="pp-tag">for</span><span class="pp-pln"> var i = 0; i &lt; len; i++</span></div><div class="L0"><span class="pp-ln">  30 </span><span class="pp-pln">                            </span><span class="pp-tag">_</span><span class="pp-pln"> cbs[i].apply(null, args)</span></div><div class="L1"><span class="pp-ln">  31 </span><span class="pp-pln">                    </span><span class="pp-tag">finally</span></div><div class="L2"><span class="pp-ln">  32 </span><span class="pp-pln">                        </span><span class="pp-tag">if</span><span class="pp-pln"> cbs.length &gt; len</span></div><div class="L3"><span class="pp-ln">  33 </span><span class="pp-pln">                            </span><span class="pp-tag">_</span><span class="pp-pln"> cbs.splice(0, len)</span></div><div class="L4"><span class="pp-ln">  34 </span><span class="pp-pln">                            </span><span class="pp-tag">_</span><span class="pp-pln"> process.nextTick</span></div><div class="L5"><span class="pp-ln">  35 </span><span class="pp-pln">                                </span><span class="pp-tag">function</span></div><div class="L6"><span class="pp-ln">  36 </span><span class="pp-pln">                                    </span><span class="pp-tag">_</span><span class="pp-pln"> RES.apply(null, args)</span></div><div class="L7"><span class="pp-ln">  37 </span><span class="pp-pln">                        </span><span class="pp-tag">else</span></div><div class="L8"><span class="pp-ln">  38 </span><span class="pp-pln">                            </span><span class="pp-tag">set</span><span class="pp-pln"> delete (reqs[key])</span></div><div class="L9"><span class="pp-ln">  39 </span><span class="pp-pln">    </span><span class="pp-tag">function</span><span class="pp-pln"> slice</span></div><div class="L0"><span class="pp-ln">  40 </span><span class="pp-pln">        </span><span class="pp-tag">param</span><span class="pp-pln"> args</span></div><div class="L1"><span class="pp-ln">  41 </span><span class="pp-pln">        </span><span class="pp-tag">var</span><span class="pp-pln"> length = args.length</span></div><div class="L2"><span class="pp-ln">  42 </span><span class="pp-pln">        </span><span class="pp-tag">var</span><span class="pp-pln"> array</span></div><div class="L3"><span class="pp-ln">  43 </span><span class="pp-pln">            </span><span class="pp-tag">[</span></div><div class="L4"><span class="pp-ln">  44 </span><span class="pp-pln">        </span><span class="pp-tag">for</span><span class="pp-pln"> var i = 0; i &lt; length; i++</span></div><div class="L5"><span class="pp-ln">  45 </span><span class="pp-pln">            </span><span class="pp-tag">set</span><span class="pp-pln"> array[i] = args[i]</span></div><div class="L6"><span class="pp-ln">  46 </span><span class="pp-pln">        </span><span class="pp-tag">return</span><span class="pp-pln"> array</span></div></pre>
                    </div>
                </div>
                <div class="code-panel" id="d39">
                    <div class="modal-view-container">
                        <h4 class="d-h2">/src/ittf/lib/glob/minimatch.js.ittf</h4>
                        <pre class="prettyprint">

<div class="L1"><span class="pp-ln">   1 </span><span class="pp-pln"></span><span class="pp-tag">module</span></div><div class="L2"><span class="pp-ln">   2 </span><span class="pp-pln">    </span><span class="pp-tag">kind</span><span class="pp-pln"> jsfile</span></div><div class="L3"><span class="pp-ln">   3 </span><span class="pp-pln">    </span><span class="pp-tag">#</span><span class="pp-pln"> FROM</span></div><div class="L4"><span class="pp-ln">   4 </span><span class="pp-pln">    </span><span class="pp-tag">#</span><span class="pp-pln"> Copyright (c) Isaac Z. Schlueter and Contributors</span></div><div class="L5"><span class="pp-ln">   5 </span><span class="pp-pln">    </span><span class="pp-tag">#</span><span class="pp-pln"> source: https://github.com/isaacs/minimatch/blob/master/minimatch.js</span></div><div class="L6"><span class="pp-ln">   6 </span><span class="pp-pln">    </span><span class="pp-tag">#</span><span class="pp-pln"> license (ISC) https://github.com/isaacs/minimatch/blob/master/LICENSE</span></div><div class="L7"><span class="pp-ln">   7 </span><span class="pp-pln">    </span><span class="pp-tag">set</span><span class="pp-pln"> module.exports = minimatch</span></div><div class="L8"><span class="pp-ln">   8 </span><span class="pp-pln">    </span><span class="pp-tag">set</span><span class="pp-pln"> minimatch.Minimatch = Minimatch</span></div><div class="L9"><span class="pp-ln">   9 </span><span class="pp-pln">    </span><span class="pp-tag">var</span><span class="pp-pln"> path</span></div><div class="L0"><span class="pp-ln">  10 </span><span class="pp-pln">        </span><span class="pp-tag">{</span></div><div class="L1"><span class="pp-ln">  11 </span><span class="pp-pln">            </span><span class="pp-tag">@</span><span class="pp-pln"> sep '/'</span></div><div class="L2"><span class="pp-ln">  12 </span><span class="pp-pln">    </span><span class="pp-tag">try</span></div><div class="L3"><span class="pp-ln">  13 </span><span class="pp-pln">        </span><span class="pp-tag">set</span><span class="pp-pln"> path = require('path')</span></div><div class="L4"><span class="pp-ln">  14 </span><span class="pp-pln">    </span><span class="pp-tag">catch</span><span class="pp-pln"> er</span></div><div class="L5"><span class="pp-ln">  15 </span><span class="pp-pln">    </span><span class="pp-tag">var</span><span class="pp-pln"> GLOBSTAR = minimatch.GLOBSTAR = Minimatch.GLOBSTAR = {}</span></div><div class="L6"><span class="pp-ln">  16 </span><span class="pp-pln">    </span><span class="pp-tag">var</span><span class="pp-pln"> expand = require('./brace-expansion')</span></div><div class="L7"><span class="pp-ln">  17 </span><span class="pp-pln">    </span><span class="pp-tag">var</span><span class="pp-pln"> plTypes</span></div><div class="L8"><span class="pp-ln">  18 </span><span class="pp-pln">        </span><span class="pp-tag">{</span></div><div class="L9"><span class="pp-ln">  19 </span><span class="pp-pln">            </span><span class="pp-tag">@</span><span class="pp-pln"> '!'</span></div><div class="L0"><span class="pp-ln">  20 </span><span class="pp-pln">                </span><span class="pp-tag">{</span></div><div class="L1"><span class="pp-ln">  21 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> open '(?:(?!(?:'</span></div><div class="L2"><span class="pp-ln">  22 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> close '))[^/]*?)'</span></div><div class="L3"><span class="pp-ln">  23 </span><span class="pp-pln">            </span><span class="pp-tag">@</span><span class="pp-pln"> '?'</span></div><div class="L4"><span class="pp-ln">  24 </span><span class="pp-pln">                </span><span class="pp-tag">{</span></div><div class="L5"><span class="pp-ln">  25 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> open '(?:'</span></div><div class="L6"><span class="pp-ln">  26 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> close ')?'</span></div><div class="L7"><span class="pp-ln">  27 </span><span class="pp-pln">            </span><span class="pp-tag">@</span><span class="pp-pln"> '+'</span></div><div class="L8"><span class="pp-ln">  28 </span><span class="pp-pln">                </span><span class="pp-tag">{</span></div><div class="L9"><span class="pp-ln">  29 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> open '(?:'</span></div><div class="L0"><span class="pp-ln">  30 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> close ')+'</span></div><div class="L1"><span class="pp-ln">  31 </span><span class="pp-pln">            </span><span class="pp-tag">@</span><span class="pp-pln"> '*'</span></div><div class="L2"><span class="pp-ln">  32 </span><span class="pp-pln">                </span><span class="pp-tag">{</span></div><div class="L3"><span class="pp-ln">  33 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> open '(?:'</span></div><div class="L4"><span class="pp-ln">  34 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> close ')*'</span></div><div class="L5"><span class="pp-ln">  35 </span><span class="pp-pln">            </span><span class="pp-tag">@</span><span class="pp-pln"> '@'</span></div><div class="L6"><span class="pp-ln">  36 </span><span class="pp-pln">                </span><span class="pp-tag">{</span></div><div class="L7"><span class="pp-ln">  37 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> open '(?:'</span></div><div class="L8"><span class="pp-ln">  38 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> close ')'</span></div><div class="L9"><span class="pp-ln">  39 </span><span class="pp-pln">    </span><span class="pp-tag">var</span><span class="pp-pln"> qmark = '[^/]'</span></div><div class="L0"><span class="pp-ln">  40 </span><span class="pp-pln">    </span><span class="pp-tag">var</span><span class="pp-pln"> star = (qmark + '*?')</span></div><div class="L1"><span class="pp-ln">  41 </span><span class="pp-pln">    </span><span class="pp-tag">var</span><span class="pp-pln"> twoStarDot = '(?:(?!(?:\\\/|^)(?:\\.{1,2})($|\\\/)).)*?'</span></div><div class="L2"><span class="pp-ln">  42 </span><span class="pp-pln">    </span><span class="pp-tag">var</span><span class="pp-pln"> twoStarNoDot = '(?:(?!(?:\\\/|^)\\.).)*?'</span></div><div class="L3"><span class="pp-ln">  43 </span><span class="pp-pln">    </span><span class="pp-tag">var</span><span class="pp-pln"> reSpecials = charSet('().*{}+?[]^$\\!')</span></div><div class="L4"><span class="pp-ln">  44 </span><span class="pp-pln">    </span><span class="pp-tag">function</span><span class="pp-pln"> charSet</span></div><div class="L5"><span class="pp-ln">  45 </span><span class="pp-pln">        </span><span class="pp-tag">param</span><span class="pp-pln"> s</span></div><div class="L6"><span class="pp-ln">  46 </span><span class="pp-pln">        </span><span class="pp-tag">return</span></div><div class="L7"><span class="pp-ln">  47 </span><span class="pp-pln">            </span><span class="pp-tag">_</span><span class="pp-pln"> s.split('')</span></div><div class="L8"><span class="pp-ln">  48 </span><span class="pp-pln">                </span><span class="pp-tag">._</span><span class="pp-pln"> reduce</span></div><div class="L9"><span class="pp-ln">  49 </span><span class="pp-pln">                    </span><span class="pp-tag">function</span></div><div class="L0"><span class="pp-ln">  50 </span><span class="pp-pln">                        </span><span class="pp-tag">param</span><span class="pp-pln"> set</span></div><div class="L1"><span class="pp-ln">  51 </span><span class="pp-pln">                        </span><span class="pp-tag">param</span><span class="pp-pln"> c</span></div><div class="L2"><span class="pp-ln">  52 </span><span class="pp-pln">                        </span><span class="pp-tag">set</span><span class="pp-pln"> set[c] = true</span></div><div class="L3"><span class="pp-ln">  53 </span><span class="pp-pln">                        </span><span class="pp-tag">return</span><span class="pp-pln"> set</span></div><div class="L4"><span class="pp-ln">  54 </span><span class="pp-pln">                    </span><span class="pp-tag">{</span></div><div class="L5"><span class="pp-ln">  55 </span><span class="pp-pln">    </span><span class="pp-tag">var</span><span class="pp-pln"> slashSplit = /\/+/</span></div><div class="L6"><span class="pp-ln">  56 </span><span class="pp-pln">    </span><span class="pp-tag">set</span><span class="pp-pln"> minimatch.filter = filter</span></div><div class="L7"><span class="pp-ln">  57 </span><span class="pp-pln">    </span><span class="pp-tag">function</span><span class="pp-pln"> filter</span></div><div class="L8"><span class="pp-ln">  58 </span><span class="pp-pln">        </span><span class="pp-tag">param</span><span class="pp-pln"> pattern</span></div><div class="L9"><span class="pp-ln">  59 </span><span class="pp-pln">        </span><span class="pp-tag">param</span><span class="pp-pln"> options</span></div><div class="L0"><span class="pp-ln">  60 </span><span class="pp-pln">        </span><span class="pp-tag">set</span><span class="pp-pln"> options = (options || {})</span></div><div class="L1"><span class="pp-ln">  61 </span><span class="pp-pln">        </span><span class="pp-tag">return</span></div><div class="L2"><span class="pp-ln">  62 </span><span class="pp-pln">            </span><span class="pp-tag">function</span></div><div class="L3"><span class="pp-ln">  63 </span><span class="pp-pln">                </span><span class="pp-tag">param</span><span class="pp-pln"> p</span></div><div class="L4"><span class="pp-ln">  64 </span><span class="pp-pln">                </span><span class="pp-tag">param</span><span class="pp-pln"> i</span></div><div class="L5"><span class="pp-ln">  65 </span><span class="pp-pln">                </span><span class="pp-tag">param</span><span class="pp-pln"> list</span></div><div class="L6"><span class="pp-ln">  66 </span><span class="pp-pln">                </span><span class="pp-tag">return</span><span class="pp-pln"> minimatch(p, pattern, options)</span></div><div class="L7"><span class="pp-ln">  67 </span><span class="pp-pln">    </span><span class="pp-tag">function</span><span class="pp-pln"> ext</span></div><div class="L8"><span class="pp-ln">  68 </span><span class="pp-pln">        </span><span class="pp-tag">param</span><span class="pp-pln"> a</span></div><div class="L9"><span class="pp-ln">  69 </span><span class="pp-pln">        </span><span class="pp-tag">param</span><span class="pp-pln"> b</span></div><div class="L0"><span class="pp-ln">  70 </span><span class="pp-pln">        </span><span class="pp-tag">set</span><span class="pp-pln"> a = (a || {})</span></div><div class="L1"><span class="pp-ln">  71 </span><span class="pp-pln">        </span><span class="pp-tag">set</span><span class="pp-pln"> b = (b || {})</span></div><div class="L2"><span class="pp-ln">  72 </span><span class="pp-pln">        </span><span class="pp-tag">var</span><span class="pp-pln"> t</span></div><div class="L3"><span class="pp-ln">  73 </span><span class="pp-pln">            </span><span class="pp-tag">{</span></div><div class="L4"><span class="pp-ln">  74 </span><span class="pp-pln">        </span><span class="pp-tag">_</span><span class="pp-pln"> Object.keys(b)</span></div><div class="L5"><span class="pp-ln">  75 </span><span class="pp-pln">            </span><span class="pp-tag">._</span><span class="pp-pln"> forEach</span></div><div class="L6"><span class="pp-ln">  76 </span><span class="pp-pln">                </span><span class="pp-tag">function</span></div><div class="L7"><span class="pp-ln">  77 </span><span class="pp-pln">                    </span><span class="pp-tag">param</span><span class="pp-pln"> k</span></div><div class="L8"><span class="pp-ln">  78 </span><span class="pp-pln">                    </span><span class="pp-tag">set</span><span class="pp-pln"> t[k] = b[k]</span></div><div class="L9"><span class="pp-ln">  79 </span><span class="pp-pln">        </span><span class="pp-tag">_</span><span class="pp-pln"> Object.keys(a)</span></div><div class="L0"><span class="pp-ln">  80 </span><span class="pp-pln">            </span><span class="pp-tag">._</span><span class="pp-pln"> forEach</span></div><div class="L1"><span class="pp-ln">  81 </span><span class="pp-pln">                </span><span class="pp-tag">function</span></div><div class="L2"><span class="pp-ln">  82 </span><span class="pp-pln">                    </span><span class="pp-tag">param</span><span class="pp-pln"> k</span></div><div class="L3"><span class="pp-ln">  83 </span><span class="pp-pln">                    </span><span class="pp-tag">set</span><span class="pp-pln"> t[k] = a[k]</span></div><div class="L4"><span class="pp-ln">  84 </span><span class="pp-pln">        </span><span class="pp-tag">return</span><span class="pp-pln"> t</span></div><div class="L5"><span class="pp-ln">  85 </span><span class="pp-pln">    </span><span class="pp-tag">set</span><span class="pp-pln"> minimatch.defaults =</span></div><div class="L6"><span class="pp-ln">  86 </span><span class="pp-pln">        </span><span class="pp-tag">function</span></div><div class="L7"><span class="pp-ln">  87 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> def</span></div><div class="L8"><span class="pp-ln">  88 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> (! (def) || ! (Object.keys(def).length))</span></div><div class="L9"><span class="pp-ln">  89 </span><span class="pp-pln">                </span><span class="pp-tag">return</span><span class="pp-pln"> minimatch</span></div><div class="L0"><span class="pp-ln">  90 </span><span class="pp-pln">            </span><span class="pp-tag">var</span><span class="pp-pln"> orig = minimatch</span></div><div class="L1"><span class="pp-ln">  91 </span><span class="pp-pln">            </span><span class="pp-tag">var</span><span class="pp-pln"> m</span></div><div class="L2"><span class="pp-ln">  92 </span><span class="pp-pln">                </span><span class="pp-tag">function</span><span class="pp-pln"> minimatch</span></div><div class="L3"><span class="pp-ln">  93 </span><span class="pp-pln">                    </span><span class="pp-tag">param</span><span class="pp-pln"> p</span></div><div class="L4"><span class="pp-ln">  94 </span><span class="pp-pln">                    </span><span class="pp-tag">param</span><span class="pp-pln"> pattern</span></div><div class="L5"><span class="pp-ln">  95 </span><span class="pp-pln">                    </span><span class="pp-tag">param</span><span class="pp-pln"> options</span></div><div class="L6"><span class="pp-ln">  96 </span><span class="pp-pln">                    </span><span class="pp-tag">return</span></div><div class="L7"><span class="pp-ln">  97 </span><span class="pp-pln">                        </span><span class="pp-tag">_</span><span class="pp-pln"> orig.minimatch</span></div><div class="L8"><span class="pp-ln">  98 </span><span class="pp-pln">                            </span><span class="pp-tag">@</span><span class="pp-pln"> p</span></div><div class="L9"><span class="pp-ln">  99 </span><span class="pp-pln">                            </span><span class="pp-tag">@</span><span class="pp-pln"> pattern</span></div><div class="L0"><span class="pp-ln"> 100 </span><span class="pp-pln">                            </span><span class="pp-tag">_</span><span class="pp-pln"> ext(def, options)</span></div><div class="L1"><span class="pp-ln"> 101 </span><span class="pp-pln">            </span><span class="pp-tag">set</span><span class="pp-pln"> m.Minimatch =</span></div><div class="L2"><span class="pp-ln"> 102 </span><span class="pp-pln">                </span><span class="pp-tag">function</span><span class="pp-pln"> Minimatch</span></div><div class="L3"><span class="pp-ln"> 103 </span><span class="pp-pln">                    </span><span class="pp-tag">param</span><span class="pp-pln"> pattern</span></div><div class="L4"><span class="pp-ln"> 104 </span><span class="pp-pln">                    </span><span class="pp-tag">param</span><span class="pp-pln"> options</span></div><div class="L5"><span class="pp-ln"> 105 </span><span class="pp-pln">                    </span><span class="pp-tag">return</span></div><div class="L6"><span class="pp-ln"> 106 </span><span class="pp-pln">                        </span><span class="pp-tag">new</span><span class="pp-pln"> orig.Minimatch</span></div><div class="L7"><span class="pp-ln"> 107 </span><span class="pp-pln">                            </span><span class="pp-tag">@</span><span class="pp-pln"> pattern</span></div><div class="L8"><span class="pp-ln"> 108 </span><span class="pp-pln">                            </span><span class="pp-tag">_</span><span class="pp-pln"> ext(def, options)</span></div><div class="L9"><span class="pp-ln"> 109 </span><span class="pp-pln">            </span><span class="pp-tag">return</span><span class="pp-pln"> m</span></div><div class="L0"><span class="pp-ln"> 110 </span><span class="pp-pln">    </span><span class="pp-tag">set</span><span class="pp-pln"> Minimatch.defaults =</span></div><div class="L1"><span class="pp-ln"> 111 </span><span class="pp-pln">        </span><span class="pp-tag">function</span></div><div class="L2"><span class="pp-ln"> 112 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> def</span></div><div class="L3"><span class="pp-ln"> 113 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> (! (def) || ! (Object.keys(def).length))</span></div><div class="L4"><span class="pp-ln"> 114 </span><span class="pp-pln">                </span><span class="pp-tag">return</span><span class="pp-pln"> Minimatch</span></div><div class="L5"><span class="pp-ln"> 115 </span><span class="pp-pln">            </span><span class="pp-tag">return</span></div><div class="L6"><span class="pp-ln"> 116 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> minimatch.defaults(def)</span></div><div class="L7"><span class="pp-ln"> 117 </span><span class="pp-pln">                    </span><span class="pp-tag">.</span><span class="pp-pln"> Minimatch</span></div><div class="L8"><span class="pp-ln"> 118 </span><span class="pp-pln">    </span><span class="pp-tag">function</span><span class="pp-pln"> minimatch</span></div><div class="L9"><span class="pp-ln"> 119 </span><span class="pp-pln">        </span><span class="pp-tag">param</span><span class="pp-pln"> p</span></div><div class="L0"><span class="pp-ln"> 120 </span><span class="pp-pln">        </span><span class="pp-tag">param</span><span class="pp-pln"> pattern</span></div><div class="L1"><span class="pp-ln"> 121 </span><span class="pp-pln">        </span><span class="pp-tag">param</span><span class="pp-pln"> options</span></div><div class="L2"><span class="pp-ln"> 122 </span><span class="pp-pln">        </span><span class="pp-tag">if</span><span class="pp-pln"> typeof (pattern) !== 'string'</span></div><div class="L3"><span class="pp-ln"> 123 </span><span class="pp-pln">            </span><span class="pp-tag">throw</span></div><div class="L4"><span class="pp-ln"> 124 </span><span class="pp-pln">                </span><span class="pp-tag">new</span><span class="pp-pln"> TypeError('glob pattern string required')</span></div><div class="L5"><span class="pp-ln"> 125 </span><span class="pp-pln">        </span><span class="pp-tag">if</span><span class="pp-pln"> ! (options)</span></div><div class="L6"><span class="pp-ln"> 126 </span><span class="pp-pln">            </span><span class="pp-tag">set</span><span class="pp-pln"> options =</span></div><div class="L7"><span class="pp-ln"> 127 </span><span class="pp-pln">                </span><span class="pp-tag">{</span></div><div class="L8"><span class="pp-ln"> 128 </span><span class="pp-pln">        </span><span class="pp-tag">if</span><span class="pp-pln"> (! (options.nocomment) && (pattern.charAt(0) === '#'))</span></div><div class="L9"><span class="pp-ln"> 129 </span><span class="pp-pln">            </span><span class="pp-tag">return</span><span class="pp-pln"> false</span></div><div class="L0"><span class="pp-ln"> 130 </span><span class="pp-pln">        </span><span class="pp-tag">if</span><span class="pp-pln"> pattern.trim() === ''</span></div><div class="L1"><span class="pp-ln"> 131 </span><span class="pp-pln">            </span><span class="pp-tag">return</span><span class="pp-pln"> p === ''</span></div><div class="L2"><span class="pp-ln"> 132 </span><span class="pp-pln">        </span><span class="pp-tag">return</span></div><div class="L3"><span class="pp-ln"> 133 </span><span class="pp-pln">            </span><span class="pp-tag">new</span><span class="pp-pln"> Minimatch(pattern, options)</span></div><div class="L4"><span class="pp-ln"> 134 </span><span class="pp-pln">                </span><span class="pp-tag">._</span><span class="pp-pln"> match(p)</span></div><div class="L5"><span class="pp-ln"> 135 </span><span class="pp-pln">    </span><span class="pp-tag">function</span><span class="pp-pln"> Minimatch</span></div><div class="L6"><span class="pp-ln"> 136 </span><span class="pp-pln">        </span><span class="pp-tag">param</span><span class="pp-pln"> pattern</span></div><div class="L7"><span class="pp-ln"> 137 </span><span class="pp-pln">        </span><span class="pp-tag">param</span><span class="pp-pln"> options</span></div><div class="L8"><span class="pp-ln"> 138 </span><span class="pp-pln">        </span><span class="pp-tag">if</span><span class="pp-pln"> ! (this instanceof Minimatch)</span></div><div class="L9"><span class="pp-ln"> 139 </span><span class="pp-pln">            </span><span class="pp-tag">return</span></div><div class="L0"><span class="pp-ln"> 140 </span><span class="pp-pln">                </span><span class="pp-tag">new</span><span class="pp-pln"> Minimatch(pattern, options)</span></div><div class="L1"><span class="pp-ln"> 141 </span><span class="pp-pln">        </span><span class="pp-tag">if</span><span class="pp-pln"> typeof (pattern) !== 'string'</span></div><div class="L2"><span class="pp-ln"> 142 </span><span class="pp-pln">            </span><span class="pp-tag">throw</span></div><div class="L3"><span class="pp-ln"> 143 </span><span class="pp-pln">                </span><span class="pp-tag">new</span><span class="pp-pln"> TypeError('glob pattern string required')</span></div><div class="L4"><span class="pp-ln"> 144 </span><span class="pp-pln">        </span><span class="pp-tag">if</span><span class="pp-pln"> ! (options)</span></div><div class="L5"><span class="pp-ln"> 145 </span><span class="pp-pln">            </span><span class="pp-tag">set</span><span class="pp-pln"> options =</span></div><div class="L6"><span class="pp-ln"> 146 </span><span class="pp-pln">                </span><span class="pp-tag">{</span></div><div class="L7"><span class="pp-ln"> 147 </span><span class="pp-pln">        </span><span class="pp-tag">set</span><span class="pp-pln"> pattern = pattern.trim()</span></div><div class="L8"><span class="pp-ln"> 148 </span><span class="pp-pln">        </span><span class="pp-tag">if</span><span class="pp-pln"> path.sep !== '/'</span></div><div class="L9"><span class="pp-ln"> 149 </span><span class="pp-pln">            </span><span class="pp-tag">set</span><span class="pp-pln"> pattern = pattern.split(path.sep).join('/')</span></div><div class="L0"><span class="pp-ln"> 150 </span><span class="pp-pln">        </span><span class="pp-tag">set</span><span class="pp-pln"> this.options = options</span></div><div class="L1"><span class="pp-ln"> 151 </span><span class="pp-pln">        </span><span class="pp-tag">set</span><span class="pp-pln"> this.set = []</span></div><div class="L2"><span class="pp-ln"> 152 </span><span class="pp-pln">        </span><span class="pp-tag">set</span><span class="pp-pln"> this.pattern = pattern</span></div><div class="L3"><span class="pp-ln"> 153 </span><span class="pp-pln">        </span><span class="pp-tag">set</span><span class="pp-pln"> this.regexp = null</span></div><div class="L4"><span class="pp-ln"> 154 </span><span class="pp-pln">        </span><span class="pp-tag">set</span><span class="pp-pln"> this.negate = false</span></div><div class="L5"><span class="pp-ln"> 155 </span><span class="pp-pln">        </span><span class="pp-tag">set</span><span class="pp-pln"> this.comment = false</span></div><div class="L6"><span class="pp-ln"> 156 </span><span class="pp-pln">        </span><span class="pp-tag">set</span><span class="pp-pln"> this.empty = false</span></div><div class="L7"><span class="pp-ln"> 157 </span><span class="pp-pln">        </span><span class="pp-tag">_</span><span class="pp-pln"> this.make()</span></div><div class="L8"><span class="pp-ln"> 158 </span><span class="pp-pln">    </span><span class="pp-tag">set</span><span class="pp-pln"> Minimatch.prototype.debug =</span></div><div class="L9"><span class="pp-ln"> 159 </span><span class="pp-pln">        </span><span class="pp-tag">function</span></div><div class="L0"><span class="pp-ln"> 160 </span><span class="pp-pln">    </span><span class="pp-tag">set</span><span class="pp-pln"> Minimatch.prototype.make = make</span></div><div class="L1"><span class="pp-ln"> 161 </span><span class="pp-pln">    </span><span class="pp-tag">function</span><span class="pp-pln"> make</span></div><div class="L2"><span class="pp-ln"> 162 </span><span class="pp-pln">        </span><span class="pp-tag">if</span><span class="pp-pln"> this._made</span></div><div class="L3"><span class="pp-ln"> 163 </span><span class="pp-pln">            </span><span class="pp-tag">return</span></div><div class="L4"><span class="pp-ln"> 164 </span><span class="pp-pln">        </span><span class="pp-tag">var</span><span class="pp-pln"> pattern = this.pattern</span></div><div class="L5"><span class="pp-ln"> 165 </span><span class="pp-pln">        </span><span class="pp-tag">var</span><span class="pp-pln"> options = this.options</span></div><div class="L6"><span class="pp-ln"> 166 </span><span class="pp-pln">        </span><span class="pp-tag">if</span><span class="pp-pln"> (! (options.nocomment) && (pattern.charAt(0) === '#'))</span></div><div class="L7"><span class="pp-ln"> 167 </span><span class="pp-pln">            </span><span class="pp-tag">set</span><span class="pp-pln"> this.comment = true</span></div><div class="L8"><span class="pp-ln"> 168 </span><span class="pp-pln">            </span><span class="pp-tag">return</span></div><div class="L9"><span class="pp-ln"> 169 </span><span class="pp-pln">        </span><span class="pp-tag">if</span><span class="pp-pln"> ! (pattern)</span></div><div class="L0"><span class="pp-ln"> 170 </span><span class="pp-pln">            </span><span class="pp-tag">set</span><span class="pp-pln"> this.empty = true</span></div><div class="L1"><span class="pp-ln"> 171 </span><span class="pp-pln">            </span><span class="pp-tag">return</span></div><div class="L2"><span class="pp-ln"> 172 </span><span class="pp-pln">        </span><span class="pp-tag">_</span><span class="pp-pln"> this.parseNegate()</span></div><div class="L3"><span class="pp-ln"> 173 </span><span class="pp-pln">        </span><span class="pp-tag">var</span><span class="pp-pln"> set = this.globSet = this.braceExpand()</span></div><div class="L4"><span class="pp-ln"> 174 </span><span class="pp-pln">        </span><span class="pp-tag">if</span><span class="pp-pln"> options.debug</span></div><div class="L5"><span class="pp-ln"> 175 </span><span class="pp-pln">            </span><span class="pp-tag">set</span><span class="pp-pln"> this.debug = console.error</span></div><div class="L6"><span class="pp-ln"> 176 </span><span class="pp-pln">        </span><span class="pp-tag">_</span><span class="pp-pln"> this.debug</span></div><div class="L7"><span class="pp-ln"> 177 </span><span class="pp-pln">            </span><span class="pp-tag">@</span><span class="pp-pln"> this.pattern</span></div><div class="L8"><span class="pp-ln"> 178 </span><span class="pp-pln">            </span><span class="pp-tag">@</span><span class="pp-pln"> set</span></div><div class="L9"><span class="pp-ln"> 179 </span><span class="pp-pln">        </span><span class="pp-tag">set</span><span class="pp-pln"> set =</span></div><div class="L0"><span class="pp-ln"> 180 </span><span class="pp-pln">            </span><span class="pp-tag">set</span><span class="pp-pln"> this.globParts =</span></div><div class="L1"><span class="pp-ln"> 181 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> set.map</span></div><div class="L2"><span class="pp-ln"> 182 </span><span class="pp-pln">                    </span><span class="pp-tag">function</span></div><div class="L3"><span class="pp-ln"> 183 </span><span class="pp-pln">                        </span><span class="pp-tag">param</span><span class="pp-pln"> s</span></div><div class="L4"><span class="pp-ln"> 184 </span><span class="pp-pln">                        </span><span class="pp-tag">return</span><span class="pp-pln"> s.split(slashSplit)</span></div><div class="L5"><span class="pp-ln"> 185 </span><span class="pp-pln">        </span><span class="pp-tag">_</span><span class="pp-pln"> this.debug</span></div><div class="L6"><span class="pp-ln"> 186 </span><span class="pp-pln">            </span><span class="pp-tag">@</span><span class="pp-pln"> this.pattern</span></div><div class="L7"><span class="pp-ln"> 187 </span><span class="pp-pln">            </span><span class="pp-tag">@</span><span class="pp-pln"> set</span></div><div class="L8"><span class="pp-ln"> 188 </span><span class="pp-pln">        </span><span class="pp-tag">set</span><span class="pp-pln"> set =</span></div><div class="L9"><span class="pp-ln"> 189 </span><span class="pp-pln">            </span><span class="pp-tag">_</span><span class="pp-pln"> set.map</span></div><div class="L0"><span class="pp-ln"> 190 </span><span class="pp-pln">                </span><span class="pp-tag">function</span></div><div class="L1"><span class="pp-ln"> 191 </span><span class="pp-pln">                    </span><span class="pp-tag">param</span><span class="pp-pln"> s</span></div><div class="L2"><span class="pp-ln"> 192 </span><span class="pp-pln">                    </span><span class="pp-tag">param</span><span class="pp-pln"> si</span></div><div class="L3"><span class="pp-ln"> 193 </span><span class="pp-pln">                    </span><span class="pp-tag">param</span><span class="pp-pln"> set</span></div><div class="L4"><span class="pp-ln"> 194 </span><span class="pp-pln">                    </span><span class="pp-tag">return</span></div><div class="L5"><span class="pp-ln"> 195 </span><span class="pp-pln">                        </span><span class="pp-tag">_</span><span class="pp-pln"> s.map</span></div><div class="L6"><span class="pp-ln"> 196 </span><span class="pp-pln">                            </span><span class="pp-tag">@</span><span class="pp-pln"> this.parse</span></div><div class="L7"><span class="pp-ln"> 197 </span><span class="pp-pln">                            </span><span class="pp-tag">@</span><span class="pp-pln"> this</span></div><div class="L8"><span class="pp-ln"> 198 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> this</span></div><div class="L9"><span class="pp-ln"> 199 </span><span class="pp-pln">        </span><span class="pp-tag">_</span><span class="pp-pln"> this.debug</span></div><div class="L0"><span class="pp-ln"> 200 </span><span class="pp-pln">            </span><span class="pp-tag">@</span><span class="pp-pln"> this.pattern</span></div><div class="L1"><span class="pp-ln"> 201 </span><span class="pp-pln">            </span><span class="pp-tag">@</span><span class="pp-pln"> set</span></div><div class="L2"><span class="pp-ln"> 202 </span><span class="pp-pln">        </span><span class="pp-tag">set</span><span class="pp-pln"> set =</span></div><div class="L3"><span class="pp-ln"> 203 </span><span class="pp-pln">            </span><span class="pp-tag">_</span><span class="pp-pln"> set.filter</span></div><div class="L4"><span class="pp-ln"> 204 </span><span class="pp-pln">                </span><span class="pp-tag">function</span></div><div class="L5"><span class="pp-ln"> 205 </span><span class="pp-pln">                    </span><span class="pp-tag">param</span><span class="pp-pln"> s</span></div><div class="L6"><span class="pp-ln"> 206 </span><span class="pp-pln">                    </span><span class="pp-tag">return</span><span class="pp-pln"> s.indexOf(false) === - (1)</span></div><div class="L7"><span class="pp-ln"> 207 </span><span class="pp-pln">        </span><span class="pp-tag">_</span><span class="pp-pln"> this.debug</span></div><div class="L8"><span class="pp-ln"> 208 </span><span class="pp-pln">            </span><span class="pp-tag">@</span><span class="pp-pln"> this.pattern</span></div><div class="L9"><span class="pp-ln"> 209 </span><span class="pp-pln">            </span><span class="pp-tag">@</span><span class="pp-pln"> set</span></div><div class="L0"><span class="pp-ln"> 210 </span><span class="pp-pln">        </span><span class="pp-tag">set</span><span class="pp-pln"> this.set = set</span></div><div class="L1"><span class="pp-ln"> 211 </span><span class="pp-pln">    </span><span class="pp-tag">set</span><span class="pp-pln"> Minimatch.prototype.parseNegate = parseNegate</span></div><div class="L2"><span class="pp-ln"> 212 </span><span class="pp-pln">    </span><span class="pp-tag">function</span><span class="pp-pln"> parseNegate</span></div><div class="L3"><span class="pp-ln"> 213 </span><span class="pp-pln">        </span><span class="pp-tag">var</span><span class="pp-pln"> pattern = this.pattern</span></div><div class="L4"><span class="pp-ln"> 214 </span><span class="pp-pln">        </span><span class="pp-tag">var</span><span class="pp-pln"> negate = false</span></div><div class="L5"><span class="pp-ln"> 215 </span><span class="pp-pln">        </span><span class="pp-tag">var</span><span class="pp-pln"> options = this.options</span></div><div class="L6"><span class="pp-ln"> 216 </span><span class="pp-pln">        </span><span class="pp-tag">var</span><span class="pp-pln"> negateOffset = 0</span></div><div class="L7"><span class="pp-ln"> 217 </span><span class="pp-pln">        </span><span class="pp-tag">if</span><span class="pp-pln"> options.nonegate</span></div><div class="L8"><span class="pp-ln"> 218 </span><span class="pp-pln">            </span><span class="pp-tag">return</span></div><div class="L9"><span class="pp-ln"> 219 </span><span class="pp-pln">        </span><span class="pp-tag">for</span><span class="pp-pln"> var i = 0, l = pattern.length; ((i &lt; l) && (pattern.charAt(i) === '!')); i++</span></div><div class="L0"><span class="pp-ln"> 220 </span><span class="pp-pln">            </span><span class="pp-tag">set</span><span class="pp-pln"> negate = ! (negate)</span></div><div class="L1"><span class="pp-ln"> 221 </span><span class="pp-pln">            </span><span class="pp-tag">set</span><span class="pp-pln"> negateOffset++</span></div><div class="L2"><span class="pp-ln"> 222 </span><span class="pp-pln">        </span><span class="pp-tag">if</span><span class="pp-pln"> negateOffset</span></div><div class="L3"><span class="pp-ln"> 223 </span><span class="pp-pln">            </span><span class="pp-tag">set</span><span class="pp-pln"> this.pattern = pattern.substr(negateOffset)</span></div><div class="L4"><span class="pp-ln"> 224 </span><span class="pp-pln">        </span><span class="pp-tag">set</span><span class="pp-pln"> this.negate = negate</span></div><div class="L5"><span class="pp-ln"> 225 </span><span class="pp-pln">    </span><span class="pp-tag">set</span><span class="pp-pln"> minimatch.braceExpand =</span></div><div class="L6"><span class="pp-ln"> 226 </span><span class="pp-pln">        </span><span class="pp-tag">function</span></div><div class="L7"><span class="pp-ln"> 227 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> pattern</span></div><div class="L8"><span class="pp-ln"> 228 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> options</span></div><div class="L9"><span class="pp-ln"> 229 </span><span class="pp-pln">            </span><span class="pp-tag">return</span><span class="pp-pln"> braceExpand(pattern, options)</span></div><div class="L0"><span class="pp-ln"> 230 </span><span class="pp-pln">    </span><span class="pp-tag">set</span><span class="pp-pln"> Minimatch.prototype.braceExpand = braceExpand</span></div><div class="L1"><span class="pp-ln"> 231 </span><span class="pp-pln">    </span><span class="pp-tag">function</span><span class="pp-pln"> braceExpand</span></div><div class="L2"><span class="pp-ln"> 232 </span><span class="pp-pln">        </span><span class="pp-tag">param</span><span class="pp-pln"> pattern</span></div><div class="L3"><span class="pp-ln"> 233 </span><span class="pp-pln">        </span><span class="pp-tag">param</span><span class="pp-pln"> options</span></div><div class="L4"><span class="pp-ln"> 234 </span><span class="pp-pln">        </span><span class="pp-tag">if</span><span class="pp-pln"> ! (options)</span></div><div class="L5"><span class="pp-ln"> 235 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> this instanceof Minimatch</span></div><div class="L6"><span class="pp-ln"> 236 </span><span class="pp-pln">                </span><span class="pp-tag">set</span><span class="pp-pln"> options = this.options</span></div><div class="L7"><span class="pp-ln"> 237 </span><span class="pp-pln">            </span><span class="pp-tag">else</span></div><div class="L8"><span class="pp-ln"> 238 </span><span class="pp-pln">                </span><span class="pp-tag">set</span><span class="pp-pln"> options =</span></div><div class="L9"><span class="pp-ln"> 239 </span><span class="pp-pln">                    </span><span class="pp-tag">{</span></div><div class="L0"><span class="pp-ln"> 240 </span><span class="pp-pln">        </span><span class="pp-tag">set</span><span class="pp-pln"> pattern = typeof (pattern) === 'undefined' ? this.pattern : pattern</span></div><div class="L1"><span class="pp-ln"> 241 </span><span class="pp-pln">        </span><span class="pp-tag">if</span><span class="pp-pln"> typeof (pattern) === 'undefined'</span></div><div class="L2"><span class="pp-ln"> 242 </span><span class="pp-pln">            </span><span class="pp-tag">throw</span></div><div class="L3"><span class="pp-ln"> 243 </span><span class="pp-pln">                </span><span class="pp-tag">new</span><span class="pp-pln"> TypeError('undefined pattern')</span></div><div class="L4"><span class="pp-ln"> 244 </span><span class="pp-pln">        </span><span class="pp-tag">if</span><span class="pp-pln"> (options.nobrace || ! (pattern.match(/\{.*\}/)))</span></div><div class="L5"><span class="pp-ln"> 245 </span><span class="pp-pln">            </span><span class="pp-tag">return</span></div><div class="L6"><span class="pp-ln"> 246 </span><span class="pp-pln">                </span><span class="pp-tag">[</span></div><div class="L7"><span class="pp-ln"> 247 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> pattern</span></div><div class="L8"><span class="pp-ln"> 248 </span><span class="pp-pln">        </span><span class="pp-tag">return</span><span class="pp-pln"> expand(pattern)</span></div><div class="L9"><span class="pp-ln"> 249 </span><span class="pp-pln">    </span><span class="pp-tag">set</span><span class="pp-pln"> Minimatch.prototype.parse = parse</span></div><div class="L0"><span class="pp-ln"> 250 </span><span class="pp-pln">    </span><span class="pp-tag">var</span><span class="pp-pln"> SUBPARSE</span></div><div class="L1"><span class="pp-ln"> 251 </span><span class="pp-pln">        </span><span class="pp-tag">{</span></div><div class="L2"><span class="pp-ln"> 252 </span><span class="pp-pln">    </span><span class="pp-tag">function</span><span class="pp-pln"> parse</span></div><div class="L3"><span class="pp-ln"> 253 </span><span class="pp-pln">        </span><span class="pp-tag">param</span><span class="pp-pln"> pattern</span></div><div class="L4"><span class="pp-ln"> 254 </span><span class="pp-pln">        </span><span class="pp-tag">param</span><span class="pp-pln"> isSub</span></div><div class="L5"><span class="pp-ln"> 255 </span><span class="pp-pln">        </span><span class="pp-tag">if</span><span class="pp-pln"> (pattern.length &gt; (1024 * 64))</span></div><div class="L6"><span class="pp-ln"> 256 </span><span class="pp-pln">            </span><span class="pp-tag">throw</span></div><div class="L7"><span class="pp-ln"> 257 </span><span class="pp-pln">                </span><span class="pp-tag">new</span><span class="pp-pln"> TypeError('pattern is too long')</span></div><div class="L8"><span class="pp-ln"> 258 </span><span class="pp-pln">        </span><span class="pp-tag">var</span><span class="pp-pln"> options = this.options</span></div><div class="L9"><span class="pp-ln"> 259 </span><span class="pp-pln">        </span><span class="pp-tag">if</span><span class="pp-pln"> (! (options.noglobstar) && (pattern === '**'))</span></div><div class="L0"><span class="pp-ln"> 260 </span><span class="pp-pln">            </span><span class="pp-tag">return</span><span class="pp-pln"> GLOBSTAR</span></div><div class="L1"><span class="pp-ln"> 261 </span><span class="pp-pln">        </span><span class="pp-tag">if</span><span class="pp-pln"> pattern === ''</span></div><div class="L2"><span class="pp-ln"> 262 </span><span class="pp-pln">            </span><span class="pp-tag">return</span><span class="pp-pln"> ''</span></div><div class="L3"><span class="pp-ln"> 263 </span><span class="pp-pln">        </span><span class="pp-tag">var</span><span class="pp-pln"> re = ''</span></div><div class="L4"><span class="pp-ln"> 264 </span><span class="pp-pln">        </span><span class="pp-tag">var</span><span class="pp-pln"> hasMagic = ! (! (options.nocase))</span></div><div class="L5"><span class="pp-ln"> 265 </span><span class="pp-pln">        </span><span class="pp-tag">var</span><span class="pp-pln"> escaping = false</span></div><div class="L6"><span class="pp-ln"> 266 </span><span class="pp-pln">        </span><span class="pp-tag">var</span><span class="pp-pln"> patternListStack</span></div><div class="L7"><span class="pp-ln"> 267 </span><span class="pp-pln">            </span><span class="pp-tag">[</span></div><div class="L8"><span class="pp-ln"> 268 </span><span class="pp-pln">        </span><span class="pp-tag">var</span><span class="pp-pln"> negativeLists</span></div><div class="L9"><span class="pp-ln"> 269 </span><span class="pp-pln">            </span><span class="pp-tag">[</span></div><div class="L0"><span class="pp-ln"> 270 </span><span class="pp-pln">        </span><span class="pp-tag">var</span><span class="pp-pln"> stateChar</span></div><div class="L1"><span class="pp-ln"> 271 </span><span class="pp-pln">        </span><span class="pp-tag">var</span><span class="pp-pln"> inClass = false</span></div><div class="L2"><span class="pp-ln"> 272 </span><span class="pp-pln">        </span><span class="pp-tag">var</span><span class="pp-pln"> reClassStart = - (1)</span></div><div class="L3"><span class="pp-ln"> 273 </span><span class="pp-pln">        </span><span class="pp-tag">var</span><span class="pp-pln"> classStart = - (1)</span></div><div class="L4"><span class="pp-ln"> 274 </span><span class="pp-pln">        </span><span class="pp-tag">var</span><span class="pp-pln"> patternStart = pattern.charAt(0) === '.' ? '' : options.dot ? '(?!(?:^|\\\/)\\.{1,2}(?:$|\\\/))' : '(?!\\.)'</span></div><div class="L5"><span class="pp-ln"> 275 </span><span class="pp-pln">        </span><span class="pp-tag">var</span><span class="pp-pln"> self = this</span></div><div class="L6"><span class="pp-ln"> 276 </span><span class="pp-pln">        </span><span class="pp-tag">function</span><span class="pp-pln"> clearStateChar</span></div><div class="L7"><span class="pp-ln"> 277 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> stateChar</span></div><div class="L8"><span class="pp-ln"> 278 </span><span class="pp-pln">                </span><span class="pp-tag">switch</span><span class="pp-pln"> stateChar</span></div><div class="L9"><span class="pp-ln"> 279 </span><span class="pp-pln">                    </span><span class="pp-tag">case</span><span class="pp-pln"> '*'</span></div><div class="L0"><span class="pp-ln"> 280 </span><span class="pp-pln">                        </span><span class="pp-tag">set</span><span class="pp-pln"> re += star</span></div><div class="L1"><span class="pp-ln"> 281 </span><span class="pp-pln">                        </span><span class="pp-tag">set</span><span class="pp-pln"> hasMagic = true</span></div><div class="L2"><span class="pp-ln"> 282 </span><span class="pp-pln">                        </span><span class="pp-tag">break</span></div><div class="L3"><span class="pp-ln"> 283 </span><span class="pp-pln">                    </span><span class="pp-tag">case</span><span class="pp-pln"> '?'</span></div><div class="L4"><span class="pp-ln"> 284 </span><span class="pp-pln">                        </span><span class="pp-tag">set</span><span class="pp-pln"> re += qmark</span></div><div class="L5"><span class="pp-ln"> 285 </span><span class="pp-pln">                        </span><span class="pp-tag">set</span><span class="pp-pln"> hasMagic = true</span></div><div class="L6"><span class="pp-ln"> 286 </span><span class="pp-pln">                        </span><span class="pp-tag">break</span></div><div class="L7"><span class="pp-ln"> 287 </span><span class="pp-pln">                    </span><span class="pp-tag">default</span></div><div class="L8"><span class="pp-ln"> 288 </span><span class="pp-pln">                        </span><span class="pp-tag">set</span><span class="pp-pln"> re += ('\\' + stateChar)</span></div><div class="L9"><span class="pp-ln"> 289 </span><span class="pp-pln">                        </span><span class="pp-tag">break</span></div><div class="L0"><span class="pp-ln"> 290 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> self.debug('clearStateChar %j %j', stateChar, re)</span></div><div class="L1"><span class="pp-ln"> 291 </span><span class="pp-pln">                </span><span class="pp-tag">set</span><span class="pp-pln"> stateChar = false</span></div><div class="L2"><span class="pp-ln"> 292 </span><span class="pp-pln">        </span><span class="pp-tag">for</span><span class="pp-pln"> var i = 0, len = pattern.length, c; ((i &lt; len) && (c = pattern.charAt(i))); i++</span></div><div class="L3"><span class="pp-ln"> 293 </span><span class="pp-pln">            </span><span class="pp-tag">_</span><span class="pp-pln"> this.debug('%s\t%s %s %j', pattern, i, re, c)</span></div><div class="L4"><span class="pp-ln"> 294 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> escaping && reSpecials[c]</span></div><div class="L5"><span class="pp-ln"> 295 </span><span class="pp-pln">                </span><span class="pp-tag">set</span><span class="pp-pln"> re += ('\\' + c)</span></div><div class="L6"><span class="pp-ln"> 296 </span><span class="pp-pln">                </span><span class="pp-tag">set</span><span class="pp-pln"> escaping = false</span></div><div class="L7"><span class="pp-ln"> 297 </span><span class="pp-pln">                </span><span class="pp-tag">continue</span></div><div class="L8"><span class="pp-ln"> 298 </span><span class="pp-pln">            </span><span class="pp-tag">switch</span><span class="pp-pln"> c</span></div><div class="L9"><span class="pp-ln"> 299 </span><span class="pp-pln">                </span><span class="pp-tag">case</span><span class="pp-pln"> '/'</span></div><div class="L0"><span class="pp-ln"> 300 </span><span class="pp-pln">                    </span><span class="pp-tag">return</span><span class="pp-pln"> false</span></div><div class="L1"><span class="pp-ln"> 301 </span><span class="pp-pln">                </span><span class="pp-tag">case</span><span class="pp-pln"> '\\'</span></div><div class="L2"><span class="pp-ln"> 302 </span><span class="pp-pln">                    </span><span class="pp-tag">_</span><span class="pp-pln"> clearStateChar()</span></div><div class="L3"><span class="pp-ln"> 303 </span><span class="pp-pln">                    </span><span class="pp-tag">set</span><span class="pp-pln"> escaping = true</span></div><div class="L4"><span class="pp-ln"> 304 </span><span class="pp-pln">                    </span><span class="pp-tag">continue</span></div><div class="L5"><span class="pp-ln"> 305 </span><span class="pp-pln">                </span><span class="pp-tag">case</span><span class="pp-pln"> '?'</span></div><div class="L6"><span class="pp-ln"> 306 </span><span class="pp-pln">                </span><span class="pp-tag">case</span><span class="pp-pln"> '*'</span></div><div class="L7"><span class="pp-ln"> 307 </span><span class="pp-pln">                </span><span class="pp-tag">case</span><span class="pp-pln"> '+'</span></div><div class="L8"><span class="pp-ln"> 308 </span><span class="pp-pln">                </span><span class="pp-tag">case</span><span class="pp-pln"> '@'</span></div><div class="L9"><span class="pp-ln"> 309 </span><span class="pp-pln">                </span><span class="pp-tag">case</span><span class="pp-pln"> '!'</span></div><div class="L0"><span class="pp-ln"> 310 </span><span class="pp-pln">                    </span><span class="pp-tag">_</span><span class="pp-pln"> this.debug('%s\t%s %s %j &lt;-- stateChar', pattern, i, re, c)</span></div><div class="L1"><span class="pp-ln"> 311 </span><span class="pp-pln">                    </span><span class="pp-tag">if</span><span class="pp-pln"> inClass</span></div><div class="L2"><span class="pp-ln"> 312 </span><span class="pp-pln">                        </span><span class="pp-tag">_</span><span class="pp-pln"> this.debug('  in class')</span></div><div class="L3"><span class="pp-ln"> 313 </span><span class="pp-pln">                        </span><span class="pp-tag">if</span><span class="pp-pln"> ((c === '!') && ((i === ((classStart + 1)))))</span></div><div class="L4"><span class="pp-ln"> 314 </span><span class="pp-pln">                            </span><span class="pp-tag">set</span><span class="pp-pln"> c = '^'</span></div><div class="L5"><span class="pp-ln"> 315 </span><span class="pp-pln">                        </span><span class="pp-tag">set</span><span class="pp-pln"> re += c</span></div><div class="L6"><span class="pp-ln"> 316 </span><span class="pp-pln">                        </span><span class="pp-tag">continue</span></div><div class="L7"><span class="pp-ln"> 317 </span><span class="pp-pln">                    </span><span class="pp-tag">_</span><span class="pp-pln"> self.debug('call clearStateChar %j', stateChar)</span></div><div class="L8"><span class="pp-ln"> 318 </span><span class="pp-pln">                    </span><span class="pp-tag">_</span><span class="pp-pln"> clearStateChar()</span></div><div class="L9"><span class="pp-ln"> 319 </span><span class="pp-pln">                    </span><span class="pp-tag">set</span><span class="pp-pln"> stateChar = c</span></div><div class="L0"><span class="pp-ln"> 320 </span><span class="pp-pln">                    </span><span class="pp-tag">if</span><span class="pp-pln"> options.noext</span></div><div class="L1"><span class="pp-ln"> 321 </span><span class="pp-pln">                        </span><span class="pp-tag">_</span><span class="pp-pln"> clearStateChar()</span></div><div class="L2"><span class="pp-ln"> 322 </span><span class="pp-pln">                    </span><span class="pp-tag">continue</span></div><div class="L3"><span class="pp-ln"> 323 </span><span class="pp-pln">                </span><span class="pp-tag">case</span><span class="pp-pln"> '('</span></div><div class="L4"><span class="pp-ln"> 324 </span><span class="pp-pln">                    </span><span class="pp-tag">if</span><span class="pp-pln"> inClass</span></div><div class="L5"><span class="pp-ln"> 325 </span><span class="pp-pln">                        </span><span class="pp-tag">set</span><span class="pp-pln"> re += '('</span></div><div class="L6"><span class="pp-ln"> 326 </span><span class="pp-pln">                        </span><span class="pp-tag">continue</span></div><div class="L7"><span class="pp-ln"> 327 </span><span class="pp-pln">                    </span><span class="pp-tag">if</span><span class="pp-pln"> ! (stateChar)</span></div><div class="L8"><span class="pp-ln"> 328 </span><span class="pp-pln">                        </span><span class="pp-tag">set</span><span class="pp-pln"> re += '\\('</span></div><div class="L9"><span class="pp-ln"> 329 </span><span class="pp-pln">                        </span><span class="pp-tag">continue</span></div><div class="L0"><span class="pp-ln"> 330 </span><span class="pp-pln">                    </span><span class="pp-tag">_</span><span class="pp-pln"> patternListStack.push</span></div><div class="L1"><span class="pp-ln"> 331 </span><span class="pp-pln">                        </span><span class="pp-tag">{</span></div><div class="L2"><span class="pp-ln"> 332 </span><span class="pp-pln">                            </span><span class="pp-tag">@</span><span class="pp-pln"> type stateChar</span></div><div class="L3"><span class="pp-ln"> 333 </span><span class="pp-pln">                            </span><span class="pp-tag">@</span><span class="pp-pln"> start (i - 1)</span></div><div class="L4"><span class="pp-ln"> 334 </span><span class="pp-pln">                            </span><span class="pp-tag">@</span><span class="pp-pln"> reStart re.length</span></div><div class="L5"><span class="pp-ln"> 335 </span><span class="pp-pln">                            </span><span class="pp-tag">@</span><span class="pp-pln"> open plTypes[stateChar].open</span></div><div class="L6"><span class="pp-ln"> 336 </span><span class="pp-pln">                            </span><span class="pp-tag">@</span><span class="pp-pln"> close plTypes[stateChar].close</span></div><div class="L7"><span class="pp-ln"> 337 </span><span class="pp-pln">                    </span><span class="pp-tag">set</span><span class="pp-pln"> re += stateChar === '!' ? '(?:(?!(?:' : '(?:'</span></div><div class="L8"><span class="pp-ln"> 338 </span><span class="pp-pln">                    </span><span class="pp-tag">_</span><span class="pp-pln"> this.debug('plType %j %j', stateChar, re)</span></div><div class="L9"><span class="pp-ln"> 339 </span><span class="pp-pln">                    </span><span class="pp-tag">set</span><span class="pp-pln"> stateChar = false</span></div><div class="L0"><span class="pp-ln"> 340 </span><span class="pp-pln">                    </span><span class="pp-tag">continue</span></div><div class="L1"><span class="pp-ln"> 341 </span><span class="pp-pln">                </span><span class="pp-tag">case</span><span class="pp-pln"> ')'</span></div><div class="L2"><span class="pp-ln"> 342 </span><span class="pp-pln">                    </span><span class="pp-tag">if</span><span class="pp-pln"> (inClass || ! (patternListStack.length))</span></div><div class="L3"><span class="pp-ln"> 343 </span><span class="pp-pln">                        </span><span class="pp-tag">set</span><span class="pp-pln"> re += '\\)'</span></div><div class="L4"><span class="pp-ln"> 344 </span><span class="pp-pln">                        </span><span class="pp-tag">continue</span></div><div class="L5"><span class="pp-ln"> 345 </span><span class="pp-pln">                    </span><span class="pp-tag">_</span><span class="pp-pln"> clearStateChar()</span></div><div class="L6"><span class="pp-ln"> 346 </span><span class="pp-pln">                    </span><span class="pp-tag">set</span><span class="pp-pln"> hasMagic = true</span></div><div class="L7"><span class="pp-ln"> 347 </span><span class="pp-pln">                    </span><span class="pp-tag">var</span><span class="pp-pln"> pl = patternListStack.pop()</span></div><div class="L8"><span class="pp-ln"> 348 </span><span class="pp-pln">                    </span><span class="pp-tag">set</span><span class="pp-pln"> re += pl.close</span></div><div class="L9"><span class="pp-ln"> 349 </span><span class="pp-pln">                    </span><span class="pp-tag">if</span><span class="pp-pln"> pl.type === '!'</span></div><div class="L0"><span class="pp-ln"> 350 </span><span class="pp-pln">                        </span><span class="pp-tag">_</span><span class="pp-pln"> negativeLists.push(pl)</span></div><div class="L1"><span class="pp-ln"> 351 </span><span class="pp-pln">                    </span><span class="pp-tag">set</span><span class="pp-pln"> pl.reEnd = re.length</span></div><div class="L2"><span class="pp-ln"> 352 </span><span class="pp-pln">                    </span><span class="pp-tag">continue</span></div><div class="L3"><span class="pp-ln"> 353 </span><span class="pp-pln">                </span><span class="pp-tag">case</span><span class="pp-pln"> '|'</span></div><div class="L4"><span class="pp-ln"> 354 </span><span class="pp-pln">                    </span><span class="pp-tag">if</span><span class="pp-pln"> (((inClass || ! (patternListStack.length))) || escaping)</span></div><div class="L5"><span class="pp-ln"> 355 </span><span class="pp-pln">                        </span><span class="pp-tag">set</span><span class="pp-pln"> re += '\\|'</span></div><div class="L6"><span class="pp-ln"> 356 </span><span class="pp-pln">                        </span><span class="pp-tag">set</span><span class="pp-pln"> escaping = false</span></div><div class="L7"><span class="pp-ln"> 357 </span><span class="pp-pln">                        </span><span class="pp-tag">continue</span></div><div class="L8"><span class="pp-ln"> 358 </span><span class="pp-pln">                    </span><span class="pp-tag">_</span><span class="pp-pln"> clearStateChar()</span></div><div class="L9"><span class="pp-ln"> 359 </span><span class="pp-pln">                    </span><span class="pp-tag">set</span><span class="pp-pln"> re += '|'</span></div><div class="L0"><span class="pp-ln"> 360 </span><span class="pp-pln">                    </span><span class="pp-tag">continue</span></div><div class="L1"><span class="pp-ln"> 361 </span><span class="pp-pln">                </span><span class="pp-tag">case</span><span class="pp-pln"> '['</span></div><div class="L2"><span class="pp-ln"> 362 </span><span class="pp-pln">                    </span><span class="pp-tag">_</span><span class="pp-pln"> clearStateChar()</span></div><div class="L3"><span class="pp-ln"> 363 </span><span class="pp-pln">                    </span><span class="pp-tag">if</span><span class="pp-pln"> inClass</span></div><div class="L4"><span class="pp-ln"> 364 </span><span class="pp-pln">                        </span><span class="pp-tag">set</span><span class="pp-pln"> re += ('\\' + c)</span></div><div class="L5"><span class="pp-ln"> 365 </span><span class="pp-pln">                        </span><span class="pp-tag">continue</span></div><div class="L6"><span class="pp-ln"> 366 </span><span class="pp-pln">                    </span><span class="pp-tag">set</span><span class="pp-pln"> inClass = true</span></div><div class="L7"><span class="pp-ln"> 367 </span><span class="pp-pln">                    </span><span class="pp-tag">set</span><span class="pp-pln"> classStart = i</span></div><div class="L8"><span class="pp-ln"> 368 </span><span class="pp-pln">                    </span><span class="pp-tag">set</span><span class="pp-pln"> reClassStart = re.length</span></div><div class="L9"><span class="pp-ln"> 369 </span><span class="pp-pln">                    </span><span class="pp-tag">set</span><span class="pp-pln"> re += c</span></div><div class="L0"><span class="pp-ln"> 370 </span><span class="pp-pln">                    </span><span class="pp-tag">continue</span></div><div class="L1"><span class="pp-ln"> 371 </span><span class="pp-pln">                </span><span class="pp-tag">case</span><span class="pp-pln"> ']'</span></div><div class="L2"><span class="pp-ln"> 372 </span><span class="pp-pln">                    </span><span class="pp-tag">if</span><span class="pp-pln"> (((i === ((classStart + 1)))) || ! (inClass))</span></div><div class="L3"><span class="pp-ln"> 373 </span><span class="pp-pln">                        </span><span class="pp-tag">set</span><span class="pp-pln"> re += ('\\' + c)</span></div><div class="L4"><span class="pp-ln"> 374 </span><span class="pp-pln">                        </span><span class="pp-tag">set</span><span class="pp-pln"> escaping = false</span></div><div class="L5"><span class="pp-ln"> 375 </span><span class="pp-pln">                        </span><span class="pp-tag">continue</span></div><div class="L6"><span class="pp-ln"> 376 </span><span class="pp-pln">                    </span><span class="pp-tag">if</span><span class="pp-pln"> inClass</span></div><div class="L7"><span class="pp-ln"> 377 </span><span class="pp-pln">                        </span><span class="pp-tag">var</span><span class="pp-pln"> cs = pattern.substring((classStart + 1), i)</span></div><div class="L8"><span class="pp-ln"> 378 </span><span class="pp-pln">                        </span><span class="pp-tag">try</span></div><div class="L9"><span class="pp-ln"> 379 </span><span class="pp-pln">                            </span><span class="pp-tag">_</span><span class="pp-pln"> RegExp(((('[' + cs)) + ']'))</span></div><div class="L0"><span class="pp-ln"> 380 </span><span class="pp-pln">                        </span><span class="pp-tag">catch</span><span class="pp-pln"> er</span></div><div class="L1"><span class="pp-ln"> 381 </span><span class="pp-pln">                            </span><span class="pp-tag">var</span><span class="pp-pln"> sp = this.parse(cs, SUBPARSE)</span></div><div class="L2"><span class="pp-ln"> 382 </span><span class="pp-pln">                            </span><span class="pp-tag">set</span><span class="pp-pln"> re = (((((re.substr(0, reClassStart) + '\\[')) + sp[0])) + '\\]')</span></div><div class="L3"><span class="pp-ln"> 383 </span><span class="pp-pln">                            </span><span class="pp-tag">set</span><span class="pp-pln"> hasMagic = (hasMagic || sp[1])</span></div><div class="L4"><span class="pp-ln"> 384 </span><span class="pp-pln">                            </span><span class="pp-tag">set</span><span class="pp-pln"> inClass = false</span></div><div class="L5"><span class="pp-ln"> 385 </span><span class="pp-pln">                            </span><span class="pp-tag">continue</span></div><div class="L6"><span class="pp-ln"> 386 </span><span class="pp-pln">                    </span><span class="pp-tag">set</span><span class="pp-pln"> hasMagic = true</span></div><div class="L7"><span class="pp-ln"> 387 </span><span class="pp-pln">                    </span><span class="pp-tag">set</span><span class="pp-pln"> inClass = false</span></div><div class="L8"><span class="pp-ln"> 388 </span><span class="pp-pln">                    </span><span class="pp-tag">set</span><span class="pp-pln"> re += c</span></div><div class="L9"><span class="pp-ln"> 389 </span><span class="pp-pln">                    </span><span class="pp-tag">continue</span></div><div class="L0"><span class="pp-ln"> 390 </span><span class="pp-pln">                </span><span class="pp-tag">default</span></div><div class="L1"><span class="pp-ln"> 391 </span><span class="pp-pln">                    </span><span class="pp-tag">_</span><span class="pp-pln"> clearStateChar()</span></div><div class="L2"><span class="pp-ln"> 392 </span><span class="pp-pln">                    </span><span class="pp-tag">if</span><span class="pp-pln"> escaping</span></div><div class="L3"><span class="pp-ln"> 393 </span><span class="pp-pln">                        </span><span class="pp-tag">set</span><span class="pp-pln"> escaping = false</span></div><div class="L4"><span class="pp-ln"> 394 </span><span class="pp-pln">                    </span><span class="pp-tag">elif</span><span class="pp-pln"> reSpecials[c] && ! (((c === '^') && inClass))</span></div><div class="L5"><span class="pp-ln"> 395 </span><span class="pp-pln">                        </span><span class="pp-tag">set</span><span class="pp-pln"> re += '\\'</span></div><div class="L6"><span class="pp-ln"> 396 </span><span class="pp-pln">                    </span><span class="pp-tag">set</span><span class="pp-pln"> re += c</span></div><div class="L7"><span class="pp-ln"> 397 </span><span class="pp-pln">        </span><span class="pp-tag">if</span><span class="pp-pln"> inClass</span></div><div class="L8"><span class="pp-ln"> 398 </span><span class="pp-pln">            </span><span class="pp-tag">set</span><span class="pp-pln"> cs = pattern.substr((classStart + 1))</span></div><div class="L9"><span class="pp-ln"> 399 </span><span class="pp-pln">            </span><span class="pp-tag">set</span><span class="pp-pln"> sp = this.parse(cs, SUBPARSE)</span></div><div class="L0"><span class="pp-ln"> 400 </span><span class="pp-pln">            </span><span class="pp-tag">set</span><span class="pp-pln"> re = (((re.substr(0, reClassStart) + '\\[')) + sp[0])</span></div><div class="L1"><span class="pp-ln"> 401 </span><span class="pp-pln">            </span><span class="pp-tag">set</span><span class="pp-pln"> hasMagic = (hasMagic || sp[1])</span></div><div class="L2"><span class="pp-ln"> 402 </span><span class="pp-pln">        </span><span class="pp-tag">for</span><span class="pp-pln"> pl = patternListStack.pop(); pl; pl = patternListStack.pop()</span></div><div class="L3"><span class="pp-ln"> 403 </span><span class="pp-pln">            </span><span class="pp-tag">var</span><span class="pp-pln"> tail = re.slice((pl.reStart + pl.open.length))</span></div><div class="L4"><span class="pp-ln"> 404 </span><span class="pp-pln">            </span><span class="pp-tag">_</span><span class="pp-pln"> this.debug('setting tail', re, pl)</span></div><div class="L5"><span class="pp-ln"> 405 </span><span class="pp-pln">            </span><span class="pp-tag">set</span><span class="pp-pln"> tail =</span></div><div class="L6"><span class="pp-ln"> 406 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> tail.replace</span></div><div class="L7"><span class="pp-ln"> 407 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> /((?:\\{2}){0,64})(\\?)\|/g</span></div><div class="L8"><span class="pp-ln"> 408 </span><span class="pp-pln">                    </span><span class="pp-tag">function</span></div><div class="L9"><span class="pp-ln"> 409 </span><span class="pp-pln">                        </span><span class="pp-tag">param</span><span class="pp-pln"> _</span></div><div class="L0"><span class="pp-ln"> 410 </span><span class="pp-pln">                        </span><span class="pp-tag">param</span><span class="pp-pln"> $1</span></div><div class="L1"><span class="pp-ln"> 411 </span><span class="pp-pln">                        </span><span class="pp-tag">param</span><span class="pp-pln"> $2</span></div><div class="L2"><span class="pp-ln"> 412 </span><span class="pp-pln">                        </span><span class="pp-tag">if</span><span class="pp-pln"> ! ($2)</span></div><div class="L3"><span class="pp-ln"> 413 </span><span class="pp-pln">                            </span><span class="pp-tag">set</span><span class="pp-pln"> $2 = '\\'</span></div><div class="L4"><span class="pp-ln"> 414 </span><span class="pp-pln">                        </span><span class="pp-tag">return</span><span class="pp-pln"> ((((($1 + $1)) + $2)) + '|')</span></div><div class="L5"><span class="pp-ln"> 415 </span><span class="pp-pln">            </span><span class="pp-tag">_</span><span class="pp-pln"> this.debug('tail=%j\n   %s', tail, tail, pl, re)</span></div><div class="L6"><span class="pp-ln"> 416 </span><span class="pp-pln">            </span><span class="pp-tag">var</span><span class="pp-pln"> t = pl.type === '*' ? star : pl.type === '?' ? qmark : ('\\' + pl.type)</span></div><div class="L7"><span class="pp-ln"> 417 </span><span class="pp-pln">            </span><span class="pp-tag">set</span><span class="pp-pln"> hasMagic = true</span></div><div class="L8"><span class="pp-ln"> 418 </span><span class="pp-pln">            </span><span class="pp-tag">set</span><span class="pp-pln"> re = (((((re.slice(0, pl.reStart) + t)) + '\\(')) + tail)</span></div><div class="L9"><span class="pp-ln"> 419 </span><span class="pp-pln">        </span><span class="pp-tag">_</span><span class="pp-pln"> clearStateChar()</span></div><div class="L0"><span class="pp-ln"> 420 </span><span class="pp-pln">        </span><span class="pp-tag">if</span><span class="pp-pln"> escaping</span></div><div class="L1"><span class="pp-ln"> 421 </span><span class="pp-pln">            </span><span class="pp-tag">set</span><span class="pp-pln"> re += '\\\\'</span></div><div class="L2"><span class="pp-ln"> 422 </span><span class="pp-pln">        </span><span class="pp-tag">var</span><span class="pp-pln"> addPatternStart = false</span></div><div class="L3"><span class="pp-ln"> 423 </span><span class="pp-pln">        </span><span class="pp-tag">switch</span><span class="pp-pln"> re.charAt(0)</span></div><div class="L4"><span class="pp-ln"> 424 </span><span class="pp-pln">            </span><span class="pp-tag">case</span><span class="pp-pln"> '.'</span></div><div class="L5"><span class="pp-ln"> 425 </span><span class="pp-pln">            </span><span class="pp-tag">case</span><span class="pp-pln"> '['</span></div><div class="L6"><span class="pp-ln"> 426 </span><span class="pp-pln">            </span><span class="pp-tag">case</span><span class="pp-pln"> '('</span></div><div class="L7"><span class="pp-ln"> 427 </span><span class="pp-pln">                </span><span class="pp-tag">set</span><span class="pp-pln"> addPatternStart = true</span></div><div class="L8"><span class="pp-ln"> 428 </span><span class="pp-pln">        </span><span class="pp-tag">for</span><span class="pp-pln"> var n = (negativeLists.length - 1); n &gt; - (1); n--</span></div><div class="L9"><span class="pp-ln"> 429 </span><span class="pp-pln">            </span><span class="pp-tag">var</span><span class="pp-pln"> nl = negativeLists[n]</span></div><div class="L0"><span class="pp-ln"> 430 </span><span class="pp-pln">            </span><span class="pp-tag">var</span><span class="pp-pln"> nlBefore</span></div><div class="L1"><span class="pp-ln"> 431 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> re.slice</span></div><div class="L2"><span class="pp-ln"> 432 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> 0</span></div><div class="L3"><span class="pp-ln"> 433 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> nl.reStart</span></div><div class="L4"><span class="pp-ln"> 434 </span><span class="pp-pln">            </span><span class="pp-tag">var</span><span class="pp-pln"> nlFirst</span></div><div class="L5"><span class="pp-ln"> 435 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> re.slice</span></div><div class="L6"><span class="pp-ln"> 436 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> nl.reStart</span></div><div class="L7"><span class="pp-ln"> 437 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> (nl.reEnd - 8)</span></div><div class="L8"><span class="pp-ln"> 438 </span><span class="pp-pln">            </span><span class="pp-tag">var</span><span class="pp-pln"> nlLast</span></div><div class="L9"><span class="pp-ln"> 439 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> re.slice</span></div><div class="L0"><span class="pp-ln"> 440 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> (nl.reEnd - 8)</span></div><div class="L1"><span class="pp-ln"> 441 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> nl.reEnd</span></div><div class="L2"><span class="pp-ln"> 442 </span><span class="pp-pln">            </span><span class="pp-tag">var</span><span class="pp-pln"> nlAfter</span></div><div class="L3"><span class="pp-ln"> 443 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> re.slice</span></div><div class="L4"><span class="pp-ln"> 444 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> nl.reEnd</span></div><div class="L5"><span class="pp-ln"> 445 </span><span class="pp-pln">            </span><span class="pp-tag">set</span><span class="pp-pln"> nlLast += nlAfter</span></div><div class="L6"><span class="pp-ln"> 446 </span><span class="pp-pln">            </span><span class="pp-tag">var</span><span class="pp-pln"> openParensBefore = (nlBefore.split('(').length - 1)</span></div><div class="L7"><span class="pp-ln"> 447 </span><span class="pp-pln">            </span><span class="pp-tag">var</span><span class="pp-pln"> cleanAfter = nlAfter</span></div><div class="L8"><span class="pp-ln"> 448 </span><span class="pp-pln">            </span><span class="pp-tag">for</span><span class="pp-pln"> i = 0; i &lt; openParensBefore; i++</span></div><div class="L9"><span class="pp-ln"> 449 </span><span class="pp-pln">                </span><span class="pp-tag">set</span><span class="pp-pln"> cleanAfter = cleanAfter.replace(/\)[+*?]?/, '')</span></div><div class="L0"><span class="pp-ln"> 450 </span><span class="pp-pln">            </span><span class="pp-tag">set</span><span class="pp-pln"> nlAfter = cleanAfter</span></div><div class="L1"><span class="pp-ln"> 451 </span><span class="pp-pln">            </span><span class="pp-tag">var</span><span class="pp-pln"> dollar = ''</span></div><div class="L2"><span class="pp-ln"> 452 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> ((nlAfter === '') && (isSub !== SUBPARSE))</span></div><div class="L3"><span class="pp-ln"> 453 </span><span class="pp-pln">                </span><span class="pp-tag">set</span><span class="pp-pln"> dollar = '$'</span></div><div class="L4"><span class="pp-ln"> 454 </span><span class="pp-pln">            </span><span class="pp-tag">var</span><span class="pp-pln"> newRe = (((((((nlBefore + nlFirst)) + nlAfter)) + dollar)) + nlLast)</span></div><div class="L5"><span class="pp-ln"> 455 </span><span class="pp-pln">            </span><span class="pp-tag">set</span><span class="pp-pln"> re = newRe</span></div><div class="L6"><span class="pp-ln"> 456 </span><span class="pp-pln">        </span><span class="pp-tag">if</span><span class="pp-pln"> ((re !== '') && hasMagic)</span></div><div class="L7"><span class="pp-ln"> 457 </span><span class="pp-pln">            </span><span class="pp-tag">set</span><span class="pp-pln"> re = ('(?=.)' + re)</span></div><div class="L8"><span class="pp-ln"> 458 </span><span class="pp-pln">        </span><span class="pp-tag">if</span><span class="pp-pln"> addPatternStart</span></div><div class="L9"><span class="pp-ln"> 459 </span><span class="pp-pln">            </span><span class="pp-tag">set</span><span class="pp-pln"> re = (patternStart + re)</span></div><div class="L0"><span class="pp-ln"> 460 </span><span class="pp-pln">        </span><span class="pp-tag">if</span><span class="pp-pln"> isSub === SUBPARSE</span></div><div class="L1"><span class="pp-ln"> 461 </span><span class="pp-pln">            </span><span class="pp-tag">return</span></div><div class="L2"><span class="pp-ln"> 462 </span><span class="pp-pln">                </span><span class="pp-tag">[</span></div><div class="L3"><span class="pp-ln"> 463 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> re</span></div><div class="L4"><span class="pp-ln"> 464 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> hasMagic</span></div><div class="L5"><span class="pp-ln"> 465 </span><span class="pp-pln">        </span><span class="pp-tag">if</span><span class="pp-pln"> ! (hasMagic)</span></div><div class="L6"><span class="pp-ln"> 466 </span><span class="pp-pln">            </span><span class="pp-tag">return</span><span class="pp-pln"> globUnescape(pattern)</span></div><div class="L7"><span class="pp-ln"> 467 </span><span class="pp-pln">        </span><span class="pp-tag">var</span><span class="pp-pln"> flags = options.nocase ? 'i' : ''</span></div><div class="L8"><span class="pp-ln"> 468 </span><span class="pp-pln">        </span><span class="pp-tag">try</span></div><div class="L9"><span class="pp-ln"> 469 </span><span class="pp-pln">            </span><span class="pp-tag">var</span><span class="pp-pln"> regExp</span></div><div class="L0"><span class="pp-ln"> 470 </span><span class="pp-pln">                </span><span class="pp-tag">new</span><span class="pp-pln"> RegExp(((('^' + re)) + '$'), flags)</span></div><div class="L1"><span class="pp-ln"> 471 </span><span class="pp-pln">        </span><span class="pp-tag">catch</span><span class="pp-pln"> er</span></div><div class="L2"><span class="pp-ln"> 472 </span><span class="pp-pln">            </span><span class="pp-tag">return</span></div><div class="L3"><span class="pp-ln"> 473 </span><span class="pp-pln">                </span><span class="pp-tag">new</span><span class="pp-pln"> RegExp('$.')</span></div><div class="L4"><span class="pp-ln"> 474 </span><span class="pp-pln">        </span><span class="pp-tag">set</span><span class="pp-pln"> regExp._glob = pattern</span></div><div class="L5"><span class="pp-ln"> 475 </span><span class="pp-pln">        </span><span class="pp-tag">set</span><span class="pp-pln"> regExp._src = re</span></div><div class="L6"><span class="pp-ln"> 476 </span><span class="pp-pln">        </span><span class="pp-tag">return</span><span class="pp-pln"> regExp</span></div><div class="L7"><span class="pp-ln"> 477 </span><span class="pp-pln">    </span><span class="pp-tag">set</span><span class="pp-pln"> minimatch.makeRe =</span></div><div class="L8"><span class="pp-ln"> 478 </span><span class="pp-pln">        </span><span class="pp-tag">function</span></div><div class="L9"><span class="pp-ln"> 479 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> pattern</span></div><div class="L0"><span class="pp-ln"> 480 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> options</span></div><div class="L1"><span class="pp-ln"> 481 </span><span class="pp-pln">            </span><span class="pp-tag">return</span></div><div class="L2"><span class="pp-ln"> 482 </span><span class="pp-pln">                </span><span class="pp-tag">new</span><span class="pp-pln"> Minimatch(pattern, (options || {}))</span></div><div class="L3"><span class="pp-ln"> 483 </span><span class="pp-pln">                    </span><span class="pp-tag">._</span><span class="pp-pln"> makeRe()</span></div><div class="L4"><span class="pp-ln"> 484 </span><span class="pp-pln">    </span><span class="pp-tag">set</span><span class="pp-pln"> Minimatch.prototype.makeRe = makeRe</span></div><div class="L5"><span class="pp-ln"> 485 </span><span class="pp-pln">    </span><span class="pp-tag">function</span><span class="pp-pln"> makeRe</span></div><div class="L6"><span class="pp-ln"> 486 </span><span class="pp-pln">        </span><span class="pp-tag">if</span><span class="pp-pln"> (this.regexp || (this.regexp === false))</span></div><div class="L7"><span class="pp-ln"> 487 </span><span class="pp-pln">            </span><span class="pp-tag">return</span><span class="pp-pln"> this.regexp</span></div><div class="L8"><span class="pp-ln"> 488 </span><span class="pp-pln">        </span><span class="pp-tag">var</span><span class="pp-pln"> set = this.set</span></div><div class="L9"><span class="pp-ln"> 489 </span><span class="pp-pln">        </span><span class="pp-tag">if</span><span class="pp-pln"> ! (set.length)</span></div><div class="L0"><span class="pp-ln"> 490 </span><span class="pp-pln">            </span><span class="pp-tag">set</span><span class="pp-pln"> this.regexp = false</span></div><div class="L1"><span class="pp-ln"> 491 </span><span class="pp-pln">            </span><span class="pp-tag">return</span><span class="pp-pln"> this.regexp</span></div><div class="L2"><span class="pp-ln"> 492 </span><span class="pp-pln">        </span><span class="pp-tag">var</span><span class="pp-pln"> options = this.options</span></div><div class="L3"><span class="pp-ln"> 493 </span><span class="pp-pln">        </span><span class="pp-tag">var</span><span class="pp-pln"> twoStar = options.noglobstar ? star : options.dot ? twoStarDot : twoStarNoDot</span></div><div class="L4"><span class="pp-ln"> 494 </span><span class="pp-pln">        </span><span class="pp-tag">var</span><span class="pp-pln"> flags = options.nocase ? 'i' : ''</span></div><div class="L5"><span class="pp-ln"> 495 </span><span class="pp-pln">        </span><span class="pp-tag">var</span><span class="pp-pln"> re</span></div><div class="L6"><span class="pp-ln"> 496 </span><span class="pp-pln">            </span><span class="pp-tag">_</span><span class="pp-pln"> set.map</span></div><div class="L7"><span class="pp-ln"> 497 </span><span class="pp-pln">                </span><span class="pp-tag">function</span></div><div class="L8"><span class="pp-ln"> 498 </span><span class="pp-pln">                    </span><span class="pp-tag">param</span><span class="pp-pln"> pattern</span></div><div class="L9"><span class="pp-ln"> 499 </span><span class="pp-pln">                    </span><span class="pp-tag">return</span></div><div class="L0"><span class="pp-ln"> 500 </span><span class="pp-pln">                        </span><span class="pp-tag">_</span><span class="pp-pln"> pattern.map</span></div><div class="L1"><span class="pp-ln"> 501 </span><span class="pp-pln">                            </span><span class="pp-tag">function</span></div><div class="L2"><span class="pp-ln"> 502 </span><span class="pp-pln">                                </span><span class="pp-tag">param</span><span class="pp-pln"> p</span></div><div class="L3"><span class="pp-ln"> 503 </span><span class="pp-pln">                                </span><span class="pp-tag">return</span></div><div class="L4"><span class="pp-ln"> 504 </span><span class="pp-pln">                                    </span><span class="pp-tag">iif</span><span class="pp-pln"> p === GLOBSTAR</span></div><div class="L5"><span class="pp-ln"> 505 </span><span class="pp-pln">                                        </span><span class="pp-tag">then</span><span class="pp-pln"> twoStar</span></div><div class="L6"><span class="pp-ln"> 506 </span><span class="pp-pln">                                        </span><span class="pp-tag">else</span></div><div class="L7"><span class="pp-ln"> 507 </span><span class="pp-pln">                                            </span><span class="pp-tag">iif</span><span class="pp-pln"> typeof (p) === 'string'</span></div><div class="L8"><span class="pp-ln"> 508 </span><span class="pp-pln">                                                </span><span class="pp-tag">then</span></div><div class="L9"><span class="pp-ln"> 509 </span><span class="pp-pln">                                                    </span><span class="pp-tag">_</span><span class="pp-pln"> regExpEscape(p)</span></div><div class="L0"><span class="pp-ln"> 510 </span><span class="pp-pln">                                                </span><span class="pp-tag">else</span></div><div class="L1"><span class="pp-ln"> 511 </span><span class="pp-pln">                                                    </span><span class="pp-tag">set</span><span class="pp-pln"> p._src</span></div><div class="L2"><span class="pp-ln"> 512 </span><span class="pp-pln">                            </span><span class="pp-tag">._</span><span class="pp-pln"> join('\\\/')</span></div><div class="L3"><span class="pp-ln"> 513 </span><span class="pp-pln">                </span><span class="pp-tag">._</span><span class="pp-pln"> join('|')</span></div><div class="L4"><span class="pp-ln"> 514 </span><span class="pp-pln">        </span><span class="pp-tag">set</span><span class="pp-pln"> re = ((('^(?:' + re)) + ')$')</span></div><div class="L5"><span class="pp-ln"> 515 </span><span class="pp-pln">        </span><span class="pp-tag">if</span><span class="pp-pln"> this.negate</span></div><div class="L6"><span class="pp-ln"> 516 </span><span class="pp-pln">            </span><span class="pp-tag">set</span><span class="pp-pln"> re = ((('^(?!' + re)) + ').*$')</span></div><div class="L7"><span class="pp-ln"> 517 </span><span class="pp-pln">        </span><span class="pp-tag">try</span></div><div class="L8"><span class="pp-ln"> 518 </span><span class="pp-pln">            </span><span class="pp-tag">set</span><span class="pp-pln"> this.regexp = new RegExp(re, flags)</span></div><div class="L9"><span class="pp-ln"> 519 </span><span class="pp-pln">        </span><span class="pp-tag">catch</span><span class="pp-pln"> ex</span></div><div class="L0"><span class="pp-ln"> 520 </span><span class="pp-pln">            </span><span class="pp-tag">set</span><span class="pp-pln"> this.regexp = false</span></div><div class="L1"><span class="pp-ln"> 521 </span><span class="pp-pln">        </span><span class="pp-tag">return</span><span class="pp-pln"> this.regexp</span></div><div class="L2"><span class="pp-ln"> 522 </span><span class="pp-pln">    </span><span class="pp-tag">set</span><span class="pp-pln"> minimatch.match =</span></div><div class="L3"><span class="pp-ln"> 523 </span><span class="pp-pln">        </span><span class="pp-tag">function</span></div><div class="L4"><span class="pp-ln"> 524 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> list</span></div><div class="L5"><span class="pp-ln"> 525 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> pattern</span></div><div class="L6"><span class="pp-ln"> 526 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> options</span></div><div class="L7"><span class="pp-ln"> 527 </span><span class="pp-pln">            </span><span class="pp-tag">set</span><span class="pp-pln"> options = (options || {})</span></div><div class="L8"><span class="pp-ln"> 528 </span><span class="pp-pln">            </span><span class="pp-tag">var</span><span class="pp-pln"> mm</span></div><div class="L9"><span class="pp-ln"> 529 </span><span class="pp-pln">                </span><span class="pp-tag">new</span><span class="pp-pln"> Minimatch(pattern, options)</span></div><div class="L0"><span class="pp-ln"> 530 </span><span class="pp-pln">            </span><span class="pp-tag">set</span><span class="pp-pln"> list =</span></div><div class="L1"><span class="pp-ln"> 531 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> list.filter</span></div><div class="L2"><span class="pp-ln"> 532 </span><span class="pp-pln">                    </span><span class="pp-tag">function</span></div><div class="L3"><span class="pp-ln"> 533 </span><span class="pp-pln">                        </span><span class="pp-tag">param</span><span class="pp-pln"> f</span></div><div class="L4"><span class="pp-ln"> 534 </span><span class="pp-pln">                        </span><span class="pp-tag">return</span><span class="pp-pln"> mm.match(f)</span></div><div class="L5"><span class="pp-ln"> 535 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> mm.options.nonull && ! (list.length)</span></div><div class="L6"><span class="pp-ln"> 536 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> list.push(pattern)</span></div><div class="L7"><span class="pp-ln"> 537 </span><span class="pp-pln">            </span><span class="pp-tag">return</span><span class="pp-pln"> list</span></div><div class="L8"><span class="pp-ln"> 538 </span><span class="pp-pln">    </span><span class="pp-tag">set</span><span class="pp-pln"> Minimatch.prototype.match = match</span></div><div class="L9"><span class="pp-ln"> 539 </span><span class="pp-pln">    </span><span class="pp-tag">function</span><span class="pp-pln"> match</span></div><div class="L0"><span class="pp-ln"> 540 </span><span class="pp-pln">        </span><span class="pp-tag">param</span><span class="pp-pln"> f</span></div><div class="L1"><span class="pp-ln"> 541 </span><span class="pp-pln">        </span><span class="pp-tag">param</span><span class="pp-pln"> partial</span></div><div class="L2"><span class="pp-ln"> 542 </span><span class="pp-pln">        </span><span class="pp-tag">_</span><span class="pp-pln"> this.debug</span></div><div class="L3"><span class="pp-ln"> 543 </span><span class="pp-pln">            </span><span class="pp-tag">@</span><span class="pp-pln"> 'match'</span></div><div class="L4"><span class="pp-ln"> 544 </span><span class="pp-pln">            </span><span class="pp-tag">@</span><span class="pp-pln"> f</span></div><div class="L5"><span class="pp-ln"> 545 </span><span class="pp-pln">            </span><span class="pp-tag">@</span><span class="pp-pln"> this.pattern</span></div><div class="L6"><span class="pp-ln"> 546 </span><span class="pp-pln">        </span><span class="pp-tag">if</span><span class="pp-pln"> this.comment</span></div><div class="L7"><span class="pp-ln"> 547 </span><span class="pp-pln">            </span><span class="pp-tag">return</span><span class="pp-pln"> false</span></div><div class="L8"><span class="pp-ln"> 548 </span><span class="pp-pln">        </span><span class="pp-tag">if</span><span class="pp-pln"> this.empty</span></div><div class="L9"><span class="pp-ln"> 549 </span><span class="pp-pln">            </span><span class="pp-tag">return</span><span class="pp-pln"> f === ''</span></div><div class="L0"><span class="pp-ln"> 550 </span><span class="pp-pln">        </span><span class="pp-tag">if</span><span class="pp-pln"> ((f === '/') && partial)</span></div><div class="L1"><span class="pp-ln"> 551 </span><span class="pp-pln">            </span><span class="pp-tag">return</span><span class="pp-pln"> true</span></div><div class="L2"><span class="pp-ln"> 552 </span><span class="pp-pln">        </span><span class="pp-tag">var</span><span class="pp-pln"> options = this.options</span></div><div class="L3"><span class="pp-ln"> 553 </span><span class="pp-pln">        </span><span class="pp-tag">if</span><span class="pp-pln"> path.sep !== '/'</span></div><div class="L4"><span class="pp-ln"> 554 </span><span class="pp-pln">            </span><span class="pp-tag">set</span><span class="pp-pln"> f = f.split(path.sep).join('/')</span></div><div class="L5"><span class="pp-ln"> 555 </span><span class="pp-pln">        </span><span class="pp-tag">set</span><span class="pp-pln"> f = f.split(slashSplit)</span></div><div class="L6"><span class="pp-ln"> 556 </span><span class="pp-pln">        </span><span class="pp-tag">_</span><span class="pp-pln"> this.debug</span></div><div class="L7"><span class="pp-ln"> 557 </span><span class="pp-pln">            </span><span class="pp-tag">@</span><span class="pp-pln"> this.pattern</span></div><div class="L8"><span class="pp-ln"> 558 </span><span class="pp-pln">            </span><span class="pp-tag">@</span><span class="pp-pln"> 'split'</span></div><div class="L9"><span class="pp-ln"> 559 </span><span class="pp-pln">            </span><span class="pp-tag">@</span><span class="pp-pln"> f</span></div><div class="L0"><span class="pp-ln"> 560 </span><span class="pp-pln">        </span><span class="pp-tag">var</span><span class="pp-pln"> set = this.set</span></div><div class="L1"><span class="pp-ln"> 561 </span><span class="pp-pln">        </span><span class="pp-tag">_</span><span class="pp-pln"> this.debug</span></div><div class="L2"><span class="pp-ln"> 562 </span><span class="pp-pln">            </span><span class="pp-tag">@</span><span class="pp-pln"> this.pattern</span></div><div class="L3"><span class="pp-ln"> 563 </span><span class="pp-pln">            </span><span class="pp-tag">@</span><span class="pp-pln"> 'set'</span></div><div class="L4"><span class="pp-ln"> 564 </span><span class="pp-pln">            </span><span class="pp-tag">@</span><span class="pp-pln"> set</span></div><div class="L5"><span class="pp-ln"> 565 </span><span class="pp-pln">        </span><span class="pp-tag">var</span><span class="pp-pln"> filename</span></div><div class="L6"><span class="pp-ln"> 566 </span><span class="pp-pln">        </span><span class="pp-tag">var</span><span class="pp-pln"> i</span></div><div class="L7"><span class="pp-ln"> 567 </span><span class="pp-pln">        </span><span class="pp-tag">for</span><span class="pp-pln"> i = (f.length - 1); i &gt;= 0; i--</span></div><div class="L8"><span class="pp-ln"> 568 </span><span class="pp-pln">            </span><span class="pp-tag">set</span><span class="pp-pln"> filename = f[i]</span></div><div class="L9"><span class="pp-ln"> 569 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> filename</span></div><div class="L0"><span class="pp-ln"> 570 </span><span class="pp-pln">                </span><span class="pp-tag">break</span></div><div class="L1"><span class="pp-ln"> 571 </span><span class="pp-pln">        </span><span class="pp-tag">for</span><span class="pp-pln"> i = 0; i &lt; set.length; i++</span></div><div class="L2"><span class="pp-ln"> 572 </span><span class="pp-pln">            </span><span class="pp-tag">var</span><span class="pp-pln"> pattern = set[i]</span></div><div class="L3"><span class="pp-ln"> 573 </span><span class="pp-pln">            </span><span class="pp-tag">var</span><span class="pp-pln"> file = f</span></div><div class="L4"><span class="pp-ln"> 574 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> (options.matchBase && (pattern.length === 1))</span></div><div class="L5"><span class="pp-ln"> 575 </span><span class="pp-pln">                </span><span class="pp-tag">set</span><span class="pp-pln"> file = [filename]</span></div><div class="L6"><span class="pp-ln"> 576 </span><span class="pp-pln">            </span><span class="pp-tag">var</span><span class="pp-pln"> hit = this.matchOne(file, pattern, partial)</span></div><div class="L7"><span class="pp-ln"> 577 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> hit</span></div><div class="L8"><span class="pp-ln"> 578 </span><span class="pp-pln">                </span><span class="pp-tag">if</span><span class="pp-pln"> options.flipNegate</span></div><div class="L9"><span class="pp-ln"> 579 </span><span class="pp-pln">                    </span><span class="pp-tag">return</span><span class="pp-pln"> true</span></div><div class="L0"><span class="pp-ln"> 580 </span><span class="pp-pln">                </span><span class="pp-tag">return</span><span class="pp-pln"> ! (this.negate)</span></div><div class="L1"><span class="pp-ln"> 581 </span><span class="pp-pln">        </span><span class="pp-tag">if</span><span class="pp-pln"> options.flipNegate</span></div><div class="L2"><span class="pp-ln"> 582 </span><span class="pp-pln">            </span><span class="pp-tag">return</span><span class="pp-pln"> false</span></div><div class="L3"><span class="pp-ln"> 583 </span><span class="pp-pln">        </span><span class="pp-tag">return</span><span class="pp-pln"> this.negate</span></div><div class="L4"><span class="pp-ln"> 584 </span><span class="pp-pln">    </span><span class="pp-tag">set</span><span class="pp-pln"> Minimatch.prototype.matchOne =</span></div><div class="L5"><span class="pp-ln"> 585 </span><span class="pp-pln">        </span><span class="pp-tag">function</span></div><div class="L6"><span class="pp-ln"> 586 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> file</span></div><div class="L7"><span class="pp-ln"> 587 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> pattern</span></div><div class="L8"><span class="pp-ln"> 588 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> partial</span></div><div class="L9"><span class="pp-ln"> 589 </span><span class="pp-pln">            </span><span class="pp-tag">var</span><span class="pp-pln"> options = this.options</span></div><div class="L0"><span class="pp-ln"> 590 </span><span class="pp-pln">            </span><span class="pp-tag">_</span><span class="pp-pln"> this.debug</span></div><div class="L1"><span class="pp-ln"> 591 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> 'matchOne'</span></div><div class="L2"><span class="pp-ln"> 592 </span><span class="pp-pln">                </span><span class="pp-tag">{</span></div><div class="L3"><span class="pp-ln"> 593 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> 'this' this</span></div><div class="L4"><span class="pp-ln"> 594 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> file file</span></div><div class="L5"><span class="pp-ln"> 595 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> pattern pattern</span></div><div class="L6"><span class="pp-ln"> 596 </span><span class="pp-pln">            </span><span class="pp-tag">_</span><span class="pp-pln"> this.debug</span></div><div class="L7"><span class="pp-ln"> 597 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> 'matchOne'</span></div><div class="L8"><span class="pp-ln"> 598 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> file.length</span></div><div class="L9"><span class="pp-ln"> 599 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> pattern.length</span></div><div class="L0"><span class="pp-ln"> 600 </span><span class="pp-pln">            </span><span class="pp-tag">for</span><span class="pp-pln"> var fi = 0, pi = 0, fl = file.length, pl = pattern.length; ((fi &lt; fl) && (pi &lt; pl)); fi++, pi++</span></div><div class="L1"><span class="pp-ln"> 601 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> this.debug('matchOne loop')</span></div><div class="L2"><span class="pp-ln"> 602 </span><span class="pp-pln">                </span><span class="pp-tag">var</span><span class="pp-pln"> p = pattern[pi]</span></div><div class="L3"><span class="pp-ln"> 603 </span><span class="pp-pln">                </span><span class="pp-tag">var</span><span class="pp-pln"> f = file[fi]</span></div><div class="L4"><span class="pp-ln"> 604 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> this.debug(pattern, p, f)</span></div><div class="L5"><span class="pp-ln"> 605 </span><span class="pp-pln">                </span><span class="pp-tag">if</span><span class="pp-pln"> p === false</span></div><div class="L6"><span class="pp-ln"> 606 </span><span class="pp-pln">                    </span><span class="pp-tag">return</span><span class="pp-pln"> false</span></div><div class="L7"><span class="pp-ln"> 607 </span><span class="pp-pln">                </span><span class="pp-tag">if</span><span class="pp-pln"> p === GLOBSTAR</span></div><div class="L8"><span class="pp-ln"> 608 </span><span class="pp-pln">                    </span><span class="pp-tag">_</span><span class="pp-pln"> this.debug</span></div><div class="L9"><span class="pp-ln"> 609 </span><span class="pp-pln">                        </span><span class="pp-tag">@</span><span class="pp-pln"> 'GLOBSTAR'</span></div><div class="L0"><span class="pp-ln"> 610 </span><span class="pp-pln">                        </span><span class="pp-tag">[</span></div><div class="L1"><span class="pp-ln"> 611 </span><span class="pp-pln">                            </span><span class="pp-tag">@</span><span class="pp-pln"> pattern</span></div><div class="L2"><span class="pp-ln"> 612 </span><span class="pp-pln">                            </span><span class="pp-tag">@</span><span class="pp-pln"> p</span></div><div class="L3"><span class="pp-ln"> 613 </span><span class="pp-pln">                            </span><span class="pp-tag">@</span><span class="pp-pln"> f</span></div><div class="L4"><span class="pp-ln"> 614 </span><span class="pp-pln">                    </span><span class="pp-tag">var</span><span class="pp-pln"> fr = fi</span></div><div class="L5"><span class="pp-ln"> 615 </span><span class="pp-pln">                    </span><span class="pp-tag">var</span><span class="pp-pln"> pr = (pi + 1)</span></div><div class="L6"><span class="pp-ln"> 616 </span><span class="pp-pln">                    </span><span class="pp-tag">if</span><span class="pp-pln"> pr === pl</span></div><div class="L7"><span class="pp-ln"> 617 </span><span class="pp-pln">                        </span><span class="pp-tag">_</span><span class="pp-pln"> this.debug('** at the end')</span></div><div class="L8"><span class="pp-ln"> 618 </span><span class="pp-pln">                        </span><span class="pp-tag">for</span><span class="pp-pln"> ; fi &lt; fl; fi++</span></div><div class="L9"><span class="pp-ln"> 619 </span><span class="pp-pln">                            </span><span class="pp-tag">if</span><span class="pp-pln"> ((((file[fi] === '.') || (file[fi] === '..'))) || ((! (options.dot) && (file[fi].charAt(0) === '.'))))</span></div><div class="L0"><span class="pp-ln"> 620 </span><span class="pp-pln">                                </span><span class="pp-tag">return</span><span class="pp-pln"> false</span></div><div class="L1"><span class="pp-ln"> 621 </span><span class="pp-pln">                        </span><span class="pp-tag">return</span><span class="pp-pln"> true</span></div><div class="L2"><span class="pp-ln"> 622 </span><span class="pp-pln">                    </span><span class="pp-tag">while</span><span class="pp-pln"> fr &lt; fl</span></div><div class="L3"><span class="pp-ln"> 623 </span><span class="pp-pln">                        </span><span class="pp-tag">var</span><span class="pp-pln"> swallowee = file[fr]</span></div><div class="L4"><span class="pp-ln"> 624 </span><span class="pp-pln">                        </span><span class="pp-tag">_</span><span class="pp-pln"> this.debug('\nglobstar while', file, fr, pattern, pr, swallowee)</span></div><div class="L5"><span class="pp-ln"> 625 </span><span class="pp-pln">                        </span><span class="pp-tag">if</span><span class="pp-pln"> this.matchOne(file.slice(fr), pattern.slice(pr), partial)</span></div><div class="L6"><span class="pp-ln"> 626 </span><span class="pp-pln">                            </span><span class="pp-tag">_</span><span class="pp-pln"> this.debug('globstar found match!', fr, fl, swallowee)</span></div><div class="L7"><span class="pp-ln"> 627 </span><span class="pp-pln">                            </span><span class="pp-tag">return</span><span class="pp-pln"> true</span></div><div class="L8"><span class="pp-ln"> 628 </span><span class="pp-pln">                        </span><span class="pp-tag">else</span></div><div class="L9"><span class="pp-ln"> 629 </span><span class="pp-pln">                            </span><span class="pp-tag">if</span><span class="pp-pln"> ((((swallowee === '.') || (swallowee === '..'))) || ((! (options.dot) && (swallowee.charAt(0) === '.'))))</span></div><div class="L0"><span class="pp-ln"> 630 </span><span class="pp-pln">                                </span><span class="pp-tag">_</span><span class="pp-pln"> this.debug('dot detected!', file, fr, pattern, pr)</span></div><div class="L1"><span class="pp-ln"> 631 </span><span class="pp-pln">                                </span><span class="pp-tag">break</span></div><div class="L2"><span class="pp-ln"> 632 </span><span class="pp-pln">                            </span><span class="pp-tag">_</span><span class="pp-pln"> this.debug('globstar swallow a segment, and continue')</span></div><div class="L3"><span class="pp-ln"> 633 </span><span class="pp-pln">                            </span><span class="pp-tag">set</span><span class="pp-pln"> fr++</span></div><div class="L4"><span class="pp-ln"> 634 </span><span class="pp-pln">                    </span><span class="pp-tag">if</span><span class="pp-pln"> partial</span></div><div class="L5"><span class="pp-ln"> 635 </span><span class="pp-pln">                        </span><span class="pp-tag">_</span><span class="pp-pln"> this.debug('\n&gt;&gt;&gt; no match, partial?', file, fr, pattern, pr)</span></div><div class="L6"><span class="pp-ln"> 636 </span><span class="pp-pln">                        </span><span class="pp-tag">if</span><span class="pp-pln"> fr === fl</span></div><div class="L7"><span class="pp-ln"> 637 </span><span class="pp-pln">                            </span><span class="pp-tag">return</span><span class="pp-pln"> true</span></div><div class="L8"><span class="pp-ln"> 638 </span><span class="pp-pln">                    </span><span class="pp-tag">return</span><span class="pp-pln"> false</span></div><div class="L9"><span class="pp-ln"> 639 </span><span class="pp-pln">                </span><span class="pp-tag">var</span><span class="pp-pln"> hit</span></div><div class="L0"><span class="pp-ln"> 640 </span><span class="pp-pln">                </span><span class="pp-tag">if</span><span class="pp-pln"> typeof (p) === 'string'</span></div><div class="L1"><span class="pp-ln"> 641 </span><span class="pp-pln">                    </span><span class="pp-tag">if</span><span class="pp-pln"> options.nocase</span></div><div class="L2"><span class="pp-ln"> 642 </span><span class="pp-pln">                        </span><span class="pp-tag">set</span><span class="pp-pln"> hit = f.toLowerCase() === p.toLowerCase()</span></div><div class="L3"><span class="pp-ln"> 643 </span><span class="pp-pln">                    </span><span class="pp-tag">else</span></div><div class="L4"><span class="pp-ln"> 644 </span><span class="pp-pln">                        </span><span class="pp-tag">set</span><span class="pp-pln"> hit = f === p</span></div><div class="L5"><span class="pp-ln"> 645 </span><span class="pp-pln">                    </span><span class="pp-tag">_</span><span class="pp-pln"> this.debug('string match', p, f, hit)</span></div><div class="L6"><span class="pp-ln"> 646 </span><span class="pp-pln">                </span><span class="pp-tag">else</span></div><div class="L7"><span class="pp-ln"> 647 </span><span class="pp-pln">                    </span><span class="pp-tag">set</span><span class="pp-pln"> hit = f.match(p)</span></div><div class="L8"><span class="pp-ln"> 648 </span><span class="pp-pln">                    </span><span class="pp-tag">_</span><span class="pp-pln"> this.debug('pattern match', p, f, hit)</span></div><div class="L9"><span class="pp-ln"> 649 </span><span class="pp-pln">                </span><span class="pp-tag">if</span><span class="pp-pln"> ! (hit)</span></div><div class="L0"><span class="pp-ln"> 650 </span><span class="pp-pln">                    </span><span class="pp-tag">return</span><span class="pp-pln"> false</span></div><div class="L1"><span class="pp-ln"> 651 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> ((fi === fl) && (pi === pl))</span></div><div class="L2"><span class="pp-ln"> 652 </span><span class="pp-pln">                </span><span class="pp-tag">return</span><span class="pp-pln"> true</span></div><div class="L3"><span class="pp-ln"> 653 </span><span class="pp-pln">            </span><span class="pp-tag">elif</span><span class="pp-pln"> fi === fl</span></div><div class="L4"><span class="pp-ln"> 654 </span><span class="pp-pln">                </span><span class="pp-tag">return</span><span class="pp-pln"> partial</span></div><div class="L5"><span class="pp-ln"> 655 </span><span class="pp-pln">            </span><span class="pp-tag">elif</span><span class="pp-pln"> pi === pl</span></div><div class="L6"><span class="pp-ln"> 656 </span><span class="pp-pln">                </span><span class="pp-tag">var</span><span class="pp-pln"> emptyFileEnd = (((fi === ((fl - 1)))) && (file[fi] === ''))</span></div><div class="L7"><span class="pp-ln"> 657 </span><span class="pp-pln">                </span><span class="pp-tag">return</span><span class="pp-pln"> emptyFileEnd</span></div><div class="L8"><span class="pp-ln"> 658 </span><span class="pp-pln">            </span><span class="pp-tag">throw</span></div><div class="L9"><span class="pp-ln"> 659 </span><span class="pp-pln">                </span><span class="pp-tag">new</span><span class="pp-pln"> Error('wtf?')</span></div><div class="L0"><span class="pp-ln"> 660 </span><span class="pp-pln">    </span><span class="pp-tag">function</span><span class="pp-pln"> globUnescape</span></div><div class="L1"><span class="pp-ln"> 661 </span><span class="pp-pln">        </span><span class="pp-tag">param</span><span class="pp-pln"> s</span></div><div class="L2"><span class="pp-ln"> 662 </span><span class="pp-pln">        </span><span class="pp-tag">return</span><span class="pp-pln"> s.replace(/\\(.)/g, '$1')</span></div><div class="L3"><span class="pp-ln"> 663 </span><span class="pp-pln">    </span><span class="pp-tag">function</span><span class="pp-pln"> regExpEscape</span></div><div class="L4"><span class="pp-ln"> 664 </span><span class="pp-pln">        </span><span class="pp-tag">param</span><span class="pp-pln"> s</span></div><div class="L5"><span class="pp-ln"> 665 </span><span class="pp-pln">        </span><span class="pp-tag">return</span><span class="pp-pln"> s.replace(/[-[\]{}()*+?.,\\^$|#\s]/g, '\\$&')</span></div></pre>
                    </div>
                </div>
                <div class="code-panel" id="d40">
                    <div class="modal-view-container">
                        <h4 class="d-h2">/src/ittf/lib/glob/old.js.ittf</h4>
                        <pre class="prettyprint">

<div class="L1"><span class="pp-ln">   1 </span><span class="pp-pln"></span><span class="pp-tag">module</span></div><div class="L2"><span class="pp-ln">   2 </span><span class="pp-pln">    </span><span class="pp-tag">kind</span><span class="pp-pln"> jsfile</span></div><div class="L3"><span class="pp-ln">   3 </span><span class="pp-pln">    </span><span class="pp-tag">set</span><span class="pp-pln"> 'use strict'</span></div><div class="L4"><span class="pp-ln">   4 </span><span class="pp-pln">    </span><span class="pp-tag">var</span><span class="pp-pln"> pathModule = require('path')</span></div><div class="L5"><span class="pp-ln">   5 </span><span class="pp-pln">    </span><span class="pp-tag">var</span><span class="pp-pln"> isWindows = process.platform === 'win32'</span></div><div class="L6"><span class="pp-ln">   6 </span><span class="pp-pln">    </span><span class="pp-tag">var</span><span class="pp-pln"> fs = require('fs')</span></div><div class="L7"><span class="pp-ln">   7 </span><span class="pp-pln">    </span><span class="pp-tag">var</span><span class="pp-pln"> DEBUG = process.env.NODE_DEBUG && /fs/.test(process.env.NODE_DEBUG)</span></div><div class="L8"><span class="pp-ln">   8 </span><span class="pp-pln">    </span><span class="pp-tag">function</span><span class="pp-pln"> rethrow</span></div><div class="L9"><span class="pp-ln">   9 </span><span class="pp-pln">        </span><span class="pp-tag">var</span><span class="pp-pln"> callback</span></div><div class="L0"><span class="pp-ln">  10 </span><span class="pp-pln">        </span><span class="pp-tag">if</span><span class="pp-pln"> DEBUG</span></div><div class="L1"><span class="pp-ln">  11 </span><span class="pp-pln">            </span><span class="pp-tag">var</span><span class="pp-pln"> backtrace</span></div><div class="L2"><span class="pp-ln">  12 </span><span class="pp-pln">                </span><span class="pp-tag">new</span><span class="pp-pln"> Error()</span></div><div class="L3"><span class="pp-ln">  13 </span><span class="pp-pln">            </span><span class="pp-tag">set</span><span class="pp-pln"> callback = debugCallback</span></div><div class="L4"><span class="pp-ln">  14 </span><span class="pp-pln">        </span><span class="pp-tag">else</span></div><div class="L5"><span class="pp-ln">  15 </span><span class="pp-pln">            </span><span class="pp-tag">set</span><span class="pp-pln"> callback = missingCallback</span></div><div class="L6"><span class="pp-ln">  16 </span><span class="pp-pln">        </span><span class="pp-tag">return</span><span class="pp-pln"> callback</span></div><div class="L7"><span class="pp-ln">  17 </span><span class="pp-pln">        </span><span class="pp-tag">function</span><span class="pp-pln"> debugCallback</span></div><div class="L8"><span class="pp-ln">  18 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> err</span></div><div class="L9"><span class="pp-ln">  19 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> err</span></div><div class="L0"><span class="pp-ln">  20 </span><span class="pp-pln">                </span><span class="pp-tag">set</span><span class="pp-pln"> backtrace.message = err.message</span></div><div class="L1"><span class="pp-ln">  21 </span><span class="pp-pln">                </span><span class="pp-tag">set</span><span class="pp-pln"> err = backtrace</span></div><div class="L2"><span class="pp-ln">  22 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> missingCallback(err)</span></div><div class="L3"><span class="pp-ln">  23 </span><span class="pp-pln">        </span><span class="pp-tag">function</span><span class="pp-pln"> missingCallback</span></div><div class="L4"><span class="pp-ln">  24 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> err</span></div><div class="L5"><span class="pp-ln">  25 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> err</span></div><div class="L6"><span class="pp-ln">  26 </span><span class="pp-pln">                </span><span class="pp-tag">if</span><span class="pp-pln"> process.throwDeprecation</span></div><div class="L7"><span class="pp-ln">  27 </span><span class="pp-pln">                    </span><span class="pp-tag">throw</span><span class="pp-pln"> err</span></div><div class="L8"><span class="pp-ln">  28 </span><span class="pp-pln">                </span><span class="pp-tag">elif</span><span class="pp-pln"> ! (process.noDeprecation)</span></div><div class="L9"><span class="pp-ln">  29 </span><span class="pp-pln">                    </span><span class="pp-tag">var</span><span class="pp-pln"> msg = ('fs: missing callback ' + ((err.stack || err.message)))</span></div><div class="L0"><span class="pp-ln">  30 </span><span class="pp-pln">                    </span><span class="pp-tag">if</span><span class="pp-pln"> process.traceDeprecation</span></div><div class="L1"><span class="pp-ln">  31 </span><span class="pp-pln">                        </span><span class="pp-tag">_</span><span class="pp-pln"> console.trace(msg)</span></div><div class="L2"><span class="pp-ln">  32 </span><span class="pp-pln">                    </span><span class="pp-tag">else</span></div><div class="L3"><span class="pp-ln">  33 </span><span class="pp-pln">                        </span><span class="pp-tag">_</span><span class="pp-pln"> console.error(msg)</span></div><div class="L4"><span class="pp-ln">  34 </span><span class="pp-pln">    </span><span class="pp-tag">function</span><span class="pp-pln"> maybeCallback</span></div><div class="L5"><span class="pp-ln">  35 </span><span class="pp-pln">        </span><span class="pp-tag">param</span><span class="pp-pln"> cb</span></div><div class="L6"><span class="pp-ln">  36 </span><span class="pp-pln">        </span><span class="pp-tag">return</span></div><div class="L7"><span class="pp-ln">  37 </span><span class="pp-pln">            </span><span class="pp-tag">iif</span><span class="pp-pln"> typeof (cb) === 'function'</span></div><div class="L8"><span class="pp-ln">  38 </span><span class="pp-pln">                </span><span class="pp-tag">then</span><span class="pp-pln"> cb</span></div><div class="L9"><span class="pp-ln">  39 </span><span class="pp-pln">                </span><span class="pp-tag">else</span></div><div class="L0"><span class="pp-ln">  40 </span><span class="pp-pln">                    </span><span class="pp-tag">_</span><span class="pp-pln"> rethrow()</span></div><div class="L1"><span class="pp-ln">  41 </span><span class="pp-pln">    </span><span class="pp-tag">var</span><span class="pp-pln"> normalize = pathModule.normalize</span></div><div class="L2"><span class="pp-ln">  42 </span><span class="pp-pln">    </span><span class="pp-tag">if</span><span class="pp-pln"> isWindows</span></div><div class="L3"><span class="pp-ln">  43 </span><span class="pp-pln">        </span><span class="pp-tag">var</span><span class="pp-pln"> nextPartRe = /(.*?)(?:[\/\\]+|$)/g</span></div><div class="L4"><span class="pp-ln">  44 </span><span class="pp-pln">    </span><span class="pp-tag">else</span></div><div class="L5"><span class="pp-ln">  45 </span><span class="pp-pln">        </span><span class="pp-tag">var</span><span class="pp-pln"> nextPartRe = /(.*?)(?:[\/]+|$)/g</span></div><div class="L6"><span class="pp-ln">  46 </span><span class="pp-pln">    </span><span class="pp-tag">if</span><span class="pp-pln"> isWindows</span></div><div class="L7"><span class="pp-ln">  47 </span><span class="pp-pln">        </span><span class="pp-tag">var</span><span class="pp-pln"> splitRootRe = /^(?:[a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/][^\\\/]+)?[\\\/]*/</span></div><div class="L8"><span class="pp-ln">  48 </span><span class="pp-pln">    </span><span class="pp-tag">else</span></div><div class="L9"><span class="pp-ln">  49 </span><span class="pp-pln">        </span><span class="pp-tag">var</span><span class="pp-pln"> splitRootRe = /^[\/]*/</span></div><div class="L0"><span class="pp-ln">  50 </span><span class="pp-pln">    </span><span class="pp-tag">set</span><span class="pp-pln"> exports.realpathSync =</span></div><div class="L1"><span class="pp-ln">  51 </span><span class="pp-pln">        </span><span class="pp-tag">function</span><span class="pp-pln"> realpathSync</span></div><div class="L2"><span class="pp-ln">  52 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> p</span></div><div class="L3"><span class="pp-ln">  53 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> cache</span></div><div class="L4"><span class="pp-ln">  54 </span><span class="pp-pln">            </span><span class="pp-tag">set</span><span class="pp-pln"> p = pathModule.resolve(p)</span></div><div class="L5"><span class="pp-ln">  55 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> cache && Object.prototype.hasOwnProperty.call(cache, p)</span></div><div class="L6"><span class="pp-ln">  56 </span><span class="pp-pln">                </span><span class="pp-tag">return</span><span class="pp-pln"> cache[p]</span></div><div class="L7"><span class="pp-ln">  57 </span><span class="pp-pln">            </span><span class="pp-tag">var</span></div><div class="L8"><span class="pp-ln">  58 </span><span class="pp-pln">                </span><span class="pp-tag">decl</span><span class="pp-pln"> original = p</span></div><div class="L9"><span class="pp-ln">  59 </span><span class="pp-pln">                </span><span class="pp-tag">decl</span><span class="pp-pln"> seenLinks</span></div><div class="L0"><span class="pp-ln">  60 </span><span class="pp-pln">                    </span><span class="pp-tag">{</span></div><div class="L1"><span class="pp-ln">  61 </span><span class="pp-pln">                </span><span class="pp-tag">decl</span><span class="pp-pln"> knownHard</span></div><div class="L2"><span class="pp-ln">  62 </span><span class="pp-pln">                    </span><span class="pp-tag">{</span></div><div class="L3"><span class="pp-ln">  63 </span><span class="pp-pln">            </span><span class="pp-tag">var</span><span class="pp-pln"> pos</span></div><div class="L4"><span class="pp-ln">  64 </span><span class="pp-pln">            </span><span class="pp-tag">var</span><span class="pp-pln"> current</span></div><div class="L5"><span class="pp-ln">  65 </span><span class="pp-pln">            </span><span class="pp-tag">var</span><span class="pp-pln"> base</span></div><div class="L6"><span class="pp-ln">  66 </span><span class="pp-pln">            </span><span class="pp-tag">var</span><span class="pp-pln"> previous</span></div><div class="L7"><span class="pp-ln">  67 </span><span class="pp-pln">            </span><span class="pp-tag">_</span><span class="pp-pln"> start()</span></div><div class="L8"><span class="pp-ln">  68 </span><span class="pp-pln">            </span><span class="pp-tag">function</span><span class="pp-pln"> start</span></div><div class="L9"><span class="pp-ln">  69 </span><span class="pp-pln">                </span><span class="pp-tag">var</span><span class="pp-pln"> m = splitRootRe.exec(p)</span></div><div class="L0"><span class="pp-ln">  70 </span><span class="pp-pln">                </span><span class="pp-tag">set</span><span class="pp-pln"> pos = m[0].length</span></div><div class="L1"><span class="pp-ln">  71 </span><span class="pp-pln">                </span><span class="pp-tag">set</span><span class="pp-pln"> current = m[0]</span></div><div class="L2"><span class="pp-ln">  72 </span><span class="pp-pln">                </span><span class="pp-tag">set</span><span class="pp-pln"> base = m[0]</span></div><div class="L3"><span class="pp-ln">  73 </span><span class="pp-pln">                </span><span class="pp-tag">set</span><span class="pp-pln"> previous = ''</span></div><div class="L4"><span class="pp-ln">  74 </span><span class="pp-pln">                </span><span class="pp-tag">if</span><span class="pp-pln"> isWindows && ! (knownHard[base])</span></div><div class="L5"><span class="pp-ln">  75 </span><span class="pp-pln">                    </span><span class="pp-tag">_</span><span class="pp-pln"> fs.lstatSync(base)</span></div><div class="L6"><span class="pp-ln">  76 </span><span class="pp-pln">                    </span><span class="pp-tag">set</span><span class="pp-pln"> knownHard[base] = true</span></div><div class="L7"><span class="pp-ln">  77 </span><span class="pp-pln">            </span><span class="pp-tag">while</span><span class="pp-pln"> pos &lt; p.length</span></div><div class="L8"><span class="pp-ln">  78 </span><span class="pp-pln">                </span><span class="pp-tag">set</span><span class="pp-pln"> nextPartRe.lastIndex = pos</span></div><div class="L9"><span class="pp-ln">  79 </span><span class="pp-pln">                </span><span class="pp-tag">var</span><span class="pp-pln"> result = nextPartRe.exec(p)</span></div><div class="L0"><span class="pp-ln">  80 </span><span class="pp-pln">                </span><span class="pp-tag">set</span><span class="pp-pln"> previous = current</span></div><div class="L1"><span class="pp-ln">  81 </span><span class="pp-pln">                </span><span class="pp-tag">set</span><span class="pp-pln"> current += result[0]</span></div><div class="L2"><span class="pp-ln">  82 </span><span class="pp-pln">                </span><span class="pp-tag">set</span><span class="pp-pln"> base = (previous + result[1])</span></div><div class="L3"><span class="pp-ln">  83 </span><span class="pp-pln">                </span><span class="pp-tag">set</span><span class="pp-pln"> pos = nextPartRe.lastIndex</span></div><div class="L4"><span class="pp-ln">  84 </span><span class="pp-pln">                </span><span class="pp-tag">if</span><span class="pp-pln"> (knownHard[base] || ((cache && (cache[base] === base))))</span></div><div class="L5"><span class="pp-ln">  85 </span><span class="pp-pln">                    </span><span class="pp-tag">continue</span></div><div class="L6"><span class="pp-ln">  86 </span><span class="pp-pln">                </span><span class="pp-tag">var</span><span class="pp-pln"> resolvedLink</span></div><div class="L7"><span class="pp-ln">  87 </span><span class="pp-pln">                </span><span class="pp-tag">if</span><span class="pp-pln"> cache && Object.prototype.hasOwnProperty.call(cache, base)</span></div><div class="L8"><span class="pp-ln">  88 </span><span class="pp-pln">                    </span><span class="pp-tag">set</span><span class="pp-pln"> resolvedLink = cache[base]</span></div><div class="L9"><span class="pp-ln">  89 </span><span class="pp-pln">                </span><span class="pp-tag">else</span></div><div class="L0"><span class="pp-ln">  90 </span><span class="pp-pln">                    </span><span class="pp-tag">var</span><span class="pp-pln"> stat = fs.lstatSync(base)</span></div><div class="L1"><span class="pp-ln">  91 </span><span class="pp-pln">                    </span><span class="pp-tag">if</span><span class="pp-pln"> ! (stat.isSymbolicLink())</span></div><div class="L2"><span class="pp-ln">  92 </span><span class="pp-pln">                        </span><span class="pp-tag">set</span><span class="pp-pln"> knownHard[base] = true</span></div><div class="L3"><span class="pp-ln">  93 </span><span class="pp-pln">                        </span><span class="pp-tag">if</span><span class="pp-pln"> cache</span></div><div class="L4"><span class="pp-ln">  94 </span><span class="pp-pln">                            </span><span class="pp-tag">set</span><span class="pp-pln"> cache[base] = base</span></div><div class="L5"><span class="pp-ln">  95 </span><span class="pp-pln">                        </span><span class="pp-tag">continue</span></div><div class="L6"><span class="pp-ln">  96 </span><span class="pp-pln">                    </span><span class="pp-tag">var</span><span class="pp-pln"> linkTarget = null</span></div><div class="L7"><span class="pp-ln">  97 </span><span class="pp-pln">                    </span><span class="pp-tag">if</span><span class="pp-pln"> ! (isWindows)</span></div><div class="L8"><span class="pp-ln">  98 </span><span class="pp-pln">                        </span><span class="pp-tag">var</span><span class="pp-pln"> id = (((stat.dev.toString(32) + ':')) + stat.ino.toString(32))</span></div><div class="L9"><span class="pp-ln">  99 </span><span class="pp-pln">                        </span><span class="pp-tag">if</span><span class="pp-pln"> seenLinks.hasOwnProperty(id)</span></div><div class="L0"><span class="pp-ln"> 100 </span><span class="pp-pln">                            </span><span class="pp-tag">set</span><span class="pp-pln"> linkTarget = seenLinks[id]</span></div><div class="L1"><span class="pp-ln"> 101 </span><span class="pp-pln">                    </span><span class="pp-tag">if</span><span class="pp-pln"> linkTarget === null</span></div><div class="L2"><span class="pp-ln"> 102 </span><span class="pp-pln">                        </span><span class="pp-tag">_</span><span class="pp-pln"> fs.statSync(base)</span></div><div class="L3"><span class="pp-ln"> 103 </span><span class="pp-pln">                        </span><span class="pp-tag">set</span><span class="pp-pln"> linkTarget = fs.readlinkSync(base)</span></div><div class="L4"><span class="pp-ln"> 104 </span><span class="pp-pln">                    </span><span class="pp-tag">set</span><span class="pp-pln"> resolvedLink = pathModule.resolve(previous, linkTarget)</span></div><div class="L5"><span class="pp-ln"> 105 </span><span class="pp-pln">                    </span><span class="pp-tag">if</span><span class="pp-pln"> cache</span></div><div class="L6"><span class="pp-ln"> 106 </span><span class="pp-pln">                        </span><span class="pp-tag">set</span><span class="pp-pln"> cache[base] = resolvedLink</span></div><div class="L7"><span class="pp-ln"> 107 </span><span class="pp-pln">                    </span><span class="pp-tag">if</span><span class="pp-pln"> ! (isWindows)</span></div><div class="L8"><span class="pp-ln"> 108 </span><span class="pp-pln">                        </span><span class="pp-tag">set</span><span class="pp-pln"> seenLinks[id] = linkTarget</span></div><div class="L9"><span class="pp-ln"> 109 </span><span class="pp-pln">                </span><span class="pp-tag">set</span><span class="pp-pln"> p = pathModule.resolve(resolvedLink, p.slice(pos))</span></div><div class="L0"><span class="pp-ln"> 110 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> start()</span></div><div class="L1"><span class="pp-ln"> 111 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> cache</span></div><div class="L2"><span class="pp-ln"> 112 </span><span class="pp-pln">                </span><span class="pp-tag">set</span><span class="pp-pln"> cache[original] = p</span></div><div class="L3"><span class="pp-ln"> 113 </span><span class="pp-pln">            </span><span class="pp-tag">return</span><span class="pp-pln"> p</span></div><div class="L4"><span class="pp-ln"> 114 </span><span class="pp-pln">    </span><span class="pp-tag">set</span><span class="pp-pln"> exports.realpath =</span></div><div class="L5"><span class="pp-ln"> 115 </span><span class="pp-pln">        </span><span class="pp-tag">function</span><span class="pp-pln"> realpath</span></div><div class="L6"><span class="pp-ln"> 116 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> p</span></div><div class="L7"><span class="pp-ln"> 117 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> cache</span></div><div class="L8"><span class="pp-ln"> 118 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> cb</span></div><div class="L9"><span class="pp-ln"> 119 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> typeof (cb) !== 'function'</span></div><div class="L0"><span class="pp-ln"> 120 </span><span class="pp-pln">                </span><span class="pp-tag">set</span><span class="pp-pln"> cb = maybeCallback(cache)</span></div><div class="L1"><span class="pp-ln"> 121 </span><span class="pp-pln">                </span><span class="pp-tag">set</span><span class="pp-pln"> cache = null</span></div><div class="L2"><span class="pp-ln"> 122 </span><span class="pp-pln">            </span><span class="pp-tag">set</span><span class="pp-pln"> p = pathModule.resolve(p)</span></div><div class="L3"><span class="pp-ln"> 123 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> cache && Object.prototype.hasOwnProperty.call(cache, p)</span></div><div class="L4"><span class="pp-ln"> 124 </span><span class="pp-pln">                </span><span class="pp-tag">return</span></div><div class="L5"><span class="pp-ln"> 125 </span><span class="pp-pln">                    </span><span class="pp-tag">_</span><span class="pp-pln"> process.nextTick</span></div><div class="L6"><span class="pp-ln"> 126 </span><span class="pp-pln">                        </span><span class="pp-tag">_</span><span class="pp-pln"> cb.bind</span></div><div class="L7"><span class="pp-ln"> 127 </span><span class="pp-pln">                            </span><span class="pp-tag">@</span><span class="pp-pln"> null</span></div><div class="L8"><span class="pp-ln"> 128 </span><span class="pp-pln">                            </span><span class="pp-tag">@</span><span class="pp-pln"> null</span></div><div class="L9"><span class="pp-ln"> 129 </span><span class="pp-pln">                            </span><span class="pp-tag">@</span><span class="pp-pln"> cache[p]</span></div><div class="L0"><span class="pp-ln"> 130 </span><span class="pp-pln">            </span><span class="pp-tag">var</span></div><div class="L1"><span class="pp-ln"> 131 </span><span class="pp-pln">                </span><span class="pp-tag">decl</span><span class="pp-pln"> original = p</span></div><div class="L2"><span class="pp-ln"> 132 </span><span class="pp-pln">                </span><span class="pp-tag">decl</span><span class="pp-pln"> seenLinks</span></div><div class="L3"><span class="pp-ln"> 133 </span><span class="pp-pln">                    </span><span class="pp-tag">{</span></div><div class="L4"><span class="pp-ln"> 134 </span><span class="pp-pln">                </span><span class="pp-tag">decl</span><span class="pp-pln"> knownHard</span></div><div class="L5"><span class="pp-ln"> 135 </span><span class="pp-pln">                    </span><span class="pp-tag">{</span></div><div class="L6"><span class="pp-ln"> 136 </span><span class="pp-pln">            </span><span class="pp-tag">var</span><span class="pp-pln"> pos</span></div><div class="L7"><span class="pp-ln"> 137 </span><span class="pp-pln">            </span><span class="pp-tag">var</span><span class="pp-pln"> current</span></div><div class="L8"><span class="pp-ln"> 138 </span><span class="pp-pln">            </span><span class="pp-tag">var</span><span class="pp-pln"> base</span></div><div class="L9"><span class="pp-ln"> 139 </span><span class="pp-pln">            </span><span class="pp-tag">var</span><span class="pp-pln"> previous</span></div><div class="L0"><span class="pp-ln"> 140 </span><span class="pp-pln">            </span><span class="pp-tag">_</span><span class="pp-pln"> start()</span></div><div class="L1"><span class="pp-ln"> 141 </span><span class="pp-pln">            </span><span class="pp-tag">function</span><span class="pp-pln"> start</span></div><div class="L2"><span class="pp-ln"> 142 </span><span class="pp-pln">                </span><span class="pp-tag">var</span><span class="pp-pln"> m = splitRootRe.exec(p)</span></div><div class="L3"><span class="pp-ln"> 143 </span><span class="pp-pln">                </span><span class="pp-tag">set</span><span class="pp-pln"> pos = m[0].length</span></div><div class="L4"><span class="pp-ln"> 144 </span><span class="pp-pln">                </span><span class="pp-tag">set</span><span class="pp-pln"> current = m[0]</span></div><div class="L5"><span class="pp-ln"> 145 </span><span class="pp-pln">                </span><span class="pp-tag">set</span><span class="pp-pln"> base = m[0]</span></div><div class="L6"><span class="pp-ln"> 146 </span><span class="pp-pln">                </span><span class="pp-tag">set</span><span class="pp-pln"> previous = ''</span></div><div class="L7"><span class="pp-ln"> 147 </span><span class="pp-pln">                </span><span class="pp-tag">if</span><span class="pp-pln"> isWindows && ! (knownHard[base])</span></div><div class="L8"><span class="pp-ln"> 148 </span><span class="pp-pln">                    </span><span class="pp-tag">_</span><span class="pp-pln"> fs.lstat</span></div><div class="L9"><span class="pp-ln"> 149 </span><span class="pp-pln">                        </span><span class="pp-tag">@</span><span class="pp-pln"> base</span></div><div class="L0"><span class="pp-ln"> 150 </span><span class="pp-pln">                        </span><span class="pp-tag">function</span></div><div class="L1"><span class="pp-ln"> 151 </span><span class="pp-pln">                            </span><span class="pp-tag">param</span><span class="pp-pln"> err</span></div><div class="L2"><span class="pp-ln"> 152 </span><span class="pp-pln">                            </span><span class="pp-tag">if</span><span class="pp-pln"> err</span></div><div class="L3"><span class="pp-ln"> 153 </span><span class="pp-pln">                                </span><span class="pp-tag">return</span><span class="pp-pln"> cb(err)</span></div><div class="L4"><span class="pp-ln"> 154 </span><span class="pp-pln">                            </span><span class="pp-tag">set</span><span class="pp-pln"> knownHard[base] = true</span></div><div class="L5"><span class="pp-ln"> 155 </span><span class="pp-pln">                            </span><span class="pp-tag">_</span><span class="pp-pln"> LOOP()</span></div><div class="L6"><span class="pp-ln"> 156 </span><span class="pp-pln">                </span><span class="pp-tag">else</span></div><div class="L7"><span class="pp-ln"> 157 </span><span class="pp-pln">                    </span><span class="pp-tag">_</span><span class="pp-pln"> process.nextTick(LOOP)</span></div><div class="L8"><span class="pp-ln"> 158 </span><span class="pp-pln">            </span><span class="pp-tag">function</span><span class="pp-pln"> LOOP</span></div><div class="L9"><span class="pp-ln"> 159 </span><span class="pp-pln">                </span><span class="pp-tag">if</span><span class="pp-pln"> pos &gt;= p.length</span></div><div class="L0"><span class="pp-ln"> 160 </span><span class="pp-pln">                    </span><span class="pp-tag">if</span><span class="pp-pln"> cache</span></div><div class="L1"><span class="pp-ln"> 161 </span><span class="pp-pln">                        </span><span class="pp-tag">set</span><span class="pp-pln"> cache[original] = p</span></div><div class="L2"><span class="pp-ln"> 162 </span><span class="pp-pln">                    </span><span class="pp-tag">return</span><span class="pp-pln"> cb(null, p)</span></div><div class="L3"><span class="pp-ln"> 163 </span><span class="pp-pln">                </span><span class="pp-tag">set</span><span class="pp-pln"> nextPartRe.lastIndex = pos</span></div><div class="L4"><span class="pp-ln"> 164 </span><span class="pp-pln">                </span><span class="pp-tag">var</span><span class="pp-pln"> result = nextPartRe.exec(p)</span></div><div class="L5"><span class="pp-ln"> 165 </span><span class="pp-pln">                </span><span class="pp-tag">set</span><span class="pp-pln"> previous = current</span></div><div class="L6"><span class="pp-ln"> 166 </span><span class="pp-pln">                </span><span class="pp-tag">set</span><span class="pp-pln"> current += result[0]</span></div><div class="L7"><span class="pp-ln"> 167 </span><span class="pp-pln">                </span><span class="pp-tag">set</span><span class="pp-pln"> base = (previous + result[1])</span></div><div class="L8"><span class="pp-ln"> 168 </span><span class="pp-pln">                </span><span class="pp-tag">set</span><span class="pp-pln"> pos = nextPartRe.lastIndex</span></div><div class="L9"><span class="pp-ln"> 169 </span><span class="pp-pln">                </span><span class="pp-tag">if</span><span class="pp-pln"> (knownHard[base] || ((cache && (cache[base] === base))))</span></div><div class="L0"><span class="pp-ln"> 170 </span><span class="pp-pln">                    </span><span class="pp-tag">return</span><span class="pp-pln"> process.nextTick(LOOP)</span></div><div class="L1"><span class="pp-ln"> 171 </span><span class="pp-pln">                </span><span class="pp-tag">if</span><span class="pp-pln"> cache && Object.prototype.hasOwnProperty.call(cache, base)</span></div><div class="L2"><span class="pp-ln"> 172 </span><span class="pp-pln">                    </span><span class="pp-tag">return</span></div><div class="L3"><span class="pp-ln"> 173 </span><span class="pp-pln">                        </span><span class="pp-tag">_</span><span class="pp-pln"> gotResolvedLink</span></div><div class="L4"><span class="pp-ln"> 174 </span><span class="pp-pln">                            </span><span class="pp-tag">@</span><span class="pp-pln"> cache[base]</span></div><div class="L5"><span class="pp-ln"> 175 </span><span class="pp-pln">                </span><span class="pp-tag">return</span><span class="pp-pln"> fs.lstat(base, gotStat)</span></div><div class="L6"><span class="pp-ln"> 176 </span><span class="pp-pln">            </span><span class="pp-tag">function</span><span class="pp-pln"> gotStat</span></div><div class="L7"><span class="pp-ln"> 177 </span><span class="pp-pln">                </span><span class="pp-tag">param</span><span class="pp-pln"> err</span></div><div class="L8"><span class="pp-ln"> 178 </span><span class="pp-pln">                </span><span class="pp-tag">param</span><span class="pp-pln"> stat</span></div><div class="L9"><span class="pp-ln"> 179 </span><span class="pp-pln">                </span><span class="pp-tag">if</span><span class="pp-pln"> err</span></div><div class="L0"><span class="pp-ln"> 180 </span><span class="pp-pln">                    </span><span class="pp-tag">return</span><span class="pp-pln"> cb(err)</span></div><div class="L1"><span class="pp-ln"> 181 </span><span class="pp-pln">                </span><span class="pp-tag">if</span><span class="pp-pln"> ! (stat.isSymbolicLink())</span></div><div class="L2"><span class="pp-ln"> 182 </span><span class="pp-pln">                    </span><span class="pp-tag">set</span><span class="pp-pln"> knownHard[base] = true</span></div><div class="L3"><span class="pp-ln"> 183 </span><span class="pp-pln">                    </span><span class="pp-tag">if</span><span class="pp-pln"> cache</span></div><div class="L4"><span class="pp-ln"> 184 </span><span class="pp-pln">                        </span><span class="pp-tag">set</span><span class="pp-pln"> cache[base] = base</span></div><div class="L5"><span class="pp-ln"> 185 </span><span class="pp-pln">                    </span><span class="pp-tag">return</span><span class="pp-pln"> process.nextTick(LOOP)</span></div><div class="L6"><span class="pp-ln"> 186 </span><span class="pp-pln">                </span><span class="pp-tag">if</span><span class="pp-pln"> ! (isWindows)</span></div><div class="L7"><span class="pp-ln"> 187 </span><span class="pp-pln">                    </span><span class="pp-tag">var</span><span class="pp-pln"> id = (((stat.dev.toString(32) + ':')) + stat.ino.toString(32))</span></div><div class="L8"><span class="pp-ln"> 188 </span><span class="pp-pln">                    </span><span class="pp-tag">if</span><span class="pp-pln"> seenLinks.hasOwnProperty(id)</span></div><div class="L9"><span class="pp-ln"> 189 </span><span class="pp-pln">                        </span><span class="pp-tag">return</span></div><div class="L0"><span class="pp-ln"> 190 </span><span class="pp-pln">                            </span><span class="pp-tag">_</span><span class="pp-pln"> gotTarget</span></div><div class="L1"><span class="pp-ln"> 191 </span><span class="pp-pln">                                </span><span class="pp-tag">@</span><span class="pp-pln"> null</span></div><div class="L2"><span class="pp-ln"> 192 </span><span class="pp-pln">                                </span><span class="pp-tag">@</span><span class="pp-pln"> seenLinks[id]</span></div><div class="L3"><span class="pp-ln"> 193 </span><span class="pp-pln">                                </span><span class="pp-tag">@</span><span class="pp-pln"> base</span></div><div class="L4"><span class="pp-ln"> 194 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> fs.stat</span></div><div class="L5"><span class="pp-ln"> 195 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> base</span></div><div class="L6"><span class="pp-ln"> 196 </span><span class="pp-pln">                    </span><span class="pp-tag">function</span></div><div class="L7"><span class="pp-ln"> 197 </span><span class="pp-pln">                        </span><span class="pp-tag">param</span><span class="pp-pln"> err</span></div><div class="L8"><span class="pp-ln"> 198 </span><span class="pp-pln">                        </span><span class="pp-tag">if</span><span class="pp-pln"> err</span></div><div class="L9"><span class="pp-ln"> 199 </span><span class="pp-pln">                            </span><span class="pp-tag">return</span><span class="pp-pln"> cb(err)</span></div><div class="L0"><span class="pp-ln"> 200 </span><span class="pp-pln">                        </span><span class="pp-tag">_</span><span class="pp-pln"> fs.readlink</span></div><div class="L1"><span class="pp-ln"> 201 </span><span class="pp-pln">                            </span><span class="pp-tag">@</span><span class="pp-pln"> base</span></div><div class="L2"><span class="pp-ln"> 202 </span><span class="pp-pln">                            </span><span class="pp-tag">function</span></div><div class="L3"><span class="pp-ln"> 203 </span><span class="pp-pln">                                </span><span class="pp-tag">param</span><span class="pp-pln"> err</span></div><div class="L4"><span class="pp-ln"> 204 </span><span class="pp-pln">                                </span><span class="pp-tag">param</span><span class="pp-pln"> target</span></div><div class="L5"><span class="pp-ln"> 205 </span><span class="pp-pln">                                </span><span class="pp-tag">if</span><span class="pp-pln"> ! (isWindows)</span></div><div class="L6"><span class="pp-ln"> 206 </span><span class="pp-pln">                                    </span><span class="pp-tag">set</span><span class="pp-pln"> seenLinks[id] = target</span></div><div class="L7"><span class="pp-ln"> 207 </span><span class="pp-pln">                                </span><span class="pp-tag">_</span><span class="pp-pln"> gotTarget(err, target)</span></div><div class="L8"><span class="pp-ln"> 208 </span><span class="pp-pln">            </span><span class="pp-tag">function</span><span class="pp-pln"> gotTarget</span></div><div class="L9"><span class="pp-ln"> 209 </span><span class="pp-pln">                </span><span class="pp-tag">param</span><span class="pp-pln"> err</span></div><div class="L0"><span class="pp-ln"> 210 </span><span class="pp-pln">                </span><span class="pp-tag">param</span><span class="pp-pln"> target</span></div><div class="L1"><span class="pp-ln"> 211 </span><span class="pp-pln">                </span><span class="pp-tag">param</span><span class="pp-pln"> base</span></div><div class="L2"><span class="pp-ln"> 212 </span><span class="pp-pln">                </span><span class="pp-tag">if</span><span class="pp-pln"> err</span></div><div class="L3"><span class="pp-ln"> 213 </span><span class="pp-pln">                    </span><span class="pp-tag">return</span><span class="pp-pln"> cb(err)</span></div><div class="L4"><span class="pp-ln"> 214 </span><span class="pp-pln">                </span><span class="pp-tag">var</span><span class="pp-pln"> resolvedLink = pathModule.resolve(previous, target)</span></div><div class="L5"><span class="pp-ln"> 215 </span><span class="pp-pln">                </span><span class="pp-tag">if</span><span class="pp-pln"> cache</span></div><div class="L6"><span class="pp-ln"> 216 </span><span class="pp-pln">                    </span><span class="pp-tag">set</span><span class="pp-pln"> cache[base] = resolvedLink</span></div><div class="L7"><span class="pp-ln"> 217 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> gotResolvedLink(resolvedLink)</span></div><div class="L8"><span class="pp-ln"> 218 </span><span class="pp-pln">            </span><span class="pp-tag">function</span><span class="pp-pln"> gotResolvedLink</span></div><div class="L9"><span class="pp-ln"> 219 </span><span class="pp-pln">                </span><span class="pp-tag">param</span><span class="pp-pln"> resolvedLink</span></div><div class="L0"><span class="pp-ln"> 220 </span><span class="pp-pln">                </span><span class="pp-tag">set</span><span class="pp-pln"> p = pathModule.resolve(resolvedLink, p.slice(pos))</span></div><div class="L1"><span class="pp-ln"> 221 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> start()</span></div></pre>
                    </div>
                </div>
                <div class="code-panel" id="d41">
                    <div class="modal-view-container">
                        <h4 class="d-h2">/src/ittf/lib/glob/once.js.ittf</h4>
                        <pre class="prettyprint">

<div class="L1"><span class="pp-ln">   1 </span><span class="pp-pln"></span><span class="pp-tag">module</span></div><div class="L2"><span class="pp-ln">   2 </span><span class="pp-pln">    </span><span class="pp-tag">kind</span><span class="pp-pln"> jsfile</span></div><div class="L3"><span class="pp-ln">   3 </span><span class="pp-pln">    </span><span class="pp-tag">#</span><span class="pp-pln"> FROM</span></div><div class="L4"><span class="pp-ln">   4 </span><span class="pp-pln">    </span><span class="pp-tag">#</span><span class="pp-pln"> Copyright (c) Isaac Z. Schlueter and Contributors</span></div><div class="L5"><span class="pp-ln">   5 </span><span class="pp-pln">    </span><span class="pp-tag">#</span><span class="pp-pln"> source https://github.com/isaacs/once/blob/master/once.js</span></div><div class="L6"><span class="pp-ln">   6 </span><span class="pp-pln">    </span><span class="pp-tag">#</span><span class="pp-pln"> license (ISC)</span></div><div class="L7"><span class="pp-ln">   7 </span><span class="pp-pln">    </span><span class="pp-tag">var</span><span class="pp-pln"> wrappy = require('./wrappy')</span></div><div class="L8"><span class="pp-ln">   8 </span><span class="pp-pln">    </span><span class="pp-tag">set</span><span class="pp-pln"> module.exports = wrappy(once)</span></div><div class="L9"><span class="pp-ln">   9 </span><span class="pp-pln">    </span><span class="pp-tag">set</span><span class="pp-pln"> module.exports.strict = wrappy(onceStrict)</span></div><div class="L0"><span class="pp-ln">  10 </span><span class="pp-pln">    </span><span class="pp-tag">set</span><span class="pp-pln"> once.proto =</span></div><div class="L1"><span class="pp-ln">  11 </span><span class="pp-pln">        </span><span class="pp-tag">_</span><span class="pp-pln"> once</span></div><div class="L2"><span class="pp-ln">  12 </span><span class="pp-pln">            </span><span class="pp-tag">function</span></div><div class="L3"><span class="pp-ln">  13 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> Object.defineProperty</span></div><div class="L4"><span class="pp-ln">  14 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> Function.prototype</span></div><div class="L5"><span class="pp-ln">  15 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> 'once'</span></div><div class="L6"><span class="pp-ln">  16 </span><span class="pp-pln">                    </span><span class="pp-tag">{</span></div><div class="L7"><span class="pp-ln">  17 </span><span class="pp-pln">                        </span><span class="pp-tag">@</span><span class="pp-pln"> value</span></div><div class="L8"><span class="pp-ln">  18 </span><span class="pp-pln">                            </span><span class="pp-tag">function</span></div><div class="L9"><span class="pp-ln">  19 </span><span class="pp-pln">                                </span><span class="pp-tag">return</span><span class="pp-pln"> once(this)</span></div><div class="L0"><span class="pp-ln">  20 </span><span class="pp-pln">                        </span><span class="pp-tag">@</span><span class="pp-pln"> configurable true</span></div><div class="L1"><span class="pp-ln">  21 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> Object.defineProperty</span></div><div class="L2"><span class="pp-ln">  22 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> Function.prototype</span></div><div class="L3"><span class="pp-ln">  23 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> 'onceStrict'</span></div><div class="L4"><span class="pp-ln">  24 </span><span class="pp-pln">                    </span><span class="pp-tag">{</span></div><div class="L5"><span class="pp-ln">  25 </span><span class="pp-pln">                        </span><span class="pp-tag">@</span><span class="pp-pln"> value</span></div><div class="L6"><span class="pp-ln">  26 </span><span class="pp-pln">                            </span><span class="pp-tag">function</span></div><div class="L7"><span class="pp-ln">  27 </span><span class="pp-pln">                                </span><span class="pp-tag">return</span><span class="pp-pln"> onceStrict(this)</span></div><div class="L8"><span class="pp-ln">  28 </span><span class="pp-pln">                        </span><span class="pp-tag">@</span><span class="pp-pln"> configurable true</span></div><div class="L9"><span class="pp-ln">  29 </span><span class="pp-pln">    </span><span class="pp-tag">function</span><span class="pp-pln"> once</span></div><div class="L0"><span class="pp-ln">  30 </span><span class="pp-pln">        </span><span class="pp-tag">param</span><span class="pp-pln"> fn</span></div><div class="L1"><span class="pp-ln">  31 </span><span class="pp-pln">        </span><span class="pp-tag">var</span><span class="pp-pln"> f</span></div><div class="L2"><span class="pp-ln">  32 </span><span class="pp-pln">            </span><span class="pp-tag">function</span></div><div class="L3"><span class="pp-ln">  33 </span><span class="pp-pln">                </span><span class="pp-tag">if</span><span class="pp-pln"> f.called</span></div><div class="L4"><span class="pp-ln">  34 </span><span class="pp-pln">                    </span><span class="pp-tag">return</span><span class="pp-pln"> f.value</span></div><div class="L5"><span class="pp-ln">  35 </span><span class="pp-pln">                </span><span class="pp-tag">set</span><span class="pp-pln"> f.called = true</span></div><div class="L6"><span class="pp-ln">  36 </span><span class="pp-pln">                </span><span class="pp-tag">return</span><span class="pp-pln"> f.value = fn.apply(this, arguments)</span></div><div class="L7"><span class="pp-ln">  37 </span><span class="pp-pln">        </span><span class="pp-tag">set</span><span class="pp-pln"> f.called = false</span></div><div class="L8"><span class="pp-ln">  38 </span><span class="pp-pln">        </span><span class="pp-tag">return</span><span class="pp-pln"> f</span></div><div class="L9"><span class="pp-ln">  39 </span><span class="pp-pln">    </span><span class="pp-tag">function</span><span class="pp-pln"> onceStrict</span></div><div class="L0"><span class="pp-ln">  40 </span><span class="pp-pln">        </span><span class="pp-tag">param</span><span class="pp-pln"> fn</span></div><div class="L1"><span class="pp-ln">  41 </span><span class="pp-pln">        </span><span class="pp-tag">var</span><span class="pp-pln"> f</span></div><div class="L2"><span class="pp-ln">  42 </span><span class="pp-pln">            </span><span class="pp-tag">function</span></div><div class="L3"><span class="pp-ln">  43 </span><span class="pp-pln">                </span><span class="pp-tag">if</span><span class="pp-pln"> f.called</span></div><div class="L4"><span class="pp-ln">  44 </span><span class="pp-pln">                    </span><span class="pp-tag">throw</span></div><div class="L5"><span class="pp-ln">  45 </span><span class="pp-pln">                        </span><span class="pp-tag">new</span><span class="pp-pln"> Error</span></div><div class="L6"><span class="pp-ln">  46 </span><span class="pp-pln">                            </span><span class="pp-tag">@</span><span class="pp-pln"> f.onceError</span></div><div class="L7"><span class="pp-ln">  47 </span><span class="pp-pln">                </span><span class="pp-tag">set</span><span class="pp-pln"> f.called = true</span></div><div class="L8"><span class="pp-ln">  48 </span><span class="pp-pln">                </span><span class="pp-tag">return</span><span class="pp-pln"> f.value = fn.apply(this, arguments)</span></div><div class="L9"><span class="pp-ln">  49 </span><span class="pp-pln">        </span><span class="pp-tag">var</span><span class="pp-pln"> name = (fn.name || 'Function wrapped with `once`')</span></div><div class="L0"><span class="pp-ln">  50 </span><span class="pp-pln">        </span><span class="pp-tag">set</span><span class="pp-pln"> f.onceError = (name + " shouldn't be called more than once")</span></div><div class="L1"><span class="pp-ln">  51 </span><span class="pp-pln">        </span><span class="pp-tag">set</span><span class="pp-pln"> f.called = false</span></div><div class="L2"><span class="pp-ln">  52 </span><span class="pp-pln">        </span><span class="pp-tag">return</span><span class="pp-pln"> f</span></div></pre>
                    </div>
                </div>
                <div class="code-panel" id="d42">
                    <div class="modal-view-container">
                        <h4 class="d-h2">/src/ittf/lib/glob/path-is-absolute.js.ittf</h4>
                        <pre class="prettyprint">

<div class="L1"><span class="pp-ln">   1 </span><span class="pp-pln"></span><span class="pp-tag">module</span></div><div class="L2"><span class="pp-ln">   2 </span><span class="pp-pln">    </span><span class="pp-tag">kind</span><span class="pp-pln"> jsfile</span></div><div class="L3"><span class="pp-ln">   3 </span><span class="pp-pln">    </span><span class="pp-tag">#</span><span class="pp-pln"> FROM</span></div><div class="L4"><span class="pp-ln">   4 </span><span class="pp-pln">    </span><span class="pp-tag">#</span><span class="pp-pln"> Copyright (c) Sindre Sorhus &lt;sindresorhus@gmail.com&gt; (sindresorhus.com)</span></div><div class="L5"><span class="pp-ln">   5 </span><span class="pp-pln">    </span><span class="pp-tag">#</span><span class="pp-pln"> source https://github.com/sindresorhus/path-is-absolute/blob/master/index.js</span></div><div class="L6"><span class="pp-ln">   6 </span><span class="pp-pln">    </span><span class="pp-tag">#</span><span class="pp-pln"> license (MIT)</span></div><div class="L7"><span class="pp-ln">   7 </span><span class="pp-pln">    </span><span class="pp-tag">function</span><span class="pp-pln"> posix</span></div><div class="L8"><span class="pp-ln">   8 </span><span class="pp-pln">        </span><span class="pp-tag">param</span><span class="pp-pln"> path</span></div><div class="L9"><span class="pp-ln">   9 </span><span class="pp-pln">        </span><span class="pp-tag">#</span><span class="pp-pln"> wizzi factory storekind mongodb</span></div><div class="L0"><span class="pp-ln">  10 </span><span class="pp-pln">        </span><span class="pp-tag">if</span><span class="pp-pln"> path.substr(0,3) === 'db:' || path.substr(0,3) === 'ls:'</span></div><div class="L1"><span class="pp-ln">  11 </span><span class="pp-pln">            </span><span class="pp-tag">return</span><span class="pp-pln"> true</span></div><div class="L2"><span class="pp-ln">  12 </span><span class="pp-pln">        </span><span class="pp-tag">return</span><span class="pp-pln"> path.charAt(0) === '/'</span></div><div class="L3"><span class="pp-ln">  13 </span><span class="pp-pln">    </span><span class="pp-tag">function</span><span class="pp-pln"> win32</span></div><div class="L4"><span class="pp-ln">  14 </span><span class="pp-pln">        </span><span class="pp-tag">param</span><span class="pp-pln"> path</span></div><div class="L5"><span class="pp-ln">  15 </span><span class="pp-pln">        </span><span class="pp-tag">#</span><span class="pp-pln"> wizzi factory storekind mongodb</span></div><div class="L6"><span class="pp-ln">  16 </span><span class="pp-pln">        </span><span class="pp-tag">if</span><span class="pp-pln"> path.substr(0,3) === 'db:' || path.substr(0,3) === 'ls:'</span></div><div class="L7"><span class="pp-ln">  17 </span><span class="pp-pln">            </span><span class="pp-tag">return</span><span class="pp-pln"> true</span></div><div class="L8"><span class="pp-ln">  18 </span><span class="pp-pln">        </span><span class="pp-tag">var</span><span class="pp-pln"> splitDeviceRe = /^([a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/]+[^\\\/]+)?([\\\/])?([\s\S]*?)$/</span></div><div class="L9"><span class="pp-ln">  19 </span><span class="pp-pln">        </span><span class="pp-tag">var</span><span class="pp-pln"> result = splitDeviceRe.exec(path)</span></div><div class="L0"><span class="pp-ln">  20 </span><span class="pp-pln">        </span><span class="pp-tag">var</span><span class="pp-pln"> device = (result[1] || '')</span></div><div class="L1"><span class="pp-ln">  21 </span><span class="pp-pln">        </span><span class="pp-tag">var</span><span class="pp-pln"> isUnc = Boolean((device && (device.charAt(1) !== ':')))</span></div><div class="L2"><span class="pp-ln">  22 </span><span class="pp-pln">        </span><span class="pp-tag">return</span><span class="pp-pln"> Boolean((result[2] || isUnc))</span></div><div class="L3"><span class="pp-ln">  23 </span><span class="pp-pln">    </span><span class="pp-tag">set</span><span class="pp-pln"> module.exports = process.platform === 'win32' ? win32 : posix</span></div><div class="L4"><span class="pp-ln">  24 </span><span class="pp-pln">    </span><span class="pp-tag">set</span><span class="pp-pln"> module.exports.posix = posix</span></div><div class="L5"><span class="pp-ln">  25 </span><span class="pp-pln">    </span><span class="pp-tag">set</span><span class="pp-pln"> module.exports.win32 = win32</span></div></pre>
                    </div>
                </div>
                <div class="code-panel" id="d43">
                    <div class="modal-view-container">
                        <h4 class="d-h2">/src/ittf/lib/glob/sync.js.ittf</h4>
                        <pre class="prettyprint">

<div class="L1"><span class="pp-ln">   1 </span><span class="pp-pln"></span><span class="pp-tag">module</span></div><div class="L2"><span class="pp-ln">   2 </span><span class="pp-pln">    </span><span class="pp-tag">kind</span><span class="pp-pln"> jsfile</span></div><div class="L3"><span class="pp-ln">   3 </span><span class="pp-pln">    </span><span class="pp-tag">#</span><span class="pp-pln"> FROM</span></div><div class="L4"><span class="pp-ln">   4 </span><span class="pp-pln">    </span><span class="pp-tag">#</span><span class="pp-pln"> Copyright (c) Isaac Z. Schlueter and Contributors</span></div><div class="L5"><span class="pp-ln">   5 </span><span class="pp-pln">    </span><span class="pp-tag">#</span><span class="pp-pln"> source https://github.com/isaacs/node-glob/blob/master/sync.js</span></div><div class="L6"><span class="pp-ln">   6 </span><span class="pp-pln">    </span><span class="pp-tag">#</span><span class="pp-pln"> license (ISC)</span></div><div class="L7"><span class="pp-ln">   7 </span><span class="pp-pln">    </span><span class="pp-tag">set</span><span class="pp-pln"> module.exports = globSync</span></div><div class="L8"><span class="pp-ln">   8 </span><span class="pp-pln">    </span><span class="pp-tag">set</span><span class="pp-pln"> globSync.GlobSync = GlobSync</span></div><div class="L9"><span class="pp-ln">   9 </span><span class="pp-pln">    </span><span class="pp-tag">var</span><span class="pp-pln"> rp = require('./fs.realpath')</span></div><div class="L0"><span class="pp-ln">  10 </span><span class="pp-pln">    </span><span class="pp-tag">var</span><span class="pp-pln"> minimatch = require('./minimatch')</span></div><div class="L1"><span class="pp-ln">  11 </span><span class="pp-pln">    </span><span class="pp-tag">var</span><span class="pp-pln"> Minimatch = minimatch.Minimatch</span></div><div class="L2"><span class="pp-ln">  12 </span><span class="pp-pln">    </span><span class="pp-tag">var</span><span class="pp-pln"> util = require('util')</span></div><div class="L3"><span class="pp-ln">  13 </span><span class="pp-pln">    </span><span class="pp-tag">var</span><span class="pp-pln"> path = require('path')</span></div><div class="L4"><span class="pp-ln">  14 </span><span class="pp-pln">    </span><span class="pp-tag">var</span><span class="pp-pln"> assert = require('assert')</span></div><div class="L5"><span class="pp-ln">  15 </span><span class="pp-pln">    </span><span class="pp-tag">var</span><span class="pp-pln"> isAbsolute = require('./path-is-absolute')</span></div><div class="L6"><span class="pp-ln">  16 </span><span class="pp-pln">    </span><span class="pp-tag">var</span><span class="pp-pln"> common = require('./common.js')</span></div><div class="L7"><span class="pp-ln">  17 </span><span class="pp-pln">    </span><span class="pp-tag">var</span><span class="pp-pln"> alphasort = common.alphasort</span></div><div class="L8"><span class="pp-ln">  18 </span><span class="pp-pln">    </span><span class="pp-tag">var</span><span class="pp-pln"> alphasorti = common.alphasorti</span></div><div class="L9"><span class="pp-ln">  19 </span><span class="pp-pln">    </span><span class="pp-tag">var</span><span class="pp-pln"> setopts = common.setopts</span></div><div class="L0"><span class="pp-ln">  20 </span><span class="pp-pln">    </span><span class="pp-tag">var</span><span class="pp-pln"> ownProp = common.ownProp</span></div><div class="L1"><span class="pp-ln">  21 </span><span class="pp-pln">    </span><span class="pp-tag">var</span><span class="pp-pln"> childrenIgnored = common.childrenIgnored</span></div><div class="L2"><span class="pp-ln">  22 </span><span class="pp-pln">    </span><span class="pp-tag">var</span><span class="pp-pln"> isIgnored = common.isIgnored</span></div><div class="L3"><span class="pp-ln">  23 </span><span class="pp-pln">    </span><span class="pp-tag">function</span><span class="pp-pln"> globSync</span></div><div class="L4"><span class="pp-ln">  24 </span><span class="pp-pln">        </span><span class="pp-tag">param</span><span class="pp-pln"> pattern</span></div><div class="L5"><span class="pp-ln">  25 </span><span class="pp-pln">        </span><span class="pp-tag">param</span><span class="pp-pln"> virtFS</span></div><div class="L6"><span class="pp-ln">  26 </span><span class="pp-pln">        </span><span class="pp-tag">param</span><span class="pp-pln"> options</span></div><div class="L7"><span class="pp-ln">  27 </span><span class="pp-pln">        </span><span class="pp-tag">#</span><span class="pp-pln"> log 'typeof (options), arguments.length', typeof (options), arguments.length</span></div><div class="L8"><span class="pp-ln">  28 </span><span class="pp-pln">        </span><span class="pp-tag">if</span><span class="pp-pln"> (typeof (options) === 'function') || (arguments.length === 4)</span></div><div class="L9"><span class="pp-ln">  29 </span><span class="pp-pln">            </span><span class="pp-tag">throw</span></div><div class="L0"><span class="pp-ln">  30 </span><span class="pp-pln">                </span><span class="pp-tag">new</span><span class="pp-pln"> TypeError(('callback provided to sync glob\n' + 'See: https://github.com/isaacs/node-glob/issues/167'))</span></div><div class="L1"><span class="pp-ln">  31 </span><span class="pp-pln">        </span><span class="pp-tag">return</span></div><div class="L2"><span class="pp-ln">  32 </span><span class="pp-pln">            </span><span class="pp-tag">new</span><span class="pp-pln"> GlobSync(pattern, virtFS, options)</span></div><div class="L3"><span class="pp-ln">  33 </span><span class="pp-pln">                </span><span class="pp-tag">.</span><span class="pp-pln"> found</span></div><div class="L4"><span class="pp-ln">  34 </span><span class="pp-pln">    </span><span class="pp-tag">class</span><span class="pp-pln"> GlobSync</span></div><div class="L5"><span class="pp-ln">  35 </span><span class="pp-pln">        </span><span class="pp-tag">ctor</span></div><div class="L6"><span class="pp-ln">  36 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> pattern</span></div><div class="L7"><span class="pp-ln">  37 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> virtFS</span></div><div class="L8"><span class="pp-ln">  38 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> options</span></div><div class="L9"><span class="pp-ln">  39 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> !pattern</span></div><div class="L0"><span class="pp-ln">  40 </span><span class="pp-pln">                </span><span class="pp-tag">throw</span></div><div class="L1"><span class="pp-ln">  41 </span><span class="pp-pln">                    </span><span class="pp-tag">new</span><span class="pp-pln"> Error('must provide pattern')</span></div><div class="L2"><span class="pp-ln">  42 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> (typeof (options) === 'function') || (arguments.length === 4)</span></div><div class="L3"><span class="pp-ln">  43 </span><span class="pp-pln">                </span><span class="pp-tag">throw</span></div><div class="L4"><span class="pp-ln">  44 </span><span class="pp-pln">                    </span><span class="pp-tag">new</span><span class="pp-pln"> TypeError('callback provided to sync glob\n' + 'See: https://github.com/isaacs/node-glob/issues/167')</span></div><div class="L5"><span class="pp-ln">  45 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> !this instanceof GlobSync</span></div><div class="L6"><span class="pp-ln">  46 </span><span class="pp-pln">                </span><span class="pp-tag">return</span></div><div class="L7"><span class="pp-ln">  47 </span><span class="pp-pln">                    </span><span class="pp-tag">new</span><span class="pp-pln"> GlobSync(pattern, virtFS, options)</span></div><div class="L8"><span class="pp-ln">  48 </span><span class="pp-pln">            </span><span class="pp-tag">set</span><span class="pp-pln"> this.virtFS = virtFS</span></div><div class="L9"><span class="pp-ln">  49 </span><span class="pp-pln">            </span><span class="pp-tag">_</span><span class="pp-pln"> setopts(this, pattern, options)</span></div><div class="L0"><span class="pp-ln">  50 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> this.noprocess</span></div><div class="L1"><span class="pp-ln">  51 </span><span class="pp-pln">                </span><span class="pp-tag">return</span><span class="pp-pln"> this</span></div><div class="L2"><span class="pp-ln">  52 </span><span class="pp-pln">            </span><span class="pp-tag">var</span><span class="pp-pln"> n = this.minimatch.set.length</span></div><div class="L3"><span class="pp-ln">  53 </span><span class="pp-pln">            </span><span class="pp-tag">#</span><span class="pp-pln"> log 'pattern,this.minimatch.set', pattern, this.minimatch.set</span></div><div class="L4"><span class="pp-ln">  54 </span><span class="pp-pln">            </span><span class="pp-tag">set</span><span class="pp-pln"> this.matches = new Array(n)</span></div><div class="L5"><span class="pp-ln">  55 </span><span class="pp-pln">            </span><span class="pp-tag">for</span><span class="pp-pln"> var i = 0; i &lt; n; i++</span></div><div class="L6"><span class="pp-ln">  56 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> this._process</span></div><div class="L7"><span class="pp-ln">  57 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> this.minimatch.set[i]</span></div><div class="L8"><span class="pp-ln">  58 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> i</span></div><div class="L9"><span class="pp-ln">  59 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> false</span></div><div class="L0"><span class="pp-ln">  60 </span><span class="pp-pln">            </span><span class="pp-tag">_</span><span class="pp-pln"> this._finish()</span></div><div class="L1"><span class="pp-ln">  61 </span><span class="pp-pln">        </span><span class="pp-tag">m</span><span class="pp-pln"> _finish</span></div><div class="L2"><span class="pp-ln">  62 </span><span class="pp-pln">            </span><span class="pp-tag">_</span><span class="pp-pln"> assert(this instanceof GlobSync)</span></div><div class="L3"><span class="pp-ln">  63 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> this.realpath</span></div><div class="L4"><span class="pp-ln">  64 </span><span class="pp-pln">                </span><span class="pp-tag">var</span><span class="pp-pln"> self = this</span></div><div class="L5"><span class="pp-ln">  65 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> this.matches.forEach</span></div><div class="L6"><span class="pp-ln">  66 </span><span class="pp-pln">                    </span><span class="pp-tag">function</span></div><div class="L7"><span class="pp-ln">  67 </span><span class="pp-pln">                        </span><span class="pp-tag">param</span><span class="pp-pln"> matchset</span></div><div class="L8"><span class="pp-ln">  68 </span><span class="pp-pln">                        </span><span class="pp-tag">param</span><span class="pp-pln"> index</span></div><div class="L9"><span class="pp-ln">  69 </span><span class="pp-pln">                        </span><span class="pp-tag">var</span><span class="pp-pln"> set = self.matches[index] = Object.create(null)</span></div><div class="L0"><span class="pp-ln">  70 </span><span class="pp-pln">                        </span><span class="pp-tag">for</span><span class="pp-pln"> var p in matchset</span></div><div class="L1"><span class="pp-ln">  71 </span><span class="pp-pln">                            </span><span class="pp-tag">try</span></div><div class="L2"><span class="pp-ln">  72 </span><span class="pp-pln">                                </span><span class="pp-tag">set</span><span class="pp-pln"> p = self._makeAbs(p)</span></div><div class="L3"><span class="pp-ln">  73 </span><span class="pp-pln">                                </span><span class="pp-tag">var</span><span class="pp-pln"> real</span></div><div class="L4"><span class="pp-ln">  74 </span><span class="pp-pln">                                    </span><span class="pp-tag">_</span><span class="pp-pln"> rp.realpathSync</span></div><div class="L5"><span class="pp-ln">  75 </span><span class="pp-pln">                                        </span><span class="pp-tag">@</span><span class="pp-pln"> p</span></div><div class="L6"><span class="pp-ln">  76 </span><span class="pp-pln">                                        </span><span class="pp-tag">@</span><span class="pp-pln"> self.realpathCache</span></div><div class="L7"><span class="pp-ln">  77 </span><span class="pp-pln">                                </span><span class="pp-tag">set</span><span class="pp-pln"> set[real] = true</span></div><div class="L8"><span class="pp-ln">  78 </span><span class="pp-pln">                            </span><span class="pp-tag">catch</span><span class="pp-pln"> er</span></div><div class="L9"><span class="pp-ln">  79 </span><span class="pp-pln">                                </span><span class="pp-tag">if</span><span class="pp-pln"> er.syscall === 'stat'</span></div><div class="L0"><span class="pp-ln">  80 </span><span class="pp-pln">                                    </span><span class="pp-tag">set</span><span class="pp-pln"> set[self._makeAbs(p)] = true</span></div><div class="L1"><span class="pp-ln">  81 </span><span class="pp-pln">                                </span><span class="pp-tag">else</span></div><div class="L2"><span class="pp-ln">  82 </span><span class="pp-pln">                                    </span><span class="pp-tag">throw</span><span class="pp-pln"> er</span></div><div class="L3"><span class="pp-ln">  83 </span><span class="pp-pln">            </span><span class="pp-tag">_</span><span class="pp-pln"> common.finish(this)</span></div><div class="L4"><span class="pp-ln">  84 </span><span class="pp-pln">        </span><span class="pp-tag">m</span><span class="pp-pln"> _process</span></div><div class="L5"><span class="pp-ln">  85 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> pattern</span></div><div class="L6"><span class="pp-ln">  86 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> index</span></div><div class="L7"><span class="pp-ln">  87 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> inGlobStar</span></div><div class="L8"><span class="pp-ln">  88 </span><span class="pp-pln">            </span><span class="pp-tag">_</span><span class="pp-pln"> assert(this instanceof GlobSync)</span></div><div class="L9"><span class="pp-ln">  89 </span><span class="pp-pln">            </span><span class="pp-tag">var</span><span class="pp-pln"> n = 0</span></div><div class="L0"><span class="pp-ln">  90 </span><span class="pp-pln">            </span><span class="pp-tag">while</span><span class="pp-pln"> typeof (pattern[n]) === 'string'</span></div><div class="L1"><span class="pp-ln">  91 </span><span class="pp-pln">                </span><span class="pp-tag">set</span><span class="pp-pln"> n++</span></div><div class="L2"><span class="pp-ln">  92 </span><span class="pp-pln">            </span><span class="pp-tag">var</span><span class="pp-pln"> prefix</span></div><div class="L3"><span class="pp-ln">  93 </span><span class="pp-pln">            </span><span class="pp-tag">switch</span><span class="pp-pln"> n</span></div><div class="L4"><span class="pp-ln">  94 </span><span class="pp-pln">                </span><span class="pp-tag">case</span><span class="pp-pln"> pattern.length</span></div><div class="L5"><span class="pp-ln">  95 </span><span class="pp-pln">                    </span><span class="pp-tag">_</span><span class="pp-pln"> this._processSimple</span></div><div class="L6"><span class="pp-ln">  96 </span><span class="pp-pln">                        </span><span class="pp-tag">_</span><span class="pp-pln"> pattern.join('/')</span></div><div class="L7"><span class="pp-ln">  97 </span><span class="pp-pln">                        </span><span class="pp-tag">@</span><span class="pp-pln"> index</span></div><div class="L8"><span class="pp-ln">  98 </span><span class="pp-pln">                    </span><span class="pp-tag">return</span></div><div class="L9"><span class="pp-ln">  99 </span><span class="pp-pln">                </span><span class="pp-tag">case</span><span class="pp-pln"> 0</span></div><div class="L0"><span class="pp-ln"> 100 </span><span class="pp-pln">                    </span><span class="pp-tag">set</span><span class="pp-pln"> prefix = null</span></div><div class="L1"><span class="pp-ln"> 101 </span><span class="pp-pln">                    </span><span class="pp-tag">break</span></div><div class="L2"><span class="pp-ln"> 102 </span><span class="pp-pln">                </span><span class="pp-tag">default</span></div><div class="L3"><span class="pp-ln"> 103 </span><span class="pp-pln">                    </span><span class="pp-tag">set</span><span class="pp-pln"> prefix = pattern.slice(0, n).join('/')</span></div><div class="L4"><span class="pp-ln"> 104 </span><span class="pp-pln">                    </span><span class="pp-tag">break</span></div><div class="L5"><span class="pp-ln"> 105 </span><span class="pp-pln">            </span><span class="pp-tag">var</span><span class="pp-pln"> remain = pattern.slice(n)</span></div><div class="L6"><span class="pp-ln"> 106 </span><span class="pp-pln">            </span><span class="pp-tag">#</span><span class="pp-pln"> log 'pattern, remain', pattern, '-- / --', remain</span></div><div class="L7"><span class="pp-ln"> 107 </span><span class="pp-pln">            </span><span class="pp-tag">var</span><span class="pp-pln"> read</span></div><div class="L8"><span class="pp-ln"> 108 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> prefix === null</span></div><div class="L9"><span class="pp-ln"> 109 </span><span class="pp-pln">                </span><span class="pp-tag">set</span><span class="pp-pln"> read = '.'</span></div><div class="L0"><span class="pp-ln"> 110 </span><span class="pp-pln">            </span><span class="pp-tag">elif</span><span class="pp-pln"> (isAbsolute(prefix) || isAbsolute(pattern.join('/')))</span></div><div class="L1"><span class="pp-ln"> 111 </span><span class="pp-pln">                </span><span class="pp-tag">if</span><span class="pp-pln"> (! (prefix) || ! (isAbsolute(prefix)))</span></div><div class="L2"><span class="pp-ln"> 112 </span><span class="pp-pln">                    </span><span class="pp-tag">set</span><span class="pp-pln"> prefix = ('/' + prefix)</span></div><div class="L3"><span class="pp-ln"> 113 </span><span class="pp-pln">                </span><span class="pp-tag">set</span><span class="pp-pln"> read = prefix</span></div><div class="L4"><span class="pp-ln"> 114 </span><span class="pp-pln">            </span><span class="pp-tag">else</span></div><div class="L5"><span class="pp-ln"> 115 </span><span class="pp-pln">                </span><span class="pp-tag">set</span><span class="pp-pln"> read = prefix</span></div><div class="L6"><span class="pp-ln"> 116 </span><span class="pp-pln">            </span><span class="pp-tag">var</span><span class="pp-pln"> abs = this._makeAbs(read)</span></div><div class="L7"><span class="pp-ln"> 117 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> childrenIgnored(this, read)</span></div><div class="L8"><span class="pp-ln"> 118 </span><span class="pp-pln">                </span><span class="pp-tag">return</span></div><div class="L9"><span class="pp-ln"> 119 </span><span class="pp-pln">            </span><span class="pp-tag">var</span><span class="pp-pln"> isGlobStar = remain[0] === minimatch.GLOBSTAR</span></div><div class="L0"><span class="pp-ln"> 120 </span><span class="pp-pln">            </span><span class="pp-tag">#</span><span class="pp-pln"> log 'read, abs, remain, isGlobStar', read, abs, remain, isGlobStar</span></div><div class="L1"><span class="pp-ln"> 121 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> isGlobStar</span></div><div class="L2"><span class="pp-ln"> 122 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> this._processGlobStar(prefix, read, abs, remain, index, inGlobStar)</span></div><div class="L3"><span class="pp-ln"> 123 </span><span class="pp-pln">            </span><span class="pp-tag">else</span></div><div class="L4"><span class="pp-ln"> 124 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> this._processReaddir(prefix, read, abs, remain, index, inGlobStar)</span></div><div class="L5"><span class="pp-ln"> 125 </span><span class="pp-pln">        </span><span class="pp-tag">m</span><span class="pp-pln"> _processReaddir</span></div><div class="L6"><span class="pp-ln"> 126 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> prefix</span></div><div class="L7"><span class="pp-ln"> 127 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> read</span></div><div class="L8"><span class="pp-ln"> 128 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> abs</span></div><div class="L9"><span class="pp-ln"> 129 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> remain</span></div><div class="L0"><span class="pp-ln"> 130 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> index</span></div><div class="L1"><span class="pp-ln"> 131 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> inGlobStar</span></div><div class="L2"><span class="pp-ln"> 132 </span><span class="pp-pln">            </span><span class="pp-tag">var</span><span class="pp-pln"> entries = this._readdir(abs, inGlobStar)</span></div><div class="L3"><span class="pp-ln"> 133 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> ! (entries)</span></div><div class="L4"><span class="pp-ln"> 134 </span><span class="pp-pln">                </span><span class="pp-tag">return</span></div><div class="L5"><span class="pp-ln"> 135 </span><span class="pp-pln">            </span><span class="pp-tag">var</span><span class="pp-pln"> pn = remain[0]</span></div><div class="L6"><span class="pp-ln"> 136 </span><span class="pp-pln">            </span><span class="pp-tag">var</span><span class="pp-pln"> negate = !!this.minimatch.negate</span></div><div class="L7"><span class="pp-ln"> 137 </span><span class="pp-pln">            </span><span class="pp-tag">var</span><span class="pp-pln"> rawGlob = pn._glob</span></div><div class="L8"><span class="pp-ln"> 138 </span><span class="pp-pln">            </span><span class="pp-tag">var</span><span class="pp-pln"> dotOk = (this.dot || (rawGlob.charAt(0) === '.'))</span></div><div class="L9"><span class="pp-ln"> 139 </span><span class="pp-pln">            </span><span class="pp-tag">var</span><span class="pp-pln"> matchedEntries</span></div><div class="L0"><span class="pp-ln"> 140 </span><span class="pp-pln">                </span><span class="pp-tag">[</span></div><div class="L1"><span class="pp-ln"> 141 </span><span class="pp-pln">            </span><span class="pp-tag">for</span><span class="pp-pln"> var i = 0; i &lt; entries.length; i++</span></div><div class="L2"><span class="pp-ln"> 142 </span><span class="pp-pln">                </span><span class="pp-tag">var</span><span class="pp-pln"> e = entries[i]</span></div><div class="L3"><span class="pp-ln"> 143 </span><span class="pp-pln">                </span><span class="pp-tag">if</span><span class="pp-pln"> ((e.charAt(0) !== '.') || dotOk)</span></div><div class="L4"><span class="pp-ln"> 144 </span><span class="pp-pln">                    </span><span class="pp-tag">var</span><span class="pp-pln"> m</span></div><div class="L5"><span class="pp-ln"> 145 </span><span class="pp-pln">                    </span><span class="pp-tag">if</span><span class="pp-pln"> negate && ! (prefix)</span></div><div class="L6"><span class="pp-ln"> 146 </span><span class="pp-pln">                        </span><span class="pp-tag">set</span><span class="pp-pln"> m = ! (e.match(pn))</span></div><div class="L7"><span class="pp-ln"> 147 </span><span class="pp-pln">                    </span><span class="pp-tag">else</span></div><div class="L8"><span class="pp-ln"> 148 </span><span class="pp-pln">                        </span><span class="pp-tag">set</span><span class="pp-pln"> m = e.match(pn)</span></div><div class="L9"><span class="pp-ln"> 149 </span><span class="pp-pln">                    </span><span class="pp-tag">if</span><span class="pp-pln"> m</span></div><div class="L0"><span class="pp-ln"> 150 </span><span class="pp-pln">                        </span><span class="pp-tag">_</span><span class="pp-pln"> matchedEntries.push(e)</span></div><div class="L1"><span class="pp-ln"> 151 </span><span class="pp-pln">            </span><span class="pp-tag">var</span><span class="pp-pln"> len = matchedEntries.length</span></div><div class="L2"><span class="pp-ln"> 152 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> len === 0</span></div><div class="L3"><span class="pp-ln"> 153 </span><span class="pp-pln">                </span><span class="pp-tag">return</span></div><div class="L4"><span class="pp-ln"> 154 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> ((((remain.length === 1) && ! (this.mark))) && ! (this.stat))</span></div><div class="L5"><span class="pp-ln"> 155 </span><span class="pp-pln">                </span><span class="pp-tag">if</span><span class="pp-pln"> ! (this.matches[index])</span></div><div class="L6"><span class="pp-ln"> 156 </span><span class="pp-pln">                    </span><span class="pp-tag">set</span><span class="pp-pln"> this.matches[index] = Object.create(null)</span></div><div class="L7"><span class="pp-ln"> 157 </span><span class="pp-pln">                </span><span class="pp-tag">for</span><span class="pp-pln"> var i = 0; i &lt; len; i++</span></div><div class="L8"><span class="pp-ln"> 158 </span><span class="pp-pln">                    </span><span class="pp-tag">var</span><span class="pp-pln"> e = matchedEntries[i]</span></div><div class="L9"><span class="pp-ln"> 159 </span><span class="pp-pln">                    </span><span class="pp-tag">if</span><span class="pp-pln"> prefix</span></div><div class="L0"><span class="pp-ln"> 160 </span><span class="pp-pln">                        </span><span class="pp-tag">if</span><span class="pp-pln"> prefix.slice(- (1)) !== '/'</span></div><div class="L1"><span class="pp-ln"> 161 </span><span class="pp-pln">                            </span><span class="pp-tag">set</span><span class="pp-pln"> e = (((prefix + '/')) + e)</span></div><div class="L2"><span class="pp-ln"> 162 </span><span class="pp-pln">                        </span><span class="pp-tag">else</span></div><div class="L3"><span class="pp-ln"> 163 </span><span class="pp-pln">                            </span><span class="pp-tag">set</span><span class="pp-pln"> e = (prefix + e)</span></div><div class="L4"><span class="pp-ln"> 164 </span><span class="pp-pln">                    </span><span class="pp-tag">if</span><span class="pp-pln"> ((e.charAt(0) === '/') && ! (this.nomount))</span></div><div class="L5"><span class="pp-ln"> 165 </span><span class="pp-pln">                        </span><span class="pp-tag">set</span><span class="pp-pln"> e = path.join(this.root, e)</span></div><div class="L6"><span class="pp-ln"> 166 </span><span class="pp-pln">                    </span><span class="pp-tag">_</span><span class="pp-pln"> this._emitMatch(index, e)</span></div><div class="L7"><span class="pp-ln"> 167 </span><span class="pp-pln">                </span><span class="pp-tag">return</span></div><div class="L8"><span class="pp-ln"> 168 </span><span class="pp-pln">            </span><span class="pp-tag">_</span><span class="pp-pln"> remain.shift()</span></div><div class="L9"><span class="pp-ln"> 169 </span><span class="pp-pln">            </span><span class="pp-tag">for</span><span class="pp-pln"> var i = 0; i &lt; len; i++</span></div><div class="L0"><span class="pp-ln"> 170 </span><span class="pp-pln">                </span><span class="pp-tag">var</span><span class="pp-pln"> e = matchedEntries[i]</span></div><div class="L1"><span class="pp-ln"> 171 </span><span class="pp-pln">                </span><span class="pp-tag">var</span><span class="pp-pln"> newPattern</span></div><div class="L2"><span class="pp-ln"> 172 </span><span class="pp-pln">                </span><span class="pp-tag">if</span><span class="pp-pln"> prefix</span></div><div class="L3"><span class="pp-ln"> 173 </span><span class="pp-pln">                    </span><span class="pp-tag">set</span><span class="pp-pln"> newPattern = [prefix, e]</span></div><div class="L4"><span class="pp-ln"> 174 </span><span class="pp-pln">                </span><span class="pp-tag">else</span></div><div class="L5"><span class="pp-ln"> 175 </span><span class="pp-pln">                    </span><span class="pp-tag">set</span><span class="pp-pln"> newPattern = [e]</span></div><div class="L6"><span class="pp-ln"> 176 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> this._process</span></div><div class="L7"><span class="pp-ln"> 177 </span><span class="pp-pln">                    </span><span class="pp-tag">_</span><span class="pp-pln"> newPattern.concat(remain)</span></div><div class="L8"><span class="pp-ln"> 178 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> index</span></div><div class="L9"><span class="pp-ln"> 179 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> inGlobStar</span></div><div class="L0"><span class="pp-ln"> 180 </span><span class="pp-pln">        </span><span class="pp-tag">m</span><span class="pp-pln"> _emitMatch</span></div><div class="L1"><span class="pp-ln"> 181 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> index</span></div><div class="L2"><span class="pp-ln"> 182 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> e</span></div><div class="L3"><span class="pp-ln"> 183 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> isIgnored(this, e)</span></div><div class="L4"><span class="pp-ln"> 184 </span><span class="pp-pln">                </span><span class="pp-tag">return</span></div><div class="L5"><span class="pp-ln"> 185 </span><span class="pp-pln">            </span><span class="pp-tag">var</span><span class="pp-pln"> abs = this._makeAbs(e)</span></div><div class="L6"><span class="pp-ln"> 186 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> this.mark</span></div><div class="L7"><span class="pp-ln"> 187 </span><span class="pp-pln">                </span><span class="pp-tag">set</span><span class="pp-pln"> e = this._mark(e)</span></div><div class="L8"><span class="pp-ln"> 188 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> this.absolute</span></div><div class="L9"><span class="pp-ln"> 189 </span><span class="pp-pln">                </span><span class="pp-tag">set</span><span class="pp-pln"> e = abs</span></div><div class="L0"><span class="pp-ln"> 190 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> this.matches[index][e]</span></div><div class="L1"><span class="pp-ln"> 191 </span><span class="pp-pln">                </span><span class="pp-tag">return</span></div><div class="L2"><span class="pp-ln"> 192 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> this.nodir</span></div><div class="L3"><span class="pp-ln"> 193 </span><span class="pp-pln">                </span><span class="pp-tag">var</span><span class="pp-pln"> c = this.cache[abs]</span></div><div class="L4"><span class="pp-ln"> 194 </span><span class="pp-pln">                </span><span class="pp-tag">if</span><span class="pp-pln"> ((c === 'DIR') || Array.isArray(c))</span></div><div class="L5"><span class="pp-ln"> 195 </span><span class="pp-pln">                    </span><span class="pp-tag">return</span></div><div class="L6"><span class="pp-ln"> 196 </span><span class="pp-pln">            </span><span class="pp-tag">set</span><span class="pp-pln"> this.matches[index][e] = true</span></div><div class="L7"><span class="pp-ln"> 197 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> this.stat</span></div><div class="L8"><span class="pp-ln"> 198 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> this._stat(e)</span></div><div class="L9"><span class="pp-ln"> 199 </span><span class="pp-pln">        </span><span class="pp-tag">m</span><span class="pp-pln"> _readdirInGlobStar</span></div><div class="L0"><span class="pp-ln"> 200 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> abs</span></div><div class="L1"><span class="pp-ln"> 201 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> this.follow</span></div><div class="L2"><span class="pp-ln"> 202 </span><span class="pp-pln">                </span><span class="pp-tag">return</span><span class="pp-pln"> this._readdir(abs, false)</span></div><div class="L3"><span class="pp-ln"> 203 </span><span class="pp-pln">            </span><span class="pp-tag">var</span><span class="pp-pln"> entries</span></div><div class="L4"><span class="pp-ln"> 204 </span><span class="pp-pln">            </span><span class="pp-tag">var</span><span class="pp-pln"> lstat</span></div><div class="L5"><span class="pp-ln"> 205 </span><span class="pp-pln">            </span><span class="pp-tag">var</span><span class="pp-pln"> stat</span></div><div class="L6"><span class="pp-ln"> 206 </span><span class="pp-pln">            </span><span class="pp-tag">try</span></div><div class="L7"><span class="pp-ln"> 207 </span><span class="pp-pln">                </span><span class="pp-tag">set</span><span class="pp-pln"> lstat = this.virtFS.lstatSync(abs)</span></div><div class="L8"><span class="pp-ln"> 208 </span><span class="pp-pln">            </span><span class="pp-tag">catch</span><span class="pp-pln"> er</span></div><div class="L9"><span class="pp-ln"> 209 </span><span class="pp-pln">                </span><span class="pp-tag">if</span><span class="pp-pln"> er.code === 'ENOENT'</span></div><div class="L0"><span class="pp-ln"> 210 </span><span class="pp-pln">                    </span><span class="pp-tag">return</span><span class="pp-pln"> null</span></div><div class="L1"><span class="pp-ln"> 211 </span><span class="pp-pln">            </span><span class="pp-tag">var</span><span class="pp-pln"> isSym = lstat && lstat.isSymbolicLink()</span></div><div class="L2"><span class="pp-ln"> 212 </span><span class="pp-pln">            </span><span class="pp-tag">set</span><span class="pp-pln"> this.symlinks[abs] = isSym</span></div><div class="L3"><span class="pp-ln"> 213 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> ((! (isSym) && lstat) && ! (lstat.isDirectory()))</span></div><div class="L4"><span class="pp-ln"> 214 </span><span class="pp-pln">                </span><span class="pp-tag">set</span><span class="pp-pln"> this.cache[abs] = 'FILE'</span></div><div class="L5"><span class="pp-ln"> 215 </span><span class="pp-pln">            </span><span class="pp-tag">else</span></div><div class="L6"><span class="pp-ln"> 216 </span><span class="pp-pln">                </span><span class="pp-tag">set</span><span class="pp-pln"> entries = this._readdir(abs, false)</span></div><div class="L7"><span class="pp-ln"> 217 </span><span class="pp-pln">            </span><span class="pp-tag">return</span><span class="pp-pln"> entries</span></div><div class="L8"><span class="pp-ln"> 218 </span><span class="pp-pln">        </span><span class="pp-tag">m</span><span class="pp-pln"> _readdir</span></div><div class="L9"><span class="pp-ln"> 219 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> abs</span></div><div class="L0"><span class="pp-ln"> 220 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> inGlobStar</span></div><div class="L1"><span class="pp-ln"> 221 </span><span class="pp-pln">            </span><span class="pp-tag">var</span><span class="pp-pln"> entries</span></div><div class="L2"><span class="pp-ln"> 222 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> inGlobStar && ! (ownProp(this.symlinks, abs))</span></div><div class="L3"><span class="pp-ln"> 223 </span><span class="pp-pln">                </span><span class="pp-tag">return</span><span class="pp-pln"> this._readdirInGlobStar(abs)</span></div><div class="L4"><span class="pp-ln"> 224 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> ownProp(this.cache, abs)</span></div><div class="L5"><span class="pp-ln"> 225 </span><span class="pp-pln">                </span><span class="pp-tag">var</span><span class="pp-pln"> c = this.cache[abs]</span></div><div class="L6"><span class="pp-ln"> 226 </span><span class="pp-pln">                </span><span class="pp-tag">if</span><span class="pp-pln"> (! (c) || (c === 'FILE'))</span></div><div class="L7"><span class="pp-ln"> 227 </span><span class="pp-pln">                    </span><span class="pp-tag">return</span><span class="pp-pln"> null</span></div><div class="L8"><span class="pp-ln"> 228 </span><span class="pp-pln">                </span><span class="pp-tag">if</span><span class="pp-pln"> Array.isArray(c)</span></div><div class="L9"><span class="pp-ln"> 229 </span><span class="pp-pln">                    </span><span class="pp-tag">return</span><span class="pp-pln"> c</span></div><div class="L0"><span class="pp-ln"> 230 </span><span class="pp-pln">            </span><span class="pp-tag">try</span></div><div class="L1"><span class="pp-ln"> 231 </span><span class="pp-pln">                </span><span class="pp-tag">return</span></div><div class="L2"><span class="pp-ln"> 232 </span><span class="pp-pln">                    </span><span class="pp-tag">_</span><span class="pp-pln"> this._readdirEntries</span></div><div class="L3"><span class="pp-ln"> 233 </span><span class="pp-pln">                        </span><span class="pp-tag">@</span><span class="pp-pln"> abs</span></div><div class="L4"><span class="pp-ln"> 234 </span><span class="pp-pln">                        </span><span class="pp-tag">_</span><span class="pp-pln"> this.virtFS.readdirSync(abs)</span></div><div class="L5"><span class="pp-ln"> 235 </span><span class="pp-pln">            </span><span class="pp-tag">catch</span><span class="pp-pln"> er</span></div><div class="L6"><span class="pp-ln"> 236 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> this._readdirError(abs, er)</span></div><div class="L7"><span class="pp-ln"> 237 </span><span class="pp-pln">                </span><span class="pp-tag">return</span><span class="pp-pln"> null</span></div><div class="L8"><span class="pp-ln"> 238 </span><span class="pp-pln">        </span><span class="pp-tag">m</span><span class="pp-pln"> _readdirEntries</span></div><div class="L9"><span class="pp-ln"> 239 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> abs</span></div><div class="L0"><span class="pp-ln"> 240 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> entries</span></div><div class="L1"><span class="pp-ln"> 241 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> ! (this.mark) && ! (this.stat)</span></div><div class="L2"><span class="pp-ln"> 242 </span><span class="pp-pln">                </span><span class="pp-tag">for</span><span class="pp-pln"> var i = 0; i &lt; entries.length; i++</span></div><div class="L3"><span class="pp-ln"> 243 </span><span class="pp-pln">                    </span><span class="pp-tag">var</span><span class="pp-pln"> e = entries[i]</span></div><div class="L4"><span class="pp-ln"> 244 </span><span class="pp-pln">                    </span><span class="pp-tag">if</span><span class="pp-pln"> abs === '/'</span></div><div class="L5"><span class="pp-ln"> 245 </span><span class="pp-pln">                        </span><span class="pp-tag">set</span><span class="pp-pln"> e = (abs + e)</span></div><div class="L6"><span class="pp-ln"> 246 </span><span class="pp-pln">                    </span><span class="pp-tag">else</span></div><div class="L7"><span class="pp-ln"> 247 </span><span class="pp-pln">                        </span><span class="pp-tag">set</span><span class="pp-pln"> e = (((abs + '/')) + e)</span></div><div class="L8"><span class="pp-ln"> 248 </span><span class="pp-pln">                    </span><span class="pp-tag">set</span><span class="pp-pln"> this.cache[e] = true</span></div><div class="L9"><span class="pp-ln"> 249 </span><span class="pp-pln">            </span><span class="pp-tag">set</span><span class="pp-pln"> this.cache[abs] = entries</span></div><div class="L0"><span class="pp-ln"> 250 </span><span class="pp-pln">            </span><span class="pp-tag">return</span><span class="pp-pln"> entries</span></div><div class="L1"><span class="pp-ln"> 251 </span><span class="pp-pln">        </span><span class="pp-tag">m</span><span class="pp-pln"> _readdirError</span></div><div class="L2"><span class="pp-ln"> 252 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> f</span></div><div class="L3"><span class="pp-ln"> 253 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> er</span></div><div class="L4"><span class="pp-ln"> 254 </span><span class="pp-pln">            </span><span class="pp-tag">switch</span><span class="pp-pln"> er.code</span></div><div class="L5"><span class="pp-ln"> 255 </span><span class="pp-pln">                </span><span class="pp-tag">case</span><span class="pp-pln"> 'ENOTSUP'</span></div><div class="L6"><span class="pp-ln"> 256 </span><span class="pp-pln">                </span><span class="pp-tag">case</span><span class="pp-pln"> 'ENOTDIR'</span></div><div class="L7"><span class="pp-ln"> 257 </span><span class="pp-pln">                    </span><span class="pp-tag">var</span><span class="pp-pln"> abs = this._makeAbs(f)</span></div><div class="L8"><span class="pp-ln"> 258 </span><span class="pp-pln">                    </span><span class="pp-tag">set</span><span class="pp-pln"> this.cache[abs] = 'FILE'</span></div><div class="L9"><span class="pp-ln"> 259 </span><span class="pp-pln">                    </span><span class="pp-tag">if</span><span class="pp-pln"> abs === this.cwdAbs</span></div><div class="L0"><span class="pp-ln"> 260 </span><span class="pp-pln">                        </span><span class="pp-tag">var</span><span class="pp-pln"> error</span></div><div class="L1"><span class="pp-ln"> 261 </span><span class="pp-pln">                            </span><span class="pp-tag">new</span><span class="pp-pln"> Error((((er.code + ' invalid cwd ')) + this.cwd))</span></div><div class="L2"><span class="pp-ln"> 262 </span><span class="pp-pln">                        </span><span class="pp-tag">set</span><span class="pp-pln"> error.path = this.cwd</span></div><div class="L3"><span class="pp-ln"> 263 </span><span class="pp-pln">                        </span><span class="pp-tag">set</span><span class="pp-pln"> error.code = er.code</span></div><div class="L4"><span class="pp-ln"> 264 </span><span class="pp-pln">                        </span><span class="pp-tag">throw</span><span class="pp-pln"> error</span></div><div class="L5"><span class="pp-ln"> 265 </span><span class="pp-pln">                    </span><span class="pp-tag">break</span></div><div class="L6"><span class="pp-ln"> 266 </span><span class="pp-pln">                </span><span class="pp-tag">case</span><span class="pp-pln"> 'ENOENT'</span></div><div class="L7"><span class="pp-ln"> 267 </span><span class="pp-pln">                </span><span class="pp-tag">case</span><span class="pp-pln"> 'ELOOP'</span></div><div class="L8"><span class="pp-ln"> 268 </span><span class="pp-pln">                </span><span class="pp-tag">case</span><span class="pp-pln"> 'ENAMETOOLONG'</span></div><div class="L9"><span class="pp-ln"> 269 </span><span class="pp-pln">                </span><span class="pp-tag">case</span><span class="pp-pln"> 'UNKNOWN'</span></div><div class="L0"><span class="pp-ln"> 270 </span><span class="pp-pln">                    </span><span class="pp-tag">set</span><span class="pp-pln"> this.cache[this._makeAbs(f)] = false</span></div><div class="L1"><span class="pp-ln"> 271 </span><span class="pp-pln">                    </span><span class="pp-tag">break</span></div><div class="L2"><span class="pp-ln"> 272 </span><span class="pp-pln">                </span><span class="pp-tag">default</span></div><div class="L3"><span class="pp-ln"> 273 </span><span class="pp-pln">                    </span><span class="pp-tag">set</span><span class="pp-pln"> this.cache[this._makeAbs(f)] = false</span></div><div class="L4"><span class="pp-ln"> 274 </span><span class="pp-pln">                    </span><span class="pp-tag">if</span><span class="pp-pln"> this.strict</span></div><div class="L5"><span class="pp-ln"> 275 </span><span class="pp-pln">                        </span><span class="pp-tag">throw</span><span class="pp-pln"> er</span></div><div class="L6"><span class="pp-ln"> 276 </span><span class="pp-pln">                    </span><span class="pp-tag">if</span><span class="pp-pln"> ! (this.silent)</span></div><div class="L7"><span class="pp-ln"> 277 </span><span class="pp-pln">                        </span><span class="pp-tag">_</span><span class="pp-pln"> console.error('glob error', er)</span></div><div class="L8"><span class="pp-ln"> 278 </span><span class="pp-pln">                    </span><span class="pp-tag">break</span></div><div class="L9"><span class="pp-ln"> 279 </span><span class="pp-pln">        </span><span class="pp-tag">m</span><span class="pp-pln"> _processGlobStar</span></div><div class="L0"><span class="pp-ln"> 280 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> prefix</span></div><div class="L1"><span class="pp-ln"> 281 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> read</span></div><div class="L2"><span class="pp-ln"> 282 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> abs</span></div><div class="L3"><span class="pp-ln"> 283 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> remain</span></div><div class="L4"><span class="pp-ln"> 284 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> index</span></div><div class="L5"><span class="pp-ln"> 285 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> inGlobStar</span></div><div class="L6"><span class="pp-ln"> 286 </span><span class="pp-pln">            </span><span class="pp-tag">var</span><span class="pp-pln"> entries = this._readdir(abs, inGlobStar)</span></div><div class="L7"><span class="pp-ln"> 287 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> ! (entries)</span></div><div class="L8"><span class="pp-ln"> 288 </span><span class="pp-pln">                </span><span class="pp-tag">return</span></div><div class="L9"><span class="pp-ln"> 289 </span><span class="pp-pln">            </span><span class="pp-tag">var</span><span class="pp-pln"> remainWithoutGlobStar = remain.slice(1)</span></div><div class="L0"><span class="pp-ln"> 290 </span><span class="pp-pln">            </span><span class="pp-tag">var</span><span class="pp-pln"> gspref</span></div><div class="L1"><span class="pp-ln"> 291 </span><span class="pp-pln">                </span><span class="pp-tag">iif</span><span class="pp-pln"> prefix</span></div><div class="L2"><span class="pp-ln"> 292 </span><span class="pp-pln">                    </span><span class="pp-tag">then</span></div><div class="L3"><span class="pp-ln"> 293 </span><span class="pp-pln">                        </span><span class="pp-tag">[</span></div><div class="L4"><span class="pp-ln"> 294 </span><span class="pp-pln">                            </span><span class="pp-tag">@</span><span class="pp-pln"> prefix</span></div><div class="L5"><span class="pp-ln"> 295 </span><span class="pp-pln">                    </span><span class="pp-tag">else</span></div><div class="L6"><span class="pp-ln"> 296 </span><span class="pp-pln">                        </span><span class="pp-tag">[</span></div><div class="L7"><span class="pp-ln"> 297 </span><span class="pp-pln">            </span><span class="pp-tag">var</span><span class="pp-pln"> noGlobStar = gspref.concat(remainWithoutGlobStar)</span></div><div class="L8"><span class="pp-ln"> 298 </span><span class="pp-pln">            </span><span class="pp-tag">_</span><span class="pp-pln"> this._process(noGlobStar, index, false)</span></div><div class="L9"><span class="pp-ln"> 299 </span><span class="pp-pln">            </span><span class="pp-tag">var</span><span class="pp-pln"> len = entries.length</span></div><div class="L0"><span class="pp-ln"> 300 </span><span class="pp-pln">            </span><span class="pp-tag">var</span><span class="pp-pln"> isSym = this.symlinks[abs]</span></div><div class="L1"><span class="pp-ln"> 301 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> isSym && inGlobStar</span></div><div class="L2"><span class="pp-ln"> 302 </span><span class="pp-pln">                </span><span class="pp-tag">return</span></div><div class="L3"><span class="pp-ln"> 303 </span><span class="pp-pln">            </span><span class="pp-tag">for</span><span class="pp-pln"> var i = 0; i &lt; len; i++</span></div><div class="L4"><span class="pp-ln"> 304 </span><span class="pp-pln">                </span><span class="pp-tag">var</span><span class="pp-pln"> e = entries[i]</span></div><div class="L5"><span class="pp-ln"> 305 </span><span class="pp-pln">                </span><span class="pp-tag">if</span><span class="pp-pln"> ((e.charAt(0) === '.') && ! (this.dot))</span></div><div class="L6"><span class="pp-ln"> 306 </span><span class="pp-pln">                    </span><span class="pp-tag">continue</span></div><div class="L7"><span class="pp-ln"> 307 </span><span class="pp-pln">                </span><span class="pp-tag">var</span><span class="pp-pln"> instead</span></div><div class="L8"><span class="pp-ln"> 308 </span><span class="pp-pln">                    </span><span class="pp-tag">_</span><span class="pp-pln"> gspref.concat</span></div><div class="L9"><span class="pp-ln"> 309 </span><span class="pp-pln">                        </span><span class="pp-tag">@</span><span class="pp-pln"> entries[i]</span></div><div class="L0"><span class="pp-ln"> 310 </span><span class="pp-pln">                        </span><span class="pp-tag">@</span><span class="pp-pln"> remainWithoutGlobStar</span></div><div class="L1"><span class="pp-ln"> 311 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> this._process(instead, index, true)</span></div><div class="L2"><span class="pp-ln"> 312 </span><span class="pp-pln">                </span><span class="pp-tag">var</span><span class="pp-pln"> below</span></div><div class="L3"><span class="pp-ln"> 313 </span><span class="pp-pln">                    </span><span class="pp-tag">_</span><span class="pp-pln"> gspref.concat</span></div><div class="L4"><span class="pp-ln"> 314 </span><span class="pp-pln">                        </span><span class="pp-tag">@</span><span class="pp-pln"> entries[i]</span></div><div class="L5"><span class="pp-ln"> 315 </span><span class="pp-pln">                        </span><span class="pp-tag">@</span><span class="pp-pln"> remain</span></div><div class="L6"><span class="pp-ln"> 316 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> this._process(below, index, true)</span></div><div class="L7"><span class="pp-ln"> 317 </span><span class="pp-pln">        </span><span class="pp-tag">m</span><span class="pp-pln"> _processSimple</span></div><div class="L8"><span class="pp-ln"> 318 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> prefix</span></div><div class="L9"><span class="pp-ln"> 319 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> index</span></div><div class="L0"><span class="pp-ln"> 320 </span><span class="pp-pln">            </span><span class="pp-tag">var</span><span class="pp-pln"> exists = this._stat(prefix)</span></div><div class="L1"><span class="pp-ln"> 321 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> ! (this.matches[index])</span></div><div class="L2"><span class="pp-ln"> 322 </span><span class="pp-pln">                </span><span class="pp-tag">set</span><span class="pp-pln"> this.matches[index] = Object.create(null)</span></div><div class="L3"><span class="pp-ln"> 323 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> ! (exists)</span></div><div class="L4"><span class="pp-ln"> 324 </span><span class="pp-pln">                </span><span class="pp-tag">return</span></div><div class="L5"><span class="pp-ln"> 325 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> ((prefix && isAbsolute(prefix)) && ! (this.nomount))</span></div><div class="L6"><span class="pp-ln"> 326 </span><span class="pp-pln">                </span><span class="pp-tag">var</span><span class="pp-pln"> trail = /[\/\\]$/.test(prefix)</span></div><div class="L7"><span class="pp-ln"> 327 </span><span class="pp-pln">                </span><span class="pp-tag">if</span><span class="pp-pln"> prefix.charAt(0) === '/'</span></div><div class="L8"><span class="pp-ln"> 328 </span><span class="pp-pln">                    </span><span class="pp-tag">set</span><span class="pp-pln"> prefix = path.join(this.root, prefix)</span></div><div class="L9"><span class="pp-ln"> 329 </span><span class="pp-pln">                </span><span class="pp-tag">else</span></div><div class="L0"><span class="pp-ln"> 330 </span><span class="pp-pln">                    </span><span class="pp-tag">set</span><span class="pp-pln"> prefix = path.resolve(this.root, prefix)</span></div><div class="L1"><span class="pp-ln"> 331 </span><span class="pp-pln">                    </span><span class="pp-tag">if</span><span class="pp-pln"> trail</span></div><div class="L2"><span class="pp-ln"> 332 </span><span class="pp-pln">                        </span><span class="pp-tag">set</span><span class="pp-pln"> prefix += '/'</span></div><div class="L3"><span class="pp-ln"> 333 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> process.platform === 'win32'</span></div><div class="L4"><span class="pp-ln"> 334 </span><span class="pp-pln">                </span><span class="pp-tag">set</span><span class="pp-pln"> prefix = prefix.replace(/\\/g, '/')</span></div><div class="L5"><span class="pp-ln"> 335 </span><span class="pp-pln">            </span><span class="pp-tag">_</span><span class="pp-pln"> this._emitMatch(index, prefix)</span></div><div class="L6"><span class="pp-ln"> 336 </span><span class="pp-pln">        </span><span class="pp-tag">m</span><span class="pp-pln"> _stat</span></div><div class="L7"><span class="pp-ln"> 337 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> f</span></div><div class="L8"><span class="pp-ln"> 338 </span><span class="pp-pln">            </span><span class="pp-tag">var</span><span class="pp-pln"> abs = this._makeAbs(f)</span></div><div class="L9"><span class="pp-ln"> 339 </span><span class="pp-pln">            </span><span class="pp-tag">var</span><span class="pp-pln"> needDir = f.slice(- (1)) === '/'</span></div><div class="L0"><span class="pp-ln"> 340 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> f.length &gt; this.maxLength</span></div><div class="L1"><span class="pp-ln"> 341 </span><span class="pp-pln">                </span><span class="pp-tag">return</span><span class="pp-pln"> false</span></div><div class="L2"><span class="pp-ln"> 342 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> ! (this.stat) && ownProp(this.cache, abs)</span></div><div class="L3"><span class="pp-ln"> 343 </span><span class="pp-pln">                </span><span class="pp-tag">var</span><span class="pp-pln"> c = this.cache[abs]</span></div><div class="L4"><span class="pp-ln"> 344 </span><span class="pp-pln">                </span><span class="pp-tag">if</span><span class="pp-pln"> Array.isArray(c)</span></div><div class="L5"><span class="pp-ln"> 345 </span><span class="pp-pln">                    </span><span class="pp-tag">set</span><span class="pp-pln"> c = 'DIR'</span></div><div class="L6"><span class="pp-ln"> 346 </span><span class="pp-pln">                </span><span class="pp-tag">if</span><span class="pp-pln"> (! (needDir) || (c === 'DIR'))</span></div><div class="L7"><span class="pp-ln"> 347 </span><span class="pp-pln">                    </span><span class="pp-tag">return</span><span class="pp-pln"> c</span></div><div class="L8"><span class="pp-ln"> 348 </span><span class="pp-pln">                </span><span class="pp-tag">if</span><span class="pp-pln"> (needDir && (c === 'FILE'))</span></div><div class="L9"><span class="pp-ln"> 349 </span><span class="pp-pln">                    </span><span class="pp-tag">return</span><span class="pp-pln"> false</span></div><div class="L0"><span class="pp-ln"> 350 </span><span class="pp-pln">            </span><span class="pp-tag">var</span><span class="pp-pln"> exists</span></div><div class="L1"><span class="pp-ln"> 351 </span><span class="pp-pln">            </span><span class="pp-tag">var</span><span class="pp-pln"> stat = this.statCache[abs]</span></div><div class="L2"><span class="pp-ln"> 352 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> ! (stat)</span></div><div class="L3"><span class="pp-ln"> 353 </span><span class="pp-pln">                </span><span class="pp-tag">var</span><span class="pp-pln"> lstat</span></div><div class="L4"><span class="pp-ln"> 354 </span><span class="pp-pln">                </span><span class="pp-tag">try</span></div><div class="L5"><span class="pp-ln"> 355 </span><span class="pp-pln">                    </span><span class="pp-tag">set</span><span class="pp-pln"> lstat = this.virtFS.lstatSync(abs)</span></div><div class="L6"><span class="pp-ln"> 356 </span><span class="pp-pln">                </span><span class="pp-tag">catch</span><span class="pp-pln"> er</span></div><div class="L7"><span class="pp-ln"> 357 </span><span class="pp-pln">                    </span><span class="pp-tag">if</span><span class="pp-pln"> (er && (((er.code === 'ENOENT') || (er.code === 'ENOTDIR'))))</span></div><div class="L8"><span class="pp-ln"> 358 </span><span class="pp-pln">                        </span><span class="pp-tag">set</span><span class="pp-pln"> this.statCache[abs] = false</span></div><div class="L9"><span class="pp-ln"> 359 </span><span class="pp-pln">                        </span><span class="pp-tag">return</span><span class="pp-pln"> false</span></div><div class="L0"><span class="pp-ln"> 360 </span><span class="pp-pln">                </span><span class="pp-tag">if</span><span class="pp-pln"> lstat && lstat.isSymbolicLink()</span></div><div class="L1"><span class="pp-ln"> 361 </span><span class="pp-pln">                    </span><span class="pp-tag">try</span></div><div class="L2"><span class="pp-ln"> 362 </span><span class="pp-pln">                        </span><span class="pp-tag">set</span><span class="pp-pln"> stat = this.virtFS.statSync(abs)</span></div><div class="L3"><span class="pp-ln"> 363 </span><span class="pp-pln">                    </span><span class="pp-tag">catch</span><span class="pp-pln"> er</span></div><div class="L4"><span class="pp-ln"> 364 </span><span class="pp-pln">                        </span><span class="pp-tag">set</span><span class="pp-pln"> stat = lstat</span></div><div class="L5"><span class="pp-ln"> 365 </span><span class="pp-pln">                </span><span class="pp-tag">else</span></div><div class="L6"><span class="pp-ln"> 366 </span><span class="pp-pln">                    </span><span class="pp-tag">set</span><span class="pp-pln"> stat = lstat</span></div><div class="L7"><span class="pp-ln"> 367 </span><span class="pp-pln">            </span><span class="pp-tag">set</span><span class="pp-pln"> this.statCache[abs] = stat</span></div><div class="L8"><span class="pp-ln"> 368 </span><span class="pp-pln">            </span><span class="pp-tag">var</span><span class="pp-pln"> c = true</span></div><div class="L9"><span class="pp-ln"> 369 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> stat</span></div><div class="L0"><span class="pp-ln"> 370 </span><span class="pp-pln">                </span><span class="pp-tag">set</span><span class="pp-pln"> c = stat.isDirectory() ? 'DIR' : 'FILE'</span></div><div class="L1"><span class="pp-ln"> 371 </span><span class="pp-pln">            </span><span class="pp-tag">set</span><span class="pp-pln"> this.cache[abs] = (this.cache[abs] || c)</span></div><div class="L2"><span class="pp-ln"> 372 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> (needDir && (c === 'FILE'))</span></div><div class="L3"><span class="pp-ln"> 373 </span><span class="pp-pln">                </span><span class="pp-tag">return</span><span class="pp-pln"> false</span></div><div class="L4"><span class="pp-ln"> 374 </span><span class="pp-pln">            </span><span class="pp-tag">return</span><span class="pp-pln"> c</span></div><div class="L5"><span class="pp-ln"> 375 </span><span class="pp-pln">        </span><span class="pp-tag">m</span><span class="pp-pln"> _mark</span></div><div class="L6"><span class="pp-ln"> 376 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> p</span></div><div class="L7"><span class="pp-ln"> 377 </span><span class="pp-pln">            </span><span class="pp-tag">return</span><span class="pp-pln"> common.mark(this, p)</span></div><div class="L8"><span class="pp-ln"> 378 </span><span class="pp-pln">        </span><span class="pp-tag">m</span><span class="pp-pln"> _makeAbs</span></div><div class="L9"><span class="pp-ln"> 379 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> f</span></div><div class="L0"><span class="pp-ln"> 380 </span><span class="pp-pln">            </span><span class="pp-tag">return</span><span class="pp-pln"> common.makeAbs(this, f)</span></div></pre>
                    </div>
                </div>
                <div class="code-panel" id="d44">
                    <div class="modal-view-container">
                        <h4 class="d-h2">/src/ittf/lib/glob/wrappy.js.ittf</h4>
                        <pre class="prettyprint">

<div class="L1"><span class="pp-ln">   1 </span><span class="pp-pln"></span><span class="pp-tag">module</span></div><div class="L2"><span class="pp-ln">   2 </span><span class="pp-pln">    </span><span class="pp-tag">kind</span><span class="pp-pln"> jsfile</span></div><div class="L3"><span class="pp-ln">   3 </span><span class="pp-pln">    </span><span class="pp-tag">#</span><span class="pp-pln"> FROM</span></div><div class="L4"><span class="pp-ln">   4 </span><span class="pp-pln">    </span><span class="pp-tag">#</span><span class="pp-pln"> Copyright (c) Isaac Z. Schlueter and Contributors</span></div><div class="L5"><span class="pp-ln">   5 </span><span class="pp-pln">    </span><span class="pp-tag">#</span><span class="pp-pln"> source https://github.com/npm/wrappy/blob/master/wrappy.js</span></div><div class="L6"><span class="pp-ln">   6 </span><span class="pp-pln">    </span><span class="pp-tag">#</span><span class="pp-pln"> license (ISC)</span></div><div class="L7"><span class="pp-ln">   7 </span><span class="pp-pln">    </span><span class="pp-tag">set</span><span class="pp-pln"> module.exports = wrappy</span></div><div class="L8"><span class="pp-ln">   8 </span><span class="pp-pln">    </span><span class="pp-tag">function</span><span class="pp-pln"> wrappy</span></div><div class="L9"><span class="pp-ln">   9 </span><span class="pp-pln">        </span><span class="pp-tag">param</span><span class="pp-pln"> fn</span></div><div class="L0"><span class="pp-ln">  10 </span><span class="pp-pln">        </span><span class="pp-tag">param</span><span class="pp-pln"> cb</span></div><div class="L1"><span class="pp-ln">  11 </span><span class="pp-pln">        </span><span class="pp-tag">if</span><span class="pp-pln"> fn && cb</span></div><div class="L2"><span class="pp-ln">  12 </span><span class="pp-pln">            </span><span class="pp-tag">return</span></div><div class="L3"><span class="pp-ln">  13 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> wrappy(fn)</span></div><div class="L4"><span class="pp-ln">  14 </span><span class="pp-pln">                    </span><span class="pp-mix frag-to-link-a">(</span><span class="pp-mix">)</span></div><div class="L5"><span class="pp-ln">  15 </span><span class="pp-pln">                        </span><span class="pp-tag">@</span><span class="pp-pln"> cb</span></div><div class="L6"><span class="pp-ln">  16 </span><span class="pp-pln">        </span><span class="pp-tag">if</span><span class="pp-pln"> typeof(fn) !== 'function'</span></div><div class="L7"><span class="pp-ln">  17 </span><span class="pp-pln">            </span><span class="pp-tag">throw</span></div><div class="L8"><span class="pp-ln">  18 </span><span class="pp-pln">                </span><span class="pp-tag">new</span><span class="pp-pln"> TypeError('need wrapper function')</span></div><div class="L9"><span class="pp-ln">  19 </span><span class="pp-pln">        </span><span class="pp-tag">_</span><span class="pp-pln"> Object.keys(fn)</span></div><div class="L0"><span class="pp-ln">  20 </span><span class="pp-pln">            </span><span class="pp-tag">._</span><span class="pp-pln"> forEach</span></div><div class="L1"><span class="pp-ln">  21 </span><span class="pp-pln">                </span><span class="pp-tag">function</span></div><div class="L2"><span class="pp-ln">  22 </span><span class="pp-pln">                    </span><span class="pp-tag">param</span><span class="pp-pln"> k</span></div><div class="L3"><span class="pp-ln">  23 </span><span class="pp-pln">                    </span><span class="pp-tag">set</span><span class="pp-pln"> wrapper[k] = fn[k]</span></div><div class="L4"><span class="pp-ln">  24 </span><span class="pp-pln">        </span><span class="pp-tag">return</span><span class="pp-pln"> wrapper</span></div><div class="L5"><span class="pp-ln">  25 </span><span class="pp-pln">        </span><span class="pp-tag">function</span><span class="pp-pln"> wrapper</span></div><div class="L6"><span class="pp-ln">  26 </span><span class="pp-pln">            </span><span class="pp-tag">var</span><span class="pp-pln"> ret = fn.apply(this, arguments)</span></div><div class="L7"><span class="pp-ln">  27 </span><span class="pp-pln">            </span><span class="pp-tag">var</span><span class="pp-pln"> cb = arguments[(arguments.length - 1)]</span></div><div class="L8"><span class="pp-ln">  28 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> typeof (ret) === 'function' && ret !== cb</span></div><div class="L9"><span class="pp-ln">  29 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> Object.keys(cb)</span></div><div class="L0"><span class="pp-ln">  30 </span><span class="pp-pln">                    </span><span class="pp-tag">._</span><span class="pp-pln"> forEach</span></div><div class="L1"><span class="pp-ln">  31 </span><span class="pp-pln">                        </span><span class="pp-tag">function</span></div><div class="L2"><span class="pp-ln">  32 </span><span class="pp-pln">                            </span><span class="pp-tag">param</span><span class="pp-pln"> k</span></div><div class="L3"><span class="pp-ln">  33 </span><span class="pp-pln">                            </span><span class="pp-tag">set</span><span class="pp-pln"> ret[k] = cb[k]</span></div><div class="L4"><span class="pp-ln">  34 </span><span class="pp-pln">            </span><span class="pp-tag">return</span><span class="pp-pln"> ret</span></div></pre>
                    </div>
                </div>
                <div class="code-panel" id="d45">
                    <div class="modal-view-container">
                        <h4 class="d-h2">/src/ittf/lib/ittfTree/asIsLoader/index.js.ittf</h4>
                        <pre class="prettyprint">

<div class="L1"><span class="pp-ln">   1 </span><span class="pp-pln"></span><span class="pp-tag">module</span></div><div class="L2"><span class="pp-ln">   2 </span><span class="pp-pln">    </span><span class="pp-tag">kind</span><span class="pp-pln"> jsfile</span></div><div class="L3"><span class="pp-ln">   3 </span><span class="pp-pln">    </span><span class="pp-tag">var</span><span class="pp-pln"> file = require('../../fs/file')</span></div><div class="L4"><span class="pp-ln">   4 </span><span class="pp-pln">    </span><span class="pp-tag">var</span><span class="pp-pln"> liner = require('./liner')</span></div><div class="L5"><span class="pp-ln">   5 </span><span class="pp-pln">    </span><span class="pp-tag">var</span><span class="pp-pln"> nodifier = require('./nodifier')</span></div><div class="L6"><span class="pp-ln">   6 </span><span class="pp-pln">    </span><span class="pp-tag">function</span><span class="pp-pln"> AsisLoader</span></div><div class="L7"><span class="pp-ln">   7 </span><span class="pp-pln">        </span><span class="pp-tag">param</span><span class="pp-pln"> ittfDocumentUri</span></div><div class="L8"><span class="pp-ln">   8 </span><span class="pp-pln">        </span><span class="pp-tag">param</span><span class="pp-pln"> options</span></div><div class="L9"><span class="pp-ln">   9 </span><span class="pp-pln">        </span><span class="pp-tag">param</span><span class="pp-pln"> callback</span></div><div class="L0"><span class="pp-ln">  10 </span><span class="pp-pln">        </span><span class="pp-tag">var</span><span class="pp-pln"> reader = options.file || file</span></div><div class="L1"><span class="pp-ln">  11 </span><span class="pp-pln">        </span><span class="pp-tag">var</span><span class="pp-pln"> content</span></div><div class="L2"><span class="pp-ln">  12 </span><span class="pp-pln">            </span><span class="pp-tag">_</span><span class="pp-pln"> reader.read</span></div><div class="L3"><span class="pp-ln">  13 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> ittfDocumentUri</span></div><div class="L4"><span class="pp-ln">  14 </span><span class="pp-pln">        </span><span class="pp-tag">var</span><span class="pp-pln"> lines</span></div><div class="L5"><span class="pp-ln">  15 </span><span class="pp-pln">            </span><span class="pp-tag">_</span><span class="pp-pln"> liner</span></div><div class="L6"><span class="pp-ln">  16 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> content</span></div><div class="L7"><span class="pp-ln">  17 </span><span class="pp-pln">                </span><span class="pp-tag">{</span></div><div class="L8"><span class="pp-ln">  18 </span><span class="pp-pln">        </span><span class="pp-tag">var</span><span class="pp-pln"> count = 0</span></div><div class="L9"><span class="pp-ln">  19 </span><span class="pp-pln">        </span><span class="pp-tag">var</span><span class="pp-pln"> asisMTree</span></div><div class="L0"><span class="pp-ln">  20 </span><span class="pp-pln">            </span><span class="pp-tag">{</span></div><div class="L1"><span class="pp-ln">  21 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> loadHistory</span></div><div class="L2"><span class="pp-ln">  22 </span><span class="pp-pln">                    </span><span class="pp-tag">{</span></div><div class="L3"><span class="pp-ln">  23 </span><span class="pp-pln">                        </span><span class="pp-tag">@</span><span class="pp-pln"> getNewNodeId</span></div><div class="L4"><span class="pp-ln">  24 </span><span class="pp-pln">                            </span><span class="pp-tag">function</span></div><div class="L5"><span class="pp-ln">  25 </span><span class="pp-pln">                                </span><span class="pp-tag">return</span><span class="pp-pln"> ++count</span></div><div class="L6"><span class="pp-ln">  26 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> uri ittfDocumentUri</span></div><div class="L7"><span class="pp-ln">  27 </span><span class="pp-pln">        </span><span class="pp-tag">set</span><span class="pp-pln"> asisMTree.nodes</span></div><div class="L8"><span class="pp-ln">  28 </span><span class="pp-pln">            </span><span class="pp-tag">_</span><span class="pp-pln"> nodifier</span></div><div class="L9"><span class="pp-ln">  29 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> lines</span></div><div class="L0"><span class="pp-ln">  30 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> asisMTree</span></div><div class="L1"><span class="pp-ln">  31 </span><span class="pp-pln">        </span><span class="pp-tag">if</span><span class="pp-pln"> asisMTree.nodes.__is_error</span></div><div class="L2"><span class="pp-ln">  32 </span><span class="pp-pln">            </span><span class="pp-tag">set</span><span class="pp-pln"> asisMTree.nodes</span></div><div class="L3"><span class="pp-ln">  33 </span><span class="pp-pln">                </span><span class="pp-tag">[</span></div><div class="L4"><span class="pp-ln">  34 </span><span class="pp-pln">                    </span><span class="pp-tag">{</span></div><div class="L5"><span class="pp-ln">  35 </span><span class="pp-pln">                        </span><span class="pp-tag">@</span><span class="pp-pln"> name 'Cannot load this ittf document: ' + asisMTree.nodes.message</span></div><div class="L6"><span class="pp-ln">  36 </span><span class="pp-pln">        </span><span class="pp-tag">else</span></div><div class="L7"><span class="pp-ln">  37 </span><span class="pp-pln">            </span><span class="pp-tag">#</span><span class="pp-pln"> log 'asis.loader.asisMTree.nodes.length', asisMTree.nodes.length, asisMTree.nodes.length != 1</span></div><div class="L8"><span class="pp-ln">  38 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> asisMTree.nodes.length != 1</span></div><div class="L9"><span class="pp-ln">  39 </span><span class="pp-pln">                </span><span class="pp-tag">var</span><span class="pp-pln"> message = 'wizzi-utils.asIsLoader.error. The ittf source document must have one node. Found: ' + asisMTree.nodes.length + ' in document: ' + ittfDocumentUri</span></div><div class="L0"><span class="pp-ln">  40 </span><span class="pp-pln">                </span><span class="pp-tag">if</span><span class="pp-pln"> callback</span></div><div class="L1"><span class="pp-ln">  41 </span><span class="pp-pln">                    </span><span class="pp-tag">return</span></div><div class="L2"><span class="pp-ln">  42 </span><span class="pp-pln">                        </span><span class="pp-tag">_</span><span class="pp-pln"> callback</span></div><div class="L3"><span class="pp-ln">  43 </span><span class="pp-pln">                            </span><span class="pp-tag">{</span></div><div class="L4"><span class="pp-ln">  44 </span><span class="pp-pln">                                </span><span class="pp-tag">@</span><span class="pp-pln"> __is_error true</span></div><div class="L5"><span class="pp-ln">  45 </span><span class="pp-pln">                                </span><span class="pp-tag">@</span><span class="pp-pln"> message message</span></div><div class="L6"><span class="pp-ln">  46 </span><span class="pp-pln">                </span><span class="pp-tag">else</span></div><div class="L7"><span class="pp-ln">  47 </span><span class="pp-pln">                    </span><span class="pp-tag">throw</span><span class="pp-pln"> new Error(message)</span></div><div class="L8"><span class="pp-ln">  48 </span><span class="pp-pln">        </span><span class="pp-tag">if</span><span class="pp-pln"> asisMTree.nodes && asisMTree.nodes.length &gt; 0</span></div><div class="L9"><span class="pp-ln">  49 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> options.clean</span></div><div class="L0"><span class="pp-ln">  50 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> clean</span></div><div class="L1"><span class="pp-ln">  51 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> asisMTree.nodes[0]</span></div><div class="L2"><span class="pp-ln">  52 </span><span class="pp-pln">            </span><span class="pp-tag">elif</span><span class="pp-pln"> options.clean_remove</span></div><div class="L3"><span class="pp-ln">  53 </span><span class="pp-pln">                </span><span class="pp-tag">set</span><span class="pp-pln"> asisMTree</span></div><div class="L4"><span class="pp-ln">  54 </span><span class="pp-pln">                    </span><span class="pp-tag">_</span><span class="pp-pln"> clean</span></div><div class="L5"><span class="pp-ln">  55 </span><span class="pp-pln">                        </span><span class="pp-tag">@</span><span class="pp-pln"> asisMTree.nodes[0]</span></div><div class="L6"><span class="pp-ln">  56 </span><span class="pp-pln">        </span><span class="pp-tag">if</span><span class="pp-pln"> callback</span></div><div class="L7"><span class="pp-ln">  57 </span><span class="pp-pln">            </span><span class="pp-tag">_</span><span class="pp-pln"> callback</span></div><div class="L8"><span class="pp-ln">  58 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> null</span></div><div class="L9"><span class="pp-ln">  59 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> asisMTree</span></div><div class="L0"><span class="pp-ln">  60 </span><span class="pp-pln">        </span><span class="pp-tag">else</span></div><div class="L1"><span class="pp-ln">  61 </span><span class="pp-pln">            </span><span class="pp-tag">return</span><span class="pp-pln"> asisMTree</span></div><div class="L2"><span class="pp-ln">  62 </span><span class="pp-pln">    </span><span class="pp-tag">function</span><span class="pp-pln"> clean</span></div><div class="L3"><span class="pp-ln">  63 </span><span class="pp-pln">        </span><span class="pp-tag">param</span><span class="pp-pln"> node</span></div><div class="L4"><span class="pp-ln">  64 </span><span class="pp-pln">        </span><span class="pp-tag">delete</span><span class="pp-pln"> node.parent</span></div><div class="L5"><span class="pp-ln">  65 </span><span class="pp-pln">        </span><span class="pp-tag">delete</span><span class="pp-pln"> node.model</span></div><div class="L6"><span class="pp-ln">  66 </span><span class="pp-pln">        </span><span class="pp-tag">delete</span><span class="pp-pln"> node.hasMacro</span></div><div class="L7"><span class="pp-ln">  67 </span><span class="pp-pln">        </span><span class="pp-tag">delete</span><span class="pp-pln"> node.id</span></div><div class="L8"><span class="pp-ln">  68 </span><span class="pp-pln">        </span><span class="pp-tag">if</span><span class="pp-pln"> node.children</span></div><div class="L9"><span class="pp-ln">  69 </span><span class="pp-pln">            </span><span class="pp-tag">foreach</span><span class="pp-pln"> item in node.children</span></div><div class="L0"><span class="pp-ln">  70 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> clean(item)</span></div><div class="L1"><span class="pp-ln">  71 </span><span class="pp-pln">        </span><span class="pp-tag">return</span><span class="pp-pln"> node</span></div><div class="L2"><span class="pp-ln">  72 </span><span class="pp-pln">    </span><span class="pp-tag">set</span><span class="pp-pln"> AsisLoader.createFromString</span></div><div class="L3"><span class="pp-ln">  73 </span><span class="pp-pln">        </span><span class="pp-tag">function</span></div><div class="L4"><span class="pp-ln">  74 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> text</span></div><div class="L5"><span class="pp-ln">  75 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> options</span></div><div class="L6"><span class="pp-ln">  76 </span><span class="pp-pln">            </span><span class="pp-tag">set</span><span class="pp-pln"> options = options || {}</span></div><div class="L7"><span class="pp-ln">  77 </span><span class="pp-pln">            </span><span class="pp-tag">set</span><span class="pp-pln"> options.file</span></div><div class="L8"><span class="pp-ln">  78 </span><span class="pp-pln">                </span><span class="pp-tag">{</span></div><div class="L9"><span class="pp-ln">  79 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> read</span></div><div class="L0"><span class="pp-ln">  80 </span><span class="pp-pln">                        </span><span class="pp-tag">function</span></div><div class="L1"><span class="pp-ln">  81 </span><span class="pp-pln">                            </span><span class="pp-tag">return</span><span class="pp-pln"> text</span></div><div class="L2"><span class="pp-ln">  82 </span><span class="pp-pln">            </span><span class="pp-tag">return</span></div><div class="L3"><span class="pp-ln">  83 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> AsisLoader</span></div><div class="L4"><span class="pp-ln">  84 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> 'dummy'</span></div><div class="L5"><span class="pp-ln">  85 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> options</span></div><div class="L6"><span class="pp-ln">  86 </span><span class="pp-pln">    </span><span class="pp-tag">set</span><span class="pp-pln"> module.exports = AsisLoader</span></div></pre>
                    </div>
                </div>
                <div class="code-panel" id="d46">
                    <div class="modal-view-container">
                        <h4 class="d-h2">/src/ittf/lib/ittfTree/asIsLoader/liner.js.ittf</h4>
                        <pre class="prettyprint">

<div class="L1"><span class="pp-ln">   1 </span><span class="pp-pln"></span><span class="pp-tag">module</span><span class="pp-pln"> wizzi-utils.ittfTree.liner</span></div><div class="L2"><span class="pp-ln">   2 </span><span class="pp-pln">    </span><span class="pp-tag">kind</span><span class="pp-pln"> jsfile</span></div><div class="L3"><span class="pp-ln">   3 </span><span class="pp-pln">    </span><span class="pp-tag">var</span><span class="pp-pln"> util = require('util')</span></div><div class="L4"><span class="pp-ln">   4 </span><span class="pp-pln">    </span><span class="pp-tag">#</span><span class="pp-pln"> COPIED FROM wizzi-mtree</span></div><div class="L5"><span class="pp-ln">   5 </span><span class="pp-pln">    </span><span class="pp-tag">#</span><span class="pp-pln"> SUPRESSED comment strip</span></div><div class="L6"><span class="pp-ln">   6 </span><span class="pp-pln">    </span><span class="pp-tag">#</span></div><div class="L7"><span class="pp-ln">   7 </span><span class="pp-pln">        </span><span class="pp-tag">#</span><span class="pp-pln"> Reads an IttfDocument and extract an array of line descriptions</span></div><div class="L8"><span class="pp-ln">   8 </span><span class="pp-pln">    </span><span class="pp-tag">#</span></div><div class="L9"><span class="pp-ln">   9 </span><span class="pp-pln">        </span><span class="pp-tag">#</span><span class="pp-pln"> params</span></div><div class="L0"><span class="pp-ln">  10 </span><span class="pp-pln">        </span><span class="pp-tag">#</span><span class="pp-pln"> string textContent</span></div><div class="L1"><span class="pp-ln">  11 </span><span class="pp-pln">        </span><span class="pp-tag">#</span><span class="pp-pln"> # The text content of the IttfDocument</span></div><div class="L2"><span class="pp-ln">  12 </span><span class="pp-pln">        </span><span class="pp-tag">#</span><span class="pp-pln"> { ittfDocumentData</span></div><div class="L3"><span class="pp-ln">  13 </span><span class="pp-pln">        </span><span class="pp-tag">#</span><span class="pp-pln"> string sourceKey</span></div><div class="L4"><span class="pp-ln">  14 </span><span class="pp-pln">        </span><span class="pp-tag">#</span><span class="pp-pln"> # The IttfDocument key generated by the loadHistory</span></div><div class="L5"><span class="pp-ln">  15 </span><span class="pp-pln">    </span><span class="pp-tag">#</span></div><div class="L6"><span class="pp-ln">  16 </span><span class="pp-pln">        </span><span class="pp-tag">#</span><span class="pp-pln"> Output</span></div><div class="L7"><span class="pp-ln">  17 </span><span class="pp-pln">        </span><span class="pp-tag">#</span><span class="pp-pln"> lines:Array of</span></div><div class="L8"><span class="pp-ln">  18 </span><span class="pp-pln">        </span><span class="pp-tag">#</span><span class="pp-pln"> line : {</span></div><div class="L9"><span class="pp-ln">  19 </span><span class="pp-pln">        </span><span class="pp-tag">#</span><span class="pp-pln"> indent: Number,</span></div><div class="L0"><span class="pp-ln">  20 </span><span class="pp-pln">        </span><span class="pp-tag">#</span><span class="pp-pln"> name: String,</span></div><div class="L1"><span class="pp-ln">  21 </span><span class="pp-pln">        </span><span class="pp-tag">#</span><span class="pp-pln"> value: String, // always trimmed</span></div><div class="L2"><span class="pp-ln">  22 </span><span class="pp-pln">        </span><span class="pp-tag">#</span><span class="pp-pln"> row: Number,</span></div><div class="L3"><span class="pp-ln">  23 </span><span class="pp-pln">        </span><span class="pp-tag">#</span><span class="pp-pln"> col: Number,</span></div><div class="L4"><span class="pp-ln">  24 </span><span class="pp-pln">        </span><span class="pp-tag">#</span><span class="pp-pln"> sourceKey: String,</span></div><div class="L5"><span class="pp-ln">  25 </span><span class="pp-pln">        </span><span class="pp-tag">#</span><span class="pp-pln"> tagSuffix: undefined || '(',</span></div><div class="L6"><span class="pp-ln">  26 </span><span class="pp-pln">        </span><span class="pp-tag">#</span><span class="pp-pln"> hasMacro: Boolean</span></div><div class="L7"><span class="pp-ln">  27 </span><span class="pp-pln">        </span><span class="pp-tag">#</span><span class="pp-pln"> }</span></div><div class="L8"><span class="pp-ln">  28 </span><span class="pp-pln">    </span><span class="pp-tag">#</span></div><div class="L9"><span class="pp-ln">  29 </span><span class="pp-pln">        </span><span class="pp-tag">#</span><span class="pp-pln"> Es6 macro states</span></div><div class="L0"><span class="pp-ln">  30 </span><span class="pp-pln">        </span><span class="pp-tag">#</span><span class="pp-pln"> 0 = no macro seen</span></div><div class="L1"><span class="pp-ln">  31 </span><span class="pp-pln">        </span><span class="pp-tag">#</span><span class="pp-pln"> 1 = seen char ` we are inside template</span></div><div class="L2"><span class="pp-ln">  32 </span><span class="pp-pln">        </span><span class="pp-tag">#</span><span class="pp-pln"> 2 = seen escape char inside a template, the next ` char does not close the macro string</span></div><div class="L3"><span class="pp-ln">  33 </span><span class="pp-pln">        </span><span class="pp-tag">#</span><span class="pp-pln"> 10 = seen char $ inside a template could be start of macro</span></div><div class="L4"><span class="pp-ln">  34 </span><span class="pp-pln">    </span><span class="pp-tag">#</span><span class="pp-pln"> https://hacks.mozilla.org/2015/05/es6-in-depth-template-strings-2/</span></div><div class="L5"><span class="pp-ln">  35 </span><span class="pp-pln">    </span><span class="pp-tag">var</span><span class="pp-pln"> MACRO</span></div><div class="L6"><span class="pp-ln">  36 </span><span class="pp-pln">        </span><span class="pp-tag">{</span></div><div class="L7"><span class="pp-ln">  37 </span><span class="pp-pln">            </span><span class="pp-tag">@</span><span class="pp-pln"> NONE 0</span></div><div class="L8"><span class="pp-ln">  38 </span><span class="pp-pln">            </span><span class="pp-tag">@</span><span class="pp-pln"> INSIDE_TEMPLATE 1</span></div><div class="L9"><span class="pp-ln">  39 </span><span class="pp-pln">            </span><span class="pp-tag">@</span><span class="pp-pln"> INSIDE_TEMPLATE_SEEN_ESCAPE 2</span></div><div class="L0"><span class="pp-ln">  40 </span><span class="pp-pln">            </span><span class="pp-tag">@</span><span class="pp-pln"> INSIDE_TEMPLATE_SEEN_DOLLAR 10</span></div><div class="L1"><span class="pp-ln">  41 </span><span class="pp-pln">    </span><span class="pp-tag">var</span><span class="pp-pln"> CP</span></div><div class="L2"><span class="pp-ln">  42 </span><span class="pp-pln">        </span><span class="pp-tag">{</span></div><div class="L3"><span class="pp-ln">  43 </span><span class="pp-pln">            </span><span class="pp-tag">@</span><span class="pp-pln"> TAB 9</span></div><div class="L4"><span class="pp-ln">  44 </span><span class="pp-pln">            </span><span class="pp-tag">@</span><span class="pp-pln"> LF 10</span></div><div class="L5"><span class="pp-ln">  45 </span><span class="pp-pln">            </span><span class="pp-tag">@</span><span class="pp-pln"> CR 13</span></div><div class="L6"><span class="pp-ln">  46 </span><span class="pp-pln">            </span><span class="pp-tag">@</span><span class="pp-pln"> SPACE 32</span></div><div class="L7"><span class="pp-ln">  47 </span><span class="pp-pln">            </span><span class="pp-tag">@</span><span class="pp-pln"> DOLLAR 36</span></div><div class="L8"><span class="pp-ln">  48 </span><span class="pp-pln">            </span><span class="pp-tag">@</span><span class="pp-pln"> ASTER 42</span></div><div class="L9"><span class="pp-ln">  49 </span><span class="pp-pln">            </span><span class="pp-tag">@</span><span class="pp-pln"> SLASH 92</span></div><div class="L0"><span class="pp-ln">  50 </span><span class="pp-pln">            </span><span class="pp-tag">@</span><span class="pp-pln"> OPEN_PAREN 40</span></div><div class="L1"><span class="pp-ln">  51 </span><span class="pp-pln">            </span><span class="pp-tag">@</span><span class="pp-pln"> OPEN_GRAPH 123</span></div><div class="L2"><span class="pp-ln">  52 </span><span class="pp-pln">            </span><span class="pp-tag">@</span><span class="pp-pln"> CLOSE_GRAPH 125</span></div><div class="L3"><span class="pp-ln">  53 </span><span class="pp-pln">            </span><span class="pp-tag">@</span><span class="pp-pln"> SINGLE_QUOTE 39</span></div><div class="L4"><span class="pp-ln">  54 </span><span class="pp-pln">            </span><span class="pp-tag">@</span><span class="pp-pln"> DOUBLE_QUOTE 34</span></div><div class="L5"><span class="pp-ln">  55 </span><span class="pp-pln">            </span><span class="pp-tag">@</span><span class="pp-pln"> BACKTICK 96</span></div><div class="L6"><span class="pp-ln">  56 </span><span class="pp-pln">            </span><span class="pp-tag">@</span><span class="pp-pln"> MACRO_REPLACE 198</span></div><div class="L7"><span class="pp-ln">  57 </span><span class="pp-pln">    </span><span class="pp-tag">set</span><span class="pp-pln"> module.exports</span></div><div class="L8"><span class="pp-ln">  58 </span><span class="pp-pln">        </span><span class="pp-tag">function</span></div><div class="L9"><span class="pp-ln">  59 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> textContent</span></div><div class="L0"><span class="pp-ln">  60 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> ittfDocumentData</span></div><div class="L1"><span class="pp-ln">  61 </span><span class="pp-pln">            </span><span class="pp-tag">var</span></div><div class="L2"><span class="pp-ln">  62 </span><span class="pp-pln">                </span><span class="pp-tag">decl</span><span class="pp-pln"> sourceKey = ittfDocumentData.sourceKey</span></div><div class="L3"><span class="pp-ln">  63 </span><span class="pp-pln">                </span><span class="pp-tag">decl</span><span class="pp-pln"> lines</span></div><div class="L4"><span class="pp-ln">  64 </span><span class="pp-pln">                    </span><span class="pp-tag">[</span></div><div class="L5"><span class="pp-ln">  65 </span><span class="pp-pln">                </span><span class="pp-tag">decl</span><span class="pp-pln"> leadingWhiteSpaces = 0</span></div><div class="L6"><span class="pp-ln">  66 </span><span class="pp-pln">                </span><span class="pp-tag">decl</span><span class="pp-pln"> line = null</span></div><div class="L7"><span class="pp-ln">  67 </span><span class="pp-pln">                </span><span class="pp-tag">decl</span><span class="pp-pln"> linepos = 1</span></div><div class="L8"><span class="pp-ln">  68 </span><span class="pp-pln">                </span><span class="pp-tag">decl</span><span class="pp-pln"> lineHasMacro = false</span></div><div class="L9"><span class="pp-ln">  69 </span><span class="pp-pln">                </span><span class="pp-tag">decl</span><span class="pp-pln"> colpos = 0</span></div><div class="L0"><span class="pp-ln">  70 </span><span class="pp-pln">                </span><span class="pp-tag">decl</span><span class="pp-pln"> macroState = MACRO.NONE</span></div><div class="L1"><span class="pp-ln">  71 </span><span class="pp-pln">                </span><span class="pp-tag">decl</span><span class="pp-pln"> quote = null</span></div><div class="L2"><span class="pp-ln">  72 </span><span class="pp-pln">                </span><span class="pp-tag">#</span><span class="pp-pln"> TODO ensure textContent is red as utf-8 and avoid this</span></div><div class="L3"><span class="pp-ln">  73 </span><span class="pp-pln">                </span><span class="pp-tag">decl</span><span class="pp-pln"> chunk = textContent.toString('utf-8')</span></div><div class="L4"><span class="pp-ln">  74 </span><span class="pp-pln">                </span><span class="pp-tag">decl</span><span class="pp-pln"> ch</span></div><div class="L5"><span class="pp-ln">  75 </span><span class="pp-pln">                </span><span class="pp-tag">decl</span><span class="pp-pln"> cp</span></div><div class="L6"><span class="pp-ln">  76 </span><span class="pp-pln">                </span><span class="pp-tag">decl</span><span class="pp-pln"> chUni</span></div><div class="L7"><span class="pp-ln">  77 </span><span class="pp-pln">                </span><span class="pp-tag">decl</span><span class="pp-pln"> i</span></div><div class="L8"><span class="pp-ln">  78 </span><span class="pp-pln">                </span><span class="pp-tag">decl</span><span class="pp-pln"> l = chunk.length</span></div><div class="L9"><span class="pp-ln">  79 </span><span class="pp-pln">            </span><span class="pp-tag">#</span><span class="pp-pln"> TODO replace ch with chUni</span></div><div class="L0"><span class="pp-ln">  80 </span><span class="pp-pln">            </span><span class="pp-tag">for</span><span class="pp-pln"> i = 0; i &lt; l; i++</span></div><div class="L1"><span class="pp-ln">  81 </span><span class="pp-pln">                </span><span class="pp-tag">set</span><span class="pp-pln"> ch = chunk[i]</span></div><div class="L2"><span class="pp-ln">  82 </span><span class="pp-pln">                </span><span class="pp-tag">set</span><span class="pp-pln"> chUni = chunk.charCodeAt(i)</span></div><div class="L3"><span class="pp-ln">  83 </span><span class="pp-pln">                </span><span class="pp-tag">if</span><span class="pp-pln"> i &lt; l - 1</span></div><div class="L4"><span class="pp-ln">  84 </span><span class="pp-pln">                    </span><span class="pp-tag">set</span><span class="pp-pln"> cp = (chunk.charAt(i) + chunk.charAt(i + 1)).codePointAt(0)</span></div><div class="L5"><span class="pp-ln">  85 </span><span class="pp-pln">                </span><span class="pp-tag">elif</span><span class="pp-pln"> i &lt; l</span></div><div class="L6"><span class="pp-ln">  86 </span><span class="pp-pln">                    </span><span class="pp-tag">set</span><span class="pp-pln"> cp = chunk.charAt(i).codePointAt(0)</span></div><div class="L7"><span class="pp-ln">  87 </span><span class="pp-pln">                </span><span class="pp-tag">else</span></div><div class="L8"><span class="pp-ln">  88 </span><span class="pp-pln">                    </span><span class="pp-tag">throw</span><span class="pp-pln"> new Error('wizzi-mtree.loader.liner index of chunk out of range: ' + chunk)</span></div><div class="L9"><span class="pp-ln">  89 </span><span class="pp-pln">                </span><span class="pp-tag">if</span><span class="pp-pln"> cp &gt; 0xffff</span></div><div class="L0"><span class="pp-ln">  90 </span><span class="pp-pln">                    </span><span class="pp-tag">log</span><span class="pp-pln"> 'wizzi-mtree.loader.liner.cp &gt; 0xffff'</span></div><div class="L1"><span class="pp-ln">  91 </span><span class="pp-pln">                    </span><span class="pp-tag">set</span><span class="pp-pln"> i += 1</span></div><div class="L2"><span class="pp-ln">  92 </span><span class="pp-pln">                </span><span class="pp-tag">set</span><span class="pp-pln"> colpos++</span></div><div class="L3"><span class="pp-ln">  93 </span><span class="pp-pln">                </span><span class="pp-tag">if</span><span class="pp-pln"> cp == CP.SLASH</span></div><div class="L4"><span class="pp-ln">  94 </span><span class="pp-pln">                    </span><span class="pp-tag">#</span><span class="pp-pln"> log '+++++ wizzi-mtree.liner', chunk[i+1], chunk[i+2], chunk[i+3]</span></div><div class="L5"><span class="pp-ln">  95 </span><span class="pp-pln">                </span><span class="pp-tag">if</span><span class="pp-pln"> quote != null</span></div><div class="L6"><span class="pp-ln">  96 </span><span class="pp-pln">                    </span><span class="pp-tag">if</span><span class="pp-pln"> quote == cp</span></div><div class="L7"><span class="pp-ln">  97 </span><span class="pp-pln">                        </span><span class="pp-tag">set</span><span class="pp-pln"> quote = null</span></div><div class="L8"><span class="pp-ln">  98 </span><span class="pp-pln">                    </span><span class="pp-tag">_</span><span class="pp-pln"> processMacro(cp)</span></div><div class="L9"><span class="pp-ln">  99 </span><span class="pp-pln">                </span><span class="pp-tag">else</span></div><div class="L0"><span class="pp-ln"> 100 </span><span class="pp-pln">                    </span><span class="pp-tag">if</span><span class="pp-pln"> cp == CP.SLASH && i+3 &lt; l && chunk[i+1] == '$' && chunk[i+2] == '\\' && chunk[i+3] == '{'</span></div><div class="L1"><span class="pp-ln"> 101 </span><span class="pp-pln">                        </span><span class="pp-tag">_</span><span class="pp-pln"> processMacro(CP.DOLLAR)</span></div><div class="L2"><span class="pp-ln"> 102 </span><span class="pp-pln">                        </span><span class="pp-tag">_</span><span class="pp-pln"> processMacro(CP.OPEN_GRAPH)</span></div><div class="L3"><span class="pp-ln"> 103 </span><span class="pp-pln">                        </span><span class="pp-tag">set</span><span class="pp-pln"> i = i +3</span></div><div class="L4"><span class="pp-ln"> 104 </span><span class="pp-pln">                    </span><span class="pp-tag">else</span></div><div class="L5"><span class="pp-ln"> 105 </span><span class="pp-pln">                        </span><span class="pp-tag">_</span><span class="pp-pln"> processMacro(cp)</span></div><div class="L6"><span class="pp-ln"> 106 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> line</span></div><div class="L7"><span class="pp-ln"> 107 </span><span class="pp-pln">                </span><span class="pp-tag">if</span><span class="pp-pln"> typeof (line.value) !== 'undefined'</span></div><div class="L8"><span class="pp-ln"> 108 </span><span class="pp-pln">                    </span><span class="pp-tag">set</span><span class="pp-pln"> line.value = line.value.trim()</span></div><div class="L9"><span class="pp-ln"> 109 </span><span class="pp-pln">                </span><span class="pp-tag">set</span><span class="pp-pln"> line.hasMacro = lineHasMacro</span></div><div class="L0"><span class="pp-ln"> 110 </span><span class="pp-pln">                </span><span class="pp-tag">#</span><span class="pp-pln"> log 'last push line', line</span></div><div class="L1"><span class="pp-ln"> 111 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> lines.push(line)</span></div><div class="L2"><span class="pp-ln"> 112 </span><span class="pp-pln">                </span><span class="pp-tag">set</span><span class="pp-pln"> lineHasMacro = false</span></div><div class="L3"><span class="pp-ln"> 113 </span><span class="pp-pln">            </span><span class="pp-tag">return</span><span class="pp-pln"> lines</span></div><div class="L4"><span class="pp-ln"> 114 </span><span class="pp-pln">            </span><span class="pp-tag">function</span><span class="pp-pln"> processMacro</span></div><div class="L5"><span class="pp-ln"> 115 </span><span class="pp-pln">                </span><span class="pp-tag">param</span><span class="pp-pln"> cp</span></div><div class="L6"><span class="pp-ln"> 116 </span><span class="pp-pln">                </span><span class="pp-tag">if</span><span class="pp-pln"> macroState == MACRO.INSIDE_TEMPLATE_SEEN_ESCAPE</span></div><div class="L7"><span class="pp-ln"> 117 </span><span class="pp-pln">                    </span><span class="pp-tag">#</span><span class="pp-pln"> remove escape state</span></div><div class="L8"><span class="pp-ln"> 118 </span><span class="pp-pln">                    </span><span class="pp-tag">set</span><span class="pp-pln"> macroState = MACRO.INSIDE_TEMPLATE</span></div><div class="L9"><span class="pp-ln"> 119 </span><span class="pp-pln">                    </span><span class="pp-tag">_</span><span class="pp-pln"> processChar(cp)</span></div><div class="L0"><span class="pp-ln"> 120 </span><span class="pp-pln">                    </span><span class="pp-tag">#</span><span class="pp-pln"> log 'macroState', macroState, String.fromCodePoint(cp)</span></div><div class="L1"><span class="pp-ln"> 121 </span><span class="pp-pln">                </span><span class="pp-tag">elif</span><span class="pp-pln"> macroState == MACRO.INSIDE_TEMPLATE_SEEN_DOLLAR</span></div><div class="L2"><span class="pp-ln"> 122 </span><span class="pp-pln">                    </span><span class="pp-tag">if</span><span class="pp-pln"> cp == CP.OPEN_GRAPH</span></div><div class="L3"><span class="pp-ln"> 123 </span><span class="pp-pln">                        </span><span class="pp-tag">#</span><span class="pp-pln"> ok - really it was a start of macro</span></div><div class="L4"><span class="pp-ln"> 124 </span><span class="pp-pln">                        </span><span class="pp-tag">#</span><span class="pp-pln"> Alt+146 = Ã†</span></div><div class="L5"><span class="pp-ln"> 125 </span><span class="pp-pln">                        </span><span class="pp-tag">_</span><span class="pp-pln"> processChar(CP.MACRO_REPLACE)</span></div><div class="L6"><span class="pp-ln"> 126 </span><span class="pp-pln">                        </span><span class="pp-tag">_</span><span class="pp-pln"> processChar(CP.OPEN_GRAPH)</span></div><div class="L7"><span class="pp-ln"> 127 </span><span class="pp-pln">                        </span><span class="pp-tag">set</span><span class="pp-pln"> lineHasMacro = true</span></div><div class="L8"><span class="pp-ln"> 128 </span><span class="pp-pln">                    </span><span class="pp-tag">else</span></div><div class="L9"><span class="pp-ln"> 129 </span><span class="pp-pln">                        </span><span class="pp-tag">#</span><span class="pp-pln"> no - it was not a start of macro</span></div><div class="L0"><span class="pp-ln"> 130 </span><span class="pp-pln">                        </span><span class="pp-tag">_</span><span class="pp-pln"> processChar(CP.DOLLAR)</span></div><div class="L1"><span class="pp-ln"> 131 </span><span class="pp-pln">                        </span><span class="pp-tag">_</span><span class="pp-pln"> processChar(cp)</span></div><div class="L2"><span class="pp-ln"> 132 </span><span class="pp-pln">                    </span><span class="pp-tag">set</span><span class="pp-pln"> macroState = MACRO.INSIDE_TEMPLATE</span></div><div class="L3"><span class="pp-ln"> 133 </span><span class="pp-pln">                    </span><span class="pp-tag">#</span><span class="pp-pln"> log 'macroState', macroState, String.fromCodePoint(cp)</span></div><div class="L4"><span class="pp-ln"> 134 </span><span class="pp-pln">                </span><span class="pp-tag">else</span></div><div class="L5"><span class="pp-ln"> 135 </span><span class="pp-pln">                    </span><span class="pp-tag">if</span><span class="pp-pln"> cp == CP.BACKTICK</span></div><div class="L6"><span class="pp-ln"> 136 </span><span class="pp-pln">                        </span><span class="pp-tag">if</span><span class="pp-pln"> macroState &gt; MACRO.NONE</span></div><div class="L7"><span class="pp-ln"> 137 </span><span class="pp-pln">                            </span><span class="pp-tag">set</span><span class="pp-pln"> macroState = MACRO.NONE</span></div><div class="L8"><span class="pp-ln"> 138 </span><span class="pp-pln">                            </span><span class="pp-tag">_</span><span class="pp-pln"> processChar(cp)</span></div><div class="L9"><span class="pp-ln"> 139 </span><span class="pp-pln">                            </span><span class="pp-tag">#</span><span class="pp-pln"> log 'macroState', macroState, String.fromCodePoint(cp)</span></div><div class="L0"><span class="pp-ln"> 140 </span><span class="pp-pln">                        </span><span class="pp-tag">else</span></div><div class="L1"><span class="pp-ln"> 141 </span><span class="pp-pln">                            </span><span class="pp-tag">set</span><span class="pp-pln"> macroState = MACRO.INSIDE_TEMPLATE</span></div><div class="L2"><span class="pp-ln"> 142 </span><span class="pp-pln">                            </span><span class="pp-tag">_</span><span class="pp-pln"> processChar(cp)</span></div><div class="L3"><span class="pp-ln"> 143 </span><span class="pp-pln">                            </span><span class="pp-tag">#</span><span class="pp-pln"> log 'macroState', macroState, String.fromCodePoint(cp)</span></div><div class="L4"><span class="pp-ln"> 144 </span><span class="pp-pln">                    </span><span class="pp-tag">else</span></div><div class="L5"><span class="pp-ln"> 145 </span><span class="pp-pln">                        </span><span class="pp-tag">if</span><span class="pp-pln"> macroState == MACRO.INSIDE_TEMPLATE</span></div><div class="L6"><span class="pp-ln"> 146 </span><span class="pp-pln">                            </span><span class="pp-tag">if</span><span class="pp-pln"> cp == CP.DOLLAR</span></div><div class="L7"><span class="pp-ln"> 147 </span><span class="pp-pln">                                </span><span class="pp-tag">#</span><span class="pp-pln"> could be start of macro</span></div><div class="L8"><span class="pp-ln"> 148 </span><span class="pp-pln">                                </span><span class="pp-tag">set</span><span class="pp-pln"> macroState = MACRO.INSIDE_TEMPLATE_SEEN_DOLLAR</span></div><div class="L9"><span class="pp-ln"> 149 </span><span class="pp-pln">                                </span><span class="pp-tag">#</span><span class="pp-pln"> log 'macroState', macroState, String.fromCodePoint(cp)</span></div><div class="L0"><span class="pp-ln"> 150 </span><span class="pp-pln">                            </span><span class="pp-tag">elif</span><span class="pp-pln"> cp == CP.SLASH</span></div><div class="L1"><span class="pp-ln"> 151 </span><span class="pp-pln">                                </span><span class="pp-tag">#</span><span class="pp-pln"> could be an escape of a template start inside a template</span></div><div class="L2"><span class="pp-ln"> 152 </span><span class="pp-pln">                                </span><span class="pp-tag">set</span><span class="pp-pln"> macroState = MACRO.INSIDE_TEMPLATE_SEEN_ESCAPE</span></div><div class="L3"><span class="pp-ln"> 153 </span><span class="pp-pln">                                </span><span class="pp-tag">_</span><span class="pp-pln"> processChar(cp)</span></div><div class="L4"><span class="pp-ln"> 154 </span><span class="pp-pln">                                </span><span class="pp-tag">#</span><span class="pp-pln"> log 'macroState', macroState, String.fromCodePoint(cp)</span></div><div class="L5"><span class="pp-ln"> 155 </span><span class="pp-pln">                            </span><span class="pp-tag">else</span></div><div class="L6"><span class="pp-ln"> 156 </span><span class="pp-pln">                                </span><span class="pp-tag">#</span><span class="pp-pln"> log 'process char macroState', macroState, String.fromCodePoint(cp)</span></div><div class="L7"><span class="pp-ln"> 157 </span><span class="pp-pln">                                </span><span class="pp-tag">_</span><span class="pp-pln"> processChar(cp)</span></div><div class="L8"><span class="pp-ln"> 158 </span><span class="pp-pln">                        </span><span class="pp-tag">else</span></div><div class="L9"><span class="pp-ln"> 159 </span><span class="pp-pln">                            </span><span class="pp-tag">_</span><span class="pp-pln"> processChar(cp)</span></div><div class="L0"><span class="pp-ln"> 160 </span><span class="pp-pln">            </span><span class="pp-tag">function</span><span class="pp-pln"> processChar</span></div><div class="L1"><span class="pp-ln"> 161 </span><span class="pp-pln">                </span><span class="pp-tag">param</span><span class="pp-pln"> cp</span></div><div class="L2"><span class="pp-ln"> 162 </span><span class="pp-pln">                </span><span class="pp-tag">if</span><span class="pp-pln"> cp == CP.LF</span></div><div class="L3"><span class="pp-ln"> 163 </span><span class="pp-pln">                    </span><span class="pp-tag">if</span><span class="pp-pln"> line</span></div><div class="L4"><span class="pp-ln"> 164 </span><span class="pp-pln">                        </span><span class="pp-tag">if</span><span class="pp-pln"> typeof (line.value) !== 'undefined'</span></div><div class="L5"><span class="pp-ln"> 165 </span><span class="pp-pln">                            </span><span class="pp-tag">set</span><span class="pp-pln"> line.value = line.value.trim()</span></div><div class="L6"><span class="pp-ln"> 166 </span><span class="pp-pln">                        </span><span class="pp-tag">set</span><span class="pp-pln"> line.hasMacro = lineHasMacro</span></div><div class="L7"><span class="pp-ln"> 167 </span><span class="pp-pln">                        </span><span class="pp-tag">_</span><span class="pp-pln"> lines.push(line)</span></div><div class="L8"><span class="pp-ln"> 168 </span><span class="pp-pln">                        </span><span class="pp-tag">set</span><span class="pp-pln"> line = null</span></div><div class="L9"><span class="pp-ln"> 169 </span><span class="pp-pln">                        </span><span class="pp-tag">set</span><span class="pp-pln"> lineHasMacro = false</span></div><div class="L0"><span class="pp-ln"> 170 </span><span class="pp-pln">                    </span><span class="pp-tag">else</span></div><div class="L1"><span class="pp-ln"> 171 </span><span class="pp-pln">                        </span><span class="pp-tag">#</span><span class="pp-pln"> Allow blank line. Do nothing</span></div><div class="L2"><span class="pp-ln"> 172 </span><span class="pp-pln">                    </span><span class="pp-tag">set</span><span class="pp-pln"> leadingWhiteSpaces = 0</span></div><div class="L3"><span class="pp-ln"> 173 </span><span class="pp-pln">                    </span><span class="pp-tag">set</span><span class="pp-pln"> colpos = 0</span></div><div class="L4"><span class="pp-ln"> 174 </span><span class="pp-pln">                    </span><span class="pp-tag">set</span><span class="pp-pln"> linepos++</span></div><div class="L5"><span class="pp-ln"> 175 </span><span class="pp-pln">                    </span><span class="pp-tag">set</span><span class="pp-pln"> macroState = MACRO.NONE</span></div><div class="L6"><span class="pp-ln"> 176 </span><span class="pp-pln">                </span><span class="pp-tag">elif</span><span class="pp-pln"> cp == CP.CR</span></div><div class="L7"><span class="pp-ln"> 177 </span><span class="pp-pln">                </span><span class="pp-tag">elif</span><span class="pp-pln"> [CP.SPACE, CP.TAB].indexOf(cp) !== -1</span></div><div class="L8"><span class="pp-ln"> 178 </span><span class="pp-pln">                    </span><span class="pp-tag">if</span><span class="pp-pln"> cp == CP.TAB</span></div><div class="L9"><span class="pp-ln"> 179 </span><span class="pp-pln">                        </span><span class="pp-tag">set</span><span class="pp-pln"> colpos += 3</span></div><div class="L0"><span class="pp-ln"> 180 </span><span class="pp-pln">                    </span><span class="pp-tag">if</span><span class="pp-pln"> line</span></div><div class="L1"><span class="pp-ln"> 181 </span><span class="pp-pln">                        </span><span class="pp-tag">if</span><span class="pp-pln"> typeof (line.value) == 'undefined'</span></div><div class="L2"><span class="pp-ln"> 182 </span><span class="pp-pln">                            </span><span class="pp-tag">set</span><span class="pp-pln"> line.value = ''</span></div><div class="L3"><span class="pp-ln"> 183 </span><span class="pp-pln">                        </span><span class="pp-tag">else</span></div><div class="L4"><span class="pp-ln"> 184 </span><span class="pp-pln">                            </span><span class="pp-tag">set</span><span class="pp-pln"> line.value += String.fromCodePoint(cp)</span></div><div class="L5"><span class="pp-ln"> 185 </span><span class="pp-pln">                    </span><span class="pp-tag">else</span></div><div class="L6"><span class="pp-ln"> 186 </span><span class="pp-pln">                        </span><span class="pp-tag">set</span><span class="pp-pln"> leadingWhiteSpaces += (cp == CP.SPACE ? 1 : 4)</span></div><div class="L7"><span class="pp-ln"> 187 </span><span class="pp-pln">                </span><span class="pp-tag">else</span></div><div class="L8"><span class="pp-ln"> 188 </span><span class="pp-pln">                    </span><span class="pp-tag">if</span><span class="pp-pln"> line</span></div><div class="L9"><span class="pp-ln"> 189 </span><span class="pp-pln">                        </span><span class="pp-tag">if</span><span class="pp-pln"> typeof(line.value) == 'undefined'</span></div><div class="L0"><span class="pp-ln"> 190 </span><span class="pp-pln">                            </span><span class="pp-tag">if</span><span class="pp-pln"> cp == CP.OPEN_PAREN</span></div><div class="L1"><span class="pp-ln"> 191 </span><span class="pp-pln">                                </span><span class="pp-tag">set</span><span class="pp-pln"> line.tagSuffix = String.fromCodePoint(cp)</span></div><div class="L2"><span class="pp-ln"> 192 </span><span class="pp-pln">                                </span><span class="pp-tag">set</span><span class="pp-pln"> line.value = ''</span></div><div class="L3"><span class="pp-ln"> 193 </span><span class="pp-pln">                            </span><span class="pp-tag">else</span></div><div class="L4"><span class="pp-ln"> 194 </span><span class="pp-pln">                                </span><span class="pp-tag">set</span><span class="pp-pln"> line.name += String.fromCodePoint(cp)</span></div><div class="L5"><span class="pp-ln"> 195 </span><span class="pp-pln">                        </span><span class="pp-tag">else</span></div><div class="L6"><span class="pp-ln"> 196 </span><span class="pp-pln">                            </span><span class="pp-tag">set</span><span class="pp-pln"> line.value += String.fromCodePoint(cp)</span></div><div class="L7"><span class="pp-ln"> 197 </span><span class="pp-pln">                    </span><span class="pp-tag">else</span></div><div class="L8"><span class="pp-ln"> 198 </span><span class="pp-pln">                        </span><span class="pp-tag">set</span><span class="pp-pln"> line =</span></div><div class="L9"><span class="pp-ln"> 199 </span><span class="pp-pln">                            </span><span class="pp-tag">{</span></div><div class="L0"><span class="pp-ln"> 200 </span><span class="pp-pln">                                </span><span class="pp-tag">@</span><span class="pp-pln"> indent leadingWhiteSpaces / 4</span></div><div class="L1"><span class="pp-ln"> 201 </span><span class="pp-pln">                                </span><span class="pp-tag">@</span><span class="pp-pln"> name String.fromCodePoint(cp)</span></div><div class="L2"><span class="pp-ln"> 202 </span><span class="pp-pln">                                </span><span class="pp-tag">@</span><span class="pp-pln"> row linepos</span></div><div class="L3"><span class="pp-ln"> 203 </span><span class="pp-pln">                                </span><span class="pp-tag">@</span><span class="pp-pln"> col colpos</span></div><div class="L4"><span class="pp-ln"> 204 </span><span class="pp-pln">                                </span><span class="pp-tag">@</span><span class="pp-pln"> sourceKey sourceKey</span></div><div class="L5"><span class="pp-ln"> 205 </span><span class="pp-pln">                </span><span class="pp-tag">if</span><span class="pp-pln"> line</span></div><div class="L6"><span class="pp-ln"> 206 </span><span class="pp-pln">                    </span><span class="pp-tag">#</span><span class="pp-pln"> log 'line.name, value', line.name, line.value</span></div></pre>
                    </div>
                </div>
                <div class="code-panel" id="d47">
                    <div class="modal-view-container">
                        <h4 class="d-h2">/src/ittf/lib/ittfTree/asIsLoader/nodifier.js.ittf</h4>
                        <pre class="prettyprint">

<div class="L1"><span class="pp-ln">   1 </span><span class="pp-pln"></span><span class="pp-tag">module</span><span class="pp-pln"> wizzi-utils.ittfTree.asIsLoader.nodifier</span></div><div class="L2"><span class="pp-ln">   2 </span><span class="pp-pln">    </span><span class="pp-tag">kind</span><span class="pp-pln"> jsfile</span></div><div class="L3"><span class="pp-ln">   3 </span><span class="pp-pln">    </span><span class="pp-tag">var</span><span class="pp-pln"> util = require('util')</span></div><div class="L4"><span class="pp-ln">   4 </span><span class="pp-pln">    </span><span class="pp-tag">var</span><span class="pp-pln"> verify = require('../../verify')</span></div><div class="L5"><span class="pp-ln">   5 </span><span class="pp-pln">    </span><span class="pp-tag">#</span></div><div class="L6"><span class="pp-ln">   6 </span><span class="pp-pln">        </span><span class="pp-tag">#</span><span class="pp-pln"> Nodifies the lines of an IttfDocument and creates a</span></div><div class="L7"><span class="pp-ln">   7 </span><span class="pp-pln">        </span><span class="pp-tag">#</span><span class="pp-pln"> tree structure object based on line indentation.</span></div><div class="L8"><span class="pp-ln">   8 </span><span class="pp-pln">        </span><span class="pp-tag">#</span><span class="pp-pln"> . detects the $params command</span></div><div class="L9"><span class="pp-ln">   9 </span><span class="pp-pln">        </span><span class="pp-tag">#</span><span class="pp-pln"> . implements line continuation</span></div><div class="L0"><span class="pp-ln">  10 </span><span class="pp-pln">        </span><span class="pp-tag">#</span><span class="pp-pln"> . assigns an id to each node</span></div><div class="L1"><span class="pp-ln">  11 </span><span class="pp-pln">        </span><span class="pp-tag">#</span><span class="pp-pln"> !!! A line object is transformed in place into a node object</span></div><div class="L2"><span class="pp-ln">  12 </span><span class="pp-pln">        </span><span class="pp-tag">#</span><span class="pp-pln"> without recreation (no cloning) !!!</span></div><div class="L3"><span class="pp-ln">  13 </span><span class="pp-pln">        </span><span class="pp-tag">#</span></div><div class="L4"><span class="pp-ln">  14 </span><span class="pp-pln">        </span><span class="pp-tag">#</span><span class="pp-pln"> Inputs</span></div><div class="L5"><span class="pp-ln">  15 </span><span class="pp-pln">        </span><span class="pp-tag">#</span><span class="pp-pln"> - the lines produced by the liner</span></div><div class="L6"><span class="pp-ln">  16 </span><span class="pp-pln">        </span><span class="pp-tag">#</span><span class="pp-pln"> - a newly created, empty, mTreeBrick</span></div><div class="L7"><span class="pp-ln">  17 </span><span class="pp-pln">        </span><span class="pp-tag">#</span><span class="pp-pln"> Outputs</span></div><div class="L8"><span class="pp-ln">  18 </span><span class="pp-pln">        </span><span class="pp-tag">#</span><span class="pp-pln"> [ nodes</span></div><div class="L9"><span class="pp-ln">  19 </span><span class="pp-pln">        </span><span class="pp-tag">#</span><span class="pp-pln"> { line -&gt; mTreeNode</span></div><div class="L0"><span class="pp-ln">  20 </span><span class="pp-pln">        </span><span class="pp-tag">#</span><span class="pp-pln"> { parent</span></div><div class="L1"><span class="pp-ln">  21 </span><span class="pp-pln">        </span><span class="pp-tag">#</span><span class="pp-pln"> // parent mTreeNode</span></div><div class="L2"><span class="pp-ln">  22 </span><span class="pp-pln">        </span><span class="pp-tag">#</span><span class="pp-pln"> { model</span></div><div class="L3"><span class="pp-ln">  23 </span><span class="pp-pln">        </span><span class="pp-tag">#</span><span class="pp-pln"> // the mTreeBrick to which the line belongs</span></div><div class="L4"><span class="pp-ln">  24 </span><span class="pp-pln">        </span><span class="pp-tag">#</span><span class="pp-pln"> [ children</span></div><div class="L5"><span class="pp-ln">  25 </span><span class="pp-pln">        </span><span class="pp-tag">#</span><span class="pp-pln"> // the children mTreeNodes</span></div><div class="L6"><span class="pp-ln">  26 </span><span class="pp-pln">        </span><span class="pp-tag">#</span><span class="pp-pln"> id: Number,</span></div><div class="L7"><span class="pp-ln">  27 </span><span class="pp-pln">        </span><span class="pp-tag">#</span><span class="pp-pln"> indent: Number,</span></div><div class="L8"><span class="pp-ln">  28 </span><span class="pp-pln">        </span><span class="pp-tag">#</span><span class="pp-pln"> name: String,</span></div><div class="L9"><span class="pp-ln">  29 </span><span class="pp-pln">        </span><span class="pp-tag">#</span><span class="pp-pln"> value: String,</span></div><div class="L0"><span class="pp-ln">  30 </span><span class="pp-pln">        </span><span class="pp-tag">#</span><span class="pp-pln"> row: Number,</span></div><div class="L1"><span class="pp-ln">  31 </span><span class="pp-pln">        </span><span class="pp-tag">#</span><span class="pp-pln"> col: Number,</span></div><div class="L2"><span class="pp-ln">  32 </span><span class="pp-pln">        </span><span class="pp-tag">#</span><span class="pp-pln"> sourceKey: String,</span></div><div class="L3"><span class="pp-ln">  33 </span><span class="pp-pln">        </span><span class="pp-tag">#</span><span class="pp-pln"> tagSuffix: undefined || '('</span></div><div class="L4"><span class="pp-ln">  34 </span><span class="pp-pln">        </span><span class="pp-tag">#</span><span class="pp-pln"> hasMacro: Boolean</span></div><div class="L5"><span class="pp-ln">  35 </span><span class="pp-pln">        </span><span class="pp-tag">#</span></div><div class="L6"><span class="pp-ln">  36 </span><span class="pp-pln">        </span><span class="pp-tag">#</span><span class="pp-pln"> Ittf commands:</span></div><div class="L7"><span class="pp-ln">  37 </span><span class="pp-pln">        </span><span class="pp-tag">#</span><span class="pp-pln"> $params  // the param values are stored in the MTree</span></div><div class="L8"><span class="pp-ln">  38 </span><span class="pp-pln">        </span><span class="pp-tag">#</span><span class="pp-pln"> \        // implements line continuation</span></div><div class="L9"><span class="pp-ln">  39 </span><span class="pp-pln">        </span><span class="pp-tag">#</span><span class="pp-pln"> //   the value is appendend to the value of the parent line</span></div><div class="L0"><span class="pp-ln">  40 </span><span class="pp-pln">        </span><span class="pp-tag">#</span><span class="pp-pln"> //   without separators</span></div><div class="L1"><span class="pp-ln">  41 </span><span class="pp-pln">        </span><span class="pp-tag">#</span><span class="pp-pln"> \b       // implements line continuation</span></div><div class="L2"><span class="pp-ln">  42 </span><span class="pp-pln">        </span><span class="pp-tag">#</span><span class="pp-pln"> //   the value is appendend to the value of the parent line</span></div><div class="L3"><span class="pp-ln">  43 </span><span class="pp-pln">        </span><span class="pp-tag">#</span><span class="pp-pln"> //   with a space separator:  prevLine,value += ' ' + currentLine.value</span></div><div class="L4"><span class="pp-ln">  44 </span><span class="pp-pln">        </span><span class="pp-tag">#</span><span class="pp-pln"> \n       // implements line continuation</span></div><div class="L5"><span class="pp-ln">  45 </span><span class="pp-pln">        </span><span class="pp-tag">#</span><span class="pp-pln"> //   the value is appendend to the value of the parent line</span></div><div class="L6"><span class="pp-ln">  46 </span><span class="pp-pln">        </span><span class="pp-tag">#</span><span class="pp-pln"> //   with a line break separator:  prevLine,value += '\n' + currentLine.value</span></div><div class="L7"><span class="pp-ln">  47 </span><span class="pp-pln">        </span><span class="pp-tag">#</span></div><div class="L8"><span class="pp-ln">  48 </span><span class="pp-pln">    </span><span class="pp-tag">set</span><span class="pp-pln"> module.exports</span></div><div class="L9"><span class="pp-ln">  49 </span><span class="pp-pln">        </span><span class="pp-tag">function</span></div><div class="L0"><span class="pp-ln">  50 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> lines</span></div><div class="L1"><span class="pp-ln">  51 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> mTreeBrick</span></div><div class="L2"><span class="pp-ln">  52 </span><span class="pp-pln">            </span><span class="pp-tag">var</span></div><div class="L3"><span class="pp-ln">  53 </span><span class="pp-pln">                </span><span class="pp-tag">decl</span><span class="pp-pln"> nodes</span></div><div class="L4"><span class="pp-ln">  54 </span><span class="pp-pln">                    </span><span class="pp-tag">[</span></div><div class="L5"><span class="pp-ln">  55 </span><span class="pp-pln">                </span><span class="pp-tag">decl</span><span class="pp-pln"> root = null</span></div><div class="L6"><span class="pp-ln">  56 </span><span class="pp-pln">                </span><span class="pp-tag">decl</span><span class="pp-pln"> current = null</span></div><div class="L7"><span class="pp-ln">  57 </span><span class="pp-pln">                </span><span class="pp-tag">decl</span><span class="pp-pln"> nameFirstChar = null</span></div><div class="L8"><span class="pp-ln">  58 </span><span class="pp-pln">                </span><span class="pp-tag">decl</span><span class="pp-pln"> nameLength = 0</span></div><div class="L9"><span class="pp-ln">  59 </span><span class="pp-pln">                </span><span class="pp-tag">decl</span><span class="pp-pln"> line</span></div><div class="L0"><span class="pp-ln">  60 </span><span class="pp-pln">                </span><span class="pp-tag">decl</span><span class="pp-pln"> i</span></div><div class="L1"><span class="pp-ln">  61 </span><span class="pp-pln">                </span><span class="pp-tag">decl</span><span class="pp-pln"> l = lines.length</span></div><div class="L2"><span class="pp-ln">  62 </span><span class="pp-pln">            </span><span class="pp-tag">for</span><span class="pp-pln"> var i = 0; i &lt; l; i++</span></div><div class="L3"><span class="pp-ln">  63 </span><span class="pp-pln">                </span><span class="pp-tag">set</span><span class="pp-pln"> line = lines[i]</span></div><div class="L4"><span class="pp-ln">  64 </span><span class="pp-pln">                </span><span class="pp-tag">set</span><span class="pp-pln"> nameFirstChar = line.name[0]</span></div><div class="L5"><span class="pp-ln">  65 </span><span class="pp-pln">                </span><span class="pp-tag">set</span><span class="pp-pln"> nameLength = line.name.length</span></div><div class="L6"><span class="pp-ln">  66 </span><span class="pp-pln">                </span><span class="pp-tag">set</span><span class="pp-pln"> line.id = mTreeBrick.loadHistory.getNewNodeId()</span></div><div class="L7"><span class="pp-ln">  67 </span><span class="pp-pln">                </span><span class="pp-tag">set</span><span class="pp-pln"> line.model = mTreeBrick</span></div><div class="L8"><span class="pp-ln">  68 </span><span class="pp-pln">                </span><span class="pp-tag">if</span><span class="pp-pln"> line.indent == 0 && current == null</span></div><div class="L9"><span class="pp-ln">  69 </span><span class="pp-pln">                    </span><span class="pp-tag">set</span><span class="pp-pln"> line.parent = null</span></div><div class="L0"><span class="pp-ln">  70 </span><span class="pp-pln">                    </span><span class="pp-tag">_</span><span class="pp-pln"> nodes.push(line)</span></div><div class="L1"><span class="pp-ln">  71 </span><span class="pp-pln">                </span><span class="pp-tag">elif</span><span class="pp-pln"> current == null</span></div><div class="L2"><span class="pp-ln">  72 </span><span class="pp-pln">                    </span><span class="pp-tag">return</span></div><div class="L3"><span class="pp-ln">  73 </span><span class="pp-pln">                        </span><span class="pp-tag">_</span><span class="pp-pln"> local_error</span></div><div class="L4"><span class="pp-ln">  74 </span><span class="pp-pln">                            </span><span class="pp-tag">@</span><span class="pp-pln"> 'InvalidIttfError'</span></div><div class="L5"><span class="pp-ln">  75 </span><span class="pp-pln">                            </span><span class="pp-tag">@</span><span class="pp-pln"> 'default'</span></div><div class="L6"><span class="pp-ln">  76 </span><span class="pp-pln">                            </span><span class="pp-tag">@</span><span class="pp-pln"> 'Malformed tree, root node cannot have an indent.'</span></div><div class="L7"><span class="pp-ln">  77 </span><span class="pp-pln">                            </span><span class="pp-tag">@</span><span class="pp-pln"> line</span></div><div class="L8"><span class="pp-ln">  78 </span><span class="pp-pln">                            </span><span class="pp-tag">@</span><span class="pp-pln"> mTreeBrick</span></div><div class="L9"><span class="pp-ln">  79 </span><span class="pp-pln">                </span><span class="pp-tag">elif</span><span class="pp-pln"> line.indent == current.indent</span></div><div class="L0"><span class="pp-ln">  80 </span><span class="pp-pln">                    </span><span class="pp-tag">if</span><span class="pp-pln"> typeof(current.parent) === 'undefined' || current.parent === null</span></div><div class="L1"><span class="pp-ln">  81 </span><span class="pp-pln">                        </span><span class="pp-tag">return</span></div><div class="L2"><span class="pp-ln">  82 </span><span class="pp-pln">                            </span><span class="pp-tag">_</span><span class="pp-pln"> local_error</span></div><div class="L3"><span class="pp-ln">  83 </span><span class="pp-pln">                                </span><span class="pp-tag">@</span><span class="pp-pln"> 'InvalidIttfError'</span></div><div class="L4"><span class="pp-ln">  84 </span><span class="pp-pln">                                </span><span class="pp-tag">@</span><span class="pp-pln"> 'default'</span></div><div class="L5"><span class="pp-ln">  85 </span><span class="pp-pln">                                </span><span class="pp-tag">@</span><span class="pp-pln"> 'Malformed tree, only one root note allowed.'</span></div><div class="L6"><span class="pp-ln">  86 </span><span class="pp-pln">                                </span><span class="pp-tag">@</span><span class="pp-pln"> line</span></div><div class="L7"><span class="pp-ln">  87 </span><span class="pp-pln">                                </span><span class="pp-tag">@</span><span class="pp-pln"> mTreeBrick</span></div><div class="L8"><span class="pp-ln">  88 </span><span class="pp-pln">                    </span><span class="pp-tag">set</span><span class="pp-pln"> line.parent = current.parent</span></div><div class="L9"><span class="pp-ln">  89 </span><span class="pp-pln">                    </span><span class="pp-tag">_</span><span class="pp-pln"> current.parent.children.push(line)</span></div><div class="L0"><span class="pp-ln">  90 </span><span class="pp-pln">                </span><span class="pp-tag">elif</span><span class="pp-pln"> line.indent &gt; current.indent</span></div><div class="L1"><span class="pp-ln">  91 </span><span class="pp-pln">                    </span><span class="pp-tag">if</span><span class="pp-pln"> nameFirstChar == '$' && line.name === '$params'</span></div><div class="L2"><span class="pp-ln">  92 </span><span class="pp-pln">                        </span><span class="pp-tag">if</span><span class="pp-pln"> current.indent &gt; 0</span></div><div class="L3"><span class="pp-ln">  93 </span><span class="pp-pln">                            </span><span class="pp-tag">return</span></div><div class="L4"><span class="pp-ln">  94 </span><span class="pp-pln">                                </span><span class="pp-tag">_</span><span class="pp-pln"> local_error</span></div><div class="L5"><span class="pp-ln">  95 </span><span class="pp-pln">                                    </span><span class="pp-tag">@</span><span class="pp-pln"> 'InvalidIttfError'</span></div><div class="L6"><span class="pp-ln">  96 </span><span class="pp-pln">                                    </span><span class="pp-tag">@</span><span class="pp-pln"> 'default'</span></div><div class="L7"><span class="pp-ln">  97 </span><span class="pp-pln">                                    </span><span class="pp-tag">@</span><span class="pp-pln"> 'The $params node must be a child of the root node.'</span></div><div class="L8"><span class="pp-ln">  98 </span><span class="pp-pln">                                    </span><span class="pp-tag">@</span><span class="pp-pln"> line</span></div><div class="L9"><span class="pp-ln">  99 </span><span class="pp-pln">                                    </span><span class="pp-tag">@</span><span class="pp-pln"> mTreeBrick</span></div><div class="L0"><span class="pp-ln"> 100 </span><span class="pp-pln">                        </span><span class="pp-tag">set</span><span class="pp-pln"> current.model.$params = line.value</span></div><div class="L1"><span class="pp-ln"> 101 </span><span class="pp-pln">                        </span><span class="pp-tag">continue</span></div><div class="L2"><span class="pp-ln"> 102 </span><span class="pp-pln">                    </span><span class="pp-tag">elif</span><span class="pp-pln"> nameFirstChar == '\\' && nameLength == 1</span></div><div class="L3"><span class="pp-ln"> 103 </span><span class="pp-pln">                        </span><span class="pp-tag">#</span><span class="pp-pln"> value continuation on new line</span></div><div class="L4"><span class="pp-ln"> 104 </span><span class="pp-pln">                        </span><span class="pp-tag">set</span><span class="pp-pln"> current.value += line.value</span></div><div class="L5"><span class="pp-ln"> 105 </span><span class="pp-pln">                        </span><span class="pp-tag">continue</span></div><div class="L6"><span class="pp-ln"> 106 </span><span class="pp-pln">                    </span><span class="pp-tag">elif</span><span class="pp-pln"> nameFirstChar == '\\' && line.name === '\\b'</span></div><div class="L7"><span class="pp-ln"> 107 </span><span class="pp-pln">                        </span><span class="pp-tag">#</span><span class="pp-pln"> value continuation on new line with space</span></div><div class="L8"><span class="pp-ln"> 108 </span><span class="pp-pln">                        </span><span class="pp-tag">set</span><span class="pp-pln"> current.value += (' ' + line.value)</span></div><div class="L9"><span class="pp-ln"> 109 </span><span class="pp-pln">                        </span><span class="pp-tag">continue</span></div><div class="L0"><span class="pp-ln"> 110 </span><span class="pp-pln">                    </span><span class="pp-tag">elif</span><span class="pp-pln"> nameFirstChar == '\\' && line.name === '\\n'</span></div><div class="L1"><span class="pp-ln"> 111 </span><span class="pp-pln">                        </span><span class="pp-tag">#</span><span class="pp-pln"> value continuation on new line with line break</span></div><div class="L2"><span class="pp-ln"> 112 </span><span class="pp-pln">                        </span><span class="pp-tag">set</span><span class="pp-pln"> current.value += ('\n' + line.value)</span></div><div class="L3"><span class="pp-ln"> 113 </span><span class="pp-pln">                        </span><span class="pp-tag">continue</span></div><div class="L4"><span class="pp-ln"> 114 </span><span class="pp-pln">                    </span><span class="pp-tag">else</span></div><div class="L5"><span class="pp-ln"> 115 </span><span class="pp-pln">                        </span><span class="pp-tag">set</span><span class="pp-pln"> line.parent = current</span></div><div class="L6"><span class="pp-ln"> 116 </span><span class="pp-pln">                        </span><span class="pp-tag">_</span><span class="pp-pln"> current.children.push(line)</span></div><div class="L7"><span class="pp-ln"> 117 </span><span class="pp-pln">                </span><span class="pp-tag">elif</span><span class="pp-pln"> line.indent &lt; current.indent</span></div><div class="L8"><span class="pp-ln"> 118 </span><span class="pp-pln">                    </span><span class="pp-tag">var</span><span class="pp-pln"> parent = current.parent</span></div><div class="L9"><span class="pp-ln"> 119 </span><span class="pp-pln">                    </span><span class="pp-tag">while</span><span class="pp-pln"> parent != null && line.indent &lt; parent.indent</span></div><div class="L0"><span class="pp-ln"> 120 </span><span class="pp-pln">                        </span><span class="pp-tag">set</span><span class="pp-pln"> parent = parent.parent</span></div><div class="L1"><span class="pp-ln"> 121 </span><span class="pp-pln">                    </span><span class="pp-tag">set</span><span class="pp-pln"> line.parent = parent.parent</span></div><div class="L2"><span class="pp-ln"> 122 </span><span class="pp-pln">                    </span><span class="pp-tag">if</span><span class="pp-pln"> parent.parent</span></div><div class="L3"><span class="pp-ln"> 123 </span><span class="pp-pln">                        </span><span class="pp-tag">_</span><span class="pp-pln"> parent.parent.children.push(line)</span></div><div class="L4"><span class="pp-ln"> 124 </span><span class="pp-pln">                    </span><span class="pp-tag">else</span></div><div class="L5"><span class="pp-ln"> 125 </span><span class="pp-pln">                        </span><span class="pp-tag">return</span></div><div class="L6"><span class="pp-ln"> 126 </span><span class="pp-pln">                            </span><span class="pp-tag">_</span><span class="pp-pln"> local_error</span></div><div class="L7"><span class="pp-ln"> 127 </span><span class="pp-pln">                                </span><span class="pp-tag">@</span><span class="pp-pln"> 'InvalidIttfError'</span></div><div class="L8"><span class="pp-ln"> 128 </span><span class="pp-pln">                                </span><span class="pp-tag">@</span><span class="pp-pln"> 'default'</span></div><div class="L9"><span class="pp-ln"> 129 </span><span class="pp-pln">                                </span><span class="pp-tag">@</span><span class="pp-pln"> 'Malformed tree, only one root note allowed.'</span></div><div class="L0"><span class="pp-ln"> 130 </span><span class="pp-pln">                                </span><span class="pp-tag">@</span><span class="pp-pln"> line</span></div><div class="L1"><span class="pp-ln"> 131 </span><span class="pp-pln">                                </span><span class="pp-tag">@</span><span class="pp-pln"> mTreeBrick</span></div><div class="L2"><span class="pp-ln"> 132 </span><span class="pp-pln">                </span><span class="pp-tag">set</span><span class="pp-pln"> current = line</span></div><div class="L3"><span class="pp-ln"> 133 </span><span class="pp-pln">                </span><span class="pp-tag">set</span><span class="pp-pln"> current.children = []</span></div><div class="L4"><span class="pp-ln"> 134 </span><span class="pp-pln">            </span><span class="pp-tag">return</span><span class="pp-pln"> nodes</span></div><div class="L5"><span class="pp-ln"> 135 </span><span class="pp-pln">    </span><span class="pp-tag">function</span><span class="pp-pln"> local_error</span></div><div class="L6"><span class="pp-ln"> 136 </span><span class="pp-pln">        </span><span class="pp-tag">param</span><span class="pp-pln"> name</span></div><div class="L7"><span class="pp-ln"> 137 </span><span class="pp-pln">        </span><span class="pp-tag">param</span><span class="pp-pln"> method</span></div><div class="L8"><span class="pp-ln"> 138 </span><span class="pp-pln">        </span><span class="pp-tag">param</span><span class="pp-pln"> message</span></div><div class="L9"><span class="pp-ln"> 139 </span><span class="pp-pln">        </span><span class="pp-tag">param</span><span class="pp-pln"> line</span></div><div class="L0"><span class="pp-ln"> 140 </span><span class="pp-pln">        </span><span class="pp-tag">param</span><span class="pp-pln"> mTreeBrick</span></div><div class="L1"><span class="pp-ln"> 141 </span><span class="pp-pln">        </span><span class="pp-tag">if</span><span class="pp-pln"> line</span></div><div class="L2"><span class="pp-ln"> 142 </span><span class="pp-pln">            </span><span class="pp-tag">set</span><span class="pp-pln"> message = message + '\nIn node: ' + line.name + ' ' + (line.value || '') + ' row: ' + line.row + ' col: ' + line.col + ' file: ' + mTreeBrick.uri</span></div><div class="L3"><span class="pp-ln"> 143 </span><span class="pp-pln">        </span><span class="pp-tag">return</span></div><div class="L4"><span class="pp-ln"> 144 </span><span class="pp-pln">            </span><span class="pp-tag">_</span><span class="pp-pln"> error</span></div><div class="L5"><span class="pp-ln"> 145 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> name</span></div><div class="L6"><span class="pp-ln"> 146 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> method</span></div><div class="L7"><span class="pp-ln"> 147 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> message</span></div><div class="L8"><span class="pp-ln"> 148 </span><span class="pp-pln">    </span><span class="pp-mix frag-to-link-a" data-frag-id="d128">wzerror(</span><span class="pp-arg"> wizzi-utils.ittfTree.asIsLoader.nodifier </span><span class="pp-mix">)</span></div></pre>
                    </div>
                </div>
                <div class="code-panel" id="d48">
                    <div class="modal-view-container">
                        <h4 class="d-h2">/src/ittf/lib/ittfTree/t/ittfFinder/recurseTFolder.js.ittf</h4>
                        <pre class="prettyprint">

<div class="L1"><span class="pp-ln">   1 </span><span class="pp-pln"></span><span class="pp-kwd">$group</span></div><div class="L2"><span class="pp-ln">   2 </span><span class="pp-pln">    </span><span class="pp-tag">function</span><span class="pp-pln"> recurseTFolder</span></div><div class="L3"><span class="pp-ln">   3 </span><span class="pp-pln">        </span><span class="pp-tag">param</span><span class="pp-pln"> basePath</span></div><div class="L4"><span class="pp-ln">   4 </span><span class="pp-pln">        </span><span class="pp-tag">param</span><span class="pp-pln"> relPath</span></div><div class="L5"><span class="pp-ln">   5 </span><span class="pp-pln">        </span><span class="pp-tag">param</span><span class="pp-pln"> schema</span></div><div class="L6"><span class="pp-ln">   6 </span><span class="pp-pln">        </span><span class="pp-tag">#</span><span class="pp-pln"> log 'wizzi-utils.finder.recurseTFolder', basePath, relPath, schema</span></div><div class="L7"><span class="pp-ln">   7 </span><span class="pp-pln">        </span><span class="pp-tag">var</span><span class="pp-pln"> ittfDocumentUri = path.join(basePath, 't', relPath)</span></div><div class="L8"><span class="pp-ln">   8 </span><span class="pp-pln">        </span><span class="pp-tag">var</span><span class="pp-pln"> result</span></div><div class="L9"><span class="pp-ln">   9 </span><span class="pp-pln">            </span><span class="pp-tag">_</span><span class="pp-pln"> tryExists</span></div><div class="L0"><span class="pp-ln">  10 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> ittfDocumentUri</span></div><div class="L1"><span class="pp-ln">  11 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> schema</span></div><div class="L2"><span class="pp-ln">  12 </span><span class="pp-pln">        </span><span class="pp-tag">if</span><span class="pp-pln"> result.found</span></div><div class="L3"><span class="pp-ln">  13 </span><span class="pp-pln">            </span><span class="pp-tag">#</span><span class="pp-pln"> log 'recurseTFolder found', result</span></div><div class="L4"><span class="pp-ln">  14 </span><span class="pp-pln">            </span><span class="pp-tag">return</span><span class="pp-pln"> result</span></div><div class="L5"><span class="pp-ln">  15 </span><span class="pp-pln">        </span><span class="pp-tag">else</span></div><div class="L6"><span class="pp-ln">  16 </span><span class="pp-pln">            </span><span class="pp-tag">set</span><span class="pp-pln"> basePath = path.dirname(basePath)</span></div><div class="L7"><span class="pp-ln">  17 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> basePath.length &gt; 3</span></div><div class="L8"><span class="pp-ln">  18 </span><span class="pp-pln">                </span><span class="pp-tag">return</span></div><div class="L9"><span class="pp-ln">  19 </span><span class="pp-pln">                    </span><span class="pp-tag">_</span><span class="pp-pln"> recurseTFolder</span></div><div class="L0"><span class="pp-ln">  20 </span><span class="pp-pln">                        </span><span class="pp-tag">@</span><span class="pp-pln"> basePath</span></div><div class="L1"><span class="pp-ln">  21 </span><span class="pp-pln">                        </span><span class="pp-tag">@</span><span class="pp-pln"> relPath</span></div><div class="L2"><span class="pp-ln">  22 </span><span class="pp-pln">                        </span><span class="pp-tag">@</span><span class="pp-pln"> schema</span></div><div class="L3"><span class="pp-ln">  23 </span><span class="pp-pln">            </span><span class="pp-tag">else</span></div><div class="L4"><span class="pp-ln">  24 </span><span class="pp-pln">                </span><span class="pp-tag">#</span><span class="pp-pln"> log 'recurseTFolder not found', ittfDocumentUri</span></div><div class="L5"><span class="pp-ln">  25 </span><span class="pp-pln">                </span><span class="pp-tag">return</span></div><div class="L6"><span class="pp-ln">  26 </span><span class="pp-pln">                    </span><span class="pp-tag">{</span></div><div class="L7"><span class="pp-ln">  27 </span><span class="pp-pln">                        </span><span class="pp-tag">@</span><span class="pp-pln"> found false</span></div></pre>
                    </div>
                </div>
                <div class="code-panel" id="d49">
                    <div class="modal-view-container">
                        <h4 class="d-h2">/src/ittf/lib/ittfTree/t/ittfFinder/tryExists.js.ittf</h4>
                        <pre class="prettyprint">

<div class="L1"><span class="pp-ln">   1 </span><span class="pp-pln"></span><span class="pp-kwd">$group</span></div><div class="L2"><span class="pp-ln">   2 </span><span class="pp-pln">    </span><span class="pp-tag">function</span><span class="pp-pln"> tryExists</span></div><div class="L3"><span class="pp-ln">   3 </span><span class="pp-pln">        </span><span class="pp-tag">param</span><span class="pp-pln"> test</span></div><div class="L4"><span class="pp-ln">   4 </span><span class="pp-pln">        </span><span class="pp-tag">param</span><span class="pp-pln"> schema</span></div><div class="L5"><span class="pp-ln">   5 </span><span class="pp-pln">        </span><span class="pp-tag">if</span><span class="pp-pln"> file.isFile(test)</span></div><div class="L6"><span class="pp-ln">   6 </span><span class="pp-pln">            </span><span class="pp-tag">return</span></div><div class="L7"><span class="pp-ln">   7 </span><span class="pp-pln">                </span><span class="pp-tag">{</span></div><div class="L8"><span class="pp-ln">   8 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> found true</span></div><div class="L9"><span class="pp-ln">   9 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> ittfDocumentUri test</span></div><div class="L0"><span class="pp-ln">  10 </span><span class="pp-pln">        </span><span class="pp-tag">else</span></div><div class="L1"><span class="pp-ln">  11 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> test.toLowerCase().substr(-5, 5) !== '.ittf'</span></div><div class="L2"><span class="pp-ln">  12 </span><span class="pp-pln">                </span><span class="pp-tag">if</span><span class="pp-pln"> schema</span></div><div class="L3"><span class="pp-ln">  13 </span><span class="pp-pln">                    </span><span class="pp-tag">if</span><span class="pp-pln"> file.isFile(test + '.' + schema + '.ittf')</span></div><div class="L4"><span class="pp-ln">  14 </span><span class="pp-pln">                        </span><span class="pp-tag">return</span></div><div class="L5"><span class="pp-ln">  15 </span><span class="pp-pln">                            </span><span class="pp-tag">{</span></div><div class="L6"><span class="pp-ln">  16 </span><span class="pp-pln">                                </span><span class="pp-tag">@</span><span class="pp-pln"> found true</span></div><div class="L7"><span class="pp-ln">  17 </span><span class="pp-pln">                                </span><span class="pp-tag">@</span><span class="pp-pln"> ittfDocumentUri test + '.' + schema + '.ittf'</span></div><div class="L8"><span class="pp-ln">  18 </span><span class="pp-pln">                    </span><span class="pp-tag">else</span></div><div class="L9"><span class="pp-ln">  19 </span><span class="pp-pln">                        </span><span class="pp-tag">if</span><span class="pp-pln"> file.isFile(test + '.ittf')</span></div><div class="L0"><span class="pp-ln">  20 </span><span class="pp-pln">                            </span><span class="pp-tag">return</span></div><div class="L1"><span class="pp-ln">  21 </span><span class="pp-pln">                                </span><span class="pp-tag">{</span></div><div class="L2"><span class="pp-ln">  22 </span><span class="pp-pln">                                    </span><span class="pp-tag">@</span><span class="pp-pln"> found true</span></div><div class="L3"><span class="pp-ln">  23 </span><span class="pp-pln">                                    </span><span class="pp-tag">@</span><span class="pp-pln"> ittfDocumentUri test + '.ittf'</span></div><div class="L4"><span class="pp-ln">  24 </span><span class="pp-pln">                        </span><span class="pp-tag">else</span></div><div class="L5"><span class="pp-ln">  25 </span><span class="pp-pln">                            </span><span class="pp-tag">return</span></div><div class="L6"><span class="pp-ln">  26 </span><span class="pp-pln">                                </span><span class="pp-tag">{</span></div><div class="L7"><span class="pp-ln">  27 </span><span class="pp-pln">                                    </span><span class="pp-tag">@</span><span class="pp-pln"> found false</span></div><div class="L8"><span class="pp-ln">  28 </span><span class="pp-pln">                </span><span class="pp-tag">else</span></div><div class="L9"><span class="pp-ln">  29 </span><span class="pp-pln">                    </span><span class="pp-tag">return</span></div><div class="L0"><span class="pp-ln">  30 </span><span class="pp-pln">                        </span><span class="pp-tag">{</span></div><div class="L1"><span class="pp-ln">  31 </span><span class="pp-pln">                            </span><span class="pp-tag">@</span><span class="pp-pln"> found false</span></div><div class="L2"><span class="pp-ln">  32 </span><span class="pp-pln">            </span><span class="pp-tag">else</span></div><div class="L3"><span class="pp-ln">  33 </span><span class="pp-pln">                </span><span class="pp-tag">return</span></div><div class="L4"><span class="pp-ln">  34 </span><span class="pp-pln">                    </span><span class="pp-tag">{</span></div><div class="L5"><span class="pp-ln">  35 </span><span class="pp-pln">                        </span><span class="pp-tag">@</span><span class="pp-pln"> found false</span></div></pre>
                    </div>
                </div>
                <div class="code-panel" id="d50">
                    <div class="modal-view-container">
                        <h4 class="d-h2">/src/ittf/lib/ittfTree/t/IttfMTreeEx/analize.js.ittf</h4>
                        <pre class="prettyprint">

<div class="L1"><span class="pp-ln">   1 </span><span class="pp-pln"></span><span class="pp-kwd">$group</span></div><div class="L2"><span class="pp-ln">   2 </span><span class="pp-pln">    </span><span class="pp-tag">m</span><span class="pp-pln"> analize</span></div><div class="L3"><span class="pp-ln">   3 </span><span class="pp-pln">        </span><span class="pp-tag">param</span><span class="pp-pln"> ctx</span></div><div class="L4"><span class="pp-ln">   4 </span><span class="pp-pln">        </span><span class="pp-tag">if</span><span class="pp-pln"> this.isMixinCall()</span></div><div class="L5"><span class="pp-ln">   5 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> this.root().model.uri.indexOf('__copy') &gt; -1</span></div><div class="L6"><span class="pp-ln">   6 </span><span class="pp-pln">                </span><span class="pp-tag">return</span><span class="pp-pln"> false</span></div><div class="L7"><span class="pp-ln">   7 </span><span class="pp-pln">            </span><span class="pp-tag">set</span><span class="pp-pln"> this.fragmentName</span></div><div class="L8"><span class="pp-ln">   8 </span><span class="pp-pln">                </span><span class="pp-tag">iif</span><span class="pp-pln"> verify.endsWith(this.name, '(')</span></div><div class="L9"><span class="pp-ln">   9 </span><span class="pp-pln">                    </span><span class="pp-tag">then</span><span class="pp-pln"> this.name.substr(0, this.name.length -1)</span></div><div class="L0"><span class="pp-ln">  10 </span><span class="pp-pln">                    </span><span class="pp-tag">else</span><span class="pp-pln"> this.name</span></div><div class="L1"><span class="pp-ln">  11 </span><span class="pp-pln">            </span><span class="pp-tag">set</span><span class="pp-pln"> this.fragmentPath</span></div><div class="L2"><span class="pp-ln">  12 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> ittfFinder.findFragment</span></div><div class="L3"><span class="pp-ln">  13 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> this.root().model.uri</span></div><div class="L4"><span class="pp-ln">  14 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> this.fragmentName</span></div><div class="L5"><span class="pp-ln">  15 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> this.fragmentPath.__is_error</span></div><div class="L6"><span class="pp-ln">  16 </span><span class="pp-pln">                </span><span class="pp-tag">log</span><span class="pp-pln"> 'wizzi-utils.ittfMTreeEx.analize.this.fragmentPath', this.fragmentPath</span></div><div class="L7"><span class="pp-ln">  17 </span><span class="pp-pln">            </span><span class="pp-tag">else</span></div><div class="L8"><span class="pp-ln">  18 </span><span class="pp-pln">                </span><span class="pp-tag">var</span><span class="pp-pln"> mixinIttfFsNodePath</span></div><div class="L9"><span class="pp-ln">  19 </span><span class="pp-pln">                    </span><span class="pp-tag">plus</span></div><div class="L0"><span class="pp-ln">  20 </span><span class="pp-pln">                        </span><span class="pp-tag">+</span><span class="pp-pln"> '/'</span></div><div class="L1"><span class="pp-ln">  21 </span><span class="pp-pln">                        </span><span class="pp-tag">_</span><span class="pp-pln"> path.relative</span></div><div class="L2"><span class="pp-ln">  22 </span><span class="pp-pln">                            </span><span class="pp-tag">@</span><span class="pp-pln"> ctx.ittfBasePath</span></div><div class="L3"><span class="pp-ln">  23 </span><span class="pp-pln">                            </span><span class="pp-tag">@</span><span class="pp-pln"> this.fragmentPath</span></div><div class="L4"><span class="pp-ln">  24 </span><span class="pp-pln">                </span><span class="pp-tag">var</span><span class="pp-pln"> fragmentDocument = ctx.ittfFsNode.searchDocument(mixinIttfFsNodePath)</span></div><div class="L5"><span class="pp-ln">  25 </span><span class="pp-pln">                </span><span class="pp-tag">set</span><span class="pp-pln"> ctx.fragments[this.fragmentName]</span></div><div class="L6"><span class="pp-ln">  26 </span><span class="pp-pln">                    </span><span class="pp-tag">{</span></div><div class="L7"><span class="pp-ln">  27 </span><span class="pp-pln">                        </span><span class="pp-tag">@</span><span class="pp-pln"> id (fragmentDocument ? fragmentDocument.id : 'unknown')</span></div><div class="L8"><span class="pp-ln">  28 </span><span class="pp-pln">                        </span><span class="pp-tag">@</span><span class="pp-pln"> uri this.fragmentPath</span></div><div class="L9"><span class="pp-ln">  29 </span><span class="pp-pln">        </span><span class="pp-tag">elif</span><span class="pp-pln"> this.isIncludeCall()</span></div><div class="L0"><span class="pp-ln">  30 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> this.root().model.uri.indexOf('__copy') &gt; -1</span></div><div class="L1"><span class="pp-ln">  31 </span><span class="pp-pln">                </span><span class="pp-tag">return</span><span class="pp-pln"> false</span></div><div class="L2"><span class="pp-ln">  32 </span><span class="pp-pln">            </span><span class="pp-tag">set</span><span class="pp-pln"> this.fragmentName = this.value</span></div><div class="L3"><span class="pp-ln">  33 </span><span class="pp-pln">            </span><span class="pp-tag">set</span><span class="pp-pln"> this.fragmentPath</span></div><div class="L4"><span class="pp-ln">  34 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> ittfFinder.findFragment</span></div><div class="L5"><span class="pp-ln">  35 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> this.root().model.uri</span></div><div class="L6"><span class="pp-ln">  36 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> this.fragmentName</span></div><div class="L7"><span class="pp-ln">  37 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> this.fragmentPath.__is_error</span></div><div class="L8"><span class="pp-ln">  38 </span><span class="pp-pln">                </span><span class="pp-tag">log</span><span class="pp-pln"> 'wizzi-utils.ittfMTreeEx.analize.this.fragmentPath', this.fragmentPath</span></div><div class="L9"><span class="pp-ln">  39 </span><span class="pp-pln">            </span><span class="pp-tag">else</span></div><div class="L0"><span class="pp-ln">  40 </span><span class="pp-pln">                </span><span class="pp-tag">var</span><span class="pp-pln"> includeIttfFsNodePath</span></div><div class="L1"><span class="pp-ln">  41 </span><span class="pp-pln">                    </span><span class="pp-tag">plus</span></div><div class="L2"><span class="pp-ln">  42 </span><span class="pp-pln">                        </span><span class="pp-tag">+</span><span class="pp-pln"> '/'</span></div><div class="L3"><span class="pp-ln">  43 </span><span class="pp-pln">                        </span><span class="pp-tag">_</span><span class="pp-pln"> path.relative</span></div><div class="L4"><span class="pp-ln">  44 </span><span class="pp-pln">                            </span><span class="pp-tag">@</span><span class="pp-pln"> ctx.ittfBasePath</span></div><div class="L5"><span class="pp-ln">  45 </span><span class="pp-pln">                            </span><span class="pp-tag">@</span><span class="pp-pln"> this.fragmentPath</span></div><div class="L6"><span class="pp-ln">  46 </span><span class="pp-pln">                </span><span class="pp-tag">var</span><span class="pp-pln"> fragmentDocument = ctx.ittfFsNode.searchDocument(includeIttfFsNodePath)</span></div><div class="L7"><span class="pp-ln">  47 </span><span class="pp-pln">                </span><span class="pp-tag">set</span><span class="pp-pln"> ctx.fragments[this.fragmentName]</span></div><div class="L8"><span class="pp-ln">  48 </span><span class="pp-pln">                    </span><span class="pp-tag">{</span></div><div class="L9"><span class="pp-ln">  49 </span><span class="pp-pln">                        </span><span class="pp-tag">@</span><span class="pp-pln"> id (fragmentDocument ? fragmentDocument.id : 'unknown')</span></div><div class="L0"><span class="pp-ln">  50 </span><span class="pp-pln">                        </span><span class="pp-tag">@</span><span class="pp-pln"> uri this.fragmentPath</span></div><div class="L1"><span class="pp-ln">  51 </span><span class="pp-pln">        </span><span class="pp-tag">if</span><span class="pp-pln"> this.isCodeDeclare() == false && this.isMultilineDeclare() == false</span></div><div class="L2"><span class="pp-ln">  52 </span><span class="pp-pln">            </span><span class="pp-tag">foreach</span><span class="pp-pln"> c in this.children</span></div><div class="L3"><span class="pp-ln">  53 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> c.analize(ctx)</span></div></pre>
                    </div>
                </div>
                <div class="code-panel" id="d51">
                    <div class="modal-view-container">
                        <h4 class="d-h2">/src/ittf/lib/ittfTree/t/IttfMTreeEx/detect.js.ittf</h4>
                        <pre class="prettyprint">

<div class="L1"><span class="pp-ln">   1 </span><span class="pp-pln"></span><span class="pp-kwd">$group</span></div><div class="L2"><span class="pp-ln">   2 </span><span class="pp-pln">    </span><span class="pp-tag">m</span><span class="pp-pln"> isCommand</span></div><div class="L3"><span class="pp-ln">   3 </span><span class="pp-pln">        </span><span class="pp-tag">return</span><span class="pp-pln"> this.name && this.name[0] === '$'</span></div><div class="L4"><span class="pp-ln">   4 </span><span class="pp-pln">    </span><span class="pp-tag">m</span><span class="pp-pln"> isExpressionCommand</span></div><div class="L5"><span class="pp-ln">   5 </span><span class="pp-pln">        </span><span class="pp-tag">return</span><span class="pp-pln"> this.name && ['$if', '$elif', '$foreach', '$backeach', '$while'].indexOf(this.name) == 0</span></div><div class="L6"><span class="pp-ln">   6 </span><span class="pp-pln">    </span><span class="pp-tag">m</span><span class="pp-pln"> isCodeDeclare</span></div><div class="L7"><span class="pp-ln">   7 </span><span class="pp-pln">        </span><span class="pp-tag">return</span><span class="pp-pln"> this.name && ['$', '$global'].indexOf(this.name) == 0</span></div><div class="L8"><span class="pp-ln">   8 </span><span class="pp-pln">    </span><span class="pp-tag">m</span><span class="pp-pln"> isMultilineDeclare</span></div><div class="L9"><span class="pp-ln">   9 </span><span class="pp-pln">        </span><span class="pp-tag">return</span><span class="pp-pln"> this.name && ['$.'].indexOf(this.name) == 0</span></div><div class="L0"><span class="pp-ln">  10 </span><span class="pp-pln">    </span><span class="pp-tag">m</span><span class="pp-pln"> isCode</span></div><div class="L1"><span class="pp-ln">  11 </span><span class="pp-pln">        </span><span class="pp-tag">var</span><span class="pp-pln"> test = this.parent</span></div><div class="L2"><span class="pp-ln">  12 </span><span class="pp-pln">        </span><span class="pp-tag">while</span><span class="pp-pln"> test</span></div><div class="L3"><span class="pp-ln">  13 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> test.isCodeDeclare()</span></div><div class="L4"><span class="pp-ln">  14 </span><span class="pp-pln">                </span><span class="pp-tag">return</span><span class="pp-pln"> true</span></div><div class="L5"><span class="pp-ln">  15 </span><span class="pp-pln">            </span><span class="pp-tag">set</span><span class="pp-pln"> test = test.parent</span></div><div class="L6"><span class="pp-ln">  16 </span><span class="pp-pln">        </span><span class="pp-tag">return</span><span class="pp-pln"> false</span></div><div class="L7"><span class="pp-ln">  17 </span><span class="pp-pln">    </span><span class="pp-tag">m</span><span class="pp-pln"> isMixinCall</span></div><div class="L8"><span class="pp-ln">  18 </span><span class="pp-pln">        </span><span class="pp-tag">return</span><span class="pp-pln"> this.name && this.name.substr(-1,1) === '('</span></div><div class="L9"><span class="pp-ln">  19 </span><span class="pp-pln">    </span><span class="pp-tag">m</span><span class="pp-pln"> isIncludeCall</span></div><div class="L0"><span class="pp-ln">  20 </span><span class="pp-pln">        </span><span class="pp-tag">return</span><span class="pp-pln"> this.name === '$include'</span></div><div class="L1"><span class="pp-ln">  21 </span><span class="pp-pln">    </span><span class="pp-tag">m</span><span class="pp-pln"> isLineContinuation</span></div><div class="L2"><span class="pp-ln">  22 </span><span class="pp-pln">        </span><span class="pp-tag">return</span><span class="pp-pln"> this.name && ['\\', '\\b', '\\n'].indexOf(this.name) == 0</span></div><div class="L3"><span class="pp-ln">  23 </span><span class="pp-pln">    </span><span class="pp-tag">m</span><span class="pp-pln"> getMixinArgs</span></div><div class="L4"><span class="pp-ln">  24 </span><span class="pp-pln">        </span><span class="pp-tag">var</span><span class="pp-pln"> ret = []</span></div><div class="L5"><span class="pp-ln">  25 </span><span class="pp-pln">        </span><span class="pp-tag">if</span><span class="pp-pln"> this.isMixinCall()</span></div><div class="L6"><span class="pp-ln">  26 </span><span class="pp-pln">            </span><span class="pp-tag">var</span><span class="pp-pln"> v = this.value.trim()</span></div><div class="L7"><span class="pp-ln">  27 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> v.substr(-1) === ')'</span></div><div class="L8"><span class="pp-ln">  28 </span><span class="pp-pln">                </span><span class="pp-tag">set</span><span class="pp-pln"> v = v.substr(0, v.length-1)</span></div><div class="L9"><span class="pp-ln">  29 </span><span class="pp-pln">            </span><span class="pp-tag">var</span><span class="pp-pln"> ss = v.split(',')</span></div><div class="L0"><span class="pp-ln">  30 </span><span class="pp-pln">            </span><span class="pp-tag">foreach</span><span class="pp-pln"> s in ss</span></div><div class="L1"><span class="pp-ln">  31 </span><span class="pp-pln">                </span><span class="pp-tag">if</span><span class="pp-pln"> s.length &gt; 0</span></div><div class="L2"><span class="pp-ln">  32 </span><span class="pp-pln">                    </span><span class="pp-tag">_</span><span class="pp-pln"> ret.push(s)</span></div><div class="L3"><span class="pp-ln">  33 </span><span class="pp-pln">        </span><span class="pp-tag">return</span><span class="pp-pln"> ret</span></div><div class="L4"><span class="pp-ln">  34 </span><span class="pp-pln">    </span><span class="pp-tag">m</span><span class="pp-pln"> getValueParsed</span></div><div class="L5"><span class="pp-ln">  35 </span><span class="pp-pln">        </span><span class="pp-tag">#</span></div><div class="L6"><span class="pp-ln">  36 </span><span class="pp-pln">        </span><span class="pp-tag">#</span><span class="pp-pln"> Parses this mTree node value property</span></div><div class="L7"><span class="pp-ln">  37 </span><span class="pp-pln">        </span><span class="pp-tag">#</span><span class="pp-pln"> detecting interpolations: </span><span class="pp-kwd">${</span><span class="pp-expr">'$'</span><span class="pp-kwd">}</span><span class="pp-pln">{expr}</span></div><div class="L8"><span class="pp-ln">  38 </span><span class="pp-pln">        </span><span class="pp-tag">#</span><span class="pp-pln"> Returns an array of value parts where part items can be</span></div><div class="L9"><span class="pp-ln">  39 </span><span class="pp-pln">        </span><span class="pp-tag">#</span><span class="pp-pln"> of type 0 (normal text) or 1 (interpolated expr)</span></div><div class="L0"><span class="pp-ln">  40 </span><span class="pp-pln">        </span><span class="pp-tag">#</span></div><div class="L1"><span class="pp-ln">  41 </span><span class="pp-pln">        </span><span class="pp-tag">#</span><span class="pp-pln"> return</span></div><div class="L2"><span class="pp-ln">  42 </span><span class="pp-pln">        </span><span class="pp-tag">#</span><span class="pp-pln"> [ parts</span></div><div class="L3"><span class="pp-ln">  43 </span><span class="pp-pln">        </span><span class="pp-tag">#</span><span class="pp-pln"> { part</span></div><div class="L4"><span class="pp-ln">  44 </span><span class="pp-pln">        </span><span class="pp-tag">#</span><span class="pp-pln"> integer t</span></div><div class="L5"><span class="pp-ln">  45 </span><span class="pp-pln">        </span><span class="pp-tag">#</span><span class="pp-pln"> one-of: 0 (text), 1 (expr)</span></div><div class="L6"><span class="pp-ln">  46 </span><span class="pp-pln">        </span><span class="pp-tag">#</span><span class="pp-pln"> string v</span></div><div class="L7"><span class="pp-ln">  47 </span><span class="pp-pln">        </span><span class="pp-tag">#</span><span class="pp-pln"> # text or expr</span></div><div class="L8"><span class="pp-ln">  48 </span><span class="pp-pln">        </span><span class="pp-tag">#</span></div><div class="L9"><span class="pp-ln">  49 </span><span class="pp-pln">        </span><span class="pp-tag">var</span></div><div class="L0"><span class="pp-ln">  50 </span><span class="pp-pln">            </span><span class="pp-tag">decl</span><span class="pp-pln"> v = this.value.trim()</span></div><div class="L1"><span class="pp-ln">  51 </span><span class="pp-pln">            </span><span class="pp-tag">decl</span><span class="pp-pln"> len = v.length</span></div><div class="L2"><span class="pp-ln">  52 </span><span class="pp-pln">            </span><span class="pp-tag">decl</span><span class="pp-pln"> ch</span></div><div class="L3"><span class="pp-ln">  53 </span><span class="pp-pln">            </span><span class="pp-tag">decl</span><span class="pp-pln"> i</span></div><div class="L4"><span class="pp-ln">  54 </span><span class="pp-pln">            </span><span class="pp-tag">decl</span><span class="pp-pln"> parts = []</span></div><div class="L5"><span class="pp-ln">  55 </span><span class="pp-pln">            </span><span class="pp-tag">decl</span><span class="pp-pln"> partsIndex = 0</span></div><div class="L6"><span class="pp-ln">  56 </span><span class="pp-pln">            </span><span class="pp-tag">decl</span><span class="pp-pln"> text = []</span></div><div class="L7"><span class="pp-ln">  57 </span><span class="pp-pln">            </span><span class="pp-tag">decl</span><span class="pp-pln"> expr = []</span></div><div class="L8"><span class="pp-ln">  58 </span><span class="pp-pln">            </span><span class="pp-tag">decl</span><span class="pp-pln"> state = 0</span></div><div class="L9"><span class="pp-ln">  59 </span><span class="pp-pln">        </span><span class="pp-tag">for</span><span class="pp-pln"> i=0; i&lt;len; i++</span></div><div class="L0"><span class="pp-ln">  60 </span><span class="pp-pln">            </span><span class="pp-tag">set</span><span class="pp-pln"> ch = v[i]</span></div><div class="L1"><span class="pp-ln">  61 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> ch == '$'</span></div><div class="L2"><span class="pp-ln">  62 </span><span class="pp-pln">                </span><span class="pp-tag">if</span><span class="pp-pln"> state == 0</span></div><div class="L3"><span class="pp-ln">  63 </span><span class="pp-pln">                    </span><span class="pp-tag">set</span><span class="pp-pln"> state = 1</span></div><div class="L4"><span class="pp-ln">  64 </span><span class="pp-pln">                </span><span class="pp-tag">elif</span><span class="pp-pln"> state == 1</span></div><div class="L5"><span class="pp-ln">  65 </span><span class="pp-pln">                    </span><span class="pp-tag">_</span><span class="pp-pln"> text.push('$')</span></div><div class="L6"><span class="pp-ln">  66 </span><span class="pp-pln">                    </span><span class="pp-tag">_</span><span class="pp-pln"> text.push(ch)</span></div><div class="L7"><span class="pp-ln">  67 </span><span class="pp-pln">                    </span><span class="pp-tag">set</span><span class="pp-pln"> state = 0</span></div><div class="L8"><span class="pp-ln">  68 </span><span class="pp-pln">                </span><span class="pp-tag">else</span><span class="pp-pln"> $$ 2</span></div><div class="L9"><span class="pp-ln">  69 </span><span class="pp-pln">                    </span><span class="pp-tag">_</span><span class="pp-pln"> expr.push(ch)</span></div><div class="L0"><span class="pp-ln">  70 </span><span class="pp-pln">            </span><span class="pp-tag">elif</span><span class="pp-pln"> ch == '{'</span></div><div class="L1"><span class="pp-ln">  71 </span><span class="pp-pln">                </span><span class="pp-tag">if</span><span class="pp-pln"> state == 0</span></div><div class="L2"><span class="pp-ln">  72 </span><span class="pp-pln">                    </span><span class="pp-tag">_</span><span class="pp-pln"> text.push(ch)</span></div><div class="L3"><span class="pp-ln">  73 </span><span class="pp-pln">                </span><span class="pp-tag">elif</span><span class="pp-pln"> state == 1</span></div><div class="L4"><span class="pp-ln">  74 </span><span class="pp-pln">                    </span><span class="pp-tag">set</span><span class="pp-pln"> state = 2</span></div><div class="L5"><span class="pp-ln">  75 </span><span class="pp-pln">                </span><span class="pp-tag">else</span><span class="pp-pln"> $$ 2</span></div><div class="L6"><span class="pp-ln">  76 </span><span class="pp-pln">                    </span><span class="pp-tag">_</span><span class="pp-pln"> expr.push(ch)</span></div><div class="L7"><span class="pp-ln">  77 </span><span class="pp-pln">            </span><span class="pp-tag">elif</span><span class="pp-pln"> ch == '}' && state == 2</span></div><div class="L8"><span class="pp-ln">  78 </span><span class="pp-pln">                </span><span class="pp-tag">if</span><span class="pp-pln"> text.length &gt; 0</span></div><div class="L9"><span class="pp-ln">  79 </span><span class="pp-pln">                    </span><span class="pp-tag">_</span><span class="pp-pln"> parts.push</span></div><div class="L0"><span class="pp-ln">  80 </span><span class="pp-pln">                        </span><span class="pp-tag">{</span></div><div class="L1"><span class="pp-ln">  81 </span><span class="pp-pln">                            </span><span class="pp-tag">@</span><span class="pp-pln"> t 0</span></div><div class="L2"><span class="pp-ln">  82 </span><span class="pp-pln">                            </span><span class="pp-tag">@</span><span class="pp-pln"> v text.join('')</span></div><div class="L3"><span class="pp-ln">  83 </span><span class="pp-pln">                    </span><span class="pp-tag">set</span><span class="pp-pln"> text = []</span></div><div class="L4"><span class="pp-ln">  84 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> parts.push</span></div><div class="L5"><span class="pp-ln">  85 </span><span class="pp-pln">                    </span><span class="pp-tag">{</span></div><div class="L6"><span class="pp-ln">  86 </span><span class="pp-pln">                        </span><span class="pp-tag">@</span><span class="pp-pln"> t 1</span></div><div class="L7"><span class="pp-ln">  87 </span><span class="pp-pln">                        </span><span class="pp-tag">@</span><span class="pp-pln"> v expr.join('')</span></div><div class="L8"><span class="pp-ln">  88 </span><span class="pp-pln">                </span><span class="pp-tag">set</span><span class="pp-pln"> expr = []</span></div><div class="L9"><span class="pp-ln">  89 </span><span class="pp-pln">                </span><span class="pp-tag">set</span><span class="pp-pln"> state = 0</span></div><div class="L0"><span class="pp-ln">  90 </span><span class="pp-pln">            </span><span class="pp-tag">elif</span><span class="pp-pln"> state == 0</span></div><div class="L1"><span class="pp-ln">  91 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> text.push(ch)</span></div><div class="L2"><span class="pp-ln">  92 </span><span class="pp-pln">            </span><span class="pp-tag">elif</span><span class="pp-pln"> state == 1</span></div><div class="L3"><span class="pp-ln">  93 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> text.push('$')</span></div><div class="L4"><span class="pp-ln">  94 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> text.push(ch)</span></div><div class="L5"><span class="pp-ln">  95 </span><span class="pp-pln">                </span><span class="pp-tag">set</span><span class="pp-pln"> state = 0</span></div><div class="L6"><span class="pp-ln">  96 </span><span class="pp-pln">            </span><span class="pp-tag">elif</span><span class="pp-pln"> state == 2</span></div><div class="L7"><span class="pp-ln">  97 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> expr.push(ch)</span></div><div class="L8"><span class="pp-ln">  98 </span><span class="pp-pln">        </span><span class="pp-tag">if</span><span class="pp-pln"> text.length &gt; 0</span></div><div class="L9"><span class="pp-ln">  99 </span><span class="pp-pln">            </span><span class="pp-tag">_</span><span class="pp-pln"> parts.push</span></div><div class="L0"><span class="pp-ln"> 100 </span><span class="pp-pln">                </span><span class="pp-tag">{</span></div><div class="L1"><span class="pp-ln"> 101 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> t 0</span></div><div class="L2"><span class="pp-ln"> 102 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> v text.join('')</span></div><div class="L3"><span class="pp-ln"> 103 </span><span class="pp-pln">            </span><span class="pp-tag">set</span><span class="pp-pln"> text = []</span></div><div class="L4"><span class="pp-ln"> 104 </span><span class="pp-pln">        </span><span class="pp-tag">return</span><span class="pp-pln"> parts</span></div></pre>
                    </div>
                </div>
                <div class="code-panel" id="d52">
                    <div class="modal-view-container">
                        <h4 class="d-h2">/src/ittf/lib/ittfTree/t/IttfMTreeEx/export.js.ittf</h4>
                        <pre class="prettyprint">

<div class="L1"><span class="pp-ln">   1 </span><span class="pp-pln"></span><span class="pp-kwd">$group</span></div><div class="L2"><span class="pp-ln">   2 </span><span class="pp-pln">    </span><span class="pp-tag">m</span><span class="pp-pln"> toMTreePiece</span></div><div class="L3"><span class="pp-ln">   3 </span><span class="pp-pln">        </span><span class="pp-tag">param</span><span class="pp-pln"> parent</span></div><div class="L4"><span class="pp-ln">   4 </span><span class="pp-pln">        </span><span class="pp-tag">if</span><span class="pp-pln"> !parent</span></div><div class="L5"><span class="pp-ln">   5 </span><span class="pp-pln">            </span><span class="pp-tag">set</span><span class="pp-pln"> parent</span></div><div class="L6"><span class="pp-ln">   6 </span><span class="pp-pln">                </span><span class="pp-tag">{</span></div><div class="L7"><span class="pp-ln">   7 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> parent null</span></div><div class="L8"><span class="pp-ln">   8 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> name this.name</span></div><div class="L9"><span class="pp-ln">   9 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> value this.value</span></div><div class="L0"><span class="pp-ln">  10 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> children []</span></div><div class="L1"><span class="pp-ln">  11 </span><span class="pp-pln">        </span><span class="pp-tag">foreach</span><span class="pp-pln"> item in this.children</span></div><div class="L2"><span class="pp-ln">  12 </span><span class="pp-pln">            </span><span class="pp-tag">var</span><span class="pp-pln"> child</span></div><div class="L3"><span class="pp-ln">  13 </span><span class="pp-pln">                </span><span class="pp-tag">{</span></div><div class="L4"><span class="pp-ln">  14 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> parent parent</span></div><div class="L5"><span class="pp-ln">  15 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> name item.name</span></div><div class="L6"><span class="pp-ln">  16 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> value item.value</span></div><div class="L7"><span class="pp-ln">  17 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> children []</span></div><div class="L8"><span class="pp-ln">  18 </span><span class="pp-pln">            </span><span class="pp-tag">_</span><span class="pp-pln"> item.toMTreePiece(child)</span></div><div class="L9"><span class="pp-ln">  19 </span><span class="pp-pln">            </span><span class="pp-tag">_</span><span class="pp-pln"> parent.children.push(child)</span></div><div class="L0"><span class="pp-ln">  20 </span><span class="pp-pln">        </span><span class="pp-tag">return</span><span class="pp-pln"> parent</span></div></pre>
                    </div>
                </div>
                <div class="code-panel" id="d53">
                    <div class="modal-view-container">
                        <h4 class="d-h2">/src/ittf/lib/ittfTree/t/IttfMTreeEx/find.js.ittf</h4>
                        <pre class="prettyprint">

<div class="L1"><span class="pp-ln">   1 </span><span class="pp-pln"></span><span class="pp-kwd">$group</span></div><div class="L2"><span class="pp-ln">   2 </span><span class="pp-pln">    </span><span class="pp-tag">m</span><span class="pp-pln"> find</span></div><div class="L3"><span class="pp-ln">   3 </span><span class="pp-pln">        </span><span class="pp-tag">param</span><span class="pp-pln"> name</span></div><div class="L4"><span class="pp-ln">   4 </span><span class="pp-pln">        </span><span class="pp-tag">if</span><span class="pp-pln"> verify.isNotEmpty(name)</span></div><div class="L5"><span class="pp-ln">   5 </span><span class="pp-pln">            </span><span class="pp-tag">return</span><span class="pp-pln"> this._findByName(name)</span></div><div class="L6"><span class="pp-ln">   6 </span><span class="pp-pln">        </span><span class="pp-tag">elif</span><span class="pp-pln"> verify.isObject(name) && verify.isNumber(name.id)</span></div><div class="L7"><span class="pp-ln">   7 </span><span class="pp-pln">            </span><span class="pp-tag">return</span><span class="pp-pln"> this._findById(name.id)</span></div><div class="L8"><span class="pp-ln">   8 </span><span class="pp-pln">        </span><span class="pp-tag">else</span></div><div class="L9"><span class="pp-ln">   9 </span><span class="pp-pln">            </span><span class="pp-tag">throw</span><span class="pp-pln"> new Error('wizzi-utils.ittfMTreeEx.find. Invalid argument name: ' + name)</span></div><div class="L0"><span class="pp-ln">  10 </span><span class="pp-pln">    </span><span class="pp-tag">m</span><span class="pp-pln"> _findByName</span></div><div class="L1"><span class="pp-ln">  11 </span><span class="pp-pln">        </span><span class="pp-tag">param</span><span class="pp-pln"> name</span></div><div class="L2"><span class="pp-ln">  12 </span><span class="pp-pln">        </span><span class="pp-tag">if</span><span class="pp-pln"> this.name === name</span></div><div class="L3"><span class="pp-ln">  13 </span><span class="pp-pln">            </span><span class="pp-tag">return</span><span class="pp-pln"> this</span></div><div class="L4"><span class="pp-ln">  14 </span><span class="pp-pln">        </span><span class="pp-tag">var</span><span class="pp-pln"> found = null</span></div><div class="L5"><span class="pp-ln">  15 </span><span class="pp-pln">        </span><span class="pp-tag">foreach</span><span class="pp-pln"> item in this.children</span></div><div class="L6"><span class="pp-ln">  16 </span><span class="pp-pln">            </span><span class="pp-tag">set</span><span class="pp-pln"> found = item._findByName(name)</span></div><div class="L7"><span class="pp-ln">  17 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> found</span></div><div class="L8"><span class="pp-ln">  18 </span><span class="pp-pln">                </span><span class="pp-tag">break</span></div><div class="L9"><span class="pp-ln">  19 </span><span class="pp-pln">        </span><span class="pp-tag">return</span><span class="pp-pln"> found</span></div><div class="L0"><span class="pp-ln">  20 </span><span class="pp-pln">    </span><span class="pp-tag">m</span><span class="pp-pln"> _findById</span></div><div class="L1"><span class="pp-ln">  21 </span><span class="pp-pln">        </span><span class="pp-tag">param</span><span class="pp-pln"> id</span></div><div class="L2"><span class="pp-ln">  22 </span><span class="pp-pln">        </span><span class="pp-tag">if</span><span class="pp-pln"> this.id === id</span></div><div class="L3"><span class="pp-ln">  23 </span><span class="pp-pln">            </span><span class="pp-tag">return</span><span class="pp-pln"> this</span></div><div class="L4"><span class="pp-ln">  24 </span><span class="pp-pln">        </span><span class="pp-tag">var</span><span class="pp-pln"> found = null</span></div><div class="L5"><span class="pp-ln">  25 </span><span class="pp-pln">        </span><span class="pp-tag">foreach</span><span class="pp-pln"> item in this.children</span></div><div class="L6"><span class="pp-ln">  26 </span><span class="pp-pln">            </span><span class="pp-tag">set</span><span class="pp-pln"> found = item._findById(id)</span></div><div class="L7"><span class="pp-ln">  27 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> found</span></div><div class="L8"><span class="pp-ln">  28 </span><span class="pp-pln">                </span><span class="pp-tag">break</span></div><div class="L9"><span class="pp-ln">  29 </span><span class="pp-pln">        </span><span class="pp-tag">return</span><span class="pp-pln"> found</span></div><div class="L0"><span class="pp-ln">  30 </span><span class="pp-pln">    </span><span class="pp-tag">m</span><span class="pp-pln"> findByRow</span></div><div class="L1"><span class="pp-ln">  31 </span><span class="pp-pln">        </span><span class="pp-tag">param</span><span class="pp-pln"> row</span></div><div class="L2"><span class="pp-ln">  32 </span><span class="pp-pln">        </span><span class="pp-tag">if</span><span class="pp-pln"> this.row === row</span></div><div class="L3"><span class="pp-ln">  33 </span><span class="pp-pln">            </span><span class="pp-tag">return</span><span class="pp-pln"> this</span></div><div class="L4"><span class="pp-ln">  34 </span><span class="pp-pln">        </span><span class="pp-tag">var</span><span class="pp-pln"> found = null</span></div><div class="L5"><span class="pp-ln">  35 </span><span class="pp-pln">        </span><span class="pp-tag">foreach</span><span class="pp-pln"> item in this.children</span></div><div class="L6"><span class="pp-ln">  36 </span><span class="pp-pln">            </span><span class="pp-tag">set</span><span class="pp-pln"> found = item.findByRow(row)</span></div><div class="L7"><span class="pp-ln">  37 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> found</span></div><div class="L8"><span class="pp-ln">  38 </span><span class="pp-pln">                </span><span class="pp-tag">break</span></div><div class="L9"><span class="pp-ln">  39 </span><span class="pp-pln">        </span><span class="pp-tag">return</span><span class="pp-pln"> found</span></div><div class="L0"><span class="pp-ln">  40 </span><span class="pp-pln">    </span><span class="pp-tag">m</span><span class="pp-pln"> equals</span></div><div class="L1"><span class="pp-ln">  41 </span><span class="pp-pln">        </span><span class="pp-tag">param</span><span class="pp-pln"> other</span></div><div class="L2"><span class="pp-ln">  42 </span><span class="pp-pln">        </span><span class="pp-tag">log</span><span class="pp-pln"> 'wizzi-utils.ittfMTreeEx.equals', this.name, this.value, other.name, other.value</span></div><div class="L3"><span class="pp-ln">  43 </span><span class="pp-pln">        </span><span class="pp-tag">if</span><span class="pp-pln"> this.name !== other.name || this.value !== other.value</span></div><div class="L4"><span class="pp-ln">  44 </span><span class="pp-pln">            </span><span class="pp-tag">return</span><span class="pp-pln"> false</span></div><div class="L5"><span class="pp-ln">  45 </span><span class="pp-pln">        </span><span class="pp-tag">if</span><span class="pp-pln"> this.children.length !== other.children.length</span></div><div class="L6"><span class="pp-ln">  46 </span><span class="pp-pln">            </span><span class="pp-tag">return</span><span class="pp-pln"> false</span></div><div class="L7"><span class="pp-ln">  47 </span><span class="pp-pln">        </span><span class="pp-tag">var</span><span class="pp-pln"> eq = true</span></div><div class="L8"><span class="pp-ln">  48 </span><span class="pp-pln">        </span><span class="pp-tag">for</span><span class="pp-pln"> var i=0; i&lt;this.children.length; i++</span></div><div class="L9"><span class="pp-ln">  49 </span><span class="pp-pln">            </span><span class="pp-tag">set</span><span class="pp-pln"> eq = this.children[i].equals(other.children[i])</span></div><div class="L0"><span class="pp-ln">  50 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> !eq</span></div><div class="L1"><span class="pp-ln">  51 </span><span class="pp-pln">                </span><span class="pp-tag">break</span></div><div class="L2"><span class="pp-ln">  52 </span><span class="pp-pln">        </span><span class="pp-tag">return</span><span class="pp-pln"> eq</span></div></pre>
                    </div>
                </div>
                <div class="code-panel" id="d54">
                    <div class="modal-view-container">
                        <h4 class="d-h2">/src/ittf/lib/ittfTree/t/IttfMTreeEx/loadFrom.js.ittf</h4>
                        <pre class="prettyprint">

<div class="L1"><span class="pp-ln">   1 </span><span class="pp-pln"></span><span class="pp-kwd">$group</span></div><div class="L2"><span class="pp-ln">   2 </span><span class="pp-pln">    </span><span class="pp-tag">m</span><span class="pp-pln"> loadFromNode</span></div><div class="L3"><span class="pp-ln">   3 </span><span class="pp-pln">        </span><span class="pp-tag">param</span><span class="pp-pln"> node</span></div><div class="L4"><span class="pp-ln">   4 </span><span class="pp-pln">        </span><span class="pp-tag">param</span><span class="pp-pln"> $params</span></div><div class="L5"><span class="pp-ln">   5 </span><span class="pp-pln">        </span><span class="pp-tag">set</span><span class="pp-pln"> this.name = (node.name || node.n) + (node.tagSuffix || '')</span></div><div class="L6"><span class="pp-ln">   6 </span><span class="pp-pln">        </span><span class="pp-tag">set</span><span class="pp-pln"> this.value = node.value || node.v || ''</span></div><div class="L7"><span class="pp-ln">   7 </span><span class="pp-pln">        </span><span class="pp-tag">set</span><span class="pp-pln"> this.row = node.row || node.r || ''</span></div><div class="L8"><span class="pp-ln">   8 </span><span class="pp-pln">        </span><span class="pp-tag">set</span><span class="pp-pln"> this.col = node.col || node.c || ''</span></div><div class="L9"><span class="pp-ln">   9 </span><span class="pp-pln">        </span><span class="pp-tag">if</span><span class="pp-pln"> node.id</span></div><div class="L0"><span class="pp-ln">  10 </span><span class="pp-pln">            </span><span class="pp-tag">set</span><span class="pp-pln"> this.id = node.id</span></div><div class="L1"><span class="pp-ln">  11 </span><span class="pp-pln">        </span><span class="pp-tag">if</span><span class="pp-pln"> $params && $params.length &gt; 0</span></div><div class="L2"><span class="pp-ln">  12 </span><span class="pp-pln">            </span><span class="pp-tag">_</span><span class="pp-pln"> this.add('$params', $params, this)</span></div><div class="L3"><span class="pp-ln">  13 </span><span class="pp-pln">        </span><span class="pp-tag">_</span><span class="pp-pln"> this.__importChilds(node.children)</span></div><div class="L4"><span class="pp-ln">  14 </span><span class="pp-pln">    </span><span class="pp-tag">m</span><span class="pp-pln"> __importChilds</span></div><div class="L5"><span class="pp-ln">  15 </span><span class="pp-pln">        </span><span class="pp-tag">param</span><span class="pp-pln"> children</span></div><div class="L6"><span class="pp-ln">  16 </span><span class="pp-pln">        </span><span class="pp-tag">var</span><span class="pp-pln"> added</span></div><div class="L7"><span class="pp-ln">  17 </span><span class="pp-pln">        </span><span class="pp-tag">if</span><span class="pp-pln"> children && children.length</span></div><div class="L8"><span class="pp-ln">  18 </span><span class="pp-pln">            </span><span class="pp-tag">foreach</span><span class="pp-pln"> node in children</span></div><div class="L9"><span class="pp-ln">  19 </span><span class="pp-pln">                </span><span class="pp-tag">set</span><span class="pp-pln"> added</span></div><div class="L0"><span class="pp-ln">  20 </span><span class="pp-pln">                    </span><span class="pp-tag">_</span><span class="pp-pln"> this.add</span></div><div class="L1"><span class="pp-ln">  21 </span><span class="pp-pln">                        </span><span class="pp-tag">@</span><span class="pp-pln"> (node.name || node.n) + (node.tagSuffix || '')</span></div><div class="L2"><span class="pp-ln">  22 </span><span class="pp-pln">                        </span><span class="pp-tag">@</span><span class="pp-pln"> node.value || node.v || ''</span></div><div class="L3"><span class="pp-ln">  23 </span><span class="pp-pln">                </span><span class="pp-tag">set</span><span class="pp-pln"> added.row = node.row || node.r || ''</span></div><div class="L4"><span class="pp-ln">  24 </span><span class="pp-pln">                </span><span class="pp-tag">set</span><span class="pp-pln"> added.col = node.col || node.c || ''</span></div><div class="L5"><span class="pp-ln">  25 </span><span class="pp-pln">                </span><span class="pp-tag">if</span><span class="pp-pln"> node.id</span></div><div class="L6"><span class="pp-ln">  26 </span><span class="pp-pln">                    </span><span class="pp-tag">set</span><span class="pp-pln"> added.id = node.id</span></div><div class="L7"><span class="pp-ln">  27 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> added.__importChilds</span></div><div class="L8"><span class="pp-ln">  28 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> node.children</span></div><div class="L9"><span class="pp-ln">  29 </span><span class="pp-pln">    </span><span class="pp-tag">m</span><span class="pp-pln"> createFrom</span></div><div class="L0"><span class="pp-ln">  30 </span><span class="pp-pln">        </span><span class="pp-tag">static</span></div><div class="L1"><span class="pp-ln">  31 </span><span class="pp-pln">        </span><span class="pp-tag">param</span><span class="pp-pln"> objFrom</span></div><div class="L2"><span class="pp-ln">  32 </span><span class="pp-pln">        </span><span class="pp-tag">param</span><span class="pp-pln"> options</span></div><div class="L3"><span class="pp-ln">  33 </span><span class="pp-pln">        </span><span class="pp-tag">param</span><span class="pp-pln"> callback</span></div><div class="L4"><span class="pp-ln">  34 </span><span class="pp-pln">        </span><span class="pp-tag">if</span><span class="pp-pln"> typeof(callback) === 'undefined' && verify.isFunction(options)</span></div><div class="L5"><span class="pp-ln">  35 </span><span class="pp-pln">            </span><span class="pp-tag">set</span><span class="pp-pln"> callback = options</span></div><div class="L6"><span class="pp-ln">  36 </span><span class="pp-pln">            </span><span class="pp-tag">set</span><span class="pp-pln"> options = {}</span></div><div class="L7"><span class="pp-ln">  37 </span><span class="pp-pln">        </span><span class="pp-tag">else</span></div><div class="L8"><span class="pp-ln">  38 </span><span class="pp-pln">            </span><span class="pp-tag">set</span><span class="pp-pln"> options = options || {}</span></div><div class="L9"><span class="pp-ln">  39 </span><span class="pp-pln">        </span><span class="pp-tag">var</span><span class="pp-pln"> ittf</span></div><div class="L0"><span class="pp-ln">  40 </span><span class="pp-pln">        </span><span class="pp-tag">if</span><span class="pp-pln"> verify.isObject(objFrom)</span></div><div class="L1"><span class="pp-ln">  41 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> verify.isArray(objFrom.nodes) && objFrom.nodes.length == 1</span></div><div class="L2"><span class="pp-ln">  42 </span><span class="pp-pln">                </span><span class="pp-tag">set</span><span class="pp-pln"> ittf = new IttfMTreeEx()</span></div><div class="L3"><span class="pp-ln">  43 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> ittf.loadFromNode(objFrom.nodes[0], objFrom.$params)</span></div><div class="L4"><span class="pp-ln">  44 </span><span class="pp-pln">            </span><span class="pp-tag">elif</span><span class="pp-pln"> (objFrom.name || objFrom.n) && objFrom.children</span></div><div class="L5"><span class="pp-ln">  45 </span><span class="pp-pln">                </span><span class="pp-tag">set</span><span class="pp-pln"> ittf = new IttfMTreeEx()</span></div><div class="L6"><span class="pp-ln">  46 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> ittf.loadFromNode(objFrom, objFrom.$params)</span></div><div class="L7"><span class="pp-ln">  47 </span><span class="pp-pln">            </span><span class="pp-tag">else</span></div><div class="L8"><span class="pp-ln">  48 </span><span class="pp-pln">                </span><span class="pp-tag">throw</span><span class="pp-pln"> new Error('wizzi-utils.ittfMTreeEx.createFrom error. Invalid parameter: objFrom')</span></div><div class="L9"><span class="pp-ln">  49 </span><span class="pp-pln">        </span><span class="pp-tag">elif</span><span class="pp-pln"> verify.isNotEmpty(objFrom)</span></div><div class="L0"><span class="pp-ln">  50 </span><span class="pp-pln">            </span><span class="pp-tag">var</span><span class="pp-pln"> asisMTree</span></div><div class="L1"><span class="pp-ln">  51 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> options.fromString</span></div><div class="L2"><span class="pp-ln">  52 </span><span class="pp-pln">                </span><span class="pp-tag">set</span><span class="pp-pln"> asisMTree =  asIsLoader.createFromString(objFrom, {})</span></div><div class="L3"><span class="pp-ln">  53 </span><span class="pp-pln">            </span><span class="pp-tag">elif</span><span class="pp-pln"> file.exists(objFrom) == false</span></div><div class="L4"><span class="pp-ln">  54 </span><span class="pp-pln">                </span><span class="pp-tag">throw</span><span class="pp-pln"> new Error('wizzi-utils.ittfMTreeEx.createFrom error. Document not found: ' + objFrom)</span></div><div class="L5"><span class="pp-ln">  55 </span><span class="pp-pln">            </span><span class="pp-tag">else</span></div><div class="L6"><span class="pp-ln">  56 </span><span class="pp-pln">                </span><span class="pp-tag">set</span><span class="pp-pln"> asisMTree = asIsLoader(objFrom, {})</span></div><div class="L7"><span class="pp-ln">  57 </span><span class="pp-pln">            </span><span class="pp-tag">set</span><span class="pp-pln"> ittf = new IttfMTreeEx()</span></div><div class="L8"><span class="pp-ln">  58 </span><span class="pp-pln">            </span><span class="pp-tag">set</span><span class="pp-pln"> ittf.model</span></div><div class="L9"><span class="pp-ln">  59 </span><span class="pp-pln">                </span><span class="pp-tag">{</span></div><div class="L0"><span class="pp-ln">  60 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> uri (options.fromString ? 'string://' : objFrom)</span></div><div class="L1"><span class="pp-ln">  61 </span><span class="pp-pln">            </span><span class="pp-tag">#</span><span class="pp-pln"> log 'ittfMTreeEx.asis.loader.asisMTree.nodes.length', asisMTree.nodes.length, !asisMTree.nodes[0]</span></div><div class="L2"><span class="pp-ln">  62 </span><span class="pp-pln">            </span><span class="pp-tag">_</span><span class="pp-pln"> ittf.loadFromNode(asisMTree.nodes[0], asisMTree.$params)</span></div><div class="L3"><span class="pp-ln">  63 </span><span class="pp-pln">        </span><span class="pp-tag">else</span></div><div class="L4"><span class="pp-ln">  64 </span><span class="pp-pln">            </span><span class="pp-tag">throw</span><span class="pp-pln"> new Error('wizzi-utils.ittfMTreeEx.createFrom error: Invalid parameter objFrom')</span></div><div class="L5"><span class="pp-ln">  65 </span><span class="pp-pln">        </span><span class="pp-tag">function</span><span class="pp-pln"> clean</span></div><div class="L6"><span class="pp-ln">  66 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> node</span></div><div class="L7"><span class="pp-ln">  67 </span><span class="pp-pln">            </span><span class="pp-tag">delete</span><span class="pp-pln"> node.parent</span></div><div class="L8"><span class="pp-ln">  68 </span><span class="pp-pln">            </span><span class="pp-tag">delete</span><span class="pp-pln"> node.model</span></div><div class="L9"><span class="pp-ln">  69 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> node.children</span></div><div class="L0"><span class="pp-ln">  70 </span><span class="pp-pln">                </span><span class="pp-tag">foreach</span><span class="pp-pln"> item in node.children</span></div><div class="L1"><span class="pp-ln">  71 </span><span class="pp-pln">                    </span><span class="pp-tag">_</span><span class="pp-pln"> clean(item)</span></div><div class="L2"><span class="pp-ln">  72 </span><span class="pp-pln">            </span><span class="pp-tag">return</span><span class="pp-pln"> node</span></div><div class="L3"><span class="pp-ln">  73 </span><span class="pp-pln">        </span><span class="pp-tag">if</span><span class="pp-pln"> options.clean</span></div><div class="L4"><span class="pp-ln">  74 </span><span class="pp-pln">            </span><span class="pp-tag">_</span><span class="pp-pln"> clean(ittf)</span></div><div class="L5"><span class="pp-ln">  75 </span><span class="pp-pln">        </span><span class="pp-tag">if</span><span class="pp-pln"> callback</span></div><div class="L6"><span class="pp-ln">  76 </span><span class="pp-pln">            </span><span class="pp-tag">_</span><span class="pp-pln"> callback</span></div><div class="L7"><span class="pp-ln">  77 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> null</span></div><div class="L8"><span class="pp-ln">  78 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> ittf</span></div><div class="L9"><span class="pp-ln">  79 </span><span class="pp-pln">        </span><span class="pp-tag">else</span></div><div class="L0"><span class="pp-ln">  80 </span><span class="pp-pln">            </span><span class="pp-tag">return</span><span class="pp-pln"> ittf</span></div></pre>
                    </div>
                </div>
                <div class="code-panel" id="d55">
                    <div class="modal-view-container">
                        <h4 class="d-h2">/src/ittf/lib/ittfTree/ittfFinder.js.ittf</h4>
                        <pre class="prettyprint">

<div class="L1"><span class="pp-ln">   1 </span><span class="pp-pln"></span><span class="pp-tag">module</span></div><div class="L2"><span class="pp-ln">   2 </span><span class="pp-pln">    </span><span class="pp-tag">kind</span><span class="pp-pln"> jsfile</span></div><div class="L3"><span class="pp-ln">   3 </span><span class="pp-pln">    </span><span class="pp-tag">var</span><span class="pp-pln"> path = require('path')</span></div><div class="L4"><span class="pp-ln">   4 </span><span class="pp-pln">    </span><span class="pp-tag">var</span><span class="pp-pln"> file = require('../fs/file')</span></div><div class="L5"><span class="pp-ln">   5 </span><span class="pp-pln">    </span><span class="pp-tag">var</span><span class="pp-pln"> md</span></div><div class="L6"><span class="pp-ln">   6 </span><span class="pp-pln">        </span><span class="pp-tag">set</span><span class="pp-pln"> module.exports =</span></div><div class="L7"><span class="pp-ln">   7 </span><span class="pp-pln">            </span><span class="pp-tag">{</span></div><div class="L8"><span class="pp-ln">   8 </span><span class="pp-pln">    </span><span class="pp-tag">#</span><span class="pp-pln"> params</span></div><div class="L9"><span class="pp-ln">   9 </span><span class="pp-pln">    </span><span class="pp-tag">#</span><span class="pp-pln"> string callerFullPath</span></div><div class="L0"><span class="pp-ln">  10 </span><span class="pp-pln">    </span><span class="pp-tag">#</span><span class="pp-pln"> string name</span></div><div class="L1"><span class="pp-ln">  11 </span><span class="pp-pln">    </span><span class="pp-tag">set</span><span class="pp-pln"> md.findFragment</span></div><div class="L2"><span class="pp-ln">  12 </span><span class="pp-pln">        </span><span class="pp-tag">function</span></div><div class="L3"><span class="pp-ln">  13 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> callerFullPath</span></div><div class="L4"><span class="pp-ln">  14 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> fragmentName</span></div><div class="L5"><span class="pp-ln">  15 </span><span class="pp-pln">            </span><span class="pp-tag">var</span><span class="pp-pln"> dirname = path.dirname(callerFullPath)</span></div><div class="L6"><span class="pp-ln">  16 </span><span class="pp-pln">            </span><span class="pp-tag">var</span><span class="pp-pln"> ss = callerFullPath.split('.')</span></div><div class="L7"><span class="pp-ln">  17 </span><span class="pp-pln">            </span><span class="pp-tag">var</span><span class="pp-pln"> schema = ss[ss.length-2]</span></div><div class="L8"><span class="pp-ln">  18 </span><span class="pp-pln">            </span><span class="pp-tag">#</span><span class="pp-pln"> first search not in t-folders</span></div><div class="L9"><span class="pp-ln">  19 </span><span class="pp-pln">            </span><span class="pp-tag">var</span><span class="pp-pln"> searchPath</span></div><div class="L0"><span class="pp-ln">  20 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> path.join</span></div><div class="L1"><span class="pp-ln">  21 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> dirname</span></div><div class="L2"><span class="pp-ln">  22 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> fragmentName + '.' + schema + '.ittf'</span></div><div class="L3"><span class="pp-ln">  23 </span><span class="pp-pln">            </span><span class="pp-tag">var</span><span class="pp-pln"> result</span></div><div class="L4"><span class="pp-ln">  24 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> tryExists</span></div><div class="L5"><span class="pp-ln">  25 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> searchPath</span></div><div class="L6"><span class="pp-ln">  26 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> schema</span></div><div class="L7"><span class="pp-ln">  27 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> result.found</span></div><div class="L8"><span class="pp-ln">  28 </span><span class="pp-pln">                </span><span class="pp-tag">return</span><span class="pp-pln"> result.ittfDocumentUri</span></div><div class="L9"><span class="pp-ln">  29 </span><span class="pp-pln">            </span><span class="pp-tag">else</span></div><div class="L0"><span class="pp-ln">  30 </span><span class="pp-pln">                </span><span class="pp-tag">#</span><span class="pp-pln"> now search in t-folders</span></div><div class="L1"><span class="pp-ln">  31 </span><span class="pp-pln">                </span><span class="pp-tag">set</span><span class="pp-pln"> result</span></div><div class="L2"><span class="pp-ln">  32 </span><span class="pp-pln">                    </span><span class="pp-tag">_</span><span class="pp-pln"> recurseTFolder</span></div><div class="L3"><span class="pp-ln">  33 </span><span class="pp-pln">                        </span><span class="pp-tag">@</span><span class="pp-pln"> dirname</span></div><div class="L4"><span class="pp-ln">  34 </span><span class="pp-pln">                        </span><span class="pp-tag">@</span><span class="pp-pln"> fragmentName + '.' + schema + '.ittf'</span></div><div class="L5"><span class="pp-ln">  35 </span><span class="pp-pln">                        </span><span class="pp-tag">@</span><span class="pp-pln"> schema</span></div><div class="L6"><span class="pp-ln">  36 </span><span class="pp-pln">                </span><span class="pp-tag">#</span><span class="pp-pln"> log 'analizer recurseTFolder.result', result</span></div><div class="L7"><span class="pp-ln">  37 </span><span class="pp-pln">                </span><span class="pp-tag">if</span><span class="pp-pln"> result.found</span></div><div class="L8"><span class="pp-ln">  38 </span><span class="pp-pln">                    </span><span class="pp-tag">return</span><span class="pp-pln"> result.ittfDocumentUri</span></div><div class="L9"><span class="pp-ln">  39 </span><span class="pp-pln">                </span><span class="pp-tag">else</span></div><div class="L0"><span class="pp-ln">  40 </span><span class="pp-pln">                    </span><span class="pp-tag">return</span></div><div class="L1"><span class="pp-ln">  41 </span><span class="pp-pln">                        </span><span class="pp-tag">{</span></div><div class="L2"><span class="pp-ln">  42 </span><span class="pp-pln">                            </span><span class="pp-tag">@</span><span class="pp-pln"> __is_error true</span></div><div class="L3"><span class="pp-ln">  43 </span><span class="pp-pln">                            </span><span class="pp-tag">@</span><span class="pp-pln"> message 'Cannot resolve fragment ' + fragmentName + ' from caller path ' + callerFullPath</span></div><div class="L4"><span class="pp-ln">  44 </span><span class="pp-pln">    </span><span class="pp-kwd">$include</span><span class="pp-mix frag-to-link-a" data-frag-id="d49"> ittfFinder/tryExists</span></div><div class="L5"><span class="pp-ln">  45 </span><span class="pp-pln">    </span><span class="pp-kwd">$include</span><span class="pp-mix frag-to-link-a" data-frag-id="d48"> ittfFinder/recurseTFolder</span></div></pre>
                    </div>
                </div>
                <div class="code-panel" id="d56">
                    <div class="modal-view-container">
                        <h4 class="d-h2">/src/ittf/lib/ittfTree/ittfMTreeEx.js.ittf</h4>
                        <pre class="prettyprint">

<div class="L1"><span class="pp-ln">   1 </span><span class="pp-pln"></span><span class="pp-tag">module</span></div><div class="L2"><span class="pp-ln">   2 </span><span class="pp-pln">    </span><span class="pp-tag">kind</span><span class="pp-pln"> jsfile</span></div><div class="L3"><span class="pp-ln">   3 </span><span class="pp-pln">    </span><span class="pp-tag">var</span><span class="pp-pln"> path = require('path')</span></div><div class="L4"><span class="pp-ln">   4 </span><span class="pp-pln">    </span><span class="pp-tag">var</span><span class="pp-pln"> file = require('../fs/file')</span></div><div class="L5"><span class="pp-ln">   5 </span><span class="pp-pln">    </span><span class="pp-tag">var</span><span class="pp-pln"> verify = require('../verify')</span></div><div class="L6"><span class="pp-ln">   6 </span><span class="pp-pln">    </span><span class="pp-tag">var</span><span class="pp-pln"> asIsLoader = require('./asIsLoader')</span></div><div class="L7"><span class="pp-ln">   7 </span><span class="pp-pln">    </span><span class="pp-tag">var</span><span class="pp-pln"> ittfFinder = require('./ittfFinder')</span></div><div class="L8"><span class="pp-ln">   8 </span><span class="pp-pln">    </span><span class="pp-tag">#</span></div><div class="L9"><span class="pp-ln">   9 </span><span class="pp-pln">        </span><span class="pp-tag">#</span></div><div class="L0"><span class="pp-ln">  10 </span><span class="pp-pln">        </span><span class="pp-tag">#</span><span class="pp-pln"> Simple mTree structure</span></div><div class="L1"><span class="pp-ln">  11 </span><span class="pp-pln">        </span><span class="pp-tag">#</span><span class="pp-pln"> { mTreeNode</span></div><div class="L2"><span class="pp-ln">  12 </span><span class="pp-pln">        </span><span class="pp-tag">#</span><span class="pp-pln"> string name</span></div><div class="L3"><span class="pp-ln">  13 </span><span class="pp-pln">        </span><span class="pp-tag">#</span><span class="pp-pln"> string value</span></div><div class="L4"><span class="pp-ln">  14 </span><span class="pp-pln">        </span><span class="pp-tag">#</span><span class="pp-pln"> integer id?</span></div><div class="L5"><span class="pp-ln">  15 </span><span class="pp-pln">        </span><span class="pp-tag">#</span><span class="pp-pln"> [ children</span></div><div class="L6"><span class="pp-ln">  16 </span><span class="pp-pln">        </span><span class="pp-tag">#</span><span class="pp-pln"> { mTreeNode</span></div><div class="L7"><span class="pp-ln">  17 </span><span class="pp-pln">        </span><span class="pp-tag">#</span></div><div class="L8"><span class="pp-ln">  18 </span><span class="pp-pln">        </span><span class="pp-tag">#</span><span class="pp-pln"> That can be used to build or analize an mTree.</span></div><div class="L9"><span class="pp-ln">  19 </span><span class="pp-pln">        </span><span class="pp-tag">#</span><span class="pp-pln"> Usefull for</span></div><div class="L0"><span class="pp-ln">  20 </span><span class="pp-pln">        </span><span class="pp-tag">#</span><span class="pp-pln"> - analizing raw mTrees, before composition and evaluation, for</span></div><div class="L1"><span class="pp-ln">  21 </span><span class="pp-pln">        </span><span class="pp-tag">#</span><span class="pp-pln"> documentation purposes;</span></div><div class="L2"><span class="pp-ln">  22 </span><span class="pp-pln">        </span><span class="pp-tag">#</span><span class="pp-pln"> - building mTrees by code.</span></div><div class="L3"><span class="pp-ln">  23 </span><span class="pp-pln">        </span><span class="pp-tag">#</span></div><div class="L4"><span class="pp-ln">  24 </span><span class="pp-pln">        </span><span class="pp-tag">#</span><span class="pp-pln"> can be loaded</span></div><div class="L5"><span class="pp-ln">  25 </span><span class="pp-pln">        </span><span class="pp-tag">#</span><span class="pp-pln"> - from a source ittf document (loaded as is, no composition and evaluation)</span></div><div class="L6"><span class="pp-ln">  26 </span><span class="pp-pln">        </span><span class="pp-tag">#</span><span class="pp-pln"> - from a loaded mTree (less usefull)</span></div><div class="L7"><span class="pp-ln">  27 </span><span class="pp-pln">        </span><span class="pp-tag">#</span><span class="pp-pln"> - calling the 'add' and 'insertAt' methods</span></div><div class="L8"><span class="pp-ln">  28 </span><span class="pp-pln">        </span><span class="pp-tag">#</span></div><div class="L9"><span class="pp-ln">  29 </span><span class="pp-pln">        </span><span class="pp-tag">#</span><span class="pp-pln"> can be analized to detect</span></div><div class="L0"><span class="pp-ln">  30 </span><span class="pp-pln">        </span><span class="pp-tag">#</span><span class="pp-pln"> - path of called mixins and includes</span></div><div class="L1"><span class="pp-ln">  31 </span><span class="pp-pln">        </span><span class="pp-tag">#</span><span class="pp-pln"> - ittf node commands</span></div><div class="L2"><span class="pp-ln">  32 </span><span class="pp-pln">        </span><span class="pp-tag">#</span><span class="pp-pln"> - nodes with jswizzi statements</span></div><div class="L3"><span class="pp-ln">  33 </span><span class="pp-pln">        </span><span class="pp-tag">#</span><span class="pp-pln"> - nodes commented out</span></div><div class="L4"><span class="pp-ln">  34 </span><span class="pp-pln">        </span><span class="pp-tag">#</span></div><div class="L5"><span class="pp-ln">  35 </span><span class="pp-pln">        </span><span class="pp-tag">#</span><span class="pp-pln"> can be exported to</span></div><div class="L6"><span class="pp-ln">  36 </span><span class="pp-pln">        </span><span class="pp-tag">#</span><span class="pp-pln"> - a new mTree</span></div><div class="L7"><span class="pp-ln">  37 </span><span class="pp-pln">        </span><span class="pp-tag">#</span><span class="pp-pln"> - appended to an existing mTreeNode</span></div><div class="L8"><span class="pp-ln">  38 </span><span class="pp-pln">        </span><span class="pp-tag">#</span></div><div class="L9"><span class="pp-ln">  39 </span><span class="pp-pln">    </span><span class="pp-tag">class</span><span class="pp-pln"> IttfMTreeEx</span></div><div class="L0"><span class="pp-ln">  40 </span><span class="pp-pln">        </span><span class="pp-tag">ctor</span></div><div class="L1"><span class="pp-ln">  41 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> name</span></div><div class="L2"><span class="pp-ln">  42 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> value</span></div><div class="L3"><span class="pp-ln">  43 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> parent</span></div><div class="L4"><span class="pp-ln">  44 </span><span class="pp-pln">            </span><span class="pp-tag">set</span><span class="pp-pln"> this.name = name</span></div><div class="L5"><span class="pp-ln">  45 </span><span class="pp-pln">            </span><span class="pp-tag">set</span><span class="pp-pln"> this.value = value || ''</span></div><div class="L6"><span class="pp-ln">  46 </span><span class="pp-pln">            </span><span class="pp-tag">set</span><span class="pp-pln"> this.parent = parent || null</span></div><div class="L7"><span class="pp-ln">  47 </span><span class="pp-pln">            </span><span class="pp-tag">set</span><span class="pp-pln"> this.children = []</span></div><div class="L8"><span class="pp-ln">  48 </span><span class="pp-pln">        </span><span class="pp-tag">m</span><span class="pp-pln"> root</span></div><div class="L9"><span class="pp-ln">  49 </span><span class="pp-pln">            </span><span class="pp-tag">return</span><span class="pp-pln"> this.parent == null ? this : this.parent.root()</span></div><div class="L0"><span class="pp-ln">  50 </span><span class="pp-pln">        </span><span class="pp-tag">m</span><span class="pp-pln"> preAdd</span></div><div class="L1"><span class="pp-ln">  51 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> name</span></div><div class="L2"><span class="pp-ln">  52 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> value</span></div><div class="L3"><span class="pp-ln">  53 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> {}.toString.call(name) === '[object Object]' && name.name</span></div><div class="L4"><span class="pp-ln">  54 </span><span class="pp-pln">                </span><span class="pp-tag">set</span><span class="pp-pln"> name.parent = this</span></div><div class="L5"><span class="pp-ln">  55 </span><span class="pp-pln">                </span><span class="pp-tag">return</span><span class="pp-pln"> name</span></div><div class="L6"><span class="pp-ln">  56 </span><span class="pp-pln">            </span><span class="pp-tag">else</span></div><div class="L7"><span class="pp-ln">  57 </span><span class="pp-pln">                </span><span class="pp-tag">return</span><span class="pp-pln"> new IttfMTreeEx(name, value, this)</span></div><div class="L8"><span class="pp-ln">  58 </span><span class="pp-pln">        </span><span class="pp-tag">m</span><span class="pp-pln"> insertAt</span></div><div class="L9"><span class="pp-ln">  59 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> name</span></div><div class="L0"><span class="pp-ln">  60 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> value</span></div><div class="L1"><span class="pp-ln">  61 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> pos</span></div><div class="L2"><span class="pp-ln">  62 </span><span class="pp-pln">            </span><span class="pp-tag">var</span><span class="pp-pln"> node = this.preAdd(name, value)</span></div><div class="L3"><span class="pp-ln">  63 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> pos &gt; this.children.length</span></div><div class="L4"><span class="pp-ln">  64 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> this.children.push(node)</span></div><div class="L5"><span class="pp-ln">  65 </span><span class="pp-pln">            </span><span class="pp-tag">else</span></div><div class="L6"><span class="pp-ln">  66 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> this.children.splice(pos, 0, node);</span></div><div class="L7"><span class="pp-ln">  67 </span><span class="pp-pln">            </span><span class="pp-tag">return</span><span class="pp-pln"> node</span></div><div class="L8"><span class="pp-ln">  68 </span><span class="pp-pln">        </span><span class="pp-tag">m</span><span class="pp-pln"> add</span></div><div class="L9"><span class="pp-ln">  69 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> name</span></div><div class="L0"><span class="pp-ln">  70 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> value</span></div><div class="L1"><span class="pp-ln">  71 </span><span class="pp-pln">            </span><span class="pp-tag">var</span><span class="pp-pln"> node = this.preAdd(name, value)</span></div><div class="L2"><span class="pp-ln">  72 </span><span class="pp-pln">            </span><span class="pp-tag">_</span><span class="pp-pln"> this.children.push(node)</span></div><div class="L3"><span class="pp-ln">  73 </span><span class="pp-pln">            </span><span class="pp-tag">return</span><span class="pp-pln"> node</span></div><div class="L4"><span class="pp-ln">  74 </span><span class="pp-pln">        </span><span class="pp-tag">m</span><span class="pp-pln"> write</span></div><div class="L5"><span class="pp-ln">  75 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> sb</span></div><div class="L6"><span class="pp-ln">  76 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> indent</span></div><div class="L7"><span class="pp-ln">  77 </span><span class="pp-pln">            </span><span class="pp-tag">#</span><span class="pp-pln"> log 'sb',sb</span></div><div class="L8"><span class="pp-ln">  78 </span><span class="pp-pln">            </span><span class="pp-tag">_</span><span class="pp-pln"> sb.push</span></div><div class="L9"><span class="pp-ln">  79 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> indentTabs(indent) + this.name + (this.value && this.value.length &gt; 0 ? ' ' + this.value : '')</span></div><div class="L0"><span class="pp-ln">  80 </span><span class="pp-pln">            </span><span class="pp-tag">foreach</span><span class="pp-pln"> node in this.children</span></div><div class="L1"><span class="pp-ln">  81 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> node.write(sb, indent + 1)</span></div><div class="L2"><span class="pp-ln">  82 </span><span class="pp-pln">        </span><span class="pp-tag">m</span><span class="pp-pln"> writeFile</span></div><div class="L3"><span class="pp-ln">  83 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> string_path</span></div><div class="L4"><span class="pp-ln">  84 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> callback</span></div><div class="L5"><span class="pp-ln">  85 </span><span class="pp-pln">            </span><span class="pp-tag">var</span><span class="pp-pln"> sb = []</span></div><div class="L6"><span class="pp-ln">  86 </span><span class="pp-pln">            </span><span class="pp-tag">_</span><span class="pp-pln"> this.write(sb, 0)</span></div><div class="L7"><span class="pp-ln">  87 </span><span class="pp-pln">            </span><span class="pp-tag">var</span><span class="pp-pln"> that = this</span></div><div class="L8"><span class="pp-ln">  88 </span><span class="pp-pln">            </span><span class="pp-tag">#</span><span class="pp-pln"> log 'file.openWrite'</span></div><div class="L9"><span class="pp-ln">  89 </span><span class="pp-pln">            </span><span class="pp-tag">_</span><span class="pp-pln"> file.openWrite</span></div><div class="L0"><span class="pp-ln">  90 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> string_path</span></div><div class="L1"><span class="pp-ln">  91 </span><span class="pp-pln">                </span><span class="pp-mix frag-to-link-a" data-frag-id="d121">f_cb(</span><span class="pp-arg"> stream </span><span class="pp-mix">)</span></div><div class="L2"><span class="pp-ln">  92 </span><span class="pp-pln">                    </span><span class="pp-tag">_</span><span class="pp-pln"> stream.write(sb.join('\n'))</span></div><div class="L3"><span class="pp-ln">  93 </span><span class="pp-pln">                    </span><span class="pp-tag">_</span><span class="pp-pln"> stream.end()</span></div><div class="L4"><span class="pp-ln">  94 </span><span class="pp-pln">                    </span><span class="pp-tag">#</span><span class="pp-pln"> log 'stream.end()', sb.join('\n')</span></div><div class="L5"><span class="pp-ln">  95 </span><span class="pp-pln">                    </span><span class="pp-tag">_</span><span class="pp-pln"> callback(null)</span></div><div class="L6"><span class="pp-ln">  96 </span><span class="pp-pln">        </span><span class="pp-tag">m</span><span class="pp-pln"> toString</span></div><div class="L7"><span class="pp-ln">  97 </span><span class="pp-pln">            </span><span class="pp-tag">var</span><span class="pp-pln"> sb = []</span></div><div class="L8"><span class="pp-ln">  98 </span><span class="pp-pln">            </span><span class="pp-tag">_</span><span class="pp-pln"> this.write(sb, 0)</span></div><div class="L9"><span class="pp-ln">  99 </span><span class="pp-pln">            </span><span class="pp-tag">return</span><span class="pp-pln"> sb.join('\n')</span></div><div class="L0"><span class="pp-ln"> 100 </span><span class="pp-pln">        </span><span class="pp-kwd">$include</span><span class="pp-mix frag-to-link-a" data-frag-id="unknown"> ittfMTreeEx/loadFrom</span></div><div class="L1"><span class="pp-ln"> 101 </span><span class="pp-pln">        </span><span class="pp-kwd">$include</span><span class="pp-mix frag-to-link-a" data-frag-id="unknown"> ittfMTreeEx/export</span></div><div class="L2"><span class="pp-ln"> 102 </span><span class="pp-pln">        </span><span class="pp-kwd">$include</span><span class="pp-mix frag-to-link-a" data-frag-id="unknown"> ittfMTreeEx/detect</span></div><div class="L3"><span class="pp-ln"> 103 </span><span class="pp-pln">        </span><span class="pp-kwd">$include</span><span class="pp-mix frag-to-link-a" data-frag-id="unknown"> ittfMTreeEx/analize</span></div><div class="L4"><span class="pp-ln"> 104 </span><span class="pp-pln">        </span><span class="pp-kwd">$include</span><span class="pp-mix frag-to-link-a" data-frag-id="unknown"> ittfMTreeEx/find</span></div><div class="L5"><span class="pp-ln"> 105 </span><span class="pp-pln">    </span><span class="pp-tag">function</span><span class="pp-pln"> indentTabs</span></div><div class="L6"><span class="pp-ln"> 106 </span><span class="pp-pln">        </span><span class="pp-tag">param</span><span class="pp-pln"> num</span></div><div class="L7"><span class="pp-ln"> 107 </span><span class="pp-pln">        </span><span class="pp-tag">var</span><span class="pp-pln"> ret = []</span></div><div class="L8"><span class="pp-ln"> 108 </span><span class="pp-pln">        </span><span class="pp-tag">for</span><span class="pp-pln"> var i=0; i&lt;num; i++</span></div><div class="L9"><span class="pp-ln"> 109 </span><span class="pp-pln">            </span><span class="pp-tag">_</span><span class="pp-pln"> ret.push('\t')</span></div><div class="L0"><span class="pp-ln"> 110 </span><span class="pp-pln">        </span><span class="pp-tag">return</span><span class="pp-pln"> ret.join('')</span></div><div class="L1"><span class="pp-ln"> 111 </span><span class="pp-pln">    </span><span class="pp-tag">set</span><span class="pp-pln"> module.exports = IttfMTreeEx</span></div></pre>
                    </div>
                </div>
                <div class="code-panel" id="d57">
                    <div class="modal-view-container">
                        <h4 class="d-h2">/src/ittf/lib/ittfTree/ittfWriter.js.ittf</h4>
                        <pre class="prettyprint">

<div class="L1"><span class="pp-ln">   1 </span><span class="pp-pln"></span><span class="pp-tag">module</span></div><div class="L2"><span class="pp-ln">   2 </span><span class="pp-pln">    </span><span class="pp-tag">kind</span><span class="pp-pln"> jsfile</span></div><div class="L3"><span class="pp-ln">   3 </span><span class="pp-pln">    </span><span class="pp-tag">function</span><span class="pp-pln"> ittfWriter</span></div><div class="L4"><span class="pp-ln">   4 </span><span class="pp-pln">        </span><span class="pp-tag">param</span><span class="pp-pln"> node</span></div><div class="L5"><span class="pp-ln">   5 </span><span class="pp-pln">        </span><span class="pp-tag">var</span><span class="pp-pln"> sb = []</span></div><div class="L6"><span class="pp-ln">   6 </span><span class="pp-pln">        </span><span class="pp-tag">_</span><span class="pp-pln"> writeNode</span></div><div class="L7"><span class="pp-ln">   7 </span><span class="pp-pln">            </span><span class="pp-tag">@</span><span class="pp-pln"> node</span></div><div class="L8"><span class="pp-ln">   8 </span><span class="pp-pln">            </span><span class="pp-tag">@</span><span class="pp-pln"> sb</span></div><div class="L9"><span class="pp-ln">   9 </span><span class="pp-pln">            </span><span class="pp-tag">@</span><span class="pp-pln"> 0</span></div><div class="L0"><span class="pp-ln">  10 </span><span class="pp-pln">        </span><span class="pp-tag">return</span><span class="pp-pln"> sb.join('')</span></div><div class="L1"><span class="pp-ln">  11 </span><span class="pp-pln">    </span><span class="pp-tag">function</span><span class="pp-pln"> writeNode</span></div><div class="L2"><span class="pp-ln">  12 </span><span class="pp-pln">        </span><span class="pp-tag">param</span><span class="pp-pln"> node</span></div><div class="L3"><span class="pp-ln">  13 </span><span class="pp-pln">        </span><span class="pp-tag">param</span><span class="pp-pln"> sb</span></div><div class="L4"><span class="pp-ln">  14 </span><span class="pp-pln">        </span><span class="pp-tag">param</span><span class="pp-pln"> indent</span></div><div class="L5"><span class="pp-ln">  15 </span><span class="pp-pln">        </span><span class="pp-tag">_</span><span class="pp-pln"> sb.push</span></div><div class="L6"><span class="pp-ln">  16 </span><span class="pp-pln">            </span><span class="pp-tag">new</span><span class="pp-pln"> Array(1 + indent * 4).join(' ')</span></div><div class="L7"><span class="pp-ln">  17 </span><span class="pp-pln">        </span><span class="pp-tag">if</span><span class="pp-pln"> node.tag</span></div><div class="L8"><span class="pp-ln">  18 </span><span class="pp-pln">            </span><span class="pp-tag">_</span><span class="pp-pln"> sb.push</span></div><div class="L9"><span class="pp-ln">  19 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> node.tag</span></div><div class="L0"><span class="pp-ln">  20 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> node.name</span></div><div class="L1"><span class="pp-ln">  21 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> sb.push</span></div><div class="L2"><span class="pp-ln">  22 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> ' '</span></div><div class="L3"><span class="pp-ln">  23 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> node.name</span></div><div class="L4"><span class="pp-ln">  24 </span><span class="pp-pln">        </span><span class="pp-tag">elif</span><span class="pp-pln"> node.name</span></div><div class="L5"><span class="pp-ln">  25 </span><span class="pp-pln">            </span><span class="pp-tag">_</span><span class="pp-pln"> sb.push</span></div><div class="L6"><span class="pp-ln">  26 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> node.name</span></div><div class="L7"><span class="pp-ln">  27 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> node.value</span></div><div class="L8"><span class="pp-ln">  28 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> sb.push</span></div><div class="L9"><span class="pp-ln">  29 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> ' '</span></div><div class="L0"><span class="pp-ln">  30 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> node.value</span></div><div class="L1"><span class="pp-ln">  31 </span><span class="pp-pln">        </span><span class="pp-tag">else</span></div><div class="L2"><span class="pp-ln">  32 </span><span class="pp-pln">            </span><span class="pp-tag">throw</span><span class="pp-pln"> new Error('wizzi-utils.ittfWriter. Invalid node: missing tag or name property.')</span></div><div class="L3"><span class="pp-ln">  33 </span><span class="pp-pln">        </span><span class="pp-tag">_</span><span class="pp-pln"> sb.push('\n')</span></div><div class="L4"><span class="pp-ln">  34 </span><span class="pp-pln">        </span><span class="pp-tag">if</span><span class="pp-pln"> node.children</span></div><div class="L5"><span class="pp-ln">  35 </span><span class="pp-pln">            </span><span class="pp-tag">foreach</span><span class="pp-pln"> item in node.children</span></div><div class="L6"><span class="pp-ln">  36 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> writeNode</span></div><div class="L7"><span class="pp-ln">  37 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> item</span></div><div class="L8"><span class="pp-ln">  38 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> sb</span></div><div class="L9"><span class="pp-ln">  39 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> indent + 1</span></div><div class="L0"><span class="pp-ln">  40 </span><span class="pp-pln">        </span><span class="pp-tag">else</span></div><div class="L1"><span class="pp-ln">  41 </span><span class="pp-pln">            </span><span class="pp-tag">throw</span><span class="pp-pln"> new Error('wizzi-utils.ittfWriter. Invalid node: missing tag or name property.')</span></div><div class="L2"><span class="pp-ln">  42 </span><span class="pp-pln">    </span><span class="pp-tag">set</span><span class="pp-pln"> module.exports = ittfWriter</span></div></pre>
                    </div>
                </div>
                <div class="code-panel" id="d58">
                    <div class="modal-view-container">
                        <h4 class="d-h2">/src/ittf/lib/mocks/artifact/block.js.ittf</h4>
                        <pre class="prettyprint">

<div class="L1"><span class="pp-ln">   1 </span><span class="pp-pln"></span><span class="pp-tag">module</span></div><div class="L2"><span class="pp-ln">   2 </span><span class="pp-pln">    </span><span class="pp-tag">kind</span><span class="pp-pln"> jsfile</span></div><div class="L3"><span class="pp-ln">   3 </span><span class="pp-pln">    </span><span class="pp-tag">var</span><span class="pp-pln"> line = require('./line')</span></div><div class="L4"><span class="pp-ln">   4 </span><span class="pp-pln">    </span><span class="pp-tag">class</span><span class="pp-pln"> Block</span></div><div class="L5"><span class="pp-ln">   5 </span><span class="pp-pln">        </span><span class="pp-tag">ctor</span></div><div class="L6"><span class="pp-ln">   6 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> options</span></div><div class="L7"><span class="pp-ln">   7 </span><span class="pp-pln">            </span><span class="pp-tag">set</span><span class="pp-pln"> this.lines = []</span></div><div class="L8"><span class="pp-ln">   8 </span><span class="pp-pln">            </span><span class="pp-tag">set</span><span class="pp-pln"> this.options = (options || {})</span></div><div class="L9"><span class="pp-ln">   9 </span><span class="pp-pln">            </span><span class="pp-tag">set</span><span class="pp-pln"> this.indentValue = (this.options.indent || 0)</span></div><div class="L0"><span class="pp-ln">  10 </span><span class="pp-pln">            </span><span class="pp-tag">set</span><span class="pp-pln"> this.currentline = null</span></div><div class="L1"><span class="pp-ln">  11 </span><span class="pp-pln">        </span><span class="pp-tag">m</span><span class="pp-pln"> forceIndent</span></div><div class="L2"><span class="pp-ln">  12 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> value</span></div><div class="L3"><span class="pp-ln">  13 </span><span class="pp-pln">            </span><span class="pp-tag">var</span><span class="pp-pln"> save = this.indentValue</span></div><div class="L4"><span class="pp-ln">  14 </span><span class="pp-pln">            </span><span class="pp-tag">set</span><span class="pp-pln"> this.indentValue = value</span></div><div class="L5"><span class="pp-ln">  15 </span><span class="pp-pln">            </span><span class="pp-tag">return</span><span class="pp-pln"> save</span></div><div class="L6"><span class="pp-ln">  16 </span><span class="pp-pln">        </span><span class="pp-tag">m</span><span class="pp-pln"> indent</span></div><div class="L7"><span class="pp-ln">  17 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> value</span></div><div class="L8"><span class="pp-ln">  18 </span><span class="pp-pln">            </span><span class="pp-tag">set</span><span class="pp-pln"> this.indentValue += typeof (value) !== 'undefined' ? value : 1</span></div><div class="L9"><span class="pp-ln">  19 </span><span class="pp-pln">        </span><span class="pp-tag">m</span><span class="pp-pln"> deindent</span></div><div class="L0"><span class="pp-ln">  20 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> value</span></div><div class="L1"><span class="pp-ln">  21 </span><span class="pp-pln">            </span><span class="pp-tag">set</span><span class="pp-pln"> this.indentValue -= typeof (value) !== 'undefined' ? value : 1</span></div><div class="L2"><span class="pp-ln">  22 </span><span class="pp-pln">            </span><span class="pp-tag">set</span><span class="pp-pln"> this.indentValue = Math.max(0, this.indentValue)</span></div><div class="L3"><span class="pp-ln">  23 </span><span class="pp-pln">        </span><span class="pp-tag">m</span><span class="pp-pln"> w</span></div><div class="L4"><span class="pp-ln">  24 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> text</span></div><div class="L5"><span class="pp-ln">  25 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> this.currentline != null</span></div><div class="L6"><span class="pp-ln">  26 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> this.currentline.add(text)</span></div><div class="L7"><span class="pp-ln">  27 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> this.lines.push</span></div><div class="L8"><span class="pp-ln">  28 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> this.currentline</span></div><div class="L9"><span class="pp-ln">  29 </span><span class="pp-pln">                </span><span class="pp-tag">set</span><span class="pp-pln"> this.currentline = null</span></div><div class="L0"><span class="pp-ln">  30 </span><span class="pp-pln">            </span><span class="pp-tag">else</span></div><div class="L1"><span class="pp-ln">  31 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> this.lines.push</span></div><div class="L2"><span class="pp-ln">  32 </span><span class="pp-pln">                    </span><span class="pp-tag">new</span><span class="pp-pln"> line</span></div><div class="L3"><span class="pp-ln">  33 </span><span class="pp-pln">                        </span><span class="pp-tag">@</span><span class="pp-pln"> text</span></div><div class="L4"><span class="pp-ln">  34 </span><span class="pp-pln">                        </span><span class="pp-tag">@</span><span class="pp-pln"> this.indentValue</span></div><div class="L5"><span class="pp-ln">  35 </span><span class="pp-pln">                        </span><span class="pp-tag">@</span><span class="pp-pln"> this.options</span></div><div class="L6"><span class="pp-ln">  36 </span><span class="pp-pln">        </span><span class="pp-tag">m</span><span class="pp-pln"> write</span></div><div class="L7"><span class="pp-ln">  37 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> text</span></div><div class="L8"><span class="pp-ln">  38 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> this.currentline != null</span></div><div class="L9"><span class="pp-ln">  39 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> this.currentline.add(text)</span></div><div class="L0"><span class="pp-ln">  40 </span><span class="pp-pln">            </span><span class="pp-tag">else</span></div><div class="L1"><span class="pp-ln">  41 </span><span class="pp-pln">                </span><span class="pp-tag">set</span><span class="pp-pln"> this.currentline = new line(text, this.indentValue, this.options)</span></div><div class="L2"><span class="pp-ln">  42 </span><span class="pp-pln">        </span><span class="pp-tag">m</span><span class="pp-pln"> appendFile</span></div><div class="L3"><span class="pp-ln">  43 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> filePath</span></div><div class="L4"><span class="pp-ln">  44 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> this.currentline != null</span></div><div class="L5"><span class="pp-ln">  45 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> this.currentline.addFile(filePath)</span></div><div class="L6"><span class="pp-ln">  46 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> this.lines.push</span></div><div class="L7"><span class="pp-ln">  47 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> this.currentline</span></div><div class="L8"><span class="pp-ln">  48 </span><span class="pp-pln">                </span><span class="pp-tag">set</span><span class="pp-pln"> this.currentline = null</span></div><div class="L9"><span class="pp-ln">  49 </span><span class="pp-pln">            </span><span class="pp-tag">else</span></div><div class="L0"><span class="pp-ln">  50 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> this.lines.push</span></div><div class="L1"><span class="pp-ln">  51 </span><span class="pp-pln">                    </span><span class="pp-tag">new</span><span class="pp-pln"> line</span></div><div class="L2"><span class="pp-ln">  52 </span><span class="pp-pln">                        </span><span class="pp-tag">@</span><span class="pp-pln"> filePath</span></div><div class="L3"><span class="pp-ln">  53 </span><span class="pp-pln">                        </span><span class="pp-tag">@</span><span class="pp-pln"> this.indentValue</span></div><div class="L4"><span class="pp-ln">  54 </span><span class="pp-pln">                        </span><span class="pp-tag">@</span><span class="pp-pln"> this.options</span></div><div class="L5"><span class="pp-ln">  55 </span><span class="pp-pln">                        </span><span class="pp-tag">@</span><span class="pp-pln"> true</span></div><div class="L6"><span class="pp-ln">  56 </span><span class="pp-pln">        </span><span class="pp-tag">m</span><span class="pp-pln"> toStream</span></div><div class="L7"><span class="pp-ln">  57 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> stream</span></div><div class="L8"><span class="pp-ln">  58 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> ctx</span></div><div class="L9"><span class="pp-ln">  59 </span><span class="pp-pln">            </span><span class="pp-tag">foreach</span><span class="pp-pln"> item in this.lines</span></div><div class="L0"><span class="pp-ln">  60 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> item.toStream(stream, ctx)</span></div><div class="L1"><span class="pp-ln">  61 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> this.currentline != null</span></div><div class="L2"><span class="pp-ln">  62 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> this.currentline.toStream(stream, ctx)</span></div><div class="L3"><span class="pp-ln">  63 </span><span class="pp-pln">        </span><span class="pp-tag">m</span><span class="pp-pln"> terminate</span></div><div class="L4"><span class="pp-ln">  64 </span><span class="pp-pln">            </span><span class="pp-tag">set</span><span class="pp-pln"> delete (this.options)</span></div><div class="L5"><span class="pp-ln">  65 </span><span class="pp-pln">            </span><span class="pp-tag">set</span><span class="pp-pln"> delete (this.currentline)</span></div><div class="L6"><span class="pp-ln">  66 </span><span class="pp-pln">            </span><span class="pp-tag">foreach</span><span class="pp-pln"> item in this.lines</span></div><div class="L7"><span class="pp-ln">  67 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> item.terminate()</span></div><div class="L8"><span class="pp-ln">  68 </span><span class="pp-pln">        </span><span class="pp-tag">m</span><span class="pp-pln"> hydrate</span></div><div class="L9"><span class="pp-ln">  69 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> lines</span></div><div class="L0"><span class="pp-ln">  70 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> options</span></div><div class="L1"><span class="pp-ln">  71 </span><span class="pp-pln">            </span><span class="pp-tag">set</span><span class="pp-pln"> this.currentline = null</span></div><div class="L2"><span class="pp-ln">  72 </span><span class="pp-pln">            </span><span class="pp-tag">set</span><span class="pp-pln"> this.lines = []</span></div><div class="L3"><span class="pp-ln">  73 </span><span class="pp-pln">            </span><span class="pp-tag">var</span><span class="pp-pln"> l</span></div><div class="L4"><span class="pp-ln">  74 </span><span class="pp-pln">            </span><span class="pp-tag">foreach</span><span class="pp-pln"> item in lines</span></div><div class="L5"><span class="pp-ln">  75 </span><span class="pp-pln">                </span><span class="pp-tag">set</span><span class="pp-pln"> l = new line('', 0, options)</span></div><div class="L6"><span class="pp-ln">  76 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> l.hydrate(item)</span></div><div class="L7"><span class="pp-ln">  77 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> this.lines.push(l)</span></div><div class="L8"><span class="pp-ln">  78 </span><span class="pp-pln">    </span><span class="pp-tag">set</span><span class="pp-pln"> module.exports = Block</span></div></pre>
                    </div>
                </div>
                <div class="code-panel" id="d59">
                    <div class="modal-view-container">
                        <h4 class="d-h2">/src/ittf/lib/mocks/artifact/genContext.js.ittf</h4>
                        <pre class="prettyprint">

<div class="L1"><span class="pp-ln">   1 </span><span class="pp-pln"></span><span class="pp-tag">module</span></div><div class="L2"><span class="pp-ln">   2 </span><span class="pp-pln">    </span><span class="pp-tag">kind</span><span class="pp-pln"> jsfile</span></div><div class="L3"><span class="pp-ln">   3 </span><span class="pp-pln">    </span><span class="pp-tag">var</span><span class="pp-pln"> StringWriter = require('../stringWriter')</span></div><div class="L4"><span class="pp-ln">   4 </span><span class="pp-pln">    </span><span class="pp-tag">var</span><span class="pp-pln"> file = require('../../fs/file')</span></div><div class="L5"><span class="pp-ln">   5 </span><span class="pp-pln">    </span><span class="pp-tag">var</span><span class="pp-pln"> verify = require('../../verify')</span></div><div class="L6"><span class="pp-ln">   6 </span><span class="pp-pln">    </span><span class="pp-tag">var</span><span class="pp-pln"> block = require('./block')</span></div><div class="L7"><span class="pp-ln">   7 </span><span class="pp-pln">    </span><span class="pp-tag">var</span><span class="pp-pln"> interpolate = require('../interpolate')</span></div><div class="L8"><span class="pp-ln">   8 </span><span class="pp-pln">    </span><span class="pp-tag">var</span><span class="pp-pln"> errors = require('../errors')</span></div><div class="L9"><span class="pp-ln">   9 </span><span class="pp-pln">    </span><span class="pp-tag">class</span><span class="pp-pln"> GenContext</span></div><div class="L0"><span class="pp-ln">  10 </span><span class="pp-pln">        </span><span class="pp-tag">ctor</span></div><div class="L1"><span class="pp-ln">  11 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> genconfig</span></div><div class="L2"><span class="pp-ln">  12 </span><span class="pp-pln">            </span><span class="pp-tag">set</span><span class="pp-pln"> this.model = genconfig.model</span></div><div class="L3"><span class="pp-ln">  13 </span><span class="pp-pln">            </span><span class="pp-tag">set</span><span class="pp-pln"> this.srcPath = genconfig.srcPath</span></div><div class="L4"><span class="pp-ln">  14 </span><span class="pp-pln">            </span><span class="pp-tag">set</span><span class="pp-pln"> this.pman = genconfig.pman</span></div><div class="L5"><span class="pp-ln">  15 </span><span class="pp-pln">            </span><span class="pp-tag">set</span><span class="pp-pln"> this.wizziFactory = genconfig.pman.wizziFactory</span></div><div class="L6"><span class="pp-ln">  16 </span><span class="pp-pln">            </span><span class="pp-tag">set</span><span class="pp-pln"> this.block = new block(genconfig.options)</span></div><div class="L7"><span class="pp-ln">  17 </span><span class="pp-pln">            </span><span class="pp-tag">set</span><span class="pp-pln"> this.values = genconfig.options.data || {}</span></div><div class="L8"><span class="pp-ln">  18 </span><span class="pp-pln">            </span><span class="pp-tag">set</span><span class="pp-pln"> this.writeFilePath = null</span></div><div class="L9"><span class="pp-ln">  19 </span><span class="pp-pln">            </span><span class="pp-tag">set</span><span class="pp-pln"> this.isEmpty = true</span></div><div class="L0"><span class="pp-ln">  20 </span><span class="pp-pln">            </span><span class="pp-tag">set</span><span class="pp-pln"> this.artifactGenerationErrors = []</span></div><div class="L1"><span class="pp-ln">  21 </span><span class="pp-pln">        </span><span class="pp-tag">m</span><span class="pp-pln"> forceIndent</span></div><div class="L2"><span class="pp-ln">  22 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> value</span></div><div class="L3"><span class="pp-ln">  23 </span><span class="pp-pln">            </span><span class="pp-tag">return</span><span class="pp-pln"> this.block.forceIndent(value)</span></div><div class="L4"><span class="pp-ln">  24 </span><span class="pp-pln">        </span><span class="pp-tag">m</span><span class="pp-pln"> indent</span></div><div class="L5"><span class="pp-ln">  25 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> value</span></div><div class="L6"><span class="pp-ln">  26 </span><span class="pp-pln">            </span><span class="pp-tag">_</span><span class="pp-pln"> this.block.indent(value)</span></div><div class="L7"><span class="pp-ln">  27 </span><span class="pp-pln">        </span><span class="pp-tag">m</span><span class="pp-pln"> deindent</span></div><div class="L8"><span class="pp-ln">  28 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> value</span></div><div class="L9"><span class="pp-ln">  29 </span><span class="pp-pln">            </span><span class="pp-tag">_</span><span class="pp-pln"> this.block.deindent(value)</span></div><div class="L0"><span class="pp-ln">  30 </span><span class="pp-pln">        </span><span class="pp-tag">m</span><span class="pp-pln"> a</span></div><div class="L1"><span class="pp-ln">  31 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> name</span></div><div class="L2"><span class="pp-ln">  32 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> value</span></div><div class="L3"><span class="pp-ln">  33 </span><span class="pp-pln">            </span><span class="pp-tag">set</span><span class="pp-pln"> this.values[name] = value</span></div><div class="L4"><span class="pp-ln">  34 </span><span class="pp-pln">        </span><span class="pp-tag">m</span><span class="pp-pln"> g</span></div><div class="L5"><span class="pp-ln">  35 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> name</span></div><div class="L6"><span class="pp-ln">  36 </span><span class="pp-pln">            </span><span class="pp-tag">return</span><span class="pp-pln"> this.values[name]</span></div><div class="L7"><span class="pp-ln">  37 </span><span class="pp-pln">        </span><span class="pp-tag">m</span><span class="pp-pln"> r</span></div><div class="L8"><span class="pp-ln">  38 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> name</span></div><div class="L9"><span class="pp-ln">  39 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> this.values[name]</span></div><div class="L0"><span class="pp-ln">  40 </span><span class="pp-pln">                </span><span class="pp-tag">set</span><span class="pp-pln"> delete (this.values[name])</span></div><div class="L1"><span class="pp-ln">  41 </span><span class="pp-pln">        </span><span class="pp-tag">m</span><span class="pp-pln"> w</span></div><div class="L2"><span class="pp-ln">  42 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> text</span></div><div class="L3"><span class="pp-ln">  43 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> this.writeFilePath != null</span></div><div class="L4"><span class="pp-ln">  44 </span><span class="pp-pln">                </span><span class="pp-tag">throw</span><span class="pp-pln"> new Error('Cannot write when a file write has been requested: ' + this.writeFilePath)</span></div><div class="L5"><span class="pp-ln">  45 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> verify.isString(text)</span></div><div class="L6"><span class="pp-ln">  46 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> this.block.w</span></div><div class="L7"><span class="pp-ln">  47 </span><span class="pp-pln">                    </span><span class="pp-tag">iif</span><span class="pp-pln"> text.indexOf('{') &gt; -1</span></div><div class="L8"><span class="pp-ln">  48 </span><span class="pp-pln">                        </span><span class="pp-tag">then</span></div><div class="L9"><span class="pp-ln">  49 </span><span class="pp-pln">                            </span><span class="pp-tag">_</span><span class="pp-pln"> interpolate</span></div><div class="L0"><span class="pp-ln">  50 </span><span class="pp-pln">                                </span><span class="pp-tag">@</span><span class="pp-pln"> text</span></div><div class="L1"><span class="pp-ln">  51 </span><span class="pp-pln">                                </span><span class="pp-tag">@</span><span class="pp-pln"> this.values</span></div><div class="L2"><span class="pp-ln">  52 </span><span class="pp-pln">                        </span><span class="pp-tag">else</span><span class="pp-pln"> text</span></div><div class="L3"><span class="pp-ln">  53 </span><span class="pp-pln">            </span><span class="pp-tag">else</span></div><div class="L4"><span class="pp-ln">  54 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> this.block.w('')</span></div><div class="L5"><span class="pp-ln">  55 </span><span class="pp-pln">            </span><span class="pp-tag">set</span><span class="pp-pln"> this.isEmpty = false</span></div><div class="L6"><span class="pp-ln">  56 </span><span class="pp-pln">        </span><span class="pp-tag">m</span><span class="pp-pln"> write</span></div><div class="L7"><span class="pp-ln">  57 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> text</span></div><div class="L8"><span class="pp-ln">  58 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> this.writeFilePath != null</span></div><div class="L9"><span class="pp-ln">  59 </span><span class="pp-pln">                </span><span class="pp-tag">throw</span><span class="pp-pln"> new Error('Cannot write when a file write has been requested: ' + this.writeFilePath)</span></div><div class="L0"><span class="pp-ln">  60 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> !verify.isString(text)</span></div><div class="L1"><span class="pp-ln">  61 </span><span class="pp-pln">                </span><span class="pp-tag">return</span></div><div class="L2"><span class="pp-ln">  62 </span><span class="pp-pln">            </span><span class="pp-tag">_</span><span class="pp-pln"> this.block.write</span></div><div class="L3"><span class="pp-ln">  63 </span><span class="pp-pln">                </span><span class="pp-tag">iif</span><span class="pp-pln"> text.indexOf('{') &gt; -1</span></div><div class="L4"><span class="pp-ln">  64 </span><span class="pp-pln">                    </span><span class="pp-tag">then</span></div><div class="L5"><span class="pp-ln">  65 </span><span class="pp-pln">                        </span><span class="pp-tag">_</span><span class="pp-pln"> interpolate</span></div><div class="L6"><span class="pp-ln">  66 </span><span class="pp-pln">                            </span><span class="pp-tag">@</span><span class="pp-pln"> text</span></div><div class="L7"><span class="pp-ln">  67 </span><span class="pp-pln">                            </span><span class="pp-tag">@</span><span class="pp-pln"> this.values</span></div><div class="L8"><span class="pp-ln">  68 </span><span class="pp-pln">                    </span><span class="pp-tag">else</span><span class="pp-pln"> text</span></div><div class="L9"><span class="pp-ln">  69 </span><span class="pp-pln">            </span><span class="pp-tag">set</span><span class="pp-pln"> this.isEmpty = false</span></div><div class="L0"><span class="pp-ln">  70 </span><span class="pp-pln">        </span><span class="pp-tag">m</span><span class="pp-pln"> appendFile</span></div><div class="L1"><span class="pp-ln">  71 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> filePath</span></div><div class="L2"><span class="pp-ln">  72 </span><span class="pp-pln">            </span><span class="pp-tag">_</span><span class="pp-pln"> this.block.appendFile</span></div><div class="L3"><span class="pp-ln">  73 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> interpolate</span></div><div class="L4"><span class="pp-ln">  74 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> filePath</span></div><div class="L5"><span class="pp-ln">  75 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> this.values</span></div><div class="L6"><span class="pp-ln">  76 </span><span class="pp-pln">            </span><span class="pp-tag">set</span><span class="pp-pln"> this.isEmpty = false</span></div><div class="L7"><span class="pp-ln">  77 </span><span class="pp-pln">        </span><span class="pp-tag">m</span><span class="pp-pln"> writeFile</span></div><div class="L8"><span class="pp-ln">  78 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> filePath</span></div><div class="L9"><span class="pp-ln">  79 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> this.isEmpty == false</span></div><div class="L0"><span class="pp-ln">  80 </span><span class="pp-pln">                </span><span class="pp-tag">throw</span><span class="pp-pln"> new Error('Cannot write a file when text has already been added : ' + this.getContent())</span></div><div class="L1"><span class="pp-ln">  81 </span><span class="pp-pln">            </span><span class="pp-tag">set</span><span class="pp-pln"> this.writeFilePath = filePath</span></div><div class="L2"><span class="pp-ln">  82 </span><span class="pp-pln">        </span><span class="pp-tag">m</span><span class="pp-pln"> toStream</span></div><div class="L3"><span class="pp-ln">  83 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> stream</span></div><div class="L4"><span class="pp-ln">  84 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> this.writeFilePath != null</span></div><div class="L5"><span class="pp-ln">  85 </span><span class="pp-pln">                </span><span class="pp-tag">#</span><span class="pp-pln"> log 'wizzi.artifact.genContext.toStream. this.writeFilePath', this.writeFilePath</span></div><div class="L6"><span class="pp-ln">  86 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> stream.write</span></div><div class="L7"><span class="pp-ln">  87 </span><span class="pp-pln">                    </span><span class="pp-tag">_</span><span class="pp-pln"> file.read</span></div><div class="L8"><span class="pp-ln">  88 </span><span class="pp-pln">                        </span><span class="pp-tag">@</span><span class="pp-pln"> this.writeFilePath</span></div><div class="L9"><span class="pp-ln">  89 </span><span class="pp-pln">            </span><span class="pp-tag">else</span></div><div class="L0"><span class="pp-ln">  90 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> this.block.toStream(stream)</span></div><div class="L1"><span class="pp-ln">  91 </span><span class="pp-pln">        </span><span class="pp-tag">m</span><span class="pp-pln"> getContent</span></div><div class="L2"><span class="pp-ln">  92 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> this.writeFilePath != null</span></div><div class="L3"><span class="pp-ln">  93 </span><span class="pp-pln">                </span><span class="pp-tag">return</span></div><div class="L4"><span class="pp-ln">  94 </span><span class="pp-pln">                    </span><span class="pp-tag">_</span><span class="pp-pln"> file.read</span></div><div class="L5"><span class="pp-ln">  95 </span><span class="pp-pln">                        </span><span class="pp-tag">@</span><span class="pp-pln"> this.writeFilePath</span></div><div class="L6"><span class="pp-ln">  96 </span><span class="pp-pln">            </span><span class="pp-tag">else</span></div><div class="L7"><span class="pp-ln">  97 </span><span class="pp-pln">                </span><span class="pp-tag">var</span><span class="pp-pln"> sw = new StringWriter()</span></div><div class="L8"><span class="pp-ln">  98 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> this.block.toStream(sw)</span></div><div class="L9"><span class="pp-ln">  99 </span><span class="pp-pln">                </span><span class="pp-tag">return</span><span class="pp-pln"> sw.toString()</span></div><div class="L0"><span class="pp-ln"> 100 </span><span class="pp-pln">        </span><span class="pp-tag">m</span><span class="pp-pln"> getContentInLine</span></div><div class="L1"><span class="pp-ln"> 101 </span><span class="pp-pln">            </span><span class="pp-tag">return</span></div><div class="L2"><span class="pp-ln"> 102 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> verify.replaceAll</span></div><div class="L3"><span class="pp-ln"> 103 </span><span class="pp-pln">                    </span><span class="pp-tag">_</span><span class="pp-pln"> this.getContent()</span></div><div class="L4"><span class="pp-ln"> 104 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> '\n'</span></div><div class="L5"><span class="pp-ln"> 105 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> '__1_2_3__'</span></div><div class="L6"><span class="pp-ln"> 106 </span><span class="pp-pln">        </span><span class="pp-tag">m</span><span class="pp-pln"> error</span></div><div class="L7"><span class="pp-ln"> 107 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> message</span></div><div class="L8"><span class="pp-ln"> 108 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> node</span></div><div class="L9"><span class="pp-ln"> 109 </span><span class="pp-pln">            </span><span class="pp-tag">return</span></div><div class="L0"><span class="pp-ln"> 110 </span><span class="pp-pln">                </span><span class="pp-tag">new</span><span class="pp-pln"> errors.NodeError(message, node)</span></div><div class="L1"><span class="pp-ln"> 111 </span><span class="pp-pln">        </span><span class="pp-tag">m</span><span class="pp-pln"> artifactGenerationError</span></div><div class="L2"><span class="pp-ln"> 112 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> message</span></div><div class="L3"><span class="pp-ln"> 113 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> location</span></div><div class="L4"><span class="pp-ln"> 114 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> node</span></div><div class="L5"><span class="pp-ln"> 115 </span><span class="pp-pln">            </span><span class="pp-tag">log</span><span class="pp-pln"> 'wizzi.artifact.genContext.artifactGenerationError.message', message</span></div><div class="L6"><span class="pp-ln"> 116 </span><span class="pp-pln">            </span><span class="pp-tag">var</span><span class="pp-pln"> error</span></div><div class="L7"><span class="pp-ln"> 117 </span><span class="pp-pln">                </span><span class="pp-tag">new</span><span class="pp-pln"> errors.ArtifactGenerationError(message, location, node)</span></div><div class="L8"><span class="pp-ln"> 118 </span><span class="pp-pln">            </span><span class="pp-tag">_</span><span class="pp-pln"> this.artifactGenerationErrors.push(error)</span></div><div class="L9"><span class="pp-ln"> 119 </span><span class="pp-pln">            </span><span class="pp-tag">return</span><span class="pp-pln"> error</span></div><div class="L0"><span class="pp-ln"> 120 </span><span class="pp-pln">        </span><span class="pp-tag">m</span><span class="pp-pln"> terminate</span></div><div class="L1"><span class="pp-ln"> 121 </span><span class="pp-pln">            </span><span class="pp-tag">set</span><span class="pp-pln"> delete this.pman</span></div><div class="L2"><span class="pp-ln"> 122 </span><span class="pp-pln">            </span><span class="pp-tag">_</span><span class="pp-pln"> this.block.terminate()</span></div><div class="L3"><span class="pp-ln"> 123 </span><span class="pp-pln">        </span><span class="pp-tag">m</span><span class="pp-pln"> hydrate</span></div><div class="L4"><span class="pp-ln"> 124 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> block</span></div><div class="L5"><span class="pp-ln"> 125 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> options</span></div><div class="L6"><span class="pp-ln"> 126 </span><span class="pp-pln">            </span><span class="pp-tag">set</span><span class="pp-pln"> this.block = new block(options)</span></div><div class="L7"><span class="pp-ln"> 127 </span><span class="pp-pln">            </span><span class="pp-tag">_</span><span class="pp-pln"> this.block.hydrate</span></div><div class="L8"><span class="pp-ln"> 128 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> block.lines</span></div><div class="L9"><span class="pp-ln"> 129 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> options</span></div><div class="L0"><span class="pp-ln"> 130 </span><span class="pp-pln">        </span><span class="pp-tag">m</span><span class="pp-pln"> toStringFromJSON</span></div><div class="L1"><span class="pp-ln"> 131 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> block</span></div><div class="L2"><span class="pp-ln"> 132 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> options</span></div><div class="L3"><span class="pp-ln"> 133 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> !block || !block.lines</span></div><div class="L4"><span class="pp-ln"> 134 </span><span class="pp-pln">                </span><span class="pp-tag">return</span><span class="pp-pln"> 'NO TEXT'</span></div><div class="L5"><span class="pp-ln"> 135 </span><span class="pp-pln">            </span><span class="pp-tag">var</span><span class="pp-pln"> gw</span></div><div class="L6"><span class="pp-ln"> 136 </span><span class="pp-pln">                </span><span class="pp-tag">new</span><span class="pp-pln"> GenContext</span></div><div class="L7"><span class="pp-ln"> 137 </span><span class="pp-pln">                    </span><span class="pp-tag">{</span></div><div class="L8"><span class="pp-ln"> 138 </span><span class="pp-pln">                        </span><span class="pp-tag">@</span><span class="pp-pln"> options options</span></div><div class="L9"><span class="pp-ln"> 139 </span><span class="pp-pln">            </span><span class="pp-tag">_</span><span class="pp-pln"> gw.block.hydrate</span></div><div class="L0"><span class="pp-ln"> 140 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> block.lines</span></div><div class="L1"><span class="pp-ln"> 141 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> options</span></div><div class="L2"><span class="pp-ln"> 142 </span><span class="pp-pln">            </span><span class="pp-tag">return</span><span class="pp-pln"> gw.getContent()</span></div><div class="L3"><span class="pp-ln"> 143 </span><span class="pp-pln">    </span><span class="pp-tag">set</span><span class="pp-pln"> module.exports = GenContext</span></div></pre>
                    </div>
                </div>
                <div class="code-panel" id="d60">
                    <div class="modal-view-container">
                        <h4 class="d-h2">/src/ittf/lib/mocks/artifact/line.js.ittf</h4>
                        <pre class="prettyprint">

<div class="L1"><span class="pp-ln">   1 </span><span class="pp-pln"></span><span class="pp-tag">module</span></div><div class="L2"><span class="pp-ln">   2 </span><span class="pp-pln">    </span><span class="pp-tag">kind</span><span class="pp-pln"> jsfile</span></div><div class="L3"><span class="pp-ln">   3 </span><span class="pp-pln">    </span><span class="pp-tag">var</span><span class="pp-pln"> file = require('../../fs/file')</span></div><div class="L4"><span class="pp-ln">   4 </span><span class="pp-pln">    </span><span class="pp-tag">var</span><span class="pp-pln"> verify = require('../../verify')</span></div><div class="L5"><span class="pp-ln">   5 </span><span class="pp-pln">    </span><span class="pp-tag">class</span><span class="pp-pln"> Line</span></div><div class="L6"><span class="pp-ln">   6 </span><span class="pp-pln">        </span><span class="pp-tag">ctor</span></div><div class="L7"><span class="pp-ln">   7 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> textOrPath</span></div><div class="L8"><span class="pp-ln">   8 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> indentValue</span></div><div class="L9"><span class="pp-ln">   9 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> options</span></div><div class="L0"><span class="pp-ln">  10 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> isFilePath</span></div><div class="L1"><span class="pp-ln">  11 </span><span class="pp-pln">            </span><span class="pp-tag">set</span><span class="pp-pln"> this.containsFilePath = isFilePath</span></div><div class="L2"><span class="pp-ln">  12 </span><span class="pp-pln">            </span><span class="pp-tag">set</span><span class="pp-pln"> this.text = []</span></div><div class="L3"><span class="pp-ln">  13 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> isFilePath</span></div><div class="L4"><span class="pp-ln">  14 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> this.text.push</span></div><div class="L5"><span class="pp-ln">  15 </span><span class="pp-pln">                    </span><span class="pp-tag">{</span></div><div class="L6"><span class="pp-ln">  16 </span><span class="pp-pln">                        </span><span class="pp-tag">@</span><span class="pp-pln"> k 0</span></div><div class="L7"><span class="pp-ln">  17 </span><span class="pp-pln">                        </span><span class="pp-tag">@</span><span class="pp-pln"> t textOrPath</span></div><div class="L8"><span class="pp-ln">  18 </span><span class="pp-pln">            </span><span class="pp-tag">else</span></div><div class="L9"><span class="pp-ln">  19 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> this.text.push(textOrPath)</span></div><div class="L0"><span class="pp-ln">  20 </span><span class="pp-pln">            </span><span class="pp-tag">set</span><span class="pp-pln"> this.indentValue = indentValue</span></div><div class="L1"><span class="pp-ln">  21 </span><span class="pp-pln">            </span><span class="pp-tag">set</span><span class="pp-pln"> this.options = options</span></div><div class="L2"><span class="pp-ln">  22 </span><span class="pp-pln">        </span><span class="pp-tag">m</span><span class="pp-pln"> add</span></div><div class="L3"><span class="pp-ln">  23 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> text</span></div><div class="L4"><span class="pp-ln">  24 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> this.containsFilePath</span></div><div class="L5"><span class="pp-ln">  25 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> this.text.push</span></div><div class="L6"><span class="pp-ln">  26 </span><span class="pp-pln">                    </span><span class="pp-tag">{</span></div><div class="L7"><span class="pp-ln">  27 </span><span class="pp-pln">                        </span><span class="pp-tag">@</span><span class="pp-pln"> k 1</span></div><div class="L8"><span class="pp-ln">  28 </span><span class="pp-pln">                        </span><span class="pp-tag">@</span><span class="pp-pln"> t text</span></div><div class="L9"><span class="pp-ln">  29 </span><span class="pp-pln">            </span><span class="pp-tag">else</span></div><div class="L0"><span class="pp-ln">  30 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> this.text.push(text)</span></div><div class="L1"><span class="pp-ln">  31 </span><span class="pp-pln">        </span><span class="pp-tag">m</span><span class="pp-pln"> addFile</span></div><div class="L2"><span class="pp-ln">  32 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> filePath</span></div><div class="L3"><span class="pp-ln">  33 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> this.containsFilePath</span></div><div class="L4"><span class="pp-ln">  34 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> this.text.push</span></div><div class="L5"><span class="pp-ln">  35 </span><span class="pp-pln">                    </span><span class="pp-tag">{</span></div><div class="L6"><span class="pp-ln">  36 </span><span class="pp-pln">                        </span><span class="pp-tag">@</span><span class="pp-pln"> k 0</span></div><div class="L7"><span class="pp-ln">  37 </span><span class="pp-pln">                        </span><span class="pp-tag">@</span><span class="pp-pln"> t filePath</span></div><div class="L8"><span class="pp-ln">  38 </span><span class="pp-pln">            </span><span class="pp-tag">else</span></div><div class="L9"><span class="pp-ln">  39 </span><span class="pp-pln">                </span><span class="pp-tag">for</span><span class="pp-pln"> var i = 0; i &lt; text.length; i++</span></div><div class="L0"><span class="pp-ln">  40 </span><span class="pp-pln">                    </span><span class="pp-tag">set</span><span class="pp-pln"> text[i] =</span></div><div class="L1"><span class="pp-ln">  41 </span><span class="pp-pln">                        </span><span class="pp-tag">{</span></div><div class="L2"><span class="pp-ln">  42 </span><span class="pp-pln">                            </span><span class="pp-tag">@</span><span class="pp-pln"> k 1</span></div><div class="L3"><span class="pp-ln">  43 </span><span class="pp-pln">                            </span><span class="pp-tag">@</span><span class="pp-pln"> t text[i]</span></div><div class="L4"><span class="pp-ln">  44 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> this.text.push</span></div><div class="L5"><span class="pp-ln">  45 </span><span class="pp-pln">                    </span><span class="pp-tag">{</span></div><div class="L6"><span class="pp-ln">  46 </span><span class="pp-pln">                        </span><span class="pp-tag">@</span><span class="pp-pln"> k 0</span></div><div class="L7"><span class="pp-ln">  47 </span><span class="pp-pln">                        </span><span class="pp-tag">@</span><span class="pp-pln"> t filePath</span></div><div class="L8"><span class="pp-ln">  48 </span><span class="pp-pln">        </span><span class="pp-tag">m</span><span class="pp-pln"> toStream</span></div><div class="L9"><span class="pp-ln">  49 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> stream</span></div><div class="L0"><span class="pp-ln">  50 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> ctx</span></div><div class="L1"><span class="pp-ln">  51 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> this.options.isDebugLine && !ctx.isDebug</span></div><div class="L2"><span class="pp-ln">  52 </span><span class="pp-pln">                </span><span class="pp-tag">return</span></div><div class="L3"><span class="pp-ln">  53 </span><span class="pp-pln">            </span><span class="pp-tag">var</span><span class="pp-pln"> seen_tokens = false</span></div><div class="L4"><span class="pp-ln">  54 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> this.containsFilePath</span></div><div class="L5"><span class="pp-ln">  55 </span><span class="pp-pln">                </span><span class="pp-tag">var</span></div><div class="L6"><span class="pp-ln">  56 </span><span class="pp-pln">                    </span><span class="pp-tag">decl</span><span class="pp-pln"> i</span></div><div class="L7"><span class="pp-ln">  57 </span><span class="pp-pln">                    </span><span class="pp-tag">decl</span><span class="pp-pln"> t</span></div><div class="L8"><span class="pp-ln">  58 </span><span class="pp-pln">                    </span><span class="pp-tag">decl</span><span class="pp-pln"> len = this.text.length</span></div><div class="L9"><span class="pp-ln">  59 </span><span class="pp-pln">                </span><span class="pp-tag">for</span><span class="pp-pln"> i = 0; i &lt; len; i++</span></div><div class="L0"><span class="pp-ln">  60 </span><span class="pp-pln">                    </span><span class="pp-tag">var</span><span class="pp-pln"> t = this.text[i]</span></div><div class="L1"><span class="pp-ln">  61 </span><span class="pp-pln">                    </span><span class="pp-tag">if</span><span class="pp-pln"> t.k === 1</span></div><div class="L2"><span class="pp-ln">  62 </span><span class="pp-pln">                        </span><span class="pp-tag">_</span><span class="pp-pln"> stream.write</span></div><div class="L3"><span class="pp-ln">  63 </span><span class="pp-pln">                            </span><span class="pp-tag">@</span><span class="pp-pln"> t.t</span></div><div class="L4"><span class="pp-ln">  64 </span><span class="pp-pln">                        </span><span class="pp-tag">set</span><span class="pp-pln"> seen_tokens = true</span></div><div class="L5"><span class="pp-ln">  65 </span><span class="pp-pln">                    </span><span class="pp-tag">else</span></div><div class="L6"><span class="pp-ln">  66 </span><span class="pp-pln">                        </span><span class="pp-tag">_</span><span class="pp-pln"> this._fileToStream</span></div><div class="L7"><span class="pp-ln">  67 </span><span class="pp-pln">                            </span><span class="pp-tag">@</span><span class="pp-pln"> seen_tokens</span></div><div class="L8"><span class="pp-ln">  68 </span><span class="pp-pln">                            </span><span class="pp-tag">@</span><span class="pp-pln"> stream</span></div><div class="L9"><span class="pp-ln">  69 </span><span class="pp-pln">                            </span><span class="pp-tag">@</span><span class="pp-pln"> t.t</span></div><div class="L0"><span class="pp-ln">  70 </span><span class="pp-pln">                            </span><span class="pp-tag">@</span><span class="pp-pln"> ctx</span></div><div class="L1"><span class="pp-ln">  71 </span><span class="pp-pln">                    </span><span class="pp-tag">if</span><span class="pp-pln"> i == len - 1</span></div><div class="L2"><span class="pp-ln">  72 </span><span class="pp-pln">                        </span><span class="pp-tag">_</span><span class="pp-pln"> stream.write</span></div><div class="L3"><span class="pp-ln">  73 </span><span class="pp-pln">                            </span><span class="pp-tag">@</span><span class="pp-pln"> this.options.CRLF</span></div><div class="L4"><span class="pp-ln">  74 </span><span class="pp-pln">            </span><span class="pp-tag">else</span></div><div class="L5"><span class="pp-ln">  75 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> stream.write</span></div><div class="L6"><span class="pp-ln">  76 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> spaces(this.indentValue * this.options.indentSpaces) + this.text.join('') + this.options.CRLF</span></div><div class="L7"><span class="pp-ln">  77 </span><span class="pp-pln">        </span><span class="pp-tag">m</span><span class="pp-pln"> _fileToStream</span></div><div class="L8"><span class="pp-ln">  78 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> seen_tokens</span></div><div class="L9"><span class="pp-ln">  79 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> stream</span></div><div class="L0"><span class="pp-ln">  80 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> filePath</span></div><div class="L1"><span class="pp-ln">  81 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> ctx</span></div><div class="L2"><span class="pp-ln">  82 </span><span class="pp-pln">            </span><span class="pp-tag">var</span><span class="pp-pln"> lines = file.readLines(filePath)</span></div><div class="L3"><span class="pp-ln">  83 </span><span class="pp-pln">            </span><span class="pp-tag">var</span><span class="pp-pln"> indent = spaces(this.indentValue * this.options.indentSpaces)</span></div><div class="L4"><span class="pp-ln">  84 </span><span class="pp-pln">            </span><span class="pp-tag">var</span></div><div class="L5"><span class="pp-ln">  85 </span><span class="pp-pln">                </span><span class="pp-tag">decl</span><span class="pp-pln"> i</span></div><div class="L6"><span class="pp-ln">  86 </span><span class="pp-pln">                </span><span class="pp-tag">decl</span><span class="pp-pln"> t</span></div><div class="L7"><span class="pp-ln">  87 </span><span class="pp-pln">                </span><span class="pp-tag">decl</span><span class="pp-pln"> len = lines.length</span></div><div class="L8"><span class="pp-ln">  88 </span><span class="pp-pln">                </span><span class="pp-tag">decl</span><span class="pp-pln"> tabspaces = spaces(this.options.indentSpaces)</span></div><div class="L9"><span class="pp-ln">  89 </span><span class="pp-pln">                </span><span class="pp-tag">decl</span><span class="pp-pln"> line</span></div><div class="L0"><span class="pp-ln">  90 </span><span class="pp-pln">            </span><span class="pp-tag">for</span><span class="pp-pln"> i = 0; i &lt; len; i++</span></div><div class="L1"><span class="pp-ln">  91 </span><span class="pp-pln">                </span><span class="pp-tag">set</span><span class="pp-pln"> line = verify.replaceAll(lines[i], '\t', tabspaces)</span></div><div class="L2"><span class="pp-ln">  92 </span><span class="pp-pln">                </span><span class="pp-tag">if</span><span class="pp-pln"> line.length &gt; 0</span></div><div class="L3"><span class="pp-ln">  93 </span><span class="pp-pln">                    </span><span class="pp-tag">if</span><span class="pp-pln"> i &gt; 0 || seen_tokens == false</span></div><div class="L4"><span class="pp-ln">  94 </span><span class="pp-pln">                        </span><span class="pp-tag">_</span><span class="pp-pln"> stream.write(indent)</span></div><div class="L5"><span class="pp-ln">  95 </span><span class="pp-pln">                    </span><span class="pp-tag">_</span><span class="pp-pln"> stream.write</span></div><div class="L6"><span class="pp-ln">  96 </span><span class="pp-pln">                        </span><span class="pp-tag">@</span><span class="pp-pln"> line</span></div><div class="L7"><span class="pp-ln">  97 </span><span class="pp-pln">                </span><span class="pp-tag">if</span><span class="pp-pln"> i &lt; len - 1</span></div><div class="L8"><span class="pp-ln">  98 </span><span class="pp-pln">                    </span><span class="pp-tag">_</span><span class="pp-pln"> stream.write</span></div><div class="L9"><span class="pp-ln">  99 </span><span class="pp-pln">                        </span><span class="pp-tag">@</span><span class="pp-pln"> this.options.CRLF</span></div><div class="L0"><span class="pp-ln"> 100 </span><span class="pp-pln">        </span><span class="pp-tag">m</span><span class="pp-pln"> terminate</span></div><div class="L1"><span class="pp-ln"> 101 </span><span class="pp-pln">            </span><span class="pp-tag">set</span><span class="pp-pln"> delete (this.options)</span></div><div class="L2"><span class="pp-ln"> 102 </span><span class="pp-pln">        </span><span class="pp-tag">m</span><span class="pp-pln"> hydrate</span></div><div class="L3"><span class="pp-ln"> 103 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> item</span></div><div class="L4"><span class="pp-ln"> 104 </span><span class="pp-pln">            </span><span class="pp-tag">set</span><span class="pp-pln"> this.text = item.text</span></div><div class="L5"><span class="pp-ln"> 105 </span><span class="pp-pln">            </span><span class="pp-tag">set</span><span class="pp-pln"> this.indentValue = item.indentValue</span></div><div class="L6"><span class="pp-ln"> 106 </span><span class="pp-pln">    </span><span class="pp-tag">function</span><span class="pp-pln"> spaces</span></div><div class="L7"><span class="pp-ln"> 107 </span><span class="pp-pln">        </span><span class="pp-tag">param</span><span class="pp-pln"> num</span></div><div class="L8"><span class="pp-ln"> 108 </span><span class="pp-pln">        </span><span class="pp-tag">return</span></div><div class="L9"><span class="pp-ln"> 109 </span><span class="pp-pln">            </span><span class="pp-tag">_</span><span class="pp-pln"> Array((num + 1))</span></div><div class="L0"><span class="pp-ln"> 110 </span><span class="pp-pln">                </span><span class="pp-tag">._</span><span class="pp-pln"> join(" ")</span></div><div class="L1"><span class="pp-ln"> 111 </span><span class="pp-pln">    </span><span class="pp-tag">set</span><span class="pp-pln"> module.exports = Line</span></div></pre>
                    </div>
                </div>
                <div class="code-panel" id="d61">
                    <div class="modal-view-container">
                        <h4 class="d-h2">/src/ittf/lib/mocks/repo/errors.js.ittf</h4>
                        <pre class="prettyprint">

<div class="L1"><span class="pp-ln">   1 </span><span class="pp-pln"></span><span class="pp-tag">module</span></div><div class="L2"><span class="pp-ln">   2 </span><span class="pp-pln">    </span><span class="pp-tag">kind</span><span class="pp-pln"> jsfile</span></div><div class="L3"><span class="pp-ln">   3 </span><span class="pp-pln">    </span><span class="pp-tag">var</span><span class="pp-pln"> globalErrors = require('../errors')</span></div><div class="L4"><span class="pp-ln">   4 </span><span class="pp-pln">    </span><span class="pp-tag">+</span></div><div class="L5"><span class="pp-ln">   5 </span><span class="pp-pln">    </span><span class="pp-tag">var</span><span class="pp-pln"> md = module.exports = globalErrors</span></div><div class="L6"><span class="pp-ln">   6 </span><span class="pp-pln">    </span><span class="pp-tag">+</span></div><div class="L7"><span class="pp-ln">   7 </span><span class="pp-pln">    </span><span class="pp-mix frag-to-link-a" data-frag-id="d117">error(</span><span class="pp-arg"> RepoIO</span><span class="pp-pln">,</span><span class="pp-arg">  message</span><span class="pp-pln">,</span><span class="pp-arg">  uri</span><span class="pp-pln">,</span><span class="pp-arg">  innerEx </span><span class="pp-mix">)</span></div><div class="L8"><span class="pp-ln">   8 </span><span class="pp-pln">        </span><span class="pp-tag">set</span><span class="pp-pln"> this.message = message + '\nuri: ' + uri</span></div></pre>
                    </div>
                </div>
                <div class="code-panel" id="d62">
                    <div class="modal-view-container">
                        <h4 class="d-h2">/src/ittf/lib/mocks/repo/fileSystemStore.js.ittf</h4>
                        <pre class="prettyprint">

<div class="L1"><span class="pp-ln">   1 </span><span class="pp-pln"></span><span class="pp-tag">module</span></div><div class="L2"><span class="pp-ln">   2 </span><span class="pp-pln">    </span><span class="pp-tag">kind</span><span class="pp-pln"> jsfile</span></div><div class="L3"><span class="pp-ln">   3 </span><span class="pp-pln">    </span><span class="pp-tag">var</span><span class="pp-pln"> file = require('../../fs/file')</span></div><div class="L4"><span class="pp-ln">   4 </span><span class="pp-pln">    </span><span class="pp-tag">var</span><span class="pp-pln"> errors = require('./errors')</span></div><div class="L5"><span class="pp-ln">   5 </span><span class="pp-pln">    </span><span class="pp-tag">var</span><span class="pp-pln"> uriparser = require('./uriparser')</span></div><div class="L6"><span class="pp-ln">   6 </span><span class="pp-pln">    </span><span class="pp-tag">class</span><span class="pp-pln"> FileSystemStore</span></div><div class="L7"><span class="pp-ln">   7 </span><span class="pp-pln">        </span><span class="pp-tag">ctor</span></div><div class="L8"><span class="pp-ln">   8 </span><span class="pp-pln">            </span><span class="pp-tag">set</span><span class="pp-pln"> this.storeKind = 'filesystem'</span></div><div class="L9"><span class="pp-ln">   9 </span><span class="pp-pln">        </span><span class="pp-tag">m</span><span class="pp-pln"> parseUri</span></div><div class="L0"><span class="pp-ln">  10 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> ittfDocumentUri</span></div><div class="L1"><span class="pp-ln">  11 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> callback</span></div><div class="L2"><span class="pp-ln">  12 </span><span class="pp-pln">            </span><span class="pp-tag">_</span><span class="pp-pln"> uriparser</span></div><div class="L3"><span class="pp-ln">  13 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> ittfDocumentUri</span></div><div class="L4"><span class="pp-ln">  14 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> callback</span></div><div class="L5"><span class="pp-ln">  15 </span><span class="pp-pln">        </span><span class="pp-tag">m</span><span class="pp-pln"> documentExists</span></div><div class="L6"><span class="pp-ln">  16 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> filepath</span></div><div class="L7"><span class="pp-ln">  17 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> callback</span></div><div class="L8"><span class="pp-ln">  18 </span><span class="pp-pln">            </span><span class="pp-tag">var</span><span class="pp-pln"> documentExists</span></div><div class="L9"><span class="pp-ln">  19 </span><span class="pp-pln">            </span><span class="pp-tag">try</span></div><div class="L0"><span class="pp-ln">  20 </span><span class="pp-pln">                </span><span class="pp-tag">set</span><span class="pp-pln"> documentExists = file.isFile(filepath)</span></div><div class="L1"><span class="pp-ln">  21 </span><span class="pp-pln">            </span><span class="pp-tag">catch</span><span class="pp-pln"> ex</span></div><div class="L2"><span class="pp-ln">  22 </span><span class="pp-pln">                </span><span class="pp-mix frag-to-link-a" data-frag-id="d127">var_error(</span><span class="pp-arg"> RepoIO </span><span class="pp-mix">)</span></div><div class="L3"><span class="pp-ln">  23 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> ex.message + '\nChecking documentExists'</span></div><div class="L4"><span class="pp-ln">  24 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> filepath</span></div><div class="L5"><span class="pp-ln">  25 </span><span class="pp-pln">                </span><span class="pp-tag">return</span><span class="pp-pln"> callback(error)</span></div><div class="L6"><span class="pp-ln">  26 </span><span class="pp-pln">            </span><span class="pp-tag">_</span><span class="pp-pln"> callback(null, documentExists)</span></div><div class="L7"><span class="pp-ln">  27 </span><span class="pp-pln">        </span><span class="pp-tag">m</span><span class="pp-pln"> folderExistsSync</span></div><div class="L8"><span class="pp-ln">  28 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> folderpath</span></div><div class="L9"><span class="pp-ln">  29 </span><span class="pp-pln">            </span><span class="pp-tag">var</span><span class="pp-pln"> folderExists</span></div><div class="L0"><span class="pp-ln">  30 </span><span class="pp-pln">            </span><span class="pp-tag">try</span></div><div class="L1"><span class="pp-ln">  31 </span><span class="pp-pln">                </span><span class="pp-tag">set</span><span class="pp-pln"> folderExists = file.isDirectory(folderpath)</span></div><div class="L2"><span class="pp-ln">  32 </span><span class="pp-pln">            </span><span class="pp-tag">catch</span><span class="pp-pln"> ex</span></div><div class="L3"><span class="pp-ln">  33 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> return</span></div><div class="L4"><span class="pp-ln">  34 </span><span class="pp-pln">                    </span><span class="pp-tag">_</span><span class="pp-pln"> this.error</span></div><div class="L5"><span class="pp-ln">  35 </span><span class="pp-pln">                        </span><span class="pp-tag">@</span><span class="pp-pln"> ex.message</span></div><div class="L6"><span class="pp-ln">  36 </span><span class="pp-pln">                        </span><span class="pp-tag">@</span><span class="pp-pln"> folderpath</span></div><div class="L7"><span class="pp-ln">  37 </span><span class="pp-pln">                        </span><span class="pp-tag">@</span><span class="pp-pln"> 'folderExistsSync'</span></div><div class="L8"><span class="pp-ln">  38 </span><span class="pp-pln">            </span><span class="pp-tag">return</span><span class="pp-pln"> folderExists</span></div><div class="L9"><span class="pp-ln">  39 </span><span class="pp-pln">        </span><span class="pp-tag">m</span><span class="pp-pln"> getFoldersSync</span></div><div class="L0"><span class="pp-ln">  40 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> parentFolderPath</span></div><div class="L1"><span class="pp-ln">  41 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> options</span></div><div class="L2"><span class="pp-ln">  42 </span><span class="pp-pln">            </span><span class="pp-tag">var</span><span class="pp-pln"> folders</span></div><div class="L3"><span class="pp-ln">  43 </span><span class="pp-pln">            </span><span class="pp-tag">try</span></div><div class="L4"><span class="pp-ln">  44 </span><span class="pp-pln">                </span><span class="pp-tag">set</span><span class="pp-pln"> folders = file.getFolders(parentFolderPath, options)</span></div><div class="L5"><span class="pp-ln">  45 </span><span class="pp-pln">            </span><span class="pp-tag">catch</span><span class="pp-pln"> ex</span></div><div class="L6"><span class="pp-ln">  46 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> return</span></div><div class="L7"><span class="pp-ln">  47 </span><span class="pp-pln">                    </span><span class="pp-tag">_</span><span class="pp-pln"> this.error</span></div><div class="L8"><span class="pp-ln">  48 </span><span class="pp-pln">                        </span><span class="pp-tag">@</span><span class="pp-pln"> ex.message</span></div><div class="L9"><span class="pp-ln">  49 </span><span class="pp-pln">                        </span><span class="pp-tag">@</span><span class="pp-pln"> parentFolderPath</span></div><div class="L0"><span class="pp-ln">  50 </span><span class="pp-pln">                        </span><span class="pp-tag">@</span><span class="pp-pln"> 'getFolders'</span></div><div class="L1"><span class="pp-ln">  51 </span><span class="pp-pln">            </span><span class="pp-tag">return</span><span class="pp-pln"> folders</span></div><div class="L2"><span class="pp-ln">  52 </span><span class="pp-pln">        </span><span class="pp-tag">m</span><span class="pp-pln"> getModelContent</span></div><div class="L3"><span class="pp-ln">  53 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> filepath</span></div><div class="L4"><span class="pp-ln">  54 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> callback</span></div><div class="L5"><span class="pp-ln">  55 </span><span class="pp-pln">            </span><span class="pp-tag">var</span><span class="pp-pln"> content</span></div><div class="L6"><span class="pp-ln">  56 </span><span class="pp-pln">            </span><span class="pp-tag">try</span></div><div class="L7"><span class="pp-ln">  57 </span><span class="pp-pln">                </span><span class="pp-tag">set</span><span class="pp-pln"> content = file.read(filepath)</span></div><div class="L8"><span class="pp-ln">  58 </span><span class="pp-pln">            </span><span class="pp-tag">catch</span><span class="pp-pln"> ex</span></div><div class="L9"><span class="pp-ln">  59 </span><span class="pp-pln">                </span><span class="pp-mix frag-to-link-a" data-frag-id="d127">var_error(</span><span class="pp-arg"> RepoIO </span><span class="pp-mix">)</span></div><div class="L0"><span class="pp-ln">  60 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> ex.message</span></div><div class="L1"><span class="pp-ln">  61 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> filepath</span></div><div class="L2"><span class="pp-ln">  62 </span><span class="pp-pln">                </span><span class="pp-tag">return</span><span class="pp-pln"> callback(error)</span></div><div class="L3"><span class="pp-ln">  63 </span><span class="pp-pln">            </span><span class="pp-tag">return</span><span class="pp-pln"> callback(null, content)</span></div><div class="L4"><span class="pp-ln">  64 </span><span class="pp-pln">        </span><span class="pp-tag">m</span><span class="pp-pln"> error</span></div><div class="L5"><span class="pp-ln">  65 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> message</span></div><div class="L6"><span class="pp-ln">  66 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> path</span></div><div class="L7"><span class="pp-ln">  67 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> method</span></div><div class="L8"><span class="pp-ln">  68 </span><span class="pp-pln">            </span><span class="pp-tag">return</span></div><div class="L9"><span class="pp-ln">  69 </span><span class="pp-pln">                </span><span class="pp-tag">{</span></div><div class="L0"><span class="pp-ln">  70 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> __is_error true</span></div><div class="L1"><span class="pp-ln">  71 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> message message</span></div><div class="L2"><span class="pp-ln">  72 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> path path</span></div><div class="L3"><span class="pp-ln">  73 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> source '/lib/ittf/repo/' + method</span></div><div class="L4"><span class="pp-ln">  74 </span><span class="pp-pln">    </span><span class="pp-tag">set</span><span class="pp-pln"> module.exports = FileSystemStore</span></div></pre>
                    </div>
                </div>
                <div class="code-panel" id="d63">
                    <div class="modal-view-container">
                        <h4 class="d-h2">/src/ittf/lib/mocks/repo/index.js.ittf</h4>
                        <pre class="prettyprint">

<div class="L1"><span class="pp-ln">   1 </span><span class="pp-pln"></span><span class="pp-tag">module</span></div><div class="L2"><span class="pp-ln">   2 </span><span class="pp-pln">    </span><span class="pp-tag">kind</span><span class="pp-pln"> jsfile</span></div><div class="L3"><span class="pp-ln">   3 </span><span class="pp-pln">    </span><span class="pp-tag">var</span><span class="pp-pln"> FileSystemStore = require('./fileSystemStore')</span></div><div class="L4"><span class="pp-ln">   4 </span><span class="pp-pln">    </span><span class="pp-tag">var</span><span class="pp-pln"> md = module.exports = {}</span></div><div class="L5"><span class="pp-ln">   5 </span><span class="pp-pln">    </span><span class="pp-tag">set</span><span class="pp-pln"> md.getCreateFilesystemStore</span></div><div class="L6"><span class="pp-ln">   6 </span><span class="pp-pln">        </span><span class="pp-tag">function</span><span class="pp-pln"> getCreateFilesystemStore</span></div><div class="L7"><span class="pp-ln">   7 </span><span class="pp-pln">            </span><span class="pp-tag">return</span></div><div class="L8"><span class="pp-ln">   8 </span><span class="pp-pln">                </span><span class="pp-tag">function</span><span class="pp-pln"> createStore</span></div><div class="L9"><span class="pp-ln">   9 </span><span class="pp-pln">                    </span><span class="pp-tag">param</span><span class="pp-pln"> callback</span></div><div class="L0"><span class="pp-ln">  10 </span><span class="pp-pln">                    </span><span class="pp-tag">var</span><span class="pp-pln"> store</span></div><div class="L1"><span class="pp-ln">  11 </span><span class="pp-pln">                        </span><span class="pp-tag">new</span><span class="pp-pln"> FileSystemStore()</span></div><div class="L2"><span class="pp-ln">  12 </span><span class="pp-pln">                    </span><span class="pp-tag">return</span></div><div class="L3"><span class="pp-ln">  13 </span><span class="pp-pln">                        </span><span class="pp-tag">_</span><span class="pp-pln"> callback</span></div><div class="L4"><span class="pp-ln">  14 </span><span class="pp-pln">                            </span><span class="pp-tag">@</span><span class="pp-pln"> null</span></div><div class="L5"><span class="pp-ln">  15 </span><span class="pp-pln">                            </span><span class="pp-tag">@</span><span class="pp-pln"> store</span></div></pre>
                    </div>
                </div>
                <div class="code-panel" id="d64">
                    <div class="modal-view-container">
                        <h4 class="d-h2">/src/ittf/lib/mocks/repo/uriparser.js.ittf</h4>
                        <pre class="prettyprint">

<div class="L1"><span class="pp-ln">   1 </span><span class="pp-pln"></span><span class="pp-tag">module</span></div><div class="L2"><span class="pp-ln">   2 </span><span class="pp-pln">    </span><span class="pp-tag">kind</span><span class="pp-pln"> jsfile</span></div><div class="L3"><span class="pp-ln">   3 </span><span class="pp-pln">    </span><span class="pp-tag">import</span><span class="pp-pln"> url</span></div><div class="L4"><span class="pp-ln">   4 </span><span class="pp-pln">    </span><span class="pp-tag">set</span><span class="pp-pln"> module.exports</span></div><div class="L5"><span class="pp-ln">   5 </span><span class="pp-pln">        </span><span class="pp-tag">function</span></div><div class="L6"><span class="pp-ln">   6 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> uri</span></div><div class="L7"><span class="pp-ln">   7 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> callback</span></div><div class="L8"><span class="pp-ln">   8 </span><span class="pp-pln">            </span><span class="pp-tag">set</span><span class="pp-pln"> uri = uri.toLowerCase()</span></div><div class="L9"><span class="pp-ln">   9 </span><span class="pp-pln">            </span><span class="pp-tag">var</span><span class="pp-pln"> ret = {}</span></div><div class="L0"><span class="pp-ln">  10 </span><span class="pp-pln">            </span><span class="pp-tag">var</span><span class="pp-pln"> parsedUri = url.parse(uri)</span></div><div class="L1"><span class="pp-ln">  11 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> typeof(parsedUri.protocol) !== 'string'</span></div><div class="L2"><span class="pp-ln">  12 </span><span class="pp-pln">                </span><span class="pp-mix frag-to-link-a" data-frag-id="d126">var_cb_error(</span><span class="pp-arg"> InvalidRequest </span><span class="pp-mix">)</span></div><div class="L3"><span class="pp-ln">  13 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> "ittf.uriparser. uri must have a protocol (must be an absolute url) : " + uri</span></div><div class="L4"><span class="pp-ln">  14 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> "UriError"</span></div><div class="L5"><span class="pp-ln">  15 </span><span class="pp-pln">            </span><span class="pp-tag">var</span><span class="pp-pln"> protocol</span></div><div class="L6"><span class="pp-ln">  16 </span><span class="pp-pln">                </span><span class="pp-tag">iif</span><span class="pp-pln"> parsedUri.protocol.substr(-1, 1) === ':'</span></div><div class="L7"><span class="pp-ln">  17 </span><span class="pp-pln">                    </span><span class="pp-tag">then</span></div><div class="L8"><span class="pp-ln">  18 </span><span class="pp-pln">                        </span><span class="pp-tag">_</span><span class="pp-pln"> parsedUri.protocol.substr(0, (parsedUri.protocol.length - 1))</span></div><div class="L9"><span class="pp-ln">  19 </span><span class="pp-pln">                    </span><span class="pp-tag">else</span></div><div class="L0"><span class="pp-ln">  20 </span><span class="pp-pln">                        </span><span class="pp-tag">set</span><span class="pp-pln"> parsedUri.protocol</span></div><div class="L1"><span class="pp-ln">  21 </span><span class="pp-pln">            </span><span class="pp-tag">#</span><span class="pp-pln"> log 'parseuri.parsedUri', parsedUri</span></div><div class="L2"><span class="pp-ln">  22 </span><span class="pp-pln">            </span><span class="pp-tag">var</span><span class="pp-pln"> name, parts = parsedUri.pathname ? parsedUri.pathname.split('/') : []</span></div><div class="L3"><span class="pp-ln">  23 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> parsedUri.pathname && parsedUri.pathname.length &gt; 0 && parsedUri.pathname[0] == '/'</span></div><div class="L4"><span class="pp-ln">  24 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> parts.shift()</span></div><div class="L5"><span class="pp-ln">  25 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> protocol.length === 1</span></div><div class="L6"><span class="pp-ln">  26 </span><span class="pp-pln">                </span><span class="pp-tag">if</span><span class="pp-pln"> parts.length &lt; 3</span></div><div class="L7"><span class="pp-ln">  27 </span><span class="pp-pln">                    </span><span class="pp-mix frag-to-link-a" data-frag-id="d126">var_cb_error(</span><span class="pp-arg"> InvalidRequest </span><span class="pp-mix">)</span></div><div class="L8"><span class="pp-ln">  28 </span><span class="pp-pln">                        </span><span class="pp-tag">@</span><span class="pp-pln"> 'Invalid uri for an IttfDocument. Too short: ' + uri</span></div><div class="L9"><span class="pp-ln">  29 </span><span class="pp-pln">                        </span><span class="pp-tag">@</span><span class="pp-pln"> 'UriError'</span></div><div class="L0"><span class="pp-ln">  30 </span><span class="pp-pln">                </span><span class="pp-tag">set</span><span class="pp-pln"> ret.storeKind = 'filesystem'</span></div><div class="L1"><span class="pp-ln">  31 </span><span class="pp-pln">                </span><span class="pp-tag">set</span><span class="pp-pln"> ret.userId = parts[0]</span></div><div class="L2"><span class="pp-ln">  32 </span><span class="pp-pln">                </span><span class="pp-tag">set</span><span class="pp-pln"> ret.projectId = parts[1]</span></div><div class="L3"><span class="pp-ln">  33 </span><span class="pp-pln">                </span><span class="pp-tag">set</span><span class="pp-pln"> ret.uri = uri</span></div><div class="L4"><span class="pp-ln">  34 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> parts.shift()</span></div><div class="L5"><span class="pp-ln">  35 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> parts.shift()</span></div><div class="L6"><span class="pp-ln">  36 </span><span class="pp-pln">                </span><span class="pp-tag">set</span><span class="pp-pln"> ret.path = parts.join('/')</span></div><div class="L7"><span class="pp-ln">  37 </span><span class="pp-pln">                </span><span class="pp-tag">set</span><span class="pp-pln"> name = parts[parts.length-1]</span></div><div class="L8"><span class="pp-ln">  38 </span><span class="pp-pln">            </span><span class="pp-tag">elif</span><span class="pp-pln"> protocol === 'repo'</span></div><div class="L9"><span class="pp-ln">  39 </span><span class="pp-pln">                </span><span class="pp-tag">if</span><span class="pp-pln"> parts.length &lt; 2</span></div><div class="L0"><span class="pp-ln">  40 </span><span class="pp-pln">                    </span><span class="pp-mix frag-to-link-a" data-frag-id="d126">var_cb_error(</span><span class="pp-arg"> InvalidRequest </span><span class="pp-mix">)</span></div><div class="L1"><span class="pp-ln">  41 </span><span class="pp-pln">                        </span><span class="pp-tag">@</span><span class="pp-pln"> 'Invalid uri for an IttfDocument. Too short: ' + uri</span></div><div class="L2"><span class="pp-ln">  42 </span><span class="pp-pln">                        </span><span class="pp-tag">@</span><span class="pp-pln"> 'UriError'</span></div><div class="L3"><span class="pp-ln">  43 </span><span class="pp-pln">                </span><span class="pp-tag">log</span><span class="pp-pln"> 'parsedUri.parts', parts</span></div><div class="L4"><span class="pp-ln">  44 </span><span class="pp-pln">                </span><span class="pp-tag">log</span><span class="pp-pln"> 'parsedUri', parsedUri</span></div><div class="L5"><span class="pp-ln">  45 </span><span class="pp-pln">                </span><span class="pp-tag">set</span><span class="pp-pln"> ret.storeKind = 'repo'</span></div><div class="L6"><span class="pp-ln">  46 </span><span class="pp-pln">                </span><span class="pp-tag">set</span><span class="pp-pln"> ret.userId = parsedUri.host</span></div><div class="L7"><span class="pp-ln">  47 </span><span class="pp-pln">                </span><span class="pp-tag">set</span><span class="pp-pln"> ret.projectId = parts[0]</span></div><div class="L8"><span class="pp-ln">  48 </span><span class="pp-pln">                </span><span class="pp-tag">set</span><span class="pp-pln"> ret.uri = uri</span></div><div class="L9"><span class="pp-ln">  49 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> parts.shift();</span></div><div class="L0"><span class="pp-ln">  50 </span><span class="pp-pln">                </span><span class="pp-tag">set</span><span class="pp-pln"> ret.path = parts.join('/')</span></div><div class="L1"><span class="pp-ln">  51 </span><span class="pp-pln">                </span><span class="pp-tag">set</span><span class="pp-pln"> name = parts[parts.length-1]</span></div><div class="L2"><span class="pp-ln">  52 </span><span class="pp-pln">            </span><span class="pp-tag">else</span></div><div class="L3"><span class="pp-ln">  53 </span><span class="pp-pln">                </span><span class="pp-mix frag-to-link-a" data-frag-id="d126">var_cb_error(</span><span class="pp-arg"> InvalidRequest </span><span class="pp-mix">)</span></div><div class="L4"><span class="pp-ln">  54 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> 'Invalid uri protocol for an IttfDocument. Must be a drive letter or "repo": uri=' + uri</span></div><div class="L5"><span class="pp-ln">  55 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> 'UriError'</span></div><div class="L6"><span class="pp-ln">  56 </span><span class="pp-pln">            </span><span class="pp-tag">var</span><span class="pp-pln"> nameparts = name.split('.')</span></div><div class="L7"><span class="pp-ln">  57 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> nameparts.length &gt; 2 && nameparts[nameparts.length -1] === 'ittf'</span></div><div class="L8"><span class="pp-ln">  58 </span><span class="pp-pln">                </span><span class="pp-tag">set</span><span class="pp-pln"> ret.isIttfDocument = true</span></div><div class="L9"><span class="pp-ln">  59 </span><span class="pp-pln">                </span><span class="pp-tag">set</span><span class="pp-pln"> ret.schema = nameparts[nameparts.length -2]</span></div><div class="L0"><span class="pp-ln">  60 </span><span class="pp-pln">            </span><span class="pp-tag">else</span></div><div class="L1"><span class="pp-ln">  61 </span><span class="pp-pln">                </span><span class="pp-tag">set</span><span class="pp-pln"> ret.isIttfDocument = false</span></div><div class="L2"><span class="pp-ln">  62 </span><span class="pp-pln">            </span><span class="pp-tag">return</span></div><div class="L3"><span class="pp-ln">  63 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> callback</span></div><div class="L4"><span class="pp-ln">  64 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> null</span></div><div class="L5"><span class="pp-ln">  65 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> ret</span></div></pre>
                    </div>
                </div>
                <div class="code-panel" id="d65">
                    <div class="modal-view-container">
                        <h4 class="d-h2">/src/ittf/lib/mocks/errors.js.ittf</h4>
                        <pre class="prettyprint">

<div class="L1"><span class="pp-ln">   1 </span><span class="pp-pln"></span><span class="pp-tag">module</span></div><div class="L2"><span class="pp-ln">   2 </span><span class="pp-pln">    </span><span class="pp-tag">kind</span><span class="pp-pln"> jsfile</span></div><div class="L3"><span class="pp-ln">   3 </span><span class="pp-pln">    </span><span class="pp-tag">+</span></div><div class="L4"><span class="pp-ln">   4 </span><span class="pp-pln">    </span><span class="pp-tag">import</span><span class="pp-pln"> util</span></div><div class="L5"><span class="pp-ln">   5 </span><span class="pp-pln">    </span><span class="pp-tag">+</span></div><div class="L6"><span class="pp-ln">   6 </span><span class="pp-pln">    </span><span class="pp-tag">var</span><span class="pp-pln"> md = module.exports = {}</span></div><div class="L7"><span class="pp-ln">   7 </span><span class="pp-pln">    </span><span class="pp-tag">+</span></div><div class="L8"><span class="pp-ln">   8 </span><span class="pp-pln">    </span><span class="pp-mix frag-to-link-a" data-frag-id="d117">error(</span><span class="pp-arg"> Node</span><span class="pp-pln">,</span><span class="pp-arg">  message</span><span class="pp-pln">,</span><span class="pp-arg">  node </span><span class="pp-mix">)</span></div><div class="L9"><span class="pp-ln">   9 </span><span class="pp-pln">        </span><span class="pp-tag">var</span><span class="pp-pln"> msg</span></div><div class="L0"><span class="pp-ln">  10 </span><span class="pp-pln">            </span><span class="pp-tag">[</span></div><div class="L1"><span class="pp-ln">  11 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> message</span></div><div class="L2"><span class="pp-ln">  12 </span><span class="pp-pln">        </span><span class="pp-tag">if</span><span class="pp-pln"> node</span></div><div class="L3"><span class="pp-ln">  13 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> node.wzSourceLineInfo</span></div><div class="L4"><span class="pp-ln">  14 </span><span class="pp-pln">                </span><span class="pp-tag">var</span><span class="pp-pln"> info = node.wzSourceLineInfo</span></div><div class="L5"><span class="pp-ln">  15 </span><span class="pp-pln">                </span><span class="pp-tag">var</span><span class="pp-pln"> filePath = 'TODO'</span></div><div class="L6"><span class="pp-ln">  16 </span><span class="pp-pln">                </span><span class="pp-tag">if</span><span class="pp-pln"> node.wzSourceFilepath</span></div><div class="L7"><span class="pp-ln">  17 </span><span class="pp-pln">                    </span><span class="pp-tag">set</span><span class="pp-pln"> filePath = node.wzSourceFilepath(info.sourceKey)</span></div><div class="L8"><span class="pp-ln">  18 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> msg.push((' at row: ' + info.row))</span></div><div class="L9"><span class="pp-ln">  19 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> msg.push((', col: ' + info.col))</span></div><div class="L0"><span class="pp-ln">  20 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> msg.push((', source: ' + info.sourceKey))</span></div><div class="L1"><span class="pp-ln">  21 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> msg.push((', in file: ' + filePath))</span></div><div class="L2"><span class="pp-ln">  22 </span><span class="pp-pln">            </span><span class="pp-tag">elif</span><span class="pp-pln"> node.row</span></div><div class="L3"><span class="pp-ln">  23 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> msg.push((' at row: ' + node.row))</span></div><div class="L4"><span class="pp-ln">  24 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> msg.push((', col: ' + node.col))</span></div><div class="L5"><span class="pp-ln">  25 </span><span class="pp-pln">        </span><span class="pp-tag">set</span><span class="pp-pln"> this.message = msg.join('')</span></div><div class="L6"><span class="pp-ln">  26 </span><span class="pp-pln">        </span><span class="pp-tag">#</span><span class="pp-pln"> log 'NodeError', this.message</span></div><div class="L7"><span class="pp-ln">  27 </span><span class="pp-pln">        </span><span class="pp-tag">#</span><span class="pp-pln"> set this.node = node</span></div><div class="L8"><span class="pp-ln">  28 </span><span class="pp-pln">    </span><span class="pp-tag">+</span></div><div class="L9"><span class="pp-ln">  29 </span><span class="pp-pln">    </span><span class="pp-mix frag-to-link-a" data-frag-id="d117">error(</span><span class="pp-arg"> WizziModelLoad</span><span class="pp-pln">,</span><span class="pp-arg">  message</span><span class="pp-pln">,</span><span class="pp-arg">  srcPath</span><span class="pp-pln">,</span><span class="pp-arg">  ex </span><span class="pp-mix">)</span></div><div class="L0"><span class="pp-ln">  30 </span><span class="pp-pln">        </span><span class="pp-tag">set</span><span class="pp-pln"> this.message = 'Error: ' + message + '\nLoading ittf document ' + md.getSrcPathInfo(srcPath)</span></div><div class="L1"><span class="pp-ln">  31 </span><span class="pp-pln">    </span><span class="pp-tag">+</span></div><div class="L2"><span class="pp-ln">  32 </span><span class="pp-pln">    </span><span class="pp-mix frag-to-link-a" data-frag-id="d117">error(</span><span class="pp-arg"> NotImplemented</span><span class="pp-pln">,</span><span class="pp-arg">  message </span><span class="pp-mix">)</span></div><div class="L3"><span class="pp-ln">  33 </span><span class="pp-pln">        </span><span class="pp-tag">log</span><span class="pp-pln"> 'message', message</span></div><div class="L4"><span class="pp-ln">  34 </span><span class="pp-pln">        </span><span class="pp-tag">set</span><span class="pp-pln"> this.message = message</span></div><div class="L5"><span class="pp-ln">  35 </span><span class="pp-pln">    </span><span class="pp-tag">+</span></div><div class="L6"><span class="pp-ln">  36 </span><span class="pp-pln">    </span><span class="pp-mix frag-to-link-a" data-frag-id="d117">error(</span><span class="pp-arg"> InvalidRequest</span><span class="pp-pln">,</span><span class="pp-arg">  message</span><span class="pp-pln">,</span><span class="pp-arg">  code </span><span class="pp-mix">)</span></div><div class="L7"><span class="pp-ln">  37 </span><span class="pp-pln">        </span><span class="pp-tag">log</span><span class="pp-pln"> 'message', message</span></div><div class="L8"><span class="pp-ln">  38 </span><span class="pp-pln">        </span><span class="pp-tag">set</span><span class="pp-pln"> this.message = message</span></div><div class="L9"><span class="pp-ln">  39 </span><span class="pp-pln">        </span><span class="pp-tag">set</span><span class="pp-pln"> this.code = code</span></div><div class="L0"><span class="pp-ln">  40 </span><span class="pp-pln">    </span><span class="pp-mix frag-to-link-a" data-frag-id="d117">error(</span><span class="pp-arg"> FsItemNotFound</span><span class="pp-pln">,</span><span class="pp-arg">  resourceType</span><span class="pp-pln">,</span><span class="pp-arg">  uri </span><span class="pp-mix">)</span></div><div class="L1"><span class="pp-ln">  41 </span><span class="pp-pln">        </span><span class="pp-tag">set</span><span class="pp-pln"> this.message = resourceType + ': ' + uri + ' not found '</span></div><div class="L2"><span class="pp-ln">  42 </span><span class="pp-pln">    </span><span class="pp-mix frag-to-link-a" data-frag-id="d117">error(</span><span class="pp-arg"> IttfNotFound</span><span class="pp-pln">,</span><span class="pp-arg">  resourceType</span><span class="pp-pln">,</span><span class="pp-arg">  name</span><span class="pp-pln">,</span><span class="pp-arg">  sourceUri </span><span class="pp-mix">)</span></div><div class="L3"><span class="pp-ln">  43 </span><span class="pp-pln">        </span><span class="pp-tag">set</span><span class="pp-pln"> this.message = resourceType + ': ' + name +' not found, processing document ' + md.getSrcPathInfo(sourceUri)</span></div><div class="L4"><span class="pp-ln">  44 </span><span class="pp-pln">    </span><span class="pp-tag">+</span></div><div class="L5"><span class="pp-ln">  45 </span><span class="pp-pln">    </span><span class="pp-mix frag-to-link-a" data-frag-id="d117">error(</span><span class="pp-arg"> ArtifactGeneration</span><span class="pp-pln">,</span><span class="pp-arg">  message</span><span class="pp-pln">,</span><span class="pp-arg">  generation</span><span class="pp-pln">,</span><span class="pp-arg">  srcPath</span><span class="pp-pln">,</span><span class="pp-arg">  ex </span><span class="pp-mix">)</span></div><div class="L6"><span class="pp-ln">  46 </span><span class="pp-pln">        </span><span class="pp-tag">set</span><span class="pp-pln"> this.message = 'Error: ' + message +'\nDuring generation:' + generation +', processing document ' + md.getSrcPathInfo(srcPath)</span></div><div class="L7"><span class="pp-ln">  47 </span><span class="pp-pln">        </span><span class="pp-tag">log</span><span class="pp-pln"> 'wizzi.artifact.errors.artifactGenerationError.message', this.message</span></div><div class="L8"><span class="pp-ln">  48 </span><span class="pp-pln">    </span><span class="pp-tag">+</span></div><div class="L9"><span class="pp-ln">  49 </span><span class="pp-pln">    </span><span class="pp-tag">set</span><span class="pp-pln"> md.getSrcPathInfo</span></div><div class="L0"><span class="pp-ln">  50 </span><span class="pp-pln">        </span><span class="pp-tag">function</span></div><div class="L1"><span class="pp-ln">  51 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> srcPath</span></div><div class="L2"><span class="pp-ln">  52 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> typeof (srcPath) === 'string'</span></div><div class="L3"><span class="pp-ln">  53 </span><span class="pp-pln">                </span><span class="pp-tag">return</span><span class="pp-pln"> srcPath</span></div><div class="L4"><span class="pp-ln">  54 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> (srcPath && (typeof (srcPath) === 'object'))</span></div><div class="L5"><span class="pp-ln">  55 </span><span class="pp-pln">                </span><span class="pp-tag">var</span><span class="pp-pln"> msg = md.getSrcPathInfoFromNode(srcPath)</span></div><div class="L6"><span class="pp-ln">  56 </span><span class="pp-pln">                </span><span class="pp-tag">return</span></div><div class="L7"><span class="pp-ln">  57 </span><span class="pp-pln">                    </span><span class="pp-tag">iif</span><span class="pp-pln"> msg</span></div><div class="L8"><span class="pp-ln">  58 </span><span class="pp-pln">                        </span><span class="pp-tag">then</span><span class="pp-pln"> msg</span></div><div class="L9"><span class="pp-ln">  59 </span><span class="pp-pln">                        </span><span class="pp-tag">else</span></div><div class="L0"><span class="pp-ln">  60 </span><span class="pp-pln">                            </span><span class="pp-tag">_</span><span class="pp-pln"> srcPath.toString()</span></div><div class="L1"><span class="pp-ln">  61 </span><span class="pp-pln">            </span><span class="pp-tag">return</span><span class="pp-pln"> 'unavailable'</span></div><div class="L2"><span class="pp-ln">  62 </span><span class="pp-pln">    </span><span class="pp-tag">set</span><span class="pp-pln"> md.getSrcPathInfoFromNode</span></div><div class="L3"><span class="pp-ln">  63 </span><span class="pp-pln">        </span><span class="pp-tag">function</span></div><div class="L4"><span class="pp-ln">  64 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> node</span></div><div class="L5"><span class="pp-ln">  65 </span><span class="pp-pln">            </span><span class="pp-tag">var</span><span class="pp-pln"> msg</span></div><div class="L6"><span class="pp-ln">  66 </span><span class="pp-pln">                </span><span class="pp-tag">[</span></div><div class="L7"><span class="pp-ln">  67 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> node</span></div><div class="L8"><span class="pp-ln">  68 </span><span class="pp-pln">                </span><span class="pp-tag">if</span><span class="pp-pln"> node.wzSourceLineInfo</span></div><div class="L9"><span class="pp-ln">  69 </span><span class="pp-pln">                    </span><span class="pp-tag">var</span><span class="pp-pln"> info = node.wzSourceLineInfo</span></div><div class="L0"><span class="pp-ln">  70 </span><span class="pp-pln">                    </span><span class="pp-tag">var</span><span class="pp-pln"> filePath = 'TODO'</span></div><div class="L1"><span class="pp-ln">  71 </span><span class="pp-pln">                    </span><span class="pp-tag">if</span><span class="pp-pln"> node.wzSourceFilepath</span></div><div class="L2"><span class="pp-ln">  72 </span><span class="pp-pln">                        </span><span class="pp-tag">set</span><span class="pp-pln"> filePath = node.wzSourceFilepath(info.sourceKey)</span></div><div class="L3"><span class="pp-ln">  73 </span><span class="pp-pln">                    </span><span class="pp-tag">_</span><span class="pp-pln"> msg.push((' at row: ' + info.row))</span></div><div class="L4"><span class="pp-ln">  74 </span><span class="pp-pln">                    </span><span class="pp-tag">_</span><span class="pp-pln"> msg.push((', col: ' + info.col))</span></div><div class="L5"><span class="pp-ln">  75 </span><span class="pp-pln">                    </span><span class="pp-tag">_</span><span class="pp-pln"> msg.push((', source: ' + info.sourceKey))</span></div><div class="L6"><span class="pp-ln">  76 </span><span class="pp-pln">                    </span><span class="pp-tag">_</span><span class="pp-pln"> msg.push((', in file: ' + filePath))</span></div><div class="L7"><span class="pp-ln">  77 </span><span class="pp-pln">            </span><span class="pp-tag">return</span></div><div class="L8"><span class="pp-ln">  78 </span><span class="pp-pln">                </span><span class="pp-tag">iif</span><span class="pp-pln"> msg.length == 0</span></div><div class="L9"><span class="pp-ln">  79 </span><span class="pp-pln">                    </span><span class="pp-tag">then</span><span class="pp-pln"> null</span></div><div class="L0"><span class="pp-ln">  80 </span><span class="pp-pln">                    </span><span class="pp-tag">else</span></div><div class="L1"><span class="pp-ln">  81 </span><span class="pp-pln">                        </span><span class="pp-tag">_</span><span class="pp-pln"> msg.join('')</span></div></pre>
                    </div>
                </div>
                <div class="code-panel" id="d66">
                    <div class="modal-view-container">
                        <h4 class="d-h2">/src/ittf/lib/mocks/index.js.ittf</h4>
                        <pre class="prettyprint">

<div class="L1"><span class="pp-ln">   1 </span><span class="pp-pln"></span><span class="pp-tag">module</span></div><div class="L2"><span class="pp-ln">   2 </span><span class="pp-pln">    </span><span class="pp-tag">kind</span><span class="pp-pln"> jsfile</span></div><div class="L3"><span class="pp-ln">   3 </span><span class="pp-pln">    </span><span class="pp-tag">var</span><span class="pp-pln"> genContext = require('./artifact/genContext')</span></div><div class="L4"><span class="pp-ln">   4 </span><span class="pp-pln">    </span><span class="pp-tag">var</span><span class="pp-pln"> md</span></div><div class="L5"><span class="pp-ln">   5 </span><span class="pp-pln">        </span><span class="pp-tag">set</span><span class="pp-pln"> module.exports</span></div><div class="L6"><span class="pp-ln">   6 </span><span class="pp-pln">            </span><span class="pp-tag">{</span></div><div class="L7"><span class="pp-ln">   7 </span><span class="pp-pln">    </span><span class="pp-tag">set</span><span class="pp-pln"> md.repo = require('./repo/index')</span></div><div class="L8"><span class="pp-ln">   8 </span><span class="pp-pln">    </span><span class="pp-tag">set</span><span class="pp-pln"> md.getGenContext</span></div><div class="L9"><span class="pp-ln">   9 </span><span class="pp-pln">        </span><span class="pp-tag">function</span></div><div class="L0"><span class="pp-ln">  10 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> wizziFactory</span></div><div class="L1"><span class="pp-ln">  11 </span><span class="pp-pln">            </span><span class="pp-tag">return</span></div><div class="L2"><span class="pp-ln">  12 </span><span class="pp-pln">                </span><span class="pp-tag">new</span><span class="pp-pln"> genContext</span></div><div class="L3"><span class="pp-ln">  13 </span><span class="pp-pln">                    </span><span class="pp-tag">{</span></div><div class="L4"><span class="pp-ln">  14 </span><span class="pp-pln">                        </span><span class="pp-tag">@</span><span class="pp-pln"> options</span></div><div class="L5"><span class="pp-ln">  15 </span><span class="pp-pln">                            </span><span class="pp-tag">{</span></div><div class="L6"><span class="pp-ln">  16 </span><span class="pp-pln">                                </span><span class="pp-tag">@</span><span class="pp-pln"> CRLF '\n'</span></div><div class="L7"><span class="pp-ln">  17 </span><span class="pp-pln">                                </span><span class="pp-tag">@</span><span class="pp-pln"> indentSpaces 4</span></div><div class="L8"><span class="pp-ln">  18 </span><span class="pp-pln">                        </span><span class="pp-tag">@</span><span class="pp-pln"> pman</span></div><div class="L9"><span class="pp-ln">  19 </span><span class="pp-pln">                            </span><span class="pp-tag">{</span></div><div class="L0"><span class="pp-ln">  20 </span><span class="pp-pln">                                </span><span class="pp-tag">@</span><span class="pp-pln"> wizziFactory wizziFactory</span></div><div class="L1"><span class="pp-ln">  21 </span><span class="pp-pln">    </span><span class="pp-tag">set</span><span class="pp-pln"> md.getLoadModelContext</span></div><div class="L2"><span class="pp-ln">  22 </span><span class="pp-pln">        </span><span class="pp-tag">function</span></div><div class="L3"><span class="pp-ln">  23 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> modelContext</span></div><div class="L4"><span class="pp-ln">  24 </span><span class="pp-pln">            </span><span class="pp-tag">set</span><span class="pp-pln"> modelContext.__productionManager</span></div><div class="L5"><span class="pp-ln">  25 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> md.getProductionManager</span></div><div class="L6"><span class="pp-ln">  26 </span><span class="pp-pln">            </span><span class="pp-tag">return</span><span class="pp-pln"> modelContext</span></div><div class="L7"><span class="pp-ln">  27 </span><span class="pp-pln">    </span><span class="pp-tag">set</span><span class="pp-pln"> md.getProductionManager</span></div><div class="L8"><span class="pp-ln">  28 </span><span class="pp-pln">        </span><span class="pp-tag">function</span></div><div class="L9"><span class="pp-ln">  29 </span><span class="pp-pln">            </span><span class="pp-tag">return</span></div><div class="L0"><span class="pp-ln">  30 </span><span class="pp-pln">                </span><span class="pp-tag">{</span></div><div class="L1"><span class="pp-ln">  31 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> wizziFactory</span></div><div class="L2"><span class="pp-ln">  32 </span><span class="pp-pln">                        </span><span class="pp-tag">{</span></div><div class="L3"><span class="pp-ln">  33 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> productionContext</span></div><div class="L4"><span class="pp-ln">  34 </span><span class="pp-pln">                        </span><span class="pp-tag">_</span><span class="pp-pln"> createProductionContext</span></div><div class="L5"><span class="pp-ln">  35 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> globalContext</span></div><div class="L6"><span class="pp-ln">  36 </span><span class="pp-pln">                        </span><span class="pp-tag">function</span></div><div class="L7"><span class="pp-ln">  37 </span><span class="pp-pln">                            </span><span class="pp-tag">return</span><span class="pp-pln"> {}</span></div><div class="L8"><span class="pp-ln">  38 </span><span class="pp-pln">    </span><span class="pp-tag">set</span><span class="pp-pln"> md.errors = require('./errors')</span></div><div class="L9"><span class="pp-ln">  39 </span><span class="pp-pln">    </span><span class="pp-tag">function</span><span class="pp-pln"> createProductionContext</span></div><div class="L0"><span class="pp-ln">  40 </span><span class="pp-pln">        </span><span class="pp-tag">return</span></div><div class="L1"><span class="pp-ln">  41 </span><span class="pp-pln">            </span><span class="pp-tag">{</span></div><div class="L2"><span class="pp-ln">  42 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> aclstat</span></div><div class="L3"><span class="pp-ln">  43 </span><span class="pp-pln">                    </span><span class="pp-tag">{</span></div><div class="L4"><span class="pp-ln">  44 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> ittfEvaluationScripts</span></div><div class="L5"><span class="pp-ln">  45 </span><span class="pp-pln">                    </span><span class="pp-tag">{</span></div><div class="L6"><span class="pp-ln">  46 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> setAclStat</span></div><div class="L7"><span class="pp-ln">  47 </span><span class="pp-pln">                    </span><span class="pp-tag">function</span></div><div class="L8"><span class="pp-ln">  48 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> addIttfDocument</span></div><div class="L9"><span class="pp-ln">  49 </span><span class="pp-pln">                    </span><span class="pp-tag">function</span></div><div class="L0"><span class="pp-ln">  50 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> addMTreeBuildUpScript</span></div><div class="L1"><span class="pp-ln">  51 </span><span class="pp-pln">                    </span><span class="pp-tag">function</span></div><div class="L2"><span class="pp-ln">  52 </span><span class="pp-pln">                        </span><span class="pp-tag">param</span><span class="pp-pln"> uri</span></div><div class="L3"><span class="pp-ln">  53 </span><span class="pp-pln">                        </span><span class="pp-tag">param</span><span class="pp-pln"> ittfEvalScript</span></div><div class="L4"><span class="pp-ln">  54 </span><span class="pp-pln">                        </span><span class="pp-tag">set</span><span class="pp-pln"> this.ittfEvaluationScripts[uri]</span></div><div class="L5"><span class="pp-ln">  55 </span><span class="pp-pln">                            </span><span class="pp-tag">{</span></div><div class="L6"><span class="pp-ln">  56 </span><span class="pp-pln">                                </span><span class="pp-tag">@</span><span class="pp-pln"> uri uri</span></div><div class="L7"><span class="pp-ln">  57 </span><span class="pp-pln">                                </span><span class="pp-tag">@</span><span class="pp-pln"> ittfEvalScript ittfEvalScript</span></div><div class="L8"><span class="pp-ln">  58 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> addMixedMTree</span></div><div class="L9"><span class="pp-ln">  59 </span><span class="pp-pln">                    </span><span class="pp-tag">function</span></div><div class="L0"><span class="pp-ln">  60 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> addEvaluatedMTree</span></div><div class="L1"><span class="pp-ln">  61 </span><span class="pp-pln">                    </span><span class="pp-tag">function</span></div><div class="L2"><span class="pp-ln">  62 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> addMTree</span></div><div class="L3"><span class="pp-ln">  63 </span><span class="pp-pln">                    </span><span class="pp-tag">function</span></div><div class="L4"><span class="pp-ln">  64 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> addWizziModel</span></div><div class="L5"><span class="pp-ln">  65 </span><span class="pp-pln">                    </span><span class="pp-tag">function</span></div><div class="L6"><span class="pp-ln">  66 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> addArtifact</span></div><div class="L7"><span class="pp-ln">  67 </span><span class="pp-pln">                    </span><span class="pp-tag">function</span></div><div class="L8"><span class="pp-ln">  68 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> raiseIttfEvaluationScriptError</span></div><div class="L9"><span class="pp-ln">  69 </span><span class="pp-pln">                    </span><span class="pp-tag">function</span></div><div class="L0"><span class="pp-ln">  70 </span><span class="pp-pln">                        </span><span class="pp-tag">param</span><span class="pp-pln"> uri</span></div><div class="L1"><span class="pp-ln">  71 </span><span class="pp-pln">                        </span><span class="pp-tag">param</span><span class="pp-pln"> exception</span></div><div class="L2"><span class="pp-ln">  72 </span><span class="pp-pln">                        </span><span class="pp-tag">var</span><span class="pp-pln"> script = this.ittfEvaluationScripts[uri]</span></div><div class="L3"><span class="pp-ln">  73 </span><span class="pp-pln">                        </span><span class="pp-tag">if</span><span class="pp-pln"> script && script.ittfEvalScript && exception && exception.lineNumber</span></div><div class="L4"><span class="pp-ln">  74 </span><span class="pp-pln">                            </span><span class="pp-tag">var</span><span class="pp-pln"> lines</span></div><div class="L5"><span class="pp-ln">  75 </span><span class="pp-pln">                                </span><span class="pp-tag">_</span><span class="pp-pln"> script.ittfEvalScript.getErrorLines(exception)</span></div><div class="L6"><span class="pp-ln">  76 </span><span class="pp-pln">                                    </span><span class="pp-tag">._</span><span class="pp-pln"> join('\n')</span></div><div class="L7"><span class="pp-ln">  77 </span><span class="pp-pln">                            </span><span class="pp-tag">set</span><span class="pp-pln"> exception.message = '\nError evaluating ittf in uri: ' + uri + '\n' + lines + '\n'</span></div><div class="L8"><span class="pp-ln">  78 </span><span class="pp-pln">                        </span><span class="pp-tag">else</span></div><div class="L9"><span class="pp-ln">  79 </span><span class="pp-pln">                            </span><span class="pp-tag">set</span><span class="pp-pln"> exception.message = '\nError evaluating ittf in uri: ' + uri + '\n' + exception.message + '\n'</span></div><div class="L0"><span class="pp-ln">  80 </span><span class="pp-pln">                        </span><span class="pp-tag">_</span><span class="pp-pln"> fail.warn(exception)</span></div><div class="L1"><span class="pp-ln">  81 </span><span class="pp-pln">                        </span><span class="pp-tag">throw</span><span class="pp-pln"> exception</span></div></pre>
                    </div>
                </div>
                <div class="code-panel" id="d67">
                    <div class="modal-view-container">
                        <h4 class="d-h2">/src/ittf/lib/mocks/interpolate.js.ittf</h4>
                        <pre class="prettyprint">

<div class="L1"><span class="pp-ln">   1 </span><span class="pp-pln"></span><span class="pp-tag">module</span></div><div class="L2"><span class="pp-ln">   2 </span><span class="pp-pln">    </span><span class="pp-tag">kind</span><span class="pp-pln"> jsfile</span></div><div class="L3"><span class="pp-ln">   3 </span><span class="pp-pln">    </span><span class="pp-tag">#</span></div><div class="L4"><span class="pp-ln">   4 </span><span class="pp-pln">        </span><span class="pp-tag">#</span><span class="pp-pln"> port of http://www.bbc.co.uk/glow/docs/1.7/api/glow.lang.shtml#interpolate</span></div><div class="L5"><span class="pp-ln">   5 </span><span class="pp-pln">        </span><span class="pp-tag">#</span><span class="pp-pln"> Modified to be stand-alone and offer support for delimters of random length</span></div><div class="L6"><span class="pp-ln">   6 </span><span class="pp-pln">        </span><span class="pp-tag">#</span><span class="pp-pln"> @description Replaces placeholders in a string with data from an object</span></div><div class="L7"><span class="pp-ln">   7 </span><span class="pp-pln">        </span><span class="pp-tag">#</span><span class="pp-pln"> @param {String} template The string containing {placeholders}</span></div><div class="L8"><span class="pp-ln">   8 </span><span class="pp-pln">        </span><span class="pp-tag">#</span><span class="pp-pln"> @param {Object} data Object containing the data to be merged in to the template</span></div><div class="L9"><span class="pp-ln">   9 </span><span class="pp-pln">        </span><span class="pp-tag">#</span><span class="pp-pln"> The object can contain nested data objects and arrays, with nested object properties and array elements are accessed using dot notation. eg foo.bar or foo.0.</span></div><div class="L0"><span class="pp-ln">  10 </span><span class="pp-pln">        </span><span class="pp-tag">#</span><span class="pp-pln"> The data labels in the object cannot contain characters used in the template delimiters, so if the data must be allowed to contain the default { and } delimiters, the delimters must be changed using the option below.</span></div><div class="L1"><span class="pp-ln">  11 </span><span class="pp-pln">        </span><span class="pp-tag">#</span><span class="pp-pln"> @param {Object} opts Options object {</span></div><div class="L2"><span class="pp-ln">  12 </span><span class="pp-pln">        </span><span class="pp-tag">#</span><span class="pp-pln"> # @param {String} [opts.delimiter="{}"] Alternative label delimiter(s) for the template.</span></div><div class="L3"><span class="pp-ln">  13 </span><span class="pp-pln">        </span><span class="pp-tag">#</span><span class="pp-pln"> Needs to be symmetric, i.e. '{{}}', '&lt;%%&gt;'</span></div><div class="L4"><span class="pp-ln">  14 </span><span class="pp-pln">        </span><span class="pp-tag">#</span><span class="pp-pln"> }</span></div><div class="L5"><span class="pp-ln">  15 </span><span class="pp-pln">        </span><span class="pp-tag">#</span><span class="pp-pln"> @returns {String}</span></div><div class="L6"><span class="pp-ln">  16 </span><span class="pp-pln">    </span><span class="pp-tag">function</span><span class="pp-pln"> interpolate</span></div><div class="L7"><span class="pp-ln">  17 </span><span class="pp-pln">        </span><span class="pp-tag">param</span><span class="pp-pln"> template</span></div><div class="L8"><span class="pp-ln">  18 </span><span class="pp-pln">        </span><span class="pp-tag">param</span><span class="pp-pln"> data</span></div><div class="L9"><span class="pp-ln">  19 </span><span class="pp-pln">        </span><span class="pp-tag">param</span><span class="pp-pln"> opts</span></div><div class="L0"><span class="pp-ln">  20 </span><span class="pp-pln">        </span><span class="pp-tag">var</span></div><div class="L1"><span class="pp-ln">  21 </span><span class="pp-pln">            </span><span class="pp-tag">decl</span><span class="pp-pln"> regex</span></div><div class="L2"><span class="pp-ln">  22 </span><span class="pp-pln">            </span><span class="pp-tag">decl</span><span class="pp-pln"> lDel</span></div><div class="L3"><span class="pp-ln">  23 </span><span class="pp-pln">            </span><span class="pp-tag">decl</span><span class="pp-pln"> rDel</span></div><div class="L4"><span class="pp-ln">  24 </span><span class="pp-pln">            </span><span class="pp-tag">decl</span><span class="pp-pln"> delLen</span></div><div class="L5"><span class="pp-ln">  25 </span><span class="pp-pln">            </span><span class="pp-tag">decl</span><span class="pp-pln"> lDelLen</span></div><div class="L6"><span class="pp-ln">  26 </span><span class="pp-pln">            </span><span class="pp-tag">decl</span><span class="pp-pln"> rDelLen</span></div><div class="L7"><span class="pp-ln">  27 </span><span class="pp-pln">            </span><span class="pp-tag">decl</span><span class="pp-pln"> delimiter</span></div><div class="L8"><span class="pp-ln">  28 </span><span class="pp-pln">            </span><span class="pp-tag">decl</span><span class="pp-pln"> regexEscape = /([$\^\\\/()|?+*\[\]{}.\-])/g</span></div><div class="L9"><span class="pp-ln">  29 </span><span class="pp-pln">        </span><span class="pp-tag">set</span><span class="pp-pln"> opts = (opts || {})</span></div><div class="L0"><span class="pp-ln">  30 </span><span class="pp-pln">        </span><span class="pp-tag">set</span><span class="pp-pln"> delimiter = (opts.delimiter || '{}')</span></div><div class="L1"><span class="pp-ln">  31 </span><span class="pp-pln">        </span><span class="pp-tag">set</span><span class="pp-pln"> delLen = delimiter.length</span></div><div class="L2"><span class="pp-ln">  32 </span><span class="pp-pln">        </span><span class="pp-tag">set</span><span class="pp-pln"> lDelLen = Math.ceil(delLen / 2)</span></div><div class="L3"><span class="pp-ln">  33 </span><span class="pp-pln">        </span><span class="pp-tag">set</span><span class="pp-pln"> rDelLen = delLen - lDelLen</span></div><div class="L4"><span class="pp-ln">  34 </span><span class="pp-pln">        </span><span class="pp-tag">set</span><span class="pp-pln"> lDel = delimiter.substr(0, lDelLen).replace(regexEscape, "\\$1")</span></div><div class="L5"><span class="pp-ln">  35 </span><span class="pp-pln">        </span><span class="pp-tag">set</span><span class="pp-pln"> rDel = delimiter.substr(lDelLen, delLen).replace(regexEscape, "\\$1") || lDel</span></div><div class="L6"><span class="pp-ln">  36 </span><span class="pp-pln">        </span><span class="pp-tag">set</span><span class="pp-pln"> regex = new RegExp(lDel + "[^" + lDel + rDel + "]+" + rDel, "g")</span></div><div class="L7"><span class="pp-ln">  37 </span><span class="pp-pln">        </span><span class="pp-tag">return</span></div><div class="L8"><span class="pp-ln">  38 </span><span class="pp-pln">            </span><span class="pp-tag">_</span><span class="pp-pln"> template.replace</span></div><div class="L9"><span class="pp-ln">  39 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> regex</span></div><div class="L0"><span class="pp-ln">  40 </span><span class="pp-pln">                </span><span class="pp-tag">function</span></div><div class="L1"><span class="pp-ln">  41 </span><span class="pp-pln">                    </span><span class="pp-tag">param</span><span class="pp-pln"> placeholder</span></div><div class="L2"><span class="pp-ln">  42 </span><span class="pp-pln">                    </span><span class="pp-tag">var</span></div><div class="L3"><span class="pp-ln">  43 </span><span class="pp-pln">                        </span><span class="pp-tag">decl</span><span class="pp-pln"> key = placeholder.slice(lDelLen, -rDelLen)</span></div><div class="L4"><span class="pp-ln">  44 </span><span class="pp-pln">                        </span><span class="pp-tag">decl</span><span class="pp-pln"> keyParts = key.split(".")</span></div><div class="L5"><span class="pp-ln">  45 </span><span class="pp-pln">                        </span><span class="pp-tag">decl</span><span class="pp-pln"> val</span></div><div class="L6"><span class="pp-ln">  46 </span><span class="pp-pln">                        </span><span class="pp-tag">decl</span><span class="pp-pln"> i = 0</span></div><div class="L7"><span class="pp-ln">  47 </span><span class="pp-pln">                        </span><span class="pp-tag">decl</span><span class="pp-pln"> len = keyParts.length</span></div><div class="L8"><span class="pp-ln">  48 </span><span class="pp-pln">                    </span><span class="pp-tag">if</span><span class="pp-pln"> key in data</span></div><div class="L9"><span class="pp-ln">  49 </span><span class="pp-pln">                        </span><span class="pp-tag">set</span><span class="pp-pln"> val = data[key]</span></div><div class="L0"><span class="pp-ln">  50 </span><span class="pp-pln">                    </span><span class="pp-tag">else</span></div><div class="L1"><span class="pp-ln">  51 </span><span class="pp-pln">                        </span><span class="pp-tag">set</span><span class="pp-pln"> val = data</span></div><div class="L2"><span class="pp-ln">  52 </span><span class="pp-pln">                        </span><span class="pp-tag">for</span><span class="pp-pln"> ; i&lt;len; i++</span></div><div class="L3"><span class="pp-ln">  53 </span><span class="pp-pln">                            </span><span class="pp-tag">if</span><span class="pp-pln"> keyParts[i] in val</span></div><div class="L4"><span class="pp-ln">  54 </span><span class="pp-pln">                                </span><span class="pp-tag">set</span><span class="pp-pln"> val = val[keyParts[i]]</span></div><div class="L5"><span class="pp-ln">  55 </span><span class="pp-pln">                            </span><span class="pp-tag">else</span></div><div class="L6"><span class="pp-ln">  56 </span><span class="pp-pln">                                </span><span class="pp-tag">return</span><span class="pp-pln"> placeholder</span></div><div class="L7"><span class="pp-ln">  57 </span><span class="pp-pln">                    </span><span class="pp-tag">return</span><span class="pp-pln"> val</span></div><div class="L8"><span class="pp-ln">  58 </span><span class="pp-pln">    </span><span class="pp-tag">set</span><span class="pp-pln"> module.exports = interpolate</span></div></pre>
                    </div>
                </div>
                <div class="code-panel" id="d68">
                    <div class="modal-view-container">
                        <h4 class="d-h2">/src/ittf/lib/mocks/readme.md.ittf</h4>
                        <pre class="prettyprint">

<div class="L1"><span class="pp-ln">   1 </span><span class="pp-pln"></span><span class="pp-tag">mdx</span></div><div class="L2"><span class="pp-ln">   2 </span><span class="pp-pln">    </span><span class="pp-tag">h2</span><span class="pp-pln"> Mocks</span></div><div class="L3"><span class="pp-ln">   3 </span><span class="pp-pln">    </span><span class="pp-tag">p</span><span class="pp-pln"> Modules in this folder are copies of wizzi factory components</span></div><div class="L4"><span class="pp-ln">   4 </span><span class="pp-pln">        </span><span class="pp-tag">+</span><span class="pp-pln"> that plugins may use to test model loaders, transformers and</span></div><div class="L5"><span class="pp-ln">   5 </span><span class="pp-pln">        </span><span class="pp-tag">+</span><span class="pp-pln"> artifact generators.</span></div></pre>
                    </div>
                </div>
                <div class="code-panel" id="d69">
                    <div class="modal-view-container">
                        <h4 class="d-h2">/src/ittf/lib/mocks/stringWriter.js.ittf</h4>
                        <pre class="prettyprint">

<div class="L1"><span class="pp-ln">   1 </span><span class="pp-pln"></span><span class="pp-tag">module</span></div><div class="L2"><span class="pp-ln">   2 </span><span class="pp-pln">    </span><span class="pp-tag">kind</span><span class="pp-pln"> jsfile</span></div><div class="L3"><span class="pp-ln">   3 </span><span class="pp-pln">    </span><span class="pp-tag">class</span><span class="pp-pln"> StringWriter</span></div><div class="L4"><span class="pp-ln">   4 </span><span class="pp-pln">        </span><span class="pp-tag">ctor</span></div><div class="L5"><span class="pp-ln">   5 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> text</span></div><div class="L6"><span class="pp-ln">   6 </span><span class="pp-pln">            </span><span class="pp-tag">set</span><span class="pp-pln"> this.buffer = []</span></div><div class="L7"><span class="pp-ln">   7 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> text</span></div><div class="L8"><span class="pp-ln">   8 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> this.buffer.push(text)</span></div><div class="L9"><span class="pp-ln">   9 </span><span class="pp-pln">        </span><span class="pp-tag">m</span><span class="pp-pln"> write</span></div><div class="L0"><span class="pp-ln">  10 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> text</span></div><div class="L1"><span class="pp-ln">  11 </span><span class="pp-pln">            </span><span class="pp-tag">_</span><span class="pp-pln"> this.buffer.push(text)</span></div><div class="L2"><span class="pp-ln">  12 </span><span class="pp-pln">        </span><span class="pp-tag">m</span><span class="pp-pln"> toString</span></div><div class="L3"><span class="pp-ln">  13 </span><span class="pp-pln">            </span><span class="pp-tag">return</span><span class="pp-pln"> this.buffer.join('')</span></div><div class="L4"><span class="pp-ln">  14 </span><span class="pp-pln">    </span><span class="pp-tag">set</span><span class="pp-pln"> module.exports = StringWriter</span></div></pre>
                    </div>
                </div>
                <div class="code-panel" id="d70">
                    <div class="modal-view-container">
                        <h4 class="d-h2">/src/ittf/lib/prettifiers/utils/htmlbuilder.js.ittf</h4>
                        <pre class="prettyprint">

<div class="L1"><span class="pp-ln">   1 </span><span class="pp-pln"></span><span class="pp-tag">module</span></div><div class="L2"><span class="pp-ln">   2 </span><span class="pp-pln">    </span><span class="pp-tag">kind</span><span class="pp-pln"> jsfile</span></div><div class="L3"><span class="pp-ln">   3 </span><span class="pp-pln">    </span><span class="pp-tag">var</span><span class="pp-pln"> util = require('util')</span></div><div class="L4"><span class="pp-ln">   4 </span><span class="pp-pln">    </span><span class="pp-tag">var</span><span class="pp-pln"> HtmlWriter = require('./htmlwriter').HtmlWriter</span></div><div class="L5"><span class="pp-ln">   5 </span><span class="pp-pln">    </span><span class="pp-tag">var</span><span class="pp-pln"> md = module.exports = {}</span></div><div class="L6"><span class="pp-ln">   6 </span><span class="pp-pln">    </span><span class="pp-tag">class</span><span class="pp-pln"> HtmlBuilder</span></div><div class="L7"><span class="pp-ln">   7 </span><span class="pp-pln">        </span><span class="pp-tag">ctor</span></div><div class="L8"><span class="pp-ln">   8 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> noLF</span></div><div class="L9"><span class="pp-ln">   9 </span><span class="pp-pln">            </span><span class="pp-tag">set</span><span class="pp-pln"> this.noLF = noLF</span></div><div class="L0"><span class="pp-ln">  10 </span><span class="pp-pln">            </span><span class="pp-tag">set</span><span class="pp-pln"> this.nodes = []</span></div><div class="L1"><span class="pp-ln">  11 </span><span class="pp-pln">            </span><span class="pp-tag">set</span><span class="pp-pln"> this.currentNode = null</span></div><div class="L2"><span class="pp-ln">  12 </span><span class="pp-pln">        </span><span class="pp-tag">m</span><span class="pp-pln"> openTag</span></div><div class="L3"><span class="pp-ln">  13 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> tag</span></div><div class="L4"><span class="pp-ln">  14 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> options</span></div><div class="L5"><span class="pp-ln">  15 </span><span class="pp-pln">            </span><span class="pp-tag">set</span><span class="pp-pln"> options = options || {}</span></div><div class="L6"><span class="pp-ln">  16 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> this.currentNode == null</span></div><div class="L7"><span class="pp-ln">  17 </span><span class="pp-pln">                </span><span class="pp-tag">set</span><span class="pp-pln"> this.currentNode = this.createNode(tag, null, options)</span></div><div class="L8"><span class="pp-ln">  18 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> this.nodes.push(this.currentNode)</span></div><div class="L9"><span class="pp-ln">  19 </span><span class="pp-pln">            </span><span class="pp-tag">else</span></div><div class="L0"><span class="pp-ln">  20 </span><span class="pp-pln">                </span><span class="pp-tag">var</span><span class="pp-pln"> newTag = this.createNode(tag, this.currentNode, options)</span></div><div class="L1"><span class="pp-ln">  21 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> this.currentNode.children.push(newTag)</span></div><div class="L2"><span class="pp-ln">  22 </span><span class="pp-pln">                </span><span class="pp-tag">set</span><span class="pp-pln"> this.currentNode = newTag</span></div><div class="L3"><span class="pp-ln">  23 </span><span class="pp-pln">        </span><span class="pp-tag">m</span><span class="pp-pln"> closeTag</span></div><div class="L4"><span class="pp-ln">  24 </span><span class="pp-pln">            </span><span class="pp-tag">set</span><span class="pp-pln"> this.currentNode = this.currentNode.parent</span></div><div class="L5"><span class="pp-ln">  25 </span><span class="pp-pln">        </span><span class="pp-tag">m</span><span class="pp-pln"> writeText</span></div><div class="L6"><span class="pp-ln">  26 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> text</span></div><div class="L7"><span class="pp-ln">  27 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> this.currentNode == null</span></div><div class="L8"><span class="pp-ln">  28 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> this.nodes.push</span></div><div class="L9"><span class="pp-ln">  29 </span><span class="pp-pln">                    </span><span class="pp-tag">{</span></div><div class="L0"><span class="pp-ln">  30 </span><span class="pp-pln">                        </span><span class="pp-tag">@</span><span class="pp-pln"> tag '_text'</span></div><div class="L1"><span class="pp-ln">  31 </span><span class="pp-pln">                        </span><span class="pp-tag">@</span><span class="pp-pln"> text text</span></div><div class="L2"><span class="pp-ln">  32 </span><span class="pp-pln">            </span><span class="pp-tag">else</span></div><div class="L3"><span class="pp-ln">  33 </span><span class="pp-pln">                </span><span class="pp-tag">set</span><span class="pp-pln"> this.currentNode.text += (text || '')</span></div><div class="L4"><span class="pp-ln">  34 </span><span class="pp-pln">        </span><span class="pp-tag">m</span><span class="pp-pln"> writeAttribute</span></div><div class="L5"><span class="pp-ln">  35 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> name</span></div><div class="L6"><span class="pp-ln">  36 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> value</span></div><div class="L7"><span class="pp-ln">  37 </span><span class="pp-pln">            </span><span class="pp-tag">_</span><span class="pp-pln"> this.currentNode.attribs.push</span></div><div class="L8"><span class="pp-ln">  38 </span><span class="pp-pln">                </span><span class="pp-tag">{</span></div><div class="L9"><span class="pp-ln">  39 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> name name</span></div><div class="L0"><span class="pp-ln">  40 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> value value</span></div><div class="L1"><span class="pp-ln">  41 </span><span class="pp-pln">        </span><span class="pp-tag">m</span><span class="pp-pln"> createNode</span></div><div class="L2"><span class="pp-ln">  42 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> tag</span></div><div class="L3"><span class="pp-ln">  43 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> parent</span></div><div class="L4"><span class="pp-ln">  44 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> options</span></div><div class="L5"><span class="pp-ln">  45 </span><span class="pp-pln">            </span><span class="pp-tag">return</span></div><div class="L6"><span class="pp-ln">  46 </span><span class="pp-pln">                </span><span class="pp-tag">{</span></div><div class="L7"><span class="pp-ln">  47 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> parent parent</span></div><div class="L8"><span class="pp-ln">  48 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> tag tag</span></div><div class="L9"><span class="pp-ln">  49 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> children</span></div><div class="L0"><span class="pp-ln">  50 </span><span class="pp-pln">                        </span><span class="pp-tag">[</span></div><div class="L1"><span class="pp-ln">  51 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> attribs</span></div><div class="L2"><span class="pp-ln">  52 </span><span class="pp-pln">                        </span><span class="pp-tag">[</span></div><div class="L3"><span class="pp-ln">  53 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> text ''</span></div><div class="L4"><span class="pp-ln">  54 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> inline options.inline</span></div><div class="L5"><span class="pp-ln">  55 </span><span class="pp-pln">        </span><span class="pp-tag">m</span><span class="pp-pln"> toLines</span></div><div class="L6"><span class="pp-ln">  56 </span><span class="pp-pln">            </span><span class="pp-tag">var</span><span class="pp-pln"> hw = new HtmlWriter(this.noLF)</span></div><div class="L7"><span class="pp-ln">  57 </span><span class="pp-pln">            </span><span class="pp-tag">foreach</span><span class="pp-pln"> node in this.nodes</span></div><div class="L8"><span class="pp-ln">  58 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> hw.writeElement(node)</span></div><div class="L9"><span class="pp-ln">  59 </span><span class="pp-pln">            </span><span class="pp-tag">return</span><span class="pp-pln"> hw.toLines()</span></div><div class="L0"><span class="pp-ln">  60 </span><span class="pp-pln">        </span><span class="pp-tag">m</span><span class="pp-pln"> toText</span></div><div class="L1"><span class="pp-ln">  61 </span><span class="pp-pln">            </span><span class="pp-tag">return</span><span class="pp-pln"> this.toString()</span></div><div class="L2"><span class="pp-ln">  62 </span><span class="pp-pln">        </span><span class="pp-tag">m</span><span class="pp-pln"> toString</span></div><div class="L3"><span class="pp-ln">  63 </span><span class="pp-pln">            </span><span class="pp-tag">var</span><span class="pp-pln"> hw = new HtmlWriter(this.noLF)</span></div><div class="L4"><span class="pp-ln">  64 </span><span class="pp-pln">            </span><span class="pp-tag">foreach</span><span class="pp-pln"> node in this.nodes</span></div><div class="L5"><span class="pp-ln">  65 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> hw.writeElement(node)</span></div><div class="L6"><span class="pp-ln">  66 </span><span class="pp-pln">            </span><span class="pp-tag">return</span><span class="pp-pln"> hw.toString()</span></div><div class="L7"><span class="pp-ln">  67 </span><span class="pp-pln">    </span><span class="pp-tag">set</span><span class="pp-pln"> md.HtmlBuilder = HtmlBuilder</span></div></pre>
                    </div>
                </div>
                <div class="code-panel" id="d71">
                    <div class="modal-view-container">
                        <h4 class="d-h2">/src/ittf/lib/prettifiers/utils/htmlwriter.js.ittf</h4>
                        <pre class="prettyprint">

<div class="L1"><span class="pp-ln">   1 </span><span class="pp-pln"></span><span class="pp-tag">module</span></div><div class="L2"><span class="pp-ln">   2 </span><span class="pp-pln">    </span><span class="pp-tag">kind</span><span class="pp-pln"> jsfile</span></div><div class="L3"><span class="pp-ln">   3 </span><span class="pp-pln">    </span><span class="pp-tag">var</span><span class="pp-pln"> Texter = require('./texter').Texter</span></div><div class="L4"><span class="pp-ln">   4 </span><span class="pp-pln">    </span><span class="pp-tag">var</span><span class="pp-pln"> StringWriter = require('./stringwriter').StringWriter</span></div><div class="L5"><span class="pp-ln">   5 </span><span class="pp-pln">    </span><span class="pp-tag">var</span><span class="pp-pln"> md = module.exports = {}</span></div><div class="L6"><span class="pp-ln">   6 </span><span class="pp-pln">    </span><span class="pp-tag">class</span><span class="pp-pln"> HtmlWriter</span></div><div class="L7"><span class="pp-ln">   7 </span><span class="pp-pln">        </span><span class="pp-tag">ctor</span></div><div class="L8"><span class="pp-ln">   8 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> noLF</span></div><div class="L9"><span class="pp-ln">   9 </span><span class="pp-pln">            </span><span class="pp-tag">set</span><span class="pp-pln"> this.sw = new StringWriter(noLF)</span></div><div class="L0"><span class="pp-ln">  10 </span><span class="pp-pln">            </span><span class="pp-tag">set</span><span class="pp-pln"> this.lfPending = false</span></div><div class="L1"><span class="pp-ln">  11 </span><span class="pp-pln">        </span><span class="pp-tag">m</span><span class="pp-pln"> writeElement</span></div><div class="L2"><span class="pp-ln">  12 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> node</span></div><div class="L3"><span class="pp-ln">  13 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> node.tag === '_text'</span></div><div class="L4"><span class="pp-ln">  14 </span><span class="pp-pln">                </span><span class="pp-tag">#</span><span class="pp-pln"> TODO _ this.sw.write(new Texter(node.text).toString())</span></div><div class="L5"><span class="pp-ln">  15 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> this.sw.write(node.text)</span></div><div class="L6"><span class="pp-ln">  16 </span><span class="pp-pln">                </span><span class="pp-tag">return</span></div><div class="L7"><span class="pp-ln">  17 </span><span class="pp-pln">            </span><span class="pp-tag">_</span><span class="pp-pln"> this.sw.write('&lt;' + node.tag)</span></div><div class="L8"><span class="pp-ln">  18 </span><span class="pp-pln">            </span><span class="pp-tag">foreach</span><span class="pp-pln"> a in node.attribs</span></div><div class="L9"><span class="pp-ln">  19 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> this.writeAttribute(a)</span></div><div class="L0"><span class="pp-ln">  20 </span><span class="pp-pln">            </span><span class="pp-tag">_</span><span class="pp-pln"> this.sw.write('&gt;')</span></div><div class="L1"><span class="pp-ln">  21 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> node.text</span></div><div class="L2"><span class="pp-ln">  22 </span><span class="pp-pln">                </span><span class="pp-tag">#</span><span class="pp-pln"> _ this.sw.write(new Texter(node.text).toString())</span></div><div class="L3"><span class="pp-ln">  23 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> this.sw.write(node.text)</span></div><div class="L4"><span class="pp-ln">  24 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> node.children.length &gt; 0</span></div><div class="L5"><span class="pp-ln">  25 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> this.sw.w()</span></div><div class="L6"><span class="pp-ln">  26 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> this.sw.indent()</span></div><div class="L7"><span class="pp-ln">  27 </span><span class="pp-pln">                </span><span class="pp-tag">foreach</span><span class="pp-pln"> e in node.children</span></div><div class="L8"><span class="pp-ln">  28 </span><span class="pp-pln">                    </span><span class="pp-tag">_</span><span class="pp-pln"> this.writeElement(e)</span></div><div class="L9"><span class="pp-ln">  29 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> this.sw.deindent()</span></div><div class="L0"><span class="pp-ln">  30 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> this.lfPending && !node.inline</span></div><div class="L1"><span class="pp-ln">  31 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> this.sw.w()</span></div><div class="L2"><span class="pp-ln">  32 </span><span class="pp-pln">            </span><span class="pp-tag">_</span><span class="pp-pln"> this.sw.write('&lt;/' + node.tag + '&gt;')</span></div><div class="L3"><span class="pp-ln">  33 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> !node.inline</span></div><div class="L4"><span class="pp-ln">  34 </span><span class="pp-pln">                </span><span class="pp-tag">set</span><span class="pp-pln"> this.lfPending = true</span></div><div class="L5"><span class="pp-ln">  35 </span><span class="pp-pln">        </span><span class="pp-tag">m</span><span class="pp-pln"> writeAttribute</span></div><div class="L6"><span class="pp-ln">  36 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> attrib</span></div><div class="L7"><span class="pp-ln">  37 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> attrib.value === null || typeof attrib.value === 'undefined'</span></div><div class="L8"><span class="pp-ln">  38 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> this.sw.write(' ' + attrib.name)</span></div><div class="L9"><span class="pp-ln">  39 </span><span class="pp-pln">            </span><span class="pp-tag">else</span></div><div class="L0"><span class="pp-ln">  40 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> this.sw.write(' ' + attrib.name + '="' + attrib.value + '"')</span></div><div class="L1"><span class="pp-ln">  41 </span><span class="pp-pln">        </span><span class="pp-tag">m</span><span class="pp-pln"> toLines</span></div><div class="L2"><span class="pp-ln">  42 </span><span class="pp-pln">            </span><span class="pp-tag">return</span><span class="pp-pln"> this.sw.toLines()</span></div><div class="L3"><span class="pp-ln">  43 </span><span class="pp-pln">        </span><span class="pp-tag">m</span><span class="pp-pln"> toString</span></div><div class="L4"><span class="pp-ln">  44 </span><span class="pp-pln">            </span><span class="pp-tag">return</span><span class="pp-pln"> this.sw.toString()</span></div><div class="L5"><span class="pp-ln">  45 </span><span class="pp-pln">    </span><span class="pp-tag">set</span><span class="pp-pln"> md.HtmlWriter = HtmlWriter</span></div></pre>
                    </div>
                </div>
                <div class="code-panel" id="d72">
                    <div class="modal-view-container">
                        <h4 class="d-h2">/src/ittf/lib/prettifiers/utils/stringwriter.js.ittf</h4>
                        <pre class="prettyprint">

<div class="L1"><span class="pp-ln">   1 </span><span class="pp-pln"></span><span class="pp-tag">module</span></div><div class="L2"><span class="pp-ln">   2 </span><span class="pp-pln">    </span><span class="pp-tag">kind</span><span class="pp-pln"> jsfile</span></div><div class="L3"><span class="pp-ln">   3 </span><span class="pp-pln">    </span><span class="pp-tag">var</span><span class="pp-pln"> md = module.exports = {}</span></div><div class="L4"><span class="pp-ln">   4 </span><span class="pp-pln">    </span><span class="pp-tag">class</span><span class="pp-pln"> StringWriter</span></div><div class="L5"><span class="pp-ln">   5 </span><span class="pp-pln">        </span><span class="pp-tag">ctor</span></div><div class="L6"><span class="pp-ln">   6 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> noLF</span></div><div class="L7"><span class="pp-ln">   7 </span><span class="pp-pln">            </span><span class="pp-tag">set</span><span class="pp-pln"> this.noLF = noLF</span></div><div class="L8"><span class="pp-ln">   8 </span><span class="pp-pln">            </span><span class="pp-tag">set</span><span class="pp-pln"> this.texts = []</span></div><div class="L9"><span class="pp-ln">   9 </span><span class="pp-pln">            </span><span class="pp-tag">set</span><span class="pp-pln"> this.indentValue = 0</span></div><div class="L0"><span class="pp-ln">  10 </span><span class="pp-pln">            </span><span class="pp-tag">set</span><span class="pp-pln"> this.newLine = true</span></div><div class="L1"><span class="pp-ln">  11 </span><span class="pp-pln">        </span><span class="pp-tag">m</span><span class="pp-pln"> w</span></div><div class="L2"><span class="pp-ln">  12 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> text</span></div><div class="L3"><span class="pp-ln">  13 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> this.newLine == true && !this.noLF</span></div><div class="L4"><span class="pp-ln">  14 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> this.texts.push(spaces(this.indentValue * 4))</span></div><div class="L5"><span class="pp-ln">  15 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> text</span></div><div class="L6"><span class="pp-ln">  16 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> this.texts.push(text)</span></div><div class="L7"><span class="pp-ln">  17 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> !this.noLF</span></div><div class="L8"><span class="pp-ln">  18 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> this.texts.push('\n')</span></div><div class="L9"><span class="pp-ln">  19 </span><span class="pp-pln">            </span><span class="pp-tag">set</span><span class="pp-pln"> this.newLine = true</span></div><div class="L0"><span class="pp-ln">  20 </span><span class="pp-pln">        </span><span class="pp-tag">m</span><span class="pp-pln"> write</span></div><div class="L1"><span class="pp-ln">  21 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> text</span></div><div class="L2"><span class="pp-ln">  22 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> this.newLine == true && !this.noLF</span></div><div class="L3"><span class="pp-ln">  23 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> this.texts.push(spaces(this.indentValue * 4))</span></div><div class="L4"><span class="pp-ln">  24 </span><span class="pp-pln">                </span><span class="pp-tag">set</span><span class="pp-pln"> this.newLine = false</span></div><div class="L5"><span class="pp-ln">  25 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> text</span></div><div class="L6"><span class="pp-ln">  26 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> this.texts.push(text)</span></div><div class="L7"><span class="pp-ln">  27 </span><span class="pp-pln">        </span><span class="pp-tag">m</span><span class="pp-pln"> indent</span></div><div class="L8"><span class="pp-ln">  28 </span><span class="pp-pln">            </span><span class="pp-tag">set</span><span class="pp-pln"> this.indentValue++</span></div><div class="L9"><span class="pp-ln">  29 </span><span class="pp-pln">        </span><span class="pp-tag">m</span><span class="pp-pln"> deindent</span></div><div class="L0"><span class="pp-ln">  30 </span><span class="pp-pln">            </span><span class="pp-tag">set</span><span class="pp-pln"> this.indentValue = Math.max(0, this.indentValue -1)</span></div><div class="L1"><span class="pp-ln">  31 </span><span class="pp-pln">        </span><span class="pp-tag">m</span><span class="pp-pln"> toString</span></div><div class="L2"><span class="pp-ln">  32 </span><span class="pp-pln">            </span><span class="pp-tag">return</span><span class="pp-pln"> this.texts.join('')</span></div><div class="L3"><span class="pp-ln">  33 </span><span class="pp-pln">        </span><span class="pp-tag">m</span><span class="pp-pln"> toLines</span></div><div class="L4"><span class="pp-ln">  34 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> this.noLF</span></div><div class="L5"><span class="pp-ln">  35 </span><span class="pp-pln">                </span><span class="pp-tag">return</span><span class="pp-pln"> [this.toString()]</span></div><div class="L6"><span class="pp-ln">  36 </span><span class="pp-pln">            </span><span class="pp-tag">else</span></div><div class="L7"><span class="pp-ln">  37 </span><span class="pp-pln">                </span><span class="pp-tag">return</span><span class="pp-pln"> this.toString().split('\n')</span></div><div class="L8"><span class="pp-ln">  38 </span><span class="pp-pln">    </span><span class="pp-tag">function</span><span class="pp-pln"> spaces</span></div><div class="L9"><span class="pp-ln">  39 </span><span class="pp-pln">        </span><span class="pp-tag">param</span><span class="pp-pln"> num</span></div><div class="L0"><span class="pp-ln">  40 </span><span class="pp-pln">        </span><span class="pp-tag">return</span><span class="pp-pln"> Array(num + 1).join(" ")</span></div><div class="L1"><span class="pp-ln">  41 </span><span class="pp-pln">    </span><span class="pp-tag">set</span><span class="pp-pln"> md.StringWriter = StringWriter</span></div></pre>
                    </div>
                </div>
                <div class="code-panel" id="d73">
                    <div class="modal-view-container">
                        <h4 class="d-h2">/src/ittf/lib/prettifiers/utils/texter.js.ittf</h4>
                        <pre class="prettyprint">

<div class="L1"><span class="pp-ln">   1 </span><span class="pp-pln"></span><span class="pp-tag">module</span></div><div class="L2"><span class="pp-ln">   2 </span><span class="pp-pln">    </span><span class="pp-tag">kind</span><span class="pp-pln"> jsfile</span></div><div class="L3"><span class="pp-ln">   3 </span><span class="pp-pln">    </span><span class="pp-tag">var</span><span class="pp-pln"> md = module.exports = {}</span></div><div class="L4"><span class="pp-ln">   4 </span><span class="pp-pln">    </span><span class="pp-tag">class</span><span class="pp-pln"> Texter</span></div><div class="L5"><span class="pp-ln">   5 </span><span class="pp-pln">        </span><span class="pp-tag">ctor</span></div><div class="L6"><span class="pp-ln">   6 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> text</span></div><div class="L7"><span class="pp-ln">   7 </span><span class="pp-pln">            </span><span class="pp-tag">set</span><span class="pp-pln"> this.text = text</span></div><div class="L8"><span class="pp-ln">   8 </span><span class="pp-pln">        </span><span class="pp-tag">m</span><span class="pp-pln"> toString</span></div><div class="L9"><span class="pp-ln">   9 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> typeof this.text !== 'string'</span></div><div class="L0"><span class="pp-ln">  10 </span><span class="pp-pln">                </span><span class="pp-tag">return</span><span class="pp-pln"> ''</span></div><div class="L1"><span class="pp-ln">  11 </span><span class="pp-pln">            </span><span class="pp-tag">var</span><span class="pp-pln"> ret = ''</span></div><div class="L2"><span class="pp-ln">  12 </span><span class="pp-pln">            </span><span class="pp-tag">var</span><span class="pp-pln"> cmd = ''</span></div><div class="L3"><span class="pp-ln">  13 </span><span class="pp-pln">            </span><span class="pp-tag">var</span><span class="pp-pln"> value = ''</span></div><div class="L4"><span class="pp-ln">  14 </span><span class="pp-pln">            </span><span class="pp-tag">var</span><span class="pp-pln"> i, ch, l = this.text.length, state = 0</span></div><div class="L5"><span class="pp-ln">  15 </span><span class="pp-pln">            </span><span class="pp-tag">for</span><span class="pp-pln"> i=0; i&lt;l; i++</span></div><div class="L6"><span class="pp-ln">  16 </span><span class="pp-pln">                </span><span class="pp-tag">set</span><span class="pp-pln"> ch = this.text[i]</span></div><div class="L7"><span class="pp-ln">  17 </span><span class="pp-pln">                </span><span class="pp-tag">if</span><span class="pp-pln"> ch === '{' && state == 0</span></div><div class="L8"><span class="pp-ln">  18 </span><span class="pp-pln">                    </span><span class="pp-tag">set</span><span class="pp-pln"> state = 1</span></div><div class="L9"><span class="pp-ln">  19 </span><span class="pp-pln">                </span><span class="pp-tag">elif</span><span class="pp-pln"> ch === ' '</span></div><div class="L0"><span class="pp-ln">  20 </span><span class="pp-pln">                    </span><span class="pp-tag">if</span><span class="pp-pln"> state == 1</span></div><div class="L1"><span class="pp-ln">  21 </span><span class="pp-pln">                        </span><span class="pp-tag">if</span><span class="pp-pln"> this.isCmd(cmd)</span></div><div class="L2"><span class="pp-ln">  22 </span><span class="pp-pln">                            </span><span class="pp-tag">set</span><span class="pp-pln"> state = 2</span></div><div class="L3"><span class="pp-ln">  23 </span><span class="pp-pln">                        </span><span class="pp-tag">else</span></div><div class="L4"><span class="pp-ln">  24 </span><span class="pp-pln">                            </span><span class="pp-tag">set</span><span class="pp-pln"> ret += '{' + cmd + ' '</span></div><div class="L5"><span class="pp-ln">  25 </span><span class="pp-pln">                            </span><span class="pp-tag">set</span><span class="pp-pln"> state = 0</span></div><div class="L6"><span class="pp-ln">  26 </span><span class="pp-pln">                    </span><span class="pp-tag">elif</span><span class="pp-pln"> state == 2</span></div><div class="L7"><span class="pp-ln">  27 </span><span class="pp-pln">                        </span><span class="pp-tag">set</span><span class="pp-pln"> value += ch</span></div><div class="L8"><span class="pp-ln">  28 </span><span class="pp-pln">                    </span><span class="pp-tag">else</span></div><div class="L9"><span class="pp-ln">  29 </span><span class="pp-pln">                        </span><span class="pp-tag">set</span><span class="pp-pln"> ret += ch</span></div><div class="L0"><span class="pp-ln">  30 </span><span class="pp-pln">                </span><span class="pp-tag">elif</span><span class="pp-pln"> ch === '}'</span></div><div class="L1"><span class="pp-ln">  31 </span><span class="pp-pln">                    </span><span class="pp-tag">if</span><span class="pp-pln"> state == 2</span></div><div class="L2"><span class="pp-ln">  32 </span><span class="pp-pln">                        </span><span class="pp-tag">set</span><span class="pp-pln"> ret += this.get(cmd, value)</span></div><div class="L3"><span class="pp-ln">  33 </span><span class="pp-pln">                    </span><span class="pp-tag">else</span></div><div class="L4"><span class="pp-ln">  34 </span><span class="pp-pln">                        </span><span class="pp-tag">set</span><span class="pp-pln"> ret += "{" + cmd + "}"</span></div><div class="L5"><span class="pp-ln">  35 </span><span class="pp-pln">                    </span><span class="pp-tag">set</span><span class="pp-pln"> cmd = value = ''</span></div><div class="L6"><span class="pp-ln">  36 </span><span class="pp-pln">                    </span><span class="pp-tag">set</span><span class="pp-pln"> state = 0</span></div><div class="L7"><span class="pp-ln">  37 </span><span class="pp-pln">                </span><span class="pp-tag">else</span></div><div class="L8"><span class="pp-ln">  38 </span><span class="pp-pln">                    </span><span class="pp-tag">if</span><span class="pp-pln"> state == 1</span></div><div class="L9"><span class="pp-ln">  39 </span><span class="pp-pln">                        </span><span class="pp-tag">set</span><span class="pp-pln"> cmd += ch</span></div><div class="L0"><span class="pp-ln">  40 </span><span class="pp-pln">                    </span><span class="pp-tag">elif</span><span class="pp-pln"> state == 2</span></div><div class="L1"><span class="pp-ln">  41 </span><span class="pp-pln">                        </span><span class="pp-tag">set</span><span class="pp-pln"> value += ch</span></div><div class="L2"><span class="pp-ln">  42 </span><span class="pp-pln">                    </span><span class="pp-tag">else</span></div><div class="L3"><span class="pp-ln">  43 </span><span class="pp-pln">                        </span><span class="pp-tag">set</span><span class="pp-pln"> ret += ch</span></div><div class="L4"><span class="pp-ln">  44 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> state == 1</span></div><div class="L5"><span class="pp-ln">  45 </span><span class="pp-pln">                </span><span class="pp-tag">set</span><span class="pp-pln"> ret += '{' + cmd</span></div><div class="L6"><span class="pp-ln">  46 </span><span class="pp-pln">            </span><span class="pp-tag">elif</span><span class="pp-pln"> state == 2</span></div><div class="L7"><span class="pp-ln">  47 </span><span class="pp-pln">                </span><span class="pp-tag">set</span><span class="pp-pln"> ret += '{' + cmd + ' ' + value</span></div><div class="L8"><span class="pp-ln">  48 </span><span class="pp-pln">            </span><span class="pp-tag">return</span><span class="pp-pln"> ret</span></div><div class="L9"><span class="pp-ln">  49 </span><span class="pp-pln">        </span><span class="pp-tag">m</span><span class="pp-pln"> isCmd</span></div><div class="L0"><span class="pp-ln">  50 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> cmd</span></div><div class="L1"><span class="pp-ln">  51 </span><span class="pp-pln">            </span><span class="pp-tag">return</span><span class="pp-pln"> ['label'].indexOf(cmd) &gt;= 0</span></div><div class="L2"><span class="pp-ln">  52 </span><span class="pp-pln">        </span><span class="pp-tag">m</span><span class="pp-pln"> get</span></div><div class="L3"><span class="pp-ln">  53 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> cmd</span></div><div class="L4"><span class="pp-ln">  54 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> value</span></div><div class="L5"><span class="pp-ln">  55 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> cmd === 'label'</span></div><div class="L6"><span class="pp-ln">  56 </span><span class="pp-pln">                </span><span class="pp-tag">return</span><span class="pp-pln"> '&lt;span class="label"&gt;' + value + '&lt;/span&gt;'</span></div><div class="L7"><span class="pp-ln">  57 </span><span class="pp-pln">            </span><span class="pp-tag">else</span></div><div class="L8"><span class="pp-ln">  58 </span><span class="pp-pln">                </span><span class="pp-tag">return</span><span class="pp-pln"> '&lt;span class="default"&gt;' + value + '&lt;/span&gt;'</span></div><div class="L9"><span class="pp-ln">  59 </span><span class="pp-pln">    </span><span class="pp-tag">set</span><span class="pp-pln"> md.Texter = Texter</span></div></pre>
                    </div>
                </div>
                <div class="code-panel" id="d74">
                    <div class="modal-view-container">
                        <h4 class="d-h2">/src/ittf/lib/prettifiers/ittfHtmlPrettifier.js.ittf</h4>
                        <pre class="prettyprint">

<div class="L1"><span class="pp-ln">   1 </span><span class="pp-pln"></span><span class="pp-tag">module</span></div><div class="L2"><span class="pp-ln">   2 </span><span class="pp-pln">    </span><span class="pp-tag">kind</span><span class="pp-pln"> jsfile</span></div><div class="L3"><span class="pp-ln">   3 </span><span class="pp-pln">    </span><span class="pp-tag">#</span><span class="pp-pln"> pretty print</span></div><div class="L4"><span class="pp-ln">   4 </span><span class="pp-pln">    </span><span class="pp-tag">var</span><span class="pp-pln"> STYLE_DOCS_ITTF_NODE_LINENUM = 'pp-ln'</span></div><div class="L5"><span class="pp-ln">   5 </span><span class="pp-pln">    </span><span class="pp-tag">var</span><span class="pp-pln"> STYLE_DOCS_ITTF_NODE_COMMAND = 'pp-kwd'</span></div><div class="L6"><span class="pp-ln">   6 </span><span class="pp-pln">    </span><span class="pp-tag">var</span><span class="pp-pln"> STYLE_DOCS_ITTF_NODE_NAME = 'pp-tag'</span></div><div class="L7"><span class="pp-ln">   7 </span><span class="pp-pln">    </span><span class="pp-tag">var</span><span class="pp-pln"> STYLE_DOCS_ITTF_NODE_VALUE = 'pp-pln'</span></div><div class="L8"><span class="pp-ln">   8 </span><span class="pp-pln">    </span><span class="pp-tag">var</span><span class="pp-pln"> STYLE_DOCS_ITTF_NODE_EXPR = 'pp-expr'</span></div><div class="L9"><span class="pp-ln">   9 </span><span class="pp-pln">    </span><span class="pp-tag">var</span><span class="pp-pln"> STYLE_DOCS_ITTF_NODE_MIX = 'pp-mix'</span></div><div class="L0"><span class="pp-ln">  10 </span><span class="pp-pln">    </span><span class="pp-tag">var</span><span class="pp-pln"> STYLE_DOCS_ITTF_NODE_ARG = 'pp-arg'</span></div><div class="L1"><span class="pp-ln">  11 </span><span class="pp-pln">    </span><span class="pp-tag">var</span><span class="pp-pln"> verify = require('../verify')</span></div><div class="L2"><span class="pp-ln">  12 </span><span class="pp-pln">    </span><span class="pp-tag">var</span><span class="pp-pln"> HtmlBuilder = require('./utils/htmlbuilder').HtmlBuilder</span></div><div class="L3"><span class="pp-ln">  13 </span><span class="pp-pln">    </span><span class="pp-tag">var</span><span class="pp-pln"> IttfMTreeEx = require('../ittfTree/ittfMTreeEx')</span></div><div class="L4"><span class="pp-ln">  14 </span><span class="pp-pln">    </span><span class="pp-tag">#</span></div><div class="L5"><span class="pp-ln">  15 </span><span class="pp-pln">        </span><span class="pp-tag">#</span><span class="pp-pln"> prettify an mTree for documentation pourposes</span></div><div class="L6"><span class="pp-ln">  16 </span><span class="pp-pln">        </span><span class="pp-tag">#</span><span class="pp-pln"> params</span></div><div class="L7"><span class="pp-ln">  17 </span><span class="pp-pln">        </span><span class="pp-tag">#</span><span class="pp-pln"> choice rootNode</span></div><div class="L8"><span class="pp-ln">  18 </span><span class="pp-pln">        </span><span class="pp-tag">#</span><span class="pp-pln"> { api-ref wizzi-utils.ittfMTreeEx</span></div><div class="L9"><span class="pp-ln">  19 </span><span class="pp-pln">        </span><span class="pp-tag">#</span><span class="pp-pln"> string ittf document uri</span></div><div class="L0"><span class="pp-ln">  20 </span><span class="pp-pln">        </span><span class="pp-tag">#</span><span class="pp-pln"> { options</span></div><div class="L1"><span class="pp-ln">  21 </span><span class="pp-pln">        </span><span class="pp-tag">#</span><span class="pp-pln"> { ittfFsNode</span></div><div class="L2"><span class="pp-ln">  22 </span><span class="pp-pln">        </span><span class="pp-tag">#</span><span class="pp-pln"> string ittfBasePath</span></div><div class="L3"><span class="pp-ln">  23 </span><span class="pp-pln">        </span><span class="pp-tag">#</span></div><div class="L4"><span class="pp-ln">  24 </span><span class="pp-pln">    </span><span class="pp-tag">set</span><span class="pp-pln"> module.exports</span></div><div class="L5"><span class="pp-ln">  25 </span><span class="pp-pln">        </span><span class="pp-tag">function</span></div><div class="L6"><span class="pp-ln">  26 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> rootNode</span></div><div class="L7"><span class="pp-ln">  27 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> options</span></div><div class="L8"><span class="pp-ln">  28 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> verify.isObject(rootNode) == false && verify.isNotEmpty(rootNode)</span></div><div class="L9"><span class="pp-ln">  29 </span><span class="pp-pln">                </span><span class="pp-tag">#</span><span class="pp-pln"> 'rootNode' should be an ittf document uri</span></div><div class="L0"><span class="pp-ln">  30 </span><span class="pp-pln">                </span><span class="pp-tag">#</span><span class="pp-pln"> load from source ittf document</span></div><div class="L1"><span class="pp-ln">  31 </span><span class="pp-pln">                </span><span class="pp-tag">set</span><span class="pp-pln"> rootNode</span></div><div class="L2"><span class="pp-ln">  32 </span><span class="pp-pln">                    </span><span class="pp-tag">_</span><span class="pp-pln"> IttfMTreeEx.createFrom</span></div><div class="L3"><span class="pp-ln">  33 </span><span class="pp-pln">                        </span><span class="pp-tag">@</span><span class="pp-pln"> rootNode</span></div><div class="L4"><span class="pp-ln">  34 </span><span class="pp-pln">            </span><span class="pp-tag">var</span><span class="pp-pln"> ctx</span></div><div class="L5"><span class="pp-ln">  35 </span><span class="pp-pln">                </span><span class="pp-tag">{</span></div><div class="L6"><span class="pp-ln">  36 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> __ittfNode</span></div><div class="L7"><span class="pp-ln">  37 </span><span class="pp-pln">                        </span><span class="pp-tag">{</span></div><div class="L8"><span class="pp-ln">  38 </span><span class="pp-pln">                            </span><span class="pp-tag">@</span><span class="pp-pln"> line 0</span></div><div class="L9"><span class="pp-ln">  39 </span><span class="pp-pln">                            </span><span class="pp-tag">@</span><span class="pp-pln"> indent 0</span></div><div class="L0"><span class="pp-ln">  40 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> hb new HtmlBuilder(true)</span></div><div class="L1"><span class="pp-ln">  41 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> fragments {}</span></div><div class="L2"><span class="pp-ln">  42 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> ittfFsNode options.ittfFsNode</span></div><div class="L3"><span class="pp-ln">  43 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> ittfBasePath options.ittfBasePath</span></div><div class="L4"><span class="pp-ln">  44 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> rootNode.analize</span></div><div class="L5"><span class="pp-ln">  45 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> rootNode.analize</span></div><div class="L6"><span class="pp-ln">  46 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> ctx</span></div><div class="L7"><span class="pp-ln">  47 </span><span class="pp-pln">            </span><span class="pp-tag">_</span><span class="pp-pln"> toHtmlPretty</span></div><div class="L8"><span class="pp-ln">  48 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> rootNode</span></div><div class="L9"><span class="pp-ln">  49 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> ctx</span></div><div class="L0"><span class="pp-ln">  50 </span><span class="pp-pln">            </span><span class="pp-tag">return</span></div><div class="L1"><span class="pp-ln">  51 </span><span class="pp-pln">                </span><span class="pp-tag">{</span></div><div class="L2"><span class="pp-ln">  52 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> prettyLines ctx.hb.toLines()</span></div><div class="L3"><span class="pp-ln">  53 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> ittfMTreeEx rootNode</span></div><div class="L4"><span class="pp-ln">  54 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> fragments ctx.fragments</span></div><div class="L5"><span class="pp-ln">  55 </span><span class="pp-pln">    </span><span class="pp-tag">function</span><span class="pp-pln"> toHtmlPretty</span></div><div class="L6"><span class="pp-ln">  56 </span><span class="pp-pln">        </span><span class="pp-tag">param</span><span class="pp-pln"> node</span></div><div class="L7"><span class="pp-ln">  57 </span><span class="pp-pln">        </span><span class="pp-tag">param</span><span class="pp-pln"> ctx</span></div><div class="L8"><span class="pp-ln">  58 </span><span class="pp-pln">        </span><span class="pp-tag">set</span><span class="pp-pln"> ctx.__ittfNode.line++</span></div><div class="L9"><span class="pp-ln">  59 </span><span class="pp-pln">        </span><span class="pp-tag">var</span></div><div class="L0"><span class="pp-ln">  60 </span><span class="pp-pln">            </span><span class="pp-tag">decl</span><span class="pp-pln"> name = node.n || node.name</span></div><div class="L1"><span class="pp-ln">  61 </span><span class="pp-pln">            </span><span class="pp-tag">decl</span><span class="pp-pln"> value = node.v || node.value</span></div><div class="L2"><span class="pp-ln">  62 </span><span class="pp-pln">            </span><span class="pp-tag">decl</span><span class="pp-pln"> children = node.children</span></div><div class="L3"><span class="pp-ln">  63 </span><span class="pp-pln">            </span><span class="pp-tag">decl</span><span class="pp-pln"> name_style = STYLE_DOCS_ITTF_NODE_NAME</span></div><div class="L4"><span class="pp-ln">  64 </span><span class="pp-pln">            </span><span class="pp-tag">decl</span><span class="pp-pln"> value_style = STYLE_DOCS_ITTF_NODE_VALUE</span></div><div class="L5"><span class="pp-ln">  65 </span><span class="pp-pln">        </span><span class="pp-tag">if</span><span class="pp-pln"> node.isExpressionCommand()</span></div><div class="L6"><span class="pp-ln">  66 </span><span class="pp-pln">            </span><span class="pp-tag">set</span><span class="pp-pln"> value_style = STYLE_DOCS_ITTF_NODE_EXPR</span></div><div class="L7"><span class="pp-ln">  67 </span><span class="pp-pln">        </span><span class="pp-tag">elif</span><span class="pp-pln"> node.isCode()</span></div><div class="L8"><span class="pp-ln">  68 </span><span class="pp-pln">            </span><span class="pp-tag">set</span><span class="pp-pln"> name_style = STYLE_DOCS_ITTF_NODE_EXPR</span></div><div class="L9"><span class="pp-ln">  69 </span><span class="pp-pln">            </span><span class="pp-tag">set</span><span class="pp-pln"> value_style = STYLE_DOCS_ITTF_NODE_EXPR</span></div><div class="L0"><span class="pp-ln">  70 </span><span class="pp-pln">        </span><span class="pp-tag">elif</span><span class="pp-pln"> node.isMixinCall()</span></div><div class="L1"><span class="pp-ln">  71 </span><span class="pp-pln">            </span><span class="pp-tag">set</span><span class="pp-pln"> name_style = STYLE_DOCS_ITTF_NODE_MIX</span></div><div class="L2"><span class="pp-ln">  72 </span><span class="pp-pln">        </span><span class="pp-tag">var</span><span class="pp-pln"> class_even_odd = 'L' + ('' + ctx.__ittfNode.line).substr(-1,1)</span></div><div class="L3"><span class="pp-ln">  73 </span><span class="pp-pln">        </span><span class="pp-tag">#</span><span class="pp-pln"> _ ctx.hb.openTag('li')</span></div><div class="L4"><span class="pp-ln">  74 </span><span class="pp-pln">        </span><span class="pp-tag">#</span><span class="pp-pln"> _ ctx.hb.writeAttribute('class', 'L' + ('' + ctx.__ittfNode.line).substr(-1,1))</span></div><div class="L5"><span class="pp-ln">  75 </span><span class="pp-pln">        </span><span class="pp-tag">_</span><span class="pp-pln"> ctx.hb.openTag('div')</span></div><div class="L6"><span class="pp-ln">  76 </span><span class="pp-pln">        </span><span class="pp-tag">_</span><span class="pp-pln"> ctx.hb.writeAttribute('class', class_even_odd )</span></div><div class="L7"><span class="pp-ln">  77 </span><span class="pp-pln">        </span><span class="pp-tag">_</span><span class="pp-pln"> ctx.hb.openTag('span', { inline: true })</span></div><div class="L8"><span class="pp-ln">  78 </span><span class="pp-pln">        </span><span class="pp-tag">_</span><span class="pp-pln"> ctx.hb.writeAttribute('class', STYLE_DOCS_ITTF_NODE_LINENUM)</span></div><div class="L9"><span class="pp-ln">  79 </span><span class="pp-pln">        </span><span class="pp-tag">_</span><span class="pp-pln"> ctx.hb.writeText(formatLineNum(ctx.__ittfNode.line) + ' ')</span></div><div class="L0"><span class="pp-ln">  80 </span><span class="pp-pln">        </span><span class="pp-tag">_</span><span class="pp-pln"> ctx.hb.closeTag('span', { inline: true })</span></div><div class="L1"><span class="pp-ln">  81 </span><span class="pp-pln">        </span><span class="pp-tag">_</span><span class="pp-pln"> ctx.hb.openTag('span', { inline: true })</span></div><div class="L2"><span class="pp-ln">  82 </span><span class="pp-pln">        </span><span class="pp-tag">_</span><span class="pp-pln"> ctx.hb.writeAttribute('class', STYLE_DOCS_ITTF_NODE_VALUE)</span></div><div class="L3"><span class="pp-ln">  83 </span><span class="pp-pln">        </span><span class="pp-tag">_</span><span class="pp-pln"> ctx.hb.writeText(spaces(ctx.__ittfNode.indent * 4))</span></div><div class="L4"><span class="pp-ln">  84 </span><span class="pp-pln">        </span><span class="pp-tag">_</span><span class="pp-pln"> ctx.hb.closeTag('span', { inline: true })</span></div><div class="L5"><span class="pp-ln">  85 </span><span class="pp-pln">        </span><span class="pp-tag">_</span><span class="pp-pln"> ctx.hb.openTag('span', { inline: true })</span></div><div class="L6"><span class="pp-ln">  86 </span><span class="pp-pln">        </span><span class="pp-tag">if</span><span class="pp-pln"> node.isCommand()</span></div><div class="L7"><span class="pp-ln">  87 </span><span class="pp-pln">            </span><span class="pp-tag">_</span><span class="pp-pln"> ctx.hb.writeAttribute('class', STYLE_DOCS_ITTF_NODE_COMMAND)</span></div><div class="L8"><span class="pp-ln">  88 </span><span class="pp-pln">        </span><span class="pp-tag">else</span></div><div class="L9"><span class="pp-ln">  89 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> node.isMixinCall()</span></div><div class="L0"><span class="pp-ln">  90 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> ctx.hb.writeAttribute('class', name_style + ' frag-to-link-a')</span></div><div class="L1"><span class="pp-ln">  91 </span><span class="pp-pln">            </span><span class="pp-tag">else</span></div><div class="L2"><span class="pp-ln">  92 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> ctx.hb.writeAttribute('class', name_style)</span></div><div class="L3"><span class="pp-ln">  93 </span><span class="pp-pln">        </span><span class="pp-tag">if</span><span class="pp-pln"> node.isMixinCall()</span></div><div class="L4"><span class="pp-ln">  94 </span><span class="pp-pln">            </span><span class="pp-tag">#</span><span class="pp-pln"> log 'wizzi-utils.ittfHtmlPrettifier.fragmentName', node.fragmentName, ctx.fragments</span></div><div class="L5"><span class="pp-ln">  95 </span><span class="pp-pln">            </span><span class="pp-tag">var</span><span class="pp-pln"> dId = ctx.fragments[node.fragmentName] ? ctx.fragments[node.fragmentName].id : null</span></div><div class="L6"><span class="pp-ln">  96 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> dId</span></div><div class="L7"><span class="pp-ln">  97 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> ctx.hb.writeAttribute('data-frag-id', dId)</span></div><div class="L8"><span class="pp-ln">  98 </span><span class="pp-pln">        </span><span class="pp-tag">_</span><span class="pp-pln"> ctx.hb.writeText(name)</span></div><div class="L9"><span class="pp-ln">  99 </span><span class="pp-pln">        </span><span class="pp-tag">_</span><span class="pp-pln"> ctx.hb.closeTag('span', { inline: true })</span></div><div class="L0"><span class="pp-ln"> 100 </span><span class="pp-pln">        </span><span class="pp-tag">if</span><span class="pp-pln"> node.isMixinCall()</span></div><div class="L1"><span class="pp-ln"> 101 </span><span class="pp-pln">            </span><span class="pp-tag">var</span><span class="pp-pln"> items = node.getMixinArgs()</span></div><div class="L2"><span class="pp-ln"> 102 </span><span class="pp-pln">            </span><span class="pp-tag">foreach</span><span class="pp-pln"> item in items</span></div><div class="L3"><span class="pp-ln"> 103 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> ctx.hb.openTag('span', { inline: true })</span></div><div class="L4"><span class="pp-ln"> 104 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> ctx.hb.writeAttribute('class', STYLE_DOCS_ITTF_NODE_ARG)</span></div><div class="L5"><span class="pp-ln"> 105 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> ctx.hb.writeText(' ' + verify.htmlEscape(item))</span></div><div class="L6"><span class="pp-ln"> 106 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> ctx.hb.closeTag('span', { inline: true })</span></div><div class="L7"><span class="pp-ln"> 107 </span><span class="pp-pln">                </span><span class="pp-tag">if</span><span class="pp-pln"> i &lt; items.length -1</span></div><div class="L8"><span class="pp-ln"> 108 </span><span class="pp-pln">                    </span><span class="pp-tag">_</span><span class="pp-pln"> ctx.hb.openTag('span', { inline: true })</span></div><div class="L9"><span class="pp-ln"> 109 </span><span class="pp-pln">                    </span><span class="pp-tag">_</span><span class="pp-pln"> ctx.hb.writeAttribute('class', STYLE_DOCS_ITTF_NODE_VALUE)</span></div><div class="L0"><span class="pp-ln"> 110 </span><span class="pp-pln">                    </span><span class="pp-tag">_</span><span class="pp-pln"> ctx.hb.writeText(',')</span></div><div class="L1"><span class="pp-ln"> 111 </span><span class="pp-pln">                    </span><span class="pp-tag">_</span><span class="pp-pln"> ctx.hb.closeTag('span', { inline: true })</span></div><div class="L2"><span class="pp-ln"> 112 </span><span class="pp-pln">            </span><span class="pp-tag">_</span><span class="pp-pln"> ctx.hb.openTag('span', { inline: true })</span></div><div class="L3"><span class="pp-ln"> 113 </span><span class="pp-pln">            </span><span class="pp-tag">_</span><span class="pp-pln"> ctx.hb.writeAttribute('class', STYLE_DOCS_ITTF_NODE_MIX)</span></div><div class="L4"><span class="pp-ln"> 114 </span><span class="pp-pln">            </span><span class="pp-tag">_</span><span class="pp-pln"> ctx.hb.writeText(')')</span></div><div class="L5"><span class="pp-ln"> 115 </span><span class="pp-pln">            </span><span class="pp-tag">_</span><span class="pp-pln"> ctx.hb.closeTag('span', { inline: true })</span></div><div class="L6"><span class="pp-ln"> 116 </span><span class="pp-pln">        </span><span class="pp-tag">elif</span><span class="pp-pln"> node.isIncludeCall()</span></div><div class="L7"><span class="pp-ln"> 117 </span><span class="pp-pln">            </span><span class="pp-tag">_</span><span class="pp-pln"> ctx.hb.openTag('span', { inline: true })</span></div><div class="L8"><span class="pp-ln"> 118 </span><span class="pp-pln">            </span><span class="pp-tag">_</span><span class="pp-pln"> ctx.hb.writeAttribute('class', STYLE_DOCS_ITTF_NODE_MIX + ' frag-to-link-a')</span></div><div class="L9"><span class="pp-ln"> 119 </span><span class="pp-pln">            </span><span class="pp-tag">var</span><span class="pp-pln"> dId = ctx.fragments[node.fragmentName] ? ctx.fragments[node.fragmentName].id : null</span></div><div class="L0"><span class="pp-ln"> 120 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> dId</span></div><div class="L1"><span class="pp-ln"> 121 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> ctx.hb.writeAttribute('data-frag-id', dId)</span></div><div class="L2"><span class="pp-ln"> 122 </span><span class="pp-pln">            </span><span class="pp-tag">_</span><span class="pp-pln"> ctx.hb.writeText(' ' + verify.htmlEscape(node.value))</span></div><div class="L3"><span class="pp-ln"> 123 </span><span class="pp-pln">            </span><span class="pp-tag">_</span><span class="pp-pln"> ctx.hb.closeTag('span', { inline: true })</span></div><div class="L4"><span class="pp-ln"> 124 </span><span class="pp-pln">        </span><span class="pp-tag">else</span></div><div class="L5"><span class="pp-ln"> 125 </span><span class="pp-pln">            </span><span class="pp-tag">var</span><span class="pp-pln"> items = node.getValueParsed()</span></div><div class="L6"><span class="pp-ln"> 126 </span><span class="pp-pln">            </span><span class="pp-tag">var</span><span class="pp-pln"> sp = ' '</span></div><div class="L7"><span class="pp-ln"> 127 </span><span class="pp-pln">            </span><span class="pp-tag">foreach</span><span class="pp-pln"> item in items</span></div><div class="L8"><span class="pp-ln"> 128 </span><span class="pp-pln">                </span><span class="pp-tag">if</span><span class="pp-pln"> item.t == 0</span></div><div class="L9"><span class="pp-ln"> 129 </span><span class="pp-pln">                    </span><span class="pp-tag">_</span><span class="pp-pln"> ctx.hb.openTag('span', { inline: true })</span></div><div class="L0"><span class="pp-ln"> 130 </span><span class="pp-pln">                    </span><span class="pp-tag">_</span><span class="pp-pln"> ctx.hb.writeAttribute('class', value_style)</span></div><div class="L1"><span class="pp-ln"> 131 </span><span class="pp-pln">                    </span><span class="pp-tag">_</span><span class="pp-pln"> ctx.hb.writeText(sp + verify.htmlEscape(item.v))</span></div><div class="L2"><span class="pp-ln"> 132 </span><span class="pp-pln">                    </span><span class="pp-tag">_</span><span class="pp-pln"> ctx.hb.closeTag('span', { inline: true })</span></div><div class="L3"><span class="pp-ln"> 133 </span><span class="pp-pln">                    </span><span class="pp-tag">set</span><span class="pp-pln"> sp = ''</span></div><div class="L4"><span class="pp-ln"> 134 </span><span class="pp-pln">                </span><span class="pp-tag">else</span></div><div class="L5"><span class="pp-ln"> 135 </span><span class="pp-pln">                    </span><span class="pp-tag">_</span><span class="pp-pln"> ctx.hb.openTag('span', { inline: true })</span></div><div class="L6"><span class="pp-ln"> 136 </span><span class="pp-pln">                    </span><span class="pp-tag">_</span><span class="pp-pln"> ctx.hb.writeAttribute('class', STYLE_DOCS_ITTF_NODE_COMMAND)</span></div><div class="L7"><span class="pp-ln"> 137 </span><span class="pp-pln">                    </span><span class="pp-tag">_</span><span class="pp-pln"> ctx.hb.writeText(sp + '</span></div><div class="L8"><span class="pp-ln"> 138 </span><span class="pp-pln">                    </span><span class="pp-tag">_</span><span class="pp-pln"> ctx.hb.closeTag('span', { inline: true })</span></div><div class="L9"><span class="pp-ln"> 139 </span><span class="pp-pln">                    </span><span class="pp-tag">set</span><span class="pp-pln"> sp = ''</span></div><div class="L0"><span class="pp-ln"> 140 </span><span class="pp-pln">                    </span><span class="pp-tag">_</span><span class="pp-pln"> ctx.hb.openTag('span', { inline: true })</span></div><div class="L1"><span class="pp-ln"> 141 </span><span class="pp-pln">                    </span><span class="pp-tag">_</span><span class="pp-pln"> ctx.hb.writeAttribute('class', STYLE_DOCS_ITTF_NODE_EXPR)</span></div><div class="L2"><span class="pp-ln"> 142 </span><span class="pp-pln">                    </span><span class="pp-tag">_</span><span class="pp-pln"> ctx.hb.writeText(verify.htmlEscape(item.v))</span></div><div class="L3"><span class="pp-ln"> 143 </span><span class="pp-pln">                    </span><span class="pp-tag">_</span><span class="pp-pln"> ctx.hb.closeTag('span', { inline: true })</span></div><div class="L4"><span class="pp-ln"> 144 </span><span class="pp-pln">                    </span><span class="pp-tag">_</span><span class="pp-pln"> ctx.hb.openTag('span', { inline: true })</span></div><div class="L5"><span class="pp-ln"> 145 </span><span class="pp-pln">                    </span><span class="pp-tag">_</span><span class="pp-pln"> ctx.hb.writeAttribute('class', STYLE_DOCS_ITTF_NODE_COMMAND)</span></div><div class="L6"><span class="pp-ln"> 146 </span><span class="pp-pln">                    </span><span class="pp-tag">_</span><span class="pp-pln"> ctx.hb.writeText('}')</span></div><div class="L7"><span class="pp-ln"> 147 </span><span class="pp-pln">                    </span><span class="pp-tag">_</span><span class="pp-pln"> ctx.hb.closeTag('span', { inline: true })</span></div><div class="L8"><span class="pp-ln"> 148 </span><span class="pp-pln">        </span><span class="pp-tag">_</span><span class="pp-pln"> ctx.hb.closeTag('li')</span></div><div class="L9"><span class="pp-ln"> 149 </span><span class="pp-pln">        </span><span class="pp-tag">set</span><span class="pp-pln"> ctx.__ittfNode.indent++</span></div><div class="L0"><span class="pp-ln"> 150 </span><span class="pp-pln">        </span><span class="pp-tag">foreach</span><span class="pp-pln"> child in children</span></div><div class="L1"><span class="pp-ln"> 151 </span><span class="pp-pln">            </span><span class="pp-tag">_</span><span class="pp-pln"> toHtmlPretty</span></div><div class="L2"><span class="pp-ln"> 152 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> child</span></div><div class="L3"><span class="pp-ln"> 153 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> ctx</span></div><div class="L4"><span class="pp-ln"> 154 </span><span class="pp-pln">        </span><span class="pp-tag">set</span><span class="pp-pln"> ctx.__ittfNode.indent--</span></div><div class="L5"><span class="pp-ln"> 155 </span><span class="pp-pln">    </span><span class="pp-tag">function</span><span class="pp-pln"> formatLineNum</span></div><div class="L6"><span class="pp-ln"> 156 </span><span class="pp-pln">        </span><span class="pp-tag">param</span><span class="pp-pln"> line</span></div><div class="L7"><span class="pp-ln"> 157 </span><span class="pp-pln">        </span><span class="pp-tag">if</span><span class="pp-pln"> line &lt; 10</span></div><div class="L8"><span class="pp-ln"> 158 </span><span class="pp-pln">            </span><span class="pp-tag">return</span><span class="pp-pln"> '   ' + line</span></div><div class="L9"><span class="pp-ln"> 159 </span><span class="pp-pln">        </span><span class="pp-tag">elif</span><span class="pp-pln"> line &lt; 100</span></div><div class="L0"><span class="pp-ln"> 160 </span><span class="pp-pln">            </span><span class="pp-tag">return</span><span class="pp-pln"> '  ' + line</span></div><div class="L1"><span class="pp-ln"> 161 </span><span class="pp-pln">        </span><span class="pp-tag">elif</span><span class="pp-pln"> line &lt; 1000</span></div><div class="L2"><span class="pp-ln"> 162 </span><span class="pp-pln">            </span><span class="pp-tag">return</span><span class="pp-pln"> ' ' + line</span></div><div class="L3"><span class="pp-ln"> 163 </span><span class="pp-pln">        </span><span class="pp-tag">else</span></div><div class="L4"><span class="pp-ln"> 164 </span><span class="pp-pln">            </span><span class="pp-tag">return</span><span class="pp-pln"> line</span></div><div class="L5"><span class="pp-ln"> 165 </span><span class="pp-pln">    </span><span class="pp-tag">function</span><span class="pp-pln"> spaces</span></div><div class="L6"><span class="pp-ln"> 166 </span><span class="pp-pln">        </span><span class="pp-tag">param</span><span class="pp-pln"> num</span></div><div class="L7"><span class="pp-ln"> 167 </span><span class="pp-pln">        </span><span class="pp-tag">return</span><span class="pp-pln"> Array(num + 1).join(" ")</span></div></pre>
                    </div>
                </div>
                <div class="code-panel" id="d75">
                    <div class="modal-view-container">
                        <h4 class="d-h2">/src/ittf/lib/prettifiers/jsPrettifier.js.ittf</h4>
                        <pre class="prettyprint">

<div class="L1"><span class="pp-ln">   1 </span><span class="pp-pln"></span><span class="pp-tag">module</span></div><div class="L2"><span class="pp-ln">   2 </span><span class="pp-pln">    </span><span class="pp-tag">kind</span><span class="pp-pln"> jsfile</span></div><div class="L3"><span class="pp-ln">   3 </span><span class="pp-pln">    </span><span class="pp-tag">var</span><span class="pp-pln"> beautify = require('js-beautify').js_beautify</span></div><div class="L4"><span class="pp-ln">   4 </span><span class="pp-pln">    </span><span class="pp-tag">var</span><span class="pp-pln"> fs = require('fs')</span></div><div class="L5"><span class="pp-ln">   5 </span><span class="pp-pln">    </span><span class="pp-tag">_</span><span class="pp-pln"> fs.readFile</span></div><div class="L6"><span class="pp-ln">   6 </span><span class="pp-pln">        </span><span class="pp-tag">@</span><span class="pp-pln"> 'foo.js'</span></div><div class="L7"><span class="pp-ln">   7 </span><span class="pp-pln">        </span><span class="pp-tag">@</span><span class="pp-pln"> 'utf8'</span></div><div class="L8"><span class="pp-ln">   8 </span><span class="pp-pln">        </span><span class="pp-tag">function</span></div><div class="L9"><span class="pp-ln">   9 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> err</span></div><div class="L0"><span class="pp-ln">  10 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> data</span></div><div class="L1"><span class="pp-ln">  11 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> err</span></div><div class="L2"><span class="pp-ln">  12 </span><span class="pp-pln">                </span><span class="pp-tag">throw</span><span class="pp-pln"> err;</span></div><div class="L3"><span class="pp-ln">  13 </span><span class="pp-pln">            </span><span class="pp-tag">log</span><span class="pp-pln"> beautify(data, { indent_size: 2 })</span></div></pre>
                    </div>
                </div>
                <div class="code-panel" id="d76">
                    <div class="modal-view-container">
                        <h4 class="d-h2">/src/ittf/lib/scanners/t/ittfFsNode/t/addset.js.ittf</h4>
                        <pre class="prettyprint">

<div class="L1"><span class="pp-ln">   1 </span><span class="pp-pln"></span><span class="pp-kwd">$group</span></div><div class="L2"><span class="pp-ln">   2 </span><span class="pp-pln">    </span><span class="pp-kwd">$params</span><span class="pp-pln"> variab, p, n, v|kempty</span></div><div class="L3"><span class="pp-ln">   3 </span><span class="pp-pln">    </span><span class="pp-tag">set</span><span class="pp-kwd"> ${</span><span class="pp-expr">variab</span><span class="pp-kwd">}</span></div><div class="L4"><span class="pp-ln">   4 </span><span class="pp-pln">        </span><span class="pp-tag">_</span><span class="pp-kwd"> ${</span><span class="pp-expr">p</span><span class="pp-kwd">}</span><span class="pp-pln">.add</span></div><div class="L5"><span class="pp-ln">   5 </span><span class="pp-pln">            </span><span class="pp-tag">@</span><span class="pp-pln"> '</span><span class="pp-kwd">${</span><span class="pp-expr">n</span><span class="pp-kwd">}</span><span class="pp-pln">'</span></div><div class="L6"><span class="pp-ln">   6 </span><span class="pp-pln">            </span><span class="pp-tag">@</span><span class="pp-kwd"> ${</span><span class="pp-expr">v</span><span class="pp-kwd">}</span></div></pre>
                    </div>
                </div>
                <div class="code-panel" id="d77">
                    <div class="modal-view-container">
                        <h4 class="d-h2">/src/ittf/lib/scanners/t/ittfFsNode/t/addvar.js.ittf</h4>
                        <pre class="prettyprint">

<div class="L1"><span class="pp-ln">   1 </span><span class="pp-pln"></span><span class="pp-kwd">$group</span></div><div class="L2"><span class="pp-ln">   2 </span><span class="pp-pln">    </span><span class="pp-kwd">$params</span><span class="pp-pln"> variab, p, n, v|kempty</span></div><div class="L3"><span class="pp-ln">   3 </span><span class="pp-pln">    </span><span class="pp-tag">var</span><span class="pp-kwd"> ${</span><span class="pp-expr">variab</span><span class="pp-kwd">}</span></div><div class="L4"><span class="pp-ln">   4 </span><span class="pp-pln">        </span><span class="pp-tag">_</span><span class="pp-kwd"> ${</span><span class="pp-expr">p</span><span class="pp-kwd">}</span><span class="pp-pln">.add</span></div><div class="L5"><span class="pp-ln">   5 </span><span class="pp-pln">            </span><span class="pp-tag">@</span><span class="pp-pln"> '</span><span class="pp-kwd">${</span><span class="pp-expr">n</span><span class="pp-kwd">}</span><span class="pp-pln">'</span></div><div class="L6"><span class="pp-ln">   6 </span><span class="pp-pln">            </span><span class="pp-tag">@</span><span class="pp-kwd"> ${</span><span class="pp-expr">v</span><span class="pp-kwd">}</span></div></pre>
                    </div>
                </div>
                <div class="code-panel" id="d78">
                    <div class="modal-view-container">
                        <h4 class="d-h2">/src/ittf/lib/scanners/t/ittfFsNode/analize.js.ittf</h4>
                        <pre class="prettyprint">

<div class="L1"><span class="pp-ln">   1 </span><span class="pp-pln"></span><span class="pp-kwd">$group</span></div><div class="L2"><span class="pp-ln">   2 </span><span class="pp-pln">    </span><span class="pp-tag">m</span><span class="pp-pln"> analize</span></div><div class="L3"><span class="pp-ln">   3 </span><span class="pp-pln">        </span><span class="pp-tag">if</span><span class="pp-pln"> this.path.indexOf('/tests/') &gt; -1</span></div><div class="L4"><span class="pp-ln">   4 </span><span class="pp-pln">            </span><span class="pp-tag">set</span><span class="pp-pln"> this.isTest = true</span></div><div class="L5"><span class="pp-ln">   5 </span><span class="pp-pln">        </span><span class="pp-tag">if</span><span class="pp-pln"> this.path.indexOf('/examples/') &gt; -1</span></div><div class="L6"><span class="pp-ln">   6 </span><span class="pp-pln">            </span><span class="pp-tag">set</span><span class="pp-pln"> this.isExample = true</span></div><div class="L7"><span class="pp-ln">   7 </span><span class="pp-pln">        </span><span class="pp-tag">if</span><span class="pp-pln"> this.path.indexOf('/util/') &gt; -1 || this.path.indexOf('/utils/') &gt; -1</span></div><div class="L8"><span class="pp-ln">   8 </span><span class="pp-pln">            </span><span class="pp-tag">set</span><span class="pp-pln"> this.isUtil = true</span></div><div class="L9"><span class="pp-ln">   9 </span><span class="pp-pln">        </span><span class="pp-tag">if</span><span class="pp-pln"> this.containsDocument('generate.wfjob.ittf') && this.containsFolder('ittf')</span></div><div class="L0"><span class="pp-ln">  10 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> this.isTest || this.isExample</span></div><div class="L1"><span class="pp-ln">  11 </span><span class="pp-pln">                </span><span class="pp-tag">set</span><span class="pp-pln"> this.isJobFolder = true</span></div><div class="L2"><span class="pp-ln">  12 </span><span class="pp-pln">            </span><span class="pp-tag">else</span></div><div class="L3"><span class="pp-ln">  13 </span><span class="pp-pln">                </span><span class="pp-tag">set</span><span class="pp-pln"> this.isPackageRoot = true</span></div><div class="L4"><span class="pp-ln">  14 </span><span class="pp-pln">        </span><span class="pp-tag">if</span><span class="pp-pln"> this.isDirectory</span></div><div class="L5"><span class="pp-ln">  15 </span><span class="pp-pln">            </span><span class="pp-tag">foreach</span><span class="pp-pln"> folder in this.folders</span></div><div class="L6"><span class="pp-ln">  16 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> folder.analize()</span></div><div class="L7"><span class="pp-ln">  17 </span><span class="pp-pln">            </span><span class="pp-tag">foreach</span><span class="pp-pln"> d in this.documents</span></div><div class="L8"><span class="pp-ln">  18 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> d.analize()</span></div><div class="L9"><span class="pp-ln">  19 </span><span class="pp-pln">    </span><span class="pp-tag">m</span><span class="pp-pln"> containsDocument</span></div><div class="L0"><span class="pp-ln">  20 </span><span class="pp-pln">        </span><span class="pp-tag">param</span><span class="pp-pln"> testBaseName</span></div><div class="L1"><span class="pp-ln">  21 </span><span class="pp-pln">        </span><span class="pp-tag">foreach</span><span class="pp-pln"> d in this.documents</span></div><div class="L2"><span class="pp-ln">  22 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> d.basename === testBaseName</span></div><div class="L3"><span class="pp-ln">  23 </span><span class="pp-pln">                </span><span class="pp-tag">return</span><span class="pp-pln"> true</span></div><div class="L4"><span class="pp-ln">  24 </span><span class="pp-pln">    </span><span class="pp-tag">m</span><span class="pp-pln"> containsFolder</span></div><div class="L5"><span class="pp-ln">  25 </span><span class="pp-pln">        </span><span class="pp-tag">param</span><span class="pp-pln"> testBaseName</span></div><div class="L6"><span class="pp-ln">  26 </span><span class="pp-pln">        </span><span class="pp-tag">foreach</span><span class="pp-pln"> f in this.folders</span></div><div class="L7"><span class="pp-ln">  27 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> f.basename === testBaseName</span></div><div class="L8"><span class="pp-ln">  28 </span><span class="pp-pln">                </span><span class="pp-tag">return</span><span class="pp-pln"> true</span></div><div class="L9"><span class="pp-ln">  29 </span><span class="pp-pln">    </span><span class="pp-tag">m</span><span class="pp-pln"> searchDocument</span></div><div class="L0"><span class="pp-ln">  30 </span><span class="pp-pln">        </span><span class="pp-tag">param</span><span class="pp-pln"> dpath</span></div><div class="L1"><span class="pp-ln">  31 </span><span class="pp-pln">        </span><span class="pp-tag">var</span><span class="pp-pln"> searchPath = file.unixifyPath(dpath)</span></div><div class="L2"><span class="pp-ln">  32 </span><span class="pp-pln">        </span><span class="pp-tag">var</span><span class="pp-pln"> r = this.root()</span></div><div class="L3"><span class="pp-ln">  33 </span><span class="pp-pln">        </span><span class="pp-tag">return</span><span class="pp-pln"> r.__searchDocument(searchPath)</span></div><div class="L4"><span class="pp-ln">  34 </span><span class="pp-pln">    </span><span class="pp-tag">m</span><span class="pp-pln"> __searchDocument</span></div><div class="L5"><span class="pp-ln">  35 </span><span class="pp-pln">        </span><span class="pp-tag">param</span><span class="pp-pln"> dpath</span></div><div class="L6"><span class="pp-ln">  36 </span><span class="pp-pln">        </span><span class="pp-tag">#</span><span class="pp-pln"> log '__searchDocument, this.path, dpath', this.path, dpath</span></div><div class="L7"><span class="pp-ln">  37 </span><span class="pp-pln">        </span><span class="pp-tag">if</span><span class="pp-pln"> this.path === dpath</span></div><div class="L8"><span class="pp-ln">  38 </span><span class="pp-pln">            </span><span class="pp-tag">return</span><span class="pp-pln"> this</span></div><div class="L9"><span class="pp-ln">  39 </span><span class="pp-pln">        </span><span class="pp-tag">else</span><span class="pp-pln"> if this.isDirectory</span></div><div class="L0"><span class="pp-ln">  40 </span><span class="pp-pln">            </span><span class="pp-tag">var</span><span class="pp-pln"> ret = null</span></div><div class="L1"><span class="pp-ln">  41 </span><span class="pp-pln">            </span><span class="pp-tag">foreach</span><span class="pp-pln"> d in this.documents</span></div><div class="L2"><span class="pp-ln">  42 </span><span class="pp-pln">                </span><span class="pp-tag">set</span><span class="pp-pln"> ret = d.__searchDocument(dpath)</span></div><div class="L3"><span class="pp-ln">  43 </span><span class="pp-pln">                </span><span class="pp-tag">if</span><span class="pp-pln"> ret != null</span></div><div class="L4"><span class="pp-ln">  44 </span><span class="pp-pln">                    </span><span class="pp-tag">return</span><span class="pp-pln"> ret</span></div><div class="L5"><span class="pp-ln">  45 </span><span class="pp-pln">            </span><span class="pp-tag">foreach</span><span class="pp-pln"> f in this.folders</span></div><div class="L6"><span class="pp-ln">  46 </span><span class="pp-pln">                </span><span class="pp-tag">set</span><span class="pp-pln"> ret = f.__searchDocument(dpath)</span></div><div class="L7"><span class="pp-ln">  47 </span><span class="pp-pln">                </span><span class="pp-tag">if</span><span class="pp-pln"> ret != null</span></div><div class="L8"><span class="pp-ln">  48 </span><span class="pp-pln">                    </span><span class="pp-tag">return</span><span class="pp-pln"> ret</span></div><div class="L9"><span class="pp-ln">  49 </span><span class="pp-pln">        </span><span class="pp-tag">return</span><span class="pp-pln"> null</span></div></pre>
                    </div>
                </div>
                <div class="code-panel" id="d79">
                    <div class="modal-view-container">
                        <h4 class="d-h2">/src/ittf/lib/scanners/t/ittfFsNode/ids.js.ittf</h4>
                        <pre class="prettyprint">

<div class="L1"><span class="pp-ln">   1 </span><span class="pp-pln"></span><span class="pp-kwd">$group</span></div><div class="L2"><span class="pp-ln">   2 </span><span class="pp-pln">    </span><span class="pp-tag">m</span><span class="pp-pln"> setIds</span></div><div class="L3"><span class="pp-ln">   3 </span><span class="pp-pln">        </span><span class="pp-tag">set</span><span class="pp-pln"> this.id = this.getNewId(this.isDirectory)</span></div><div class="L4"><span class="pp-ln">   4 </span><span class="pp-pln">        </span><span class="pp-tag">if</span><span class="pp-pln"> this.isDirectory</span></div><div class="L5"><span class="pp-ln">   5 </span><span class="pp-pln">            </span><span class="pp-tag">foreach</span><span class="pp-pln"> folder in this.folders</span></div><div class="L6"><span class="pp-ln">   6 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> folder.setIds()</span></div><div class="L7"><span class="pp-ln">   7 </span><span class="pp-pln">            </span><span class="pp-tag">foreach</span><span class="pp-pln"> d in this.documents</span></div><div class="L8"><span class="pp-ln">   8 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> d.setIds()</span></div><div class="L9"><span class="pp-ln">   9 </span><span class="pp-pln">    </span><span class="pp-tag">m</span><span class="pp-pln"> getNewId</span></div><div class="L0"><span class="pp-ln">  10 </span><span class="pp-pln">        </span><span class="pp-tag">param</span><span class="pp-pln"> isDirectory</span></div><div class="L1"><span class="pp-ln">  11 </span><span class="pp-pln">        </span><span class="pp-tag">return</span><span class="pp-pln"> this.root().__getNewId(isDirectory)</span></div><div class="L2"><span class="pp-ln">  12 </span><span class="pp-pln">    </span><span class="pp-tag">m</span><span class="pp-pln"> __getNewId</span></div><div class="L3"><span class="pp-ln">  13 </span><span class="pp-pln">        </span><span class="pp-tag">param</span><span class="pp-pln"> isDirectory</span></div><div class="L4"><span class="pp-ln">  14 </span><span class="pp-pln">        </span><span class="pp-tag">if</span><span class="pp-pln"> isDirectory</span></div><div class="L5"><span class="pp-ln">  15 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> typeof(this.f_idcount) === 'undefined'</span></div><div class="L6"><span class="pp-ln">  16 </span><span class="pp-pln">                </span><span class="pp-tag">set</span><span class="pp-pln"> this.f_idcount = 0</span></div><div class="L7"><span class="pp-ln">  17 </span><span class="pp-pln">            </span><span class="pp-tag">return</span><span class="pp-pln"> 'f' + (++this.f_idcount)</span></div><div class="L8"><span class="pp-ln">  18 </span><span class="pp-pln">        </span><span class="pp-tag">else</span></div><div class="L9"><span class="pp-ln">  19 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> typeof(this.d_idcount) === 'undefined'</span></div><div class="L0"><span class="pp-ln">  20 </span><span class="pp-pln">                </span><span class="pp-tag">set</span><span class="pp-pln"> this.d_idcount = 0</span></div><div class="L1"><span class="pp-ln">  21 </span><span class="pp-pln">            </span><span class="pp-tag">return</span><span class="pp-pln"> 'd' + (++this.d_idcount)</span></div></pre>
                    </div>
                </div>
                <div class="code-panel" id="d80">
                    <div class="modal-view-container">
                        <h4 class="d-h2">/src/ittf/lib/scanners/t/ittfFsNode/sources.js.ittf</h4>
                        <pre class="prettyprint">

<div class="L1"><span class="pp-ln">   1 </span><span class="pp-pln"></span><span class="pp-kwd">$group</span></div><div class="L2"><span class="pp-ln">   2 </span><span class="pp-pln">    </span><span class="pp-tag">m</span><span class="pp-pln"> setSourcePaths</span></div><div class="L3"><span class="pp-ln">   3 </span><span class="pp-pln">        </span><span class="pp-tag">param</span><span class="pp-pln"> options</span></div><div class="L4"><span class="pp-ln">   4 </span><span class="pp-pln">        </span><span class="pp-tag">set</span><span class="pp-pln"> this.ittfBasePath = options.ittfBasePath</span></div><div class="L5"><span class="pp-ln">   5 </span><span class="pp-pln">        </span><span class="pp-tag">set</span><span class="pp-pln"> this.jsBaseCodePath = options.jsBaseCodePath</span></div><div class="L6"><span class="pp-ln">   6 </span><span class="pp-pln">        </span><span class="pp-tag">log</span><span class="pp-pln"> 'wizzi-utils.ittfFsNode.ittfBasePath, jsBaseCodePath', options.ittfBasePath, options.jsBaseCodePath</span></div><div class="L7"><span class="pp-ln">   7 </span><span class="pp-pln">    </span><span class="pp-tag">m</span><span class="pp-pln"> getIttfSource</span></div><div class="L8"><span class="pp-ln">   8 </span><span class="pp-pln">        </span><span class="pp-tag">var</span><span class="pp-pln"> r = this.root()</span></div><div class="L9"><span class="pp-ln">   9 </span><span class="pp-pln">        </span><span class="pp-tag">#</span><span class="pp-pln"> log 'wizzi-utils.ittfFsNode.getIttfSource', r.ittfBasePath, this.parts.join('/')</span></div><div class="L0"><span class="pp-ln">  10 </span><span class="pp-pln">        </span><span class="pp-tag">if</span><span class="pp-pln"> verify.isNotEmpty(r.ittfBasePath)</span></div><div class="L1"><span class="pp-ln">  11 </span><span class="pp-pln">            </span><span class="pp-tag">return</span></div><div class="L2"><span class="pp-ln">  12 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> ittfHtmlPrettifier</span></div><div class="L3"><span class="pp-ln">  13 </span><span class="pp-pln">                    </span><span class="pp-tag">_</span><span class="pp-pln"> path.join</span></div><div class="L4"><span class="pp-ln">  14 </span><span class="pp-pln">                        </span><span class="pp-tag">@</span><span class="pp-pln"> r.ittfBasePath</span></div><div class="L5"><span class="pp-ln">  15 </span><span class="pp-pln">                        </span><span class="pp-tag">@</span><span class="pp-pln"> this.parts.join('/')</span></div><div class="L6"><span class="pp-ln">  16 </span><span class="pp-pln">                    </span><span class="pp-tag">{</span></div><div class="L7"><span class="pp-ln">  17 </span><span class="pp-pln">                        </span><span class="pp-tag">@</span><span class="pp-pln"> ittfFsNode this</span></div><div class="L8"><span class="pp-ln">  18 </span><span class="pp-pln">                        </span><span class="pp-tag">@</span><span class="pp-pln"> ittfBasePath (r.ittfBasePath)</span></div><div class="L9"><span class="pp-ln">  19 </span><span class="pp-pln">        </span><span class="pp-tag">else</span></div><div class="L0"><span class="pp-ln">  20 </span><span class="pp-pln">            </span><span class="pp-tag">return</span></div><div class="L1"><span class="pp-ln">  21 </span><span class="pp-pln">                </span><span class="pp-tag">{</span></div><div class="L2"><span class="pp-ln">  22 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> __is_error true</span></div><div class="L3"><span class="pp-ln">  23 </span><span class="pp-pln">    </span><span class="pp-tag">m</span><span class="pp-pln"> getJsCode</span></div><div class="L4"><span class="pp-ln">  24 </span><span class="pp-pln">        </span><span class="pp-tag">var</span><span class="pp-pln"> r = this.root()</span></div><div class="L5"><span class="pp-ln">  25 </span><span class="pp-pln">        </span><span class="pp-tag">#</span><span class="pp-pln"> cut '.ittf' from basename</span></div><div class="L6"><span class="pp-ln">  26 </span><span class="pp-pln">        </span><span class="pp-tag">var</span><span class="pp-pln"> name = this.basename.substr(0, this.basename.length - 5)</span></div><div class="L7"><span class="pp-ln">  27 </span><span class="pp-pln">        </span><span class="pp-tag">log</span><span class="pp-pln"> r.jsBaseCodePath, this.parts.slice(1, this.parts.length -1).join('/'), name</span></div><div class="L8"><span class="pp-ln">  28 </span><span class="pp-pln">        </span><span class="pp-tag">if</span><span class="pp-pln"> this.schema == 'js'</span></div><div class="L9"><span class="pp-ln">  29 </span><span class="pp-pln">            </span><span class="pp-tag">return</span></div><div class="L0"><span class="pp-ln">  30 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> file.read</span></div><div class="L1"><span class="pp-ln">  31 </span><span class="pp-pln">                    </span><span class="pp-tag">_</span><span class="pp-pln"> path.join</span></div><div class="L2"><span class="pp-ln">  32 </span><span class="pp-pln">                        </span><span class="pp-tag">@</span><span class="pp-pln"> r.jsBaseCodePath</span></div><div class="L3"><span class="pp-ln">  33 </span><span class="pp-pln">                        </span><span class="pp-tag">@</span><span class="pp-pln"> this.parts.slice(2, this.parts.length -1).join('/')</span></div><div class="L4"><span class="pp-ln">  34 </span><span class="pp-pln">                        </span><span class="pp-tag">@</span><span class="pp-pln"> name</span></div><div class="L5"><span class="pp-ln">  35 </span><span class="pp-pln">        </span><span class="pp-tag">else</span></div><div class="L6"><span class="pp-ln">  36 </span><span class="pp-pln">            </span><span class="pp-tag">return</span><span class="pp-pln"> null</span></div></pre>
                    </div>
                </div>
                <div class="code-panel" id="d81">
                    <div class="modal-view-container">
                        <h4 class="d-h2">/src/ittf/lib/scanners/t/ittfFsNode/toIttf.js.ittf</h4>
                        <pre class="prettyprint">

<div class="L1"><span class="pp-ln">   1 </span><span class="pp-pln"></span><span class="pp-kwd">$group</span></div><div class="L2"><span class="pp-ln">   2 </span><span class="pp-pln">    </span><span class="pp-tag">m</span><span class="pp-pln"> toIttfRoot</span></div><div class="L3"><span class="pp-ln">   3 </span><span class="pp-pln">        </span><span class="pp-tag">param</span><span class="pp-pln"> ittf</span></div><div class="L4"><span class="pp-ln">   4 </span><span class="pp-pln">        </span><span class="pp-tag">var</span><span class="pp-pln"> kempty = ""</span></div><div class="L5"><span class="pp-ln">   5 </span><span class="pp-pln">        </span><span class="pp-tag">var</span><span class="pp-pln"> kschema = "schema"</span></div><div class="L6"><span class="pp-ln">   6 </span><span class="pp-pln">        </span><span class="pp-tag">var</span><span class="pp-pln"> kfolder = "folder"</span></div><div class="L7"><span class="pp-ln">   7 </span><span class="pp-pln">        </span><span class="pp-tag">var</span><span class="pp-pln"> klib = "lib"</span></div><div class="L8"><span class="pp-ln">   8 </span><span class="pp-pln">        </span><span class="pp-tag">var</span><span class="pp-pln"> kutil = "util"</span></div><div class="L9"><span class="pp-ln">   9 </span><span class="pp-pln">        </span><span class="pp-tag">var</span><span class="pp-pln"> ktest = "test"</span></div><div class="L0"><span class="pp-ln">  10 </span><span class="pp-pln">        </span><span class="pp-tag">var</span><span class="pp-pln"> kexample = "example"</span></div><div class="L1"><span class="pp-ln">  11 </span><span class="pp-pln">        </span><span class="pp-tag">var</span><span class="pp-pln"> r = this.root()</span></div><div class="L2"><span class="pp-ln">  12 </span><span class="pp-pln">        </span><span class="pp-tag">if</span><span class="pp-pln"> r === this</span></div><div class="L3"><span class="pp-ln">  13 </span><span class="pp-pln">            </span><span class="pp-mix frag-to-link-a" data-frag-id="d77">addvar(</span><span class="pp-arg"> inf</span><span class="pp-pln">,</span><span class="pp-arg">  ittf</span><span class="pp-pln">,</span><span class="pp-arg">  fs-info</span><span class="pp-mix">)</span></div><div class="L4"><span class="pp-ln">  14 </span><span class="pp-pln">            </span><span class="pp-tag">var</span><span class="pp-pln"> dg, t, any</span></div><div class="L5"><span class="pp-ln">  15 </span><span class="pp-pln">            </span><span class="pp-tag">for</span><span class="pp-pln"> var k in r.info.schemas</span></div><div class="L6"><span class="pp-ln">  16 </span><span class="pp-pln">                </span><span class="pp-mix frag-to-link-a" data-frag-id="d76">addset(</span><span class="pp-arg"> dg</span><span class="pp-pln">,</span><span class="pp-arg">  inf</span><span class="pp-pln">,</span><span class="pp-arg">  d-group</span><span class="pp-pln">,</span><span class="pp-arg">  k</span><span class="pp-mix">)</span></div><div class="L7"><span class="pp-ln">  17 </span><span class="pp-pln">                </span><span class="pp-mix frag-to-link-a" data-frag-id="d76">addset(</span><span class="pp-arg"> t</span><span class="pp-pln">,</span><span class="pp-arg">  dg</span><span class="pp-pln">,</span><span class="pp-arg">  type</span><span class="pp-pln">,</span><span class="pp-arg">  kschema</span><span class="pp-mix">)</span></div><div class="L8"><span class="pp-ln">  18 </span><span class="pp-pln">                </span><span class="pp-tag">#</span><span class="pp-pln"> foreach d in r.info.schemas[k].documents</span></div><div class="L9"><span class="pp-ln">  19 </span><span class="pp-pln">                </span><span class="pp-tag">#</span><span class="pp-pln"> addset(any, dg, d, d.path)</span></div><div class="L0"><span class="pp-ln">  20 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> r.info.lib.documents.length &gt; 0</span></div><div class="L1"><span class="pp-ln">  21 </span><span class="pp-pln">                </span><span class="pp-mix frag-to-link-a" data-frag-id="d76">addset(</span><span class="pp-arg"> dg</span><span class="pp-pln">,</span><span class="pp-arg">  inf</span><span class="pp-pln">,</span><span class="pp-arg">  d-group</span><span class="pp-pln">,</span><span class="pp-arg">  klib</span><span class="pp-mix">)</span></div><div class="L2"><span class="pp-ln">  22 </span><span class="pp-pln">                </span><span class="pp-mix frag-to-link-a" data-frag-id="d76">addset(</span><span class="pp-arg"> t</span><span class="pp-pln">,</span><span class="pp-arg">  dg</span><span class="pp-pln">,</span><span class="pp-arg">  type</span><span class="pp-pln">,</span><span class="pp-arg">  kfolder</span><span class="pp-mix">)</span></div><div class="L3"><span class="pp-ln">  23 </span><span class="pp-pln">                </span><span class="pp-tag">#</span><span class="pp-pln"> foreach d in r.info.lib.documents</span></div><div class="L4"><span class="pp-ln">  24 </span><span class="pp-pln">                </span><span class="pp-tag">#</span><span class="pp-pln"> addset(any, dg, d, d.path)</span></div><div class="L5"><span class="pp-ln">  25 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> r.info.util.documents.length &gt; 0</span></div><div class="L6"><span class="pp-ln">  26 </span><span class="pp-pln">                </span><span class="pp-mix frag-to-link-a" data-frag-id="d76">addset(</span><span class="pp-arg"> dg</span><span class="pp-pln">,</span><span class="pp-arg">  inf</span><span class="pp-pln">,</span><span class="pp-arg">  d-group</span><span class="pp-pln">,</span><span class="pp-arg">  kutil</span><span class="pp-mix">)</span></div><div class="L7"><span class="pp-ln">  27 </span><span class="pp-pln">                </span><span class="pp-mix frag-to-link-a" data-frag-id="d76">addset(</span><span class="pp-arg"> t</span><span class="pp-pln">,</span><span class="pp-arg">  dg</span><span class="pp-pln">,</span><span class="pp-arg">  type</span><span class="pp-pln">,</span><span class="pp-arg">  kfolder</span><span class="pp-mix">)</span></div><div class="L8"><span class="pp-ln">  28 </span><span class="pp-pln">                </span><span class="pp-tag">#</span><span class="pp-pln"> foreach d in r.info.util.documents</span></div><div class="L9"><span class="pp-ln">  29 </span><span class="pp-pln">                </span><span class="pp-tag">#</span><span class="pp-pln"> addset(any, dg, d, d.path)</span></div><div class="L0"><span class="pp-ln">  30 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> r.info.test.documents.length &gt; 0</span></div><div class="L1"><span class="pp-ln">  31 </span><span class="pp-pln">                </span><span class="pp-mix frag-to-link-a" data-frag-id="d76">addset(</span><span class="pp-arg"> dg</span><span class="pp-pln">,</span><span class="pp-arg">  inf</span><span class="pp-pln">,</span><span class="pp-arg">  d-group</span><span class="pp-pln">,</span><span class="pp-arg">  ktest</span><span class="pp-mix">)</span></div><div class="L2"><span class="pp-ln">  32 </span><span class="pp-pln">                </span><span class="pp-mix frag-to-link-a" data-frag-id="d76">addset(</span><span class="pp-arg"> t</span><span class="pp-pln">,</span><span class="pp-arg">  dg</span><span class="pp-pln">,</span><span class="pp-arg">  type</span><span class="pp-pln">,</span><span class="pp-arg">  kfolder</span><span class="pp-mix">)</span></div><div class="L3"><span class="pp-ln">  33 </span><span class="pp-pln">                </span><span class="pp-tag">#</span><span class="pp-pln"> foreach d in r.info.test.documents</span></div><div class="L4"><span class="pp-ln">  34 </span><span class="pp-pln">                </span><span class="pp-tag">#</span><span class="pp-pln"> addset(any, dg, d, d.path)</span></div><div class="L5"><span class="pp-ln">  35 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> r.info.example.documents.length &gt; 0</span></div><div class="L6"><span class="pp-ln">  36 </span><span class="pp-pln">                </span><span class="pp-mix frag-to-link-a" data-frag-id="d76">addset(</span><span class="pp-arg"> dg</span><span class="pp-pln">,</span><span class="pp-arg">  inf</span><span class="pp-pln">,</span><span class="pp-arg">  d-group</span><span class="pp-pln">,</span><span class="pp-arg">  kexample</span><span class="pp-mix">)</span></div><div class="L7"><span class="pp-ln">  37 </span><span class="pp-pln">                </span><span class="pp-mix frag-to-link-a" data-frag-id="d76">addset(</span><span class="pp-arg"> t</span><span class="pp-pln">,</span><span class="pp-arg">  dg</span><span class="pp-pln">,</span><span class="pp-arg">  type</span><span class="pp-pln">,</span><span class="pp-arg">  kfolder</span><span class="pp-mix">)</span></div><div class="L8"><span class="pp-ln">  38 </span><span class="pp-pln">                </span><span class="pp-tag">#</span><span class="pp-pln"> foreach d in r.info.example.documents</span></div><div class="L9"><span class="pp-ln">  39 </span><span class="pp-pln">                </span><span class="pp-tag">#</span><span class="pp-pln"> addset(any, dg, d, d.path)</span></div><div class="L0"><span class="pp-ln">  40 </span><span class="pp-pln">    </span><span class="pp-tag">m</span><span class="pp-pln"> toIttf</span></div><div class="L1"><span class="pp-ln">  41 </span><span class="pp-pln">        </span><span class="pp-tag">param</span><span class="pp-pln"> ittf</span></div><div class="L2"><span class="pp-ln">  42 </span><span class="pp-pln">        </span><span class="pp-tag">_</span><span class="pp-pln"> this.toIttfRoot(ittf)</span></div><div class="L3"><span class="pp-ln">  43 </span><span class="pp-pln">        </span><span class="pp-tag">var</span><span class="pp-pln"> n</span></div><div class="L4"><span class="pp-ln">  44 </span><span class="pp-pln">            </span><span class="pp-tag">_</span><span class="pp-pln"> ittf.add</span></div><div class="L5"><span class="pp-ln">  45 </span><span class="pp-pln">                </span><span class="pp-tag">iif</span><span class="pp-pln"> this.isDirectory</span></div><div class="L6"><span class="pp-ln">  46 </span><span class="pp-pln">                    </span><span class="pp-tag">then</span><span class="pp-pln"> 'f'</span></div><div class="L7"><span class="pp-ln">  47 </span><span class="pp-pln">                    </span><span class="pp-tag">else</span><span class="pp-pln"> 'd'</span></div><div class="L8"><span class="pp-ln">  48 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> this.basename</span></div><div class="L9"><span class="pp-ln">  49 </span><span class="pp-pln">        </span><span class="pp-tag">_</span><span class="pp-pln"> n.add</span></div><div class="L0"><span class="pp-ln">  50 </span><span class="pp-pln">            </span><span class="pp-tag">@</span><span class="pp-pln"> 'id'</span></div><div class="L1"><span class="pp-ln">  51 </span><span class="pp-pln">            </span><span class="pp-tag">@</span><span class="pp-pln"> this.id</span></div><div class="L2"><span class="pp-ln">  52 </span><span class="pp-pln">        </span><span class="pp-tag">if</span><span class="pp-pln"> this.isDirectory</span></div><div class="L3"><span class="pp-ln">  53 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> this.isPackageRoot</span></div><div class="L4"><span class="pp-ln">  54 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> n.add</span></div><div class="L5"><span class="pp-ln">  55 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> 'is-package-root'</span></div><div class="L6"><span class="pp-ln">  56 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> this.isJobFolder</span></div><div class="L7"><span class="pp-ln">  57 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> n.add</span></div><div class="L8"><span class="pp-ln">  58 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> 'is-job-folder'</span></div><div class="L9"><span class="pp-ln">  59 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> this.isTFolder</span></div><div class="L0"><span class="pp-ln">  60 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> n.add</span></div><div class="L1"><span class="pp-ln">  61 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> 'is-t-folder'</span></div><div class="L2"><span class="pp-ln">  62 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> this.isInsideTFolder</span></div><div class="L3"><span class="pp-ln">  63 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> n.add</span></div><div class="L4"><span class="pp-ln">  64 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> 'is-inside-t-folder'</span></div><div class="L5"><span class="pp-ln">  65 </span><span class="pp-pln">        </span><span class="pp-tag">else</span></div><div class="L6"><span class="pp-ln">  66 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> this.isFragment</span></div><div class="L7"><span class="pp-ln">  67 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> n.add</span></div><div class="L8"><span class="pp-ln">  68 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> 'is-fragment'</span></div><div class="L9"><span class="pp-ln">  69 </span><span class="pp-pln">            </span><span class="pp-tag">var</span><span class="pp-pln"> pretty</span></div><div class="L0"><span class="pp-ln">  70 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> this.getIttfSource()</span></div><div class="L1"><span class="pp-ln">  71 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> pretty.__is_error</span></div><div class="L2"><span class="pp-ln">  72 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> n.add</span></div><div class="L3"><span class="pp-ln">  73 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> 'ittf'</span></div><div class="L4"><span class="pp-ln">  74 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> 'Error: not loaded'</span></div><div class="L5"><span class="pp-ln">  75 </span><span class="pp-pln">            </span><span class="pp-tag">else</span></div><div class="L6"><span class="pp-ln">  76 </span><span class="pp-pln">                </span><span class="pp-tag">var</span><span class="pp-pln"> ittfSource</span></div><div class="L7"><span class="pp-ln">  77 </span><span class="pp-pln">                    </span><span class="pp-tag">_</span><span class="pp-pln"> n.add</span></div><div class="L8"><span class="pp-ln">  78 </span><span class="pp-pln">                        </span><span class="pp-tag">@</span><span class="pp-pln"> 'ittf'</span></div><div class="L9"><span class="pp-ln">  79 </span><span class="pp-pln">                        </span><span class="pp-tag">_</span><span class="pp-pln"> verify.makeInline(pretty.prettyLines.join(''))</span></div><div class="L0"><span class="pp-ln">  80 </span><span class="pp-pln">                </span><span class="pp-tag">var</span><span class="pp-pln"> r = this.root()</span></div><div class="L1"><span class="pp-ln">  81 </span><span class="pp-pln">                </span><span class="pp-tag">var</span><span class="pp-pln"> ittfBasePath = r.ittfBasePath</span></div><div class="L2"><span class="pp-ln">  82 </span><span class="pp-pln">                </span><span class="pp-tag">foreach</span><span class="pp-pln"> item in Object.keys(pretty.fragments)</span></div><div class="L3"><span class="pp-ln">  83 </span><span class="pp-pln">                    </span><span class="pp-tag">var</span><span class="pp-pln"> ittfFragmentsNode</span></div><div class="L4"><span class="pp-ln">  84 </span><span class="pp-pln">                        </span><span class="pp-tag">_</span><span class="pp-pln"> ittfSource.add</span></div><div class="L5"><span class="pp-ln">  85 </span><span class="pp-pln">                            </span><span class="pp-tag">@</span><span class="pp-pln"> 'fragment'</span></div><div class="L6"><span class="pp-ln">  86 </span><span class="pp-pln">                            </span><span class="pp-tag">@</span><span class="pp-pln"> item</span></div><div class="L7"><span class="pp-ln">  87 </span><span class="pp-pln">                    </span><span class="pp-tag">_</span><span class="pp-pln"> ittfFragmentsNode.add</span></div><div class="L8"><span class="pp-ln">  88 </span><span class="pp-pln">                        </span><span class="pp-tag">@</span><span class="pp-pln"> 'd-id'</span></div><div class="L9"><span class="pp-ln">  89 </span><span class="pp-pln">                        </span><span class="pp-tag">@</span><span class="pp-pln"> pretty.fragments[item].id</span></div><div class="L0"><span class="pp-ln">  90 </span><span class="pp-pln">                    </span><span class="pp-tag">_</span><span class="pp-pln"> ittfFragmentsNode.add</span></div><div class="L1"><span class="pp-ln">  91 </span><span class="pp-pln">                        </span><span class="pp-tag">@</span><span class="pp-pln"> 'uri'</span></div><div class="L2"><span class="pp-ln">  92 </span><span class="pp-pln">                        </span><span class="pp-tag">plus</span></div><div class="L3"><span class="pp-ln">  93 </span><span class="pp-pln">                            </span><span class="pp-tag">+</span><span class="pp-pln"> '/'</span></div><div class="L4"><span class="pp-ln">  94 </span><span class="pp-pln">                            </span><span class="pp-tag">_</span><span class="pp-pln"> verify.replaceAll</span></div><div class="L5"><span class="pp-ln">  95 </span><span class="pp-pln">                                </span><span class="pp-tag">_</span><span class="pp-pln"> path.relative</span></div><div class="L6"><span class="pp-ln">  96 </span><span class="pp-pln">                                    </span><span class="pp-tag">@</span><span class="pp-pln"> ittfBasePath</span></div><div class="L7"><span class="pp-ln">  97 </span><span class="pp-pln">                                    </span><span class="pp-tag">@</span><span class="pp-pln"> pretty.fragments[item].uri</span></div><div class="L8"><span class="pp-ln">  98 </span><span class="pp-pln">                                </span><span class="pp-tag">@</span><span class="pp-pln"> '\\'</span></div><div class="L9"><span class="pp-ln">  99 </span><span class="pp-pln">                                </span><span class="pp-tag">@</span><span class="pp-pln"> '/'</span></div><div class="L0"><span class="pp-ln"> 100 </span><span class="pp-pln">        </span><span class="pp-tag">if</span><span class="pp-pln"> this.isTest</span></div><div class="L1"><span class="pp-ln"> 101 </span><span class="pp-pln">            </span><span class="pp-tag">_</span><span class="pp-pln"> n.add</span></div><div class="L2"><span class="pp-ln"> 102 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> 'is-test'</span></div><div class="L3"><span class="pp-ln"> 103 </span><span class="pp-pln">        </span><span class="pp-tag">if</span><span class="pp-pln"> this.isExample</span></div><div class="L4"><span class="pp-ln"> 104 </span><span class="pp-pln">            </span><span class="pp-tag">_</span><span class="pp-pln"> n.add</span></div><div class="L5"><span class="pp-ln"> 105 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> 'is-example'</span></div><div class="L6"><span class="pp-ln"> 106 </span><span class="pp-pln">        </span><span class="pp-tag">if</span><span class="pp-pln"> this.isUtil</span></div><div class="L7"><span class="pp-ln"> 107 </span><span class="pp-pln">            </span><span class="pp-tag">_</span><span class="pp-pln"> n.add</span></div><div class="L8"><span class="pp-ln"> 108 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> 'is-util'</span></div><div class="L9"><span class="pp-ln"> 109 </span><span class="pp-pln">        </span><span class="pp-tag">_</span><span class="pp-pln"> n.add</span></div><div class="L0"><span class="pp-ln"> 110 </span><span class="pp-pln">            </span><span class="pp-tag">@</span><span class="pp-pln"> 'dirname'</span></div><div class="L1"><span class="pp-ln"> 111 </span><span class="pp-pln">            </span><span class="pp-tag">@</span><span class="pp-pln"> this.dirname</span></div><div class="L2"><span class="pp-ln"> 112 </span><span class="pp-pln">        </span><span class="pp-tag">_</span><span class="pp-pln"> n.add</span></div><div class="L3"><span class="pp-ln"> 113 </span><span class="pp-pln">            </span><span class="pp-tag">@</span><span class="pp-pln"> 'path'</span></div><div class="L4"><span class="pp-ln"> 114 </span><span class="pp-pln">            </span><span class="pp-tag">@</span><span class="pp-pln"> this.path</span></div><div class="L5"><span class="pp-ln"> 115 </span><span class="pp-pln">        </span><span class="pp-tag">if</span><span class="pp-pln"> this.isDirectory</span></div><div class="L6"><span class="pp-ln"> 116 </span><span class="pp-pln">            </span><span class="pp-tag">foreach</span><span class="pp-pln"> f in this.folders</span></div><div class="L7"><span class="pp-ln"> 117 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> f.toIttf(n)</span></div><div class="L8"><span class="pp-ln"> 118 </span><span class="pp-pln">            </span><span class="pp-tag">foreach</span><span class="pp-pln"> d in this.documents</span></div><div class="L9"><span class="pp-ln"> 119 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> d.toIttf(n)</span></div><div class="L0"><span class="pp-ln"> 120 </span><span class="pp-pln">        </span><span class="pp-tag">else</span></div><div class="L1"><span class="pp-ln"> 121 </span><span class="pp-pln">            </span><span class="pp-tag">_</span><span class="pp-pln"> n.add</span></div><div class="L2"><span class="pp-ln"> 122 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> 'schema'</span></div><div class="L3"><span class="pp-ln"> 123 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> this.schema</span></div></pre>
                    </div>
                </div>
                <div class="code-panel" id="d82">
                    <div class="modal-view-container">
                        <h4 class="d-h2">/src/ittf/lib/scanners/folderScanner.js.ittf</h4>
                        <pre class="prettyprint">

<div class="L1"><span class="pp-ln">   1 </span><span class="pp-pln"></span><span class="pp-tag">module</span></div><div class="L2"><span class="pp-ln">   2 </span><span class="pp-pln">    </span><span class="pp-tag">kind</span><span class="pp-pln"> jsfile</span></div><div class="L3"><span class="pp-ln">   3 </span><span class="pp-pln">    </span><span class="pp-tag">var</span><span class="pp-pln"> path = require('path')</span></div><div class="L4"><span class="pp-ln">   4 </span><span class="pp-pln">    </span><span class="pp-tag">var</span><span class="pp-pln"> file = require('../fs/file')</span></div><div class="L5"><span class="pp-ln">   5 </span><span class="pp-pln">    </span><span class="pp-tag">var</span><span class="pp-pln"> IttfMTreeEx = require('../ittfTree/ittfMTreeEx')</span></div><div class="L6"><span class="pp-ln">   6 </span><span class="pp-pln">    </span><span class="pp-tag">var</span><span class="pp-pln"> IttfFsNode = require('./ittfFsNode')</span></div><div class="L7"><span class="pp-ln">   7 </span><span class="pp-pln">    </span><span class="pp-tag">var</span><span class="pp-pln"> md</span></div><div class="L8"><span class="pp-ln">   8 </span><span class="pp-pln">        </span><span class="pp-tag">set</span><span class="pp-pln"> module.exports =</span></div><div class="L9"><span class="pp-ln">   9 </span><span class="pp-pln">            </span><span class="pp-tag">{</span></div><div class="L0"><span class="pp-ln">  10 </span><span class="pp-pln">    </span><span class="pp-tag">#</span></div><div class="L1"><span class="pp-ln">  11 </span><span class="pp-pln">        </span><span class="pp-tag">#</span></div><div class="L2"><span class="pp-ln">  12 </span><span class="pp-pln">        </span><span class="pp-tag">#</span><span class="pp-pln"> Scans a folder searching for *.ittf files</span></div><div class="L3"><span class="pp-ln">  13 </span><span class="pp-pln">        </span><span class="pp-tag">#</span><span class="pp-pln"> Returns a wizzi.utils.IttfMTreeEx instance</span></div><div class="L4"><span class="pp-ln">  14 </span><span class="pp-pln">        </span><span class="pp-tag">#</span><span class="pp-pln"> loaded with an mTree conformant to the</span></div><div class="L5"><span class="pp-ln">  15 </span><span class="pp-pln">        </span><span class="pp-tag">#</span><span class="pp-pln"> 'wzpackage' schema.</span></div><div class="L6"><span class="pp-ln">  16 </span><span class="pp-pln">        </span><span class="pp-tag">#</span></div><div class="L7"><span class="pp-ln">  17 </span><span class="pp-pln">        </span><span class="pp-tag">#</span><span class="pp-pln"> params</span></div><div class="L8"><span class="pp-ln">  18 </span><span class="pp-pln">        </span><span class="pp-tag">#</span><span class="pp-pln"> string folderPath</span></div><div class="L9"><span class="pp-ln">  19 </span><span class="pp-pln">        </span><span class="pp-tag">#</span><span class="pp-pln"> { options</span></div><div class="L0"><span class="pp-ln">  20 </span><span class="pp-pln">        </span><span class="pp-tag">#</span><span class="pp-pln"> string name</span></div><div class="L1"><span class="pp-ln">  21 </span><span class="pp-pln">        </span><span class="pp-tag">#</span><span class="pp-pln"> # the name of the 'wzpackage' wizzi model that</span></div><div class="L2"><span class="pp-ln">  22 </span><span class="pp-pln">        </span><span class="pp-tag">#</span><span class="pp-pln"> # will be generated from this folder</span></div><div class="L3"><span class="pp-ln">  23 </span><span class="pp-pln">        </span><span class="pp-tag">#</span><span class="pp-pln"> string gitPath</span></div><div class="L4"><span class="pp-ln">  24 </span><span class="pp-pln">        </span><span class="pp-tag">#</span><span class="pp-pln"> # the base path to the 'main' generated artifact</span></div><div class="L5"><span class="pp-ln">  25 </span><span class="pp-pln">        </span><span class="pp-tag">#</span><span class="pp-pln"> # in the future, could be used for linking the ittf document</span></div><div class="L6"><span class="pp-ln">  26 </span><span class="pp-pln">        </span><span class="pp-tag">#</span><span class="pp-pln"> # of a language type to the generated code.</span></div><div class="L7"><span class="pp-ln">  27 </span><span class="pp-pln">        </span><span class="pp-tag">#</span></div><div class="L8"><span class="pp-ln">  28 </span><span class="pp-pln">    </span><span class="pp-tag">set</span><span class="pp-pln"> md.scan</span></div><div class="L9"><span class="pp-ln">  29 </span><span class="pp-pln">        </span><span class="pp-tag">function</span></div><div class="L0"><span class="pp-ln">  30 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> folderPath</span></div><div class="L1"><span class="pp-ln">  31 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> options</span></div><div class="L2"><span class="pp-ln">  32 </span><span class="pp-pln">            </span><span class="pp-tag">var</span><span class="pp-pln"> removeRoot = path.dirname(folderPath)</span></div><div class="L3"><span class="pp-ln">  33 </span><span class="pp-pln">            </span><span class="pp-tag">#</span><span class="pp-pln"> log 'folderPath, removeRoot', folderPath, removeRoot</span></div><div class="L4"><span class="pp-ln">  34 </span><span class="pp-pln">            </span><span class="pp-tag">var</span><span class="pp-pln"> baseFolder = path.basename(folderPath)</span></div><div class="L5"><span class="pp-ln">  35 </span><span class="pp-pln">            </span><span class="pp-tag">var</span><span class="pp-pln"> ittfs</span></div><div class="L6"><span class="pp-ln">  36 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> file.getGlobbedFilesEx</span></div><div class="L7"><span class="pp-ln">  37 </span><span class="pp-pln">                    </span><span class="pp-tag">_</span><span class="pp-pln"> path.join</span></div><div class="L8"><span class="pp-ln">  38 </span><span class="pp-pln">                        </span><span class="pp-tag">@</span><span class="pp-pln"> folderPath</span></div><div class="L9"><span class="pp-ln">  39 </span><span class="pp-pln">                        </span><span class="pp-tag">@</span><span class="pp-pln"> '**/*.ittf'</span></div><div class="L0"><span class="pp-ln">  40 </span><span class="pp-pln">                    </span><span class="pp-tag">{</span></div><div class="L1"><span class="pp-ln">  41 </span><span class="pp-pln">                        </span><span class="pp-tag">@</span><span class="pp-pln"> removeRoot removeRoot</span></div><div class="L2"><span class="pp-ln">  42 </span><span class="pp-pln">                        </span><span class="pp-tag">@</span><span class="pp-pln"> dot true</span></div><div class="L3"><span class="pp-ln">  43 </span><span class="pp-pln">                        </span><span class="pp-tag">@</span><span class="pp-pln"> ignore</span></div><div class="L4"><span class="pp-ln">  44 </span><span class="pp-pln">                            </span><span class="pp-tag">_</span><span class="pp-pln"> path.join</span></div><div class="L5"><span class="pp-ln">  45 </span><span class="pp-pln">                                </span><span class="pp-tag">@</span><span class="pp-pln"> folderPath</span></div><div class="L6"><span class="pp-ln">  46 </span><span class="pp-pln">                                </span><span class="pp-tag">@</span><span class="pp-pln"> '**/node_modules/**/*.*'</span></div><div class="L7"><span class="pp-ln">  47 </span><span class="pp-pln">            </span><span class="pp-tag">var</span><span class="pp-pln"> ittfMTreeEx = new IttfMTreeEx('wzpackage', options.name)</span></div><div class="L8"><span class="pp-ln">  48 </span><span class="pp-pln">            </span><span class="pp-tag">var</span><span class="pp-pln"> root = new IttfFsNode(baseFolder, null, true)</span></div><div class="L9"><span class="pp-ln">  49 </span><span class="pp-pln">            </span><span class="pp-tag">_</span><span class="pp-pln"> root.setSourcePaths</span></div><div class="L0"><span class="pp-ln">  50 </span><span class="pp-pln">                </span><span class="pp-tag">{</span></div><div class="L1"><span class="pp-ln">  51 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> ittfBasePath removeRoot</span></div><div class="L2"><span class="pp-ln">  52 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> jsBaseCodePath options.gitPath</span></div><div class="L3"><span class="pp-ln">  53 </span><span class="pp-pln">            </span><span class="pp-tag">foreach</span><span class="pp-pln"> ittf in ittfs</span></div><div class="L4"><span class="pp-ln">  54 </span><span class="pp-pln">                </span><span class="pp-tag">#</span><span class="pp-pln"> log 'wizzi-utils.folderScanner.ittf', ittf</span></div><div class="L5"><span class="pp-ln">  55 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> root.addDocument</span></div><div class="L6"><span class="pp-ln">  56 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> ittf</span></div><div class="L7"><span class="pp-ln">  57 </span><span class="pp-pln">                    </span><span class="pp-tag">{</span></div><div class="L8"><span class="pp-ln">  58 </span><span class="pp-pln">                        </span><span class="pp-tag">@</span><span class="pp-pln"> basePath removeRoot</span></div><div class="L9"><span class="pp-ln">  59 </span><span class="pp-pln">                        </span><span class="pp-tag">@</span><span class="pp-pln"> gitPath options.gitPath</span></div><div class="L0"><span class="pp-ln">  60 </span><span class="pp-pln">            </span><span class="pp-tag">_</span><span class="pp-pln"> root.setInfo()</span></div><div class="L1"><span class="pp-ln">  61 </span><span class="pp-pln">            </span><span class="pp-tag">#</span><span class="pp-pln"> log 'root.setInfo()'</span></div><div class="L2"><span class="pp-ln">  62 </span><span class="pp-pln">            </span><span class="pp-tag">_</span><span class="pp-pln"> root.toIttf(ittfMTreeEx)</span></div><div class="L3"><span class="pp-ln">  63 </span><span class="pp-pln">            </span><span class="pp-tag">#</span><span class="pp-pln"> log 'root.toIttf(ittfMTreeEx)'</span></div><div class="L4"><span class="pp-ln">  64 </span><span class="pp-pln">            </span><span class="pp-tag">return</span><span class="pp-pln"> ittfMTreeEx</span></div></pre>
                    </div>
                </div>
                <div class="code-panel" id="d83">
                    <div class="modal-view-container">
                        <h4 class="d-h2">/src/ittf/lib/scanners/ittfFsNode.js.ittf</h4>
                        <pre class="prettyprint">

<div class="L1"><span class="pp-ln">   1 </span><span class="pp-pln"></span><span class="pp-tag">module</span></div><div class="L2"><span class="pp-ln">   2 </span><span class="pp-pln">    </span><span class="pp-tag">kind</span><span class="pp-pln"> jsfile</span></div><div class="L3"><span class="pp-ln">   3 </span><span class="pp-pln">    </span><span class="pp-tag">var</span><span class="pp-pln"> path = require('path')</span></div><div class="L4"><span class="pp-ln">   4 </span><span class="pp-pln">    </span><span class="pp-tag">var</span><span class="pp-pln"> file = require('../fs/file')</span></div><div class="L5"><span class="pp-ln">   5 </span><span class="pp-pln">    </span><span class="pp-tag">var</span><span class="pp-pln"> verify = require('../verify')</span></div><div class="L6"><span class="pp-ln">   6 </span><span class="pp-pln">    </span><span class="pp-tag">var</span><span class="pp-pln"> ittfHtmlPrettifier = require('../prettifiers/ittfHtmlPrettifier')</span></div><div class="L7"><span class="pp-ln">   7 </span><span class="pp-pln">    </span><span class="pp-tag">#</span></div><div class="L8"><span class="pp-ln">   8 </span><span class="pp-pln">        </span><span class="pp-tag">#</span></div><div class="L9"><span class="pp-ln">   9 </span><span class="pp-pln">        </span><span class="pp-tag">#</span><span class="pp-pln"> File or directory in a folder tree structure of ittf documents.</span></div><div class="L0"><span class="pp-ln">  10 </span><span class="pp-pln">        </span><span class="pp-tag">#</span><span class="pp-pln"> Is the result of a folderScanner(folderPath, option) execution.</span></div><div class="L1"><span class="pp-ln">  11 </span><span class="pp-pln">        </span><span class="pp-tag">#</span><span class="pp-pln"> Can export its content to a wizzi.utils.ittfMTreeEx, calling</span></div><div class="L2"><span class="pp-ln">  12 </span><span class="pp-pln">        </span><span class="pp-tag">#</span><span class="pp-pln"> the method 'toIttf'</span></div><div class="L3"><span class="pp-ln">  13 </span><span class="pp-pln">        </span><span class="pp-tag">#</span></div><div class="L4"><span class="pp-ln">  14 </span><span class="pp-pln">        </span><span class="pp-tag">#</span><span class="pp-pln"> { IttfFsNode</span></div><div class="L5"><span class="pp-ln">  15 </span><span class="pp-pln">        </span><span class="pp-tag">#</span><span class="pp-pln"> { parent</span></div><div class="L6"><span class="pp-ln">  16 </span><span class="pp-pln">        </span><span class="pp-tag">#</span><span class="pp-pln"> ref IttfFsNode || null</span></div><div class="L7"><span class="pp-ln">  17 </span><span class="pp-pln">        </span><span class="pp-tag">#</span><span class="pp-pln"> string path</span></div><div class="L8"><span class="pp-ln">  18 </span><span class="pp-pln">        </span><span class="pp-tag">#</span><span class="pp-pln"> string basename</span></div><div class="L9"><span class="pp-ln">  19 </span><span class="pp-pln">        </span><span class="pp-tag">#</span><span class="pp-pln"> string dirname</span></div><div class="L0"><span class="pp-ln">  20 </span><span class="pp-pln">        </span><span class="pp-tag">#</span><span class="pp-pln"> boolean isDirectory</span></div><div class="L1"><span class="pp-ln">  21 </span><span class="pp-pln">        </span><span class="pp-tag">#</span><span class="pp-pln"> [ parts</span></div><div class="L2"><span class="pp-ln">  22 </span><span class="pp-pln">        </span><span class="pp-tag">#</span><span class="pp-pln"> string schema</span></div><div class="L3"><span class="pp-ln">  23 </span><span class="pp-pln">        </span><span class="pp-tag">#</span><span class="pp-pln"> # schema of ittf document file</span></div><div class="L4"><span class="pp-ln">  24 </span><span class="pp-pln">        </span><span class="pp-tag">#</span><span class="pp-pln"> boolean isFragment</span></div><div class="L5"><span class="pp-ln">  25 </span><span class="pp-pln">        </span><span class="pp-tag">#</span><span class="pp-pln"> # ittf document file is inside a t-folder</span></div><div class="L6"><span class="pp-ln">  26 </span><span class="pp-pln">        </span><span class="pp-tag">#</span><span class="pp-pln"> boolean isTFolder</span></div><div class="L7"><span class="pp-ln">  27 </span><span class="pp-pln">        </span><span class="pp-tag">#</span><span class="pp-pln"> # folder basename is t</span></div><div class="L8"><span class="pp-ln">  28 </span><span class="pp-pln">        </span><span class="pp-tag">#</span><span class="pp-pln"> boolean isInsideTFolder</span></div><div class="L9"><span class="pp-ln">  29 </span><span class="pp-pln">        </span><span class="pp-tag">#</span><span class="pp-pln"> # folder is descendant of a t-folder</span></div><div class="L0"><span class="pp-ln">  30 </span><span class="pp-pln">        </span><span class="pp-tag">#</span><span class="pp-pln"> [ folders</span></div><div class="L1"><span class="pp-ln">  31 </span><span class="pp-pln">        </span><span class="pp-tag">#</span><span class="pp-pln"> [ documents</span></div><div class="L2"><span class="pp-ln">  32 </span><span class="pp-pln">        </span><span class="pp-tag">#</span><span class="pp-pln"> # if method 'setSourcePaths' is called</span></div><div class="L3"><span class="pp-ln">  33 </span><span class="pp-pln">        </span><span class="pp-tag">#</span><span class="pp-pln"> string ittfBasePath</span></div><div class="L4"><span class="pp-ln">  34 </span><span class="pp-pln">        </span><span class="pp-tag">#</span><span class="pp-pln"> string jsBaseCodePath</span></div><div class="L5"><span class="pp-ln">  35 </span><span class="pp-pln">        </span><span class="pp-tag">#</span><span class="pp-pln"> # if method 'analize' is called</span></div><div class="L6"><span class="pp-ln">  36 </span><span class="pp-pln">        </span><span class="pp-tag">#</span><span class="pp-pln"> boolean isTest</span></div><div class="L7"><span class="pp-ln">  37 </span><span class="pp-pln">        </span><span class="pp-tag">#</span><span class="pp-pln"> boolean isExample</span></div><div class="L8"><span class="pp-ln">  38 </span><span class="pp-pln">        </span><span class="pp-tag">#</span><span class="pp-pln"> boolean isUtil</span></div><div class="L9"><span class="pp-ln">  39 </span><span class="pp-pln">        </span><span class="pp-tag">#</span><span class="pp-pln"> boolean isTest</span></div><div class="L0"><span class="pp-ln">  40 </span><span class="pp-pln">        </span><span class="pp-tag">#</span><span class="pp-pln"> boolean isJobFolder</span></div><div class="L1"><span class="pp-ln">  41 </span><span class="pp-pln">        </span><span class="pp-tag">#</span><span class="pp-pln"> boolean isPackageRoot</span></div><div class="L2"><span class="pp-ln">  42 </span><span class="pp-pln">        </span><span class="pp-tag">#</span></div><div class="L3"><span class="pp-ln">  43 </span><span class="pp-pln">    </span><span class="pp-tag">class</span><span class="pp-pln"> IttfFsNode</span></div><div class="L4"><span class="pp-ln">  44 </span><span class="pp-pln">        </span><span class="pp-tag">ctor</span></div><div class="L5"><span class="pp-ln">  45 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> path</span></div><div class="L6"><span class="pp-ln">  46 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> parent</span></div><div class="L7"><span class="pp-ln">  47 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> isDirectory</span></div><div class="L8"><span class="pp-ln">  48 </span><span class="pp-pln">            </span><span class="pp-tag">set</span><span class="pp-pln"> this.path = file.unixifyPath(path)</span></div><div class="L9"><span class="pp-ln">  49 </span><span class="pp-pln">            </span><span class="pp-tag">set</span><span class="pp-pln"> this.parent = parent</span></div><div class="L0"><span class="pp-ln">  50 </span><span class="pp-pln">            </span><span class="pp-tag">set</span><span class="pp-pln"> this.isDirectory = isDirectory</span></div><div class="L1"><span class="pp-ln">  51 </span><span class="pp-pln">            </span><span class="pp-tag">set</span><span class="pp-pln"> this.parts = path.split('/')</span></div><div class="L2"><span class="pp-ln">  52 </span><span class="pp-pln">            </span><span class="pp-tag">set</span><span class="pp-pln"> this.segments = this.parts.slice(0, this.parts.length -1)</span></div><div class="L3"><span class="pp-ln">  53 </span><span class="pp-pln">            </span><span class="pp-tag">set</span><span class="pp-pln"> this.basename = this.parts[this.parts.length -1]</span></div><div class="L4"><span class="pp-ln">  54 </span><span class="pp-pln">            </span><span class="pp-tag">set</span><span class="pp-pln"> this.dirname = this.segments.join('/')</span></div><div class="L5"><span class="pp-ln">  55 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> !isDirectory</span></div><div class="L6"><span class="pp-ln">  56 </span><span class="pp-pln">                </span><span class="pp-tag">set</span><span class="pp-pln"> this.schema = detectSchema(this.basename)</span></div><div class="L7"><span class="pp-ln">  57 </span><span class="pp-pln">                </span><span class="pp-tag">set</span><span class="pp-pln"> this.isFragment = isTFragment(this.parts)</span></div><div class="L8"><span class="pp-ln">  58 </span><span class="pp-pln">            </span><span class="pp-tag">else</span></div><div class="L9"><span class="pp-ln">  59 </span><span class="pp-pln">                </span><span class="pp-tag">set</span><span class="pp-pln"> this.isTFolder = this.basename.toLowerCase() === 't'</span></div><div class="L0"><span class="pp-ln">  60 </span><span class="pp-pln">                </span><span class="pp-tag">set</span><span class="pp-pln"> this.isInsideTFolder = isTFragment(this.parts) && (!this.isTFolder)</span></div><div class="L1"><span class="pp-ln">  61 </span><span class="pp-pln">            </span><span class="pp-tag">set</span><span class="pp-pln"> this.folders = []</span></div><div class="L2"><span class="pp-ln">  62 </span><span class="pp-pln">            </span><span class="pp-tag">set</span><span class="pp-pln"> this.documents = []</span></div><div class="L3"><span class="pp-ln">  63 </span><span class="pp-pln">            </span><span class="pp-tag">set</span><span class="pp-pln"> this.info</span></div><div class="L4"><span class="pp-ln">  64 </span><span class="pp-pln">                </span><span class="pp-tag">{</span></div><div class="L5"><span class="pp-ln">  65 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> schemas {}</span></div><div class="L6"><span class="pp-ln">  66 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> lib</span></div><div class="L7"><span class="pp-ln">  67 </span><span class="pp-pln">                        </span><span class="pp-tag">{</span></div><div class="L8"><span class="pp-ln">  68 </span><span class="pp-pln">                            </span><span class="pp-tag">@</span><span class="pp-pln"> documents []</span></div><div class="L9"><span class="pp-ln">  69 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> test</span></div><div class="L0"><span class="pp-ln">  70 </span><span class="pp-pln">                        </span><span class="pp-tag">{</span></div><div class="L1"><span class="pp-ln">  71 </span><span class="pp-pln">                            </span><span class="pp-tag">@</span><span class="pp-pln"> documents []</span></div><div class="L2"><span class="pp-ln">  72 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> example</span></div><div class="L3"><span class="pp-ln">  73 </span><span class="pp-pln">                        </span><span class="pp-tag">{</span></div><div class="L4"><span class="pp-ln">  74 </span><span class="pp-pln">                            </span><span class="pp-tag">@</span><span class="pp-pln"> documents []</span></div><div class="L5"><span class="pp-ln">  75 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> util</span></div><div class="L6"><span class="pp-ln">  76 </span><span class="pp-pln">                        </span><span class="pp-tag">{</span></div><div class="L7"><span class="pp-ln">  77 </span><span class="pp-pln">                            </span><span class="pp-tag">@</span><span class="pp-pln"> documents []</span></div><div class="L8"><span class="pp-ln">  78 </span><span class="pp-pln">        </span><span class="pp-tag">m</span><span class="pp-pln"> root</span></div><div class="L9"><span class="pp-ln">  79 </span><span class="pp-pln">            </span><span class="pp-tag">return</span><span class="pp-pln"> this.parent == null ? this : this.parent.root()</span></div><div class="L0"><span class="pp-ln">  80 </span><span class="pp-pln">        </span><span class="pp-tag">m</span><span class="pp-pln"> setInfo</span></div><div class="L1"><span class="pp-ln">  81 </span><span class="pp-pln">            </span><span class="pp-tag">var</span><span class="pp-pln"> r = this.root()</span></div><div class="L2"><span class="pp-ln">  82 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> r === this</span></div><div class="L3"><span class="pp-ln">  83 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> this.setIds</span></div><div class="L4"><span class="pp-ln">  84 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> this.analize()</span></div><div class="L5"><span class="pp-ln">  85 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> !this.isDirectory && !this.isFragment</span></div><div class="L6"><span class="pp-ln">  86 </span><span class="pp-pln">                </span><span class="pp-tag">var</span><span class="pp-pln"> schema = r.info.schemas[this.schema]</span></div><div class="L7"><span class="pp-ln">  87 </span><span class="pp-pln">                </span><span class="pp-tag">if</span><span class="pp-pln"> !schema</span></div><div class="L8"><span class="pp-ln">  88 </span><span class="pp-pln">                    </span><span class="pp-tag">set</span><span class="pp-pln"> schema</span></div><div class="L9"><span class="pp-ln">  89 </span><span class="pp-pln">                        </span><span class="pp-tag">{</span></div><div class="L0"><span class="pp-ln">  90 </span><span class="pp-pln">                            </span><span class="pp-tag">@</span><span class="pp-pln"> name this.schema</span></div><div class="L1"><span class="pp-ln">  91 </span><span class="pp-pln">                            </span><span class="pp-tag">@</span><span class="pp-pln"> documents []</span></div><div class="L2"><span class="pp-ln">  92 </span><span class="pp-pln">                    </span><span class="pp-tag">set</span><span class="pp-pln"> r.info.schemas[this.schema] = schema</span></div><div class="L3"><span class="pp-ln">  93 </span><span class="pp-pln">                    </span><span class="pp-tag">#</span><span class="pp-pln"> log 'created schema', schema, r.info.schemas</span></div><div class="L4"><span class="pp-ln">  94 </span><span class="pp-pln">                </span><span class="pp-tag">else</span></div><div class="L5"><span class="pp-ln">  95 </span><span class="pp-pln">                    </span><span class="pp-tag">#</span><span class="pp-pln"> log 'found', schema, r.info.schemas</span></div><div class="L6"><span class="pp-ln">  96 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> schema.documents.push(this)</span></div><div class="L7"><span class="pp-ln">  97 </span><span class="pp-pln">                </span><span class="pp-tag">if</span><span class="pp-pln"> this.isTest</span></div><div class="L8"><span class="pp-ln">  98 </span><span class="pp-pln">                    </span><span class="pp-tag">_</span><span class="pp-pln"> r.info.test.documents.push(this)</span></div><div class="L9"><span class="pp-ln">  99 </span><span class="pp-pln">                </span><span class="pp-tag">elif</span><span class="pp-pln"> this.isExample</span></div><div class="L0"><span class="pp-ln"> 100 </span><span class="pp-pln">                    </span><span class="pp-tag">_</span><span class="pp-pln"> r.info.example.documents.push(this)</span></div><div class="L1"><span class="pp-ln"> 101 </span><span class="pp-pln">                </span><span class="pp-tag">elif</span><span class="pp-pln"> this.isUtil</span></div><div class="L2"><span class="pp-ln"> 102 </span><span class="pp-pln">                    </span><span class="pp-tag">_</span><span class="pp-pln"> r.info.util.documents.push(this)</span></div><div class="L3"><span class="pp-ln"> 103 </span><span class="pp-pln">                </span><span class="pp-tag">else</span></div><div class="L4"><span class="pp-ln"> 104 </span><span class="pp-pln">                    </span><span class="pp-tag">_</span><span class="pp-pln"> r.info.lib.documents.push(this)</span></div><div class="L5"><span class="pp-ln"> 105 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> this.isDirectory</span></div><div class="L6"><span class="pp-ln"> 106 </span><span class="pp-pln">                </span><span class="pp-tag">foreach</span><span class="pp-pln"> folder in this.folders</span></div><div class="L7"><span class="pp-ln"> 107 </span><span class="pp-pln">                    </span><span class="pp-tag">_</span><span class="pp-pln"> folder.setInfo()</span></div><div class="L8"><span class="pp-ln"> 108 </span><span class="pp-pln">                </span><span class="pp-tag">foreach</span><span class="pp-pln"> d in this.documents</span></div><div class="L9"><span class="pp-ln"> 109 </span><span class="pp-pln">                    </span><span class="pp-tag">_</span><span class="pp-pln"> d.setInfo()</span></div><div class="L0"><span class="pp-ln"> 110 </span><span class="pp-pln">        </span><span class="pp-tag">m</span><span class="pp-pln"> addDocument</span></div><div class="L1"><span class="pp-ln"> 111 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> relPath</span></div><div class="L2"><span class="pp-ln"> 112 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> options</span></div><div class="L3"><span class="pp-ln"> 113 </span><span class="pp-pln">            </span><span class="pp-tag">#</span><span class="pp-pln"> log 'addDocument.relPath', relPath, options.basePath</span></div><div class="L4"><span class="pp-ln"> 114 </span><span class="pp-pln">            </span><span class="pp-tag">#</span><span class="pp-pln"> log 'this.path', this.path</span></div><div class="L5"><span class="pp-ln"> 115 </span><span class="pp-pln">            </span><span class="pp-tag">set</span><span class="pp-pln"> relPath = file.unixifyPath(relPath)</span></div><div class="L6"><span class="pp-ln"> 116 </span><span class="pp-pln">            </span><span class="pp-tag">var</span><span class="pp-pln"> parts = relPath.split('/')</span></div><div class="L7"><span class="pp-ln"> 117 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> parts.length &lt;= this.parts.length</span></div><div class="L8"><span class="pp-ln"> 118 </span><span class="pp-pln">                </span><span class="pp-tag">return</span><span class="pp-pln"> false</span></div><div class="L9"><span class="pp-ln"> 119 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> this.match(parts) == false</span></div><div class="L0"><span class="pp-ln"> 120 </span><span class="pp-pln">                </span><span class="pp-tag">return</span><span class="pp-pln"> false</span></div><div class="L1"><span class="pp-ln"> 121 </span><span class="pp-pln">            </span><span class="pp-tag">#</span><span class="pp-pln"> log 'parts.length, this.parts.length', parts.length, this.parts.length</span></div><div class="L2"><span class="pp-ln"> 122 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> parts.length == this.parts.length + 1</span></div><div class="L3"><span class="pp-ln"> 123 </span><span class="pp-pln">                </span><span class="pp-tag">#</span><span class="pp-pln"> log 'try match'</span></div><div class="L4"><span class="pp-ln"> 124 </span><span class="pp-pln">                </span><span class="pp-tag">if</span><span class="pp-pln"> this.match(parts)</span></div><div class="L5"><span class="pp-ln"> 125 </span><span class="pp-pln">                    </span><span class="pp-tag">var</span><span class="pp-pln"> dnode = new IttfFsNode(relPath, this, false)</span></div><div class="L6"><span class="pp-ln"> 126 </span><span class="pp-pln">                    </span><span class="pp-tag">_</span><span class="pp-pln"> this.documents.push(dnode)</span></div><div class="L7"><span class="pp-ln"> 127 </span><span class="pp-pln">                    </span><span class="pp-tag">return</span><span class="pp-pln"> true</span></div><div class="L8"><span class="pp-ln"> 128 </span><span class="pp-pln">                </span><span class="pp-tag">else</span></div><div class="L9"><span class="pp-ln"> 129 </span><span class="pp-pln">                    </span><span class="pp-tag">return</span><span class="pp-pln"> false</span></div><div class="L0"><span class="pp-ln"> 130 </span><span class="pp-pln">            </span><span class="pp-tag">else</span></div><div class="L1"><span class="pp-ln"> 131 </span><span class="pp-pln">                </span><span class="pp-tag">var</span><span class="pp-pln"> subfolderPath = parts.slice(0, this.parts.length + 1).join('/')</span></div><div class="L2"><span class="pp-ln"> 132 </span><span class="pp-pln">                </span><span class="pp-tag">#</span><span class="pp-pln"> log 'try subfolder', subfolderPath</span></div><div class="L3"><span class="pp-ln"> 133 </span><span class="pp-pln">                </span><span class="pp-tag">var</span><span class="pp-pln"> added</span></div><div class="L4"><span class="pp-ln"> 134 </span><span class="pp-pln">                </span><span class="pp-tag">foreach</span><span class="pp-pln"> f in this.folders</span></div><div class="L5"><span class="pp-ln"> 135 </span><span class="pp-pln">                    </span><span class="pp-tag">if</span><span class="pp-pln"> f.path === subfolderPath</span></div><div class="L6"><span class="pp-ln"> 136 </span><span class="pp-pln">                        </span><span class="pp-tag">set</span><span class="pp-pln"> added</span></div><div class="L7"><span class="pp-ln"> 137 </span><span class="pp-pln">                            </span><span class="pp-tag">_</span><span class="pp-pln"> f.addDocument(relPath, options)</span></div><div class="L8"><span class="pp-ln"> 138 </span><span class="pp-pln">                        </span><span class="pp-tag">if</span><span class="pp-pln"> added</span></div><div class="L9"><span class="pp-ln"> 139 </span><span class="pp-pln">                            </span><span class="pp-tag">return</span><span class="pp-pln"> true</span></div><div class="L0"><span class="pp-ln"> 140 </span><span class="pp-pln">                </span><span class="pp-tag">var</span><span class="pp-pln"> fnode = new IttfFsNode(subfolderPath, this, true)</span></div><div class="L1"><span class="pp-ln"> 141 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> this.folders.push(fnode)</span></div><div class="L2"><span class="pp-ln"> 142 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> fnode.addDocument(relPath, options)</span></div><div class="L3"><span class="pp-ln"> 143 </span><span class="pp-pln">                </span><span class="pp-tag">return</span><span class="pp-pln"> true</span></div><div class="L4"><span class="pp-ln"> 144 </span><span class="pp-pln">        </span><span class="pp-tag">m</span><span class="pp-pln"> match</span></div><div class="L5"><span class="pp-ln"> 145 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> parts</span></div><div class="L6"><span class="pp-ln"> 146 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> parts.length &lt; this.parts.length</span></div><div class="L7"><span class="pp-ln"> 147 </span><span class="pp-pln">                </span><span class="pp-tag">return</span><span class="pp-pln"> false</span></div><div class="L8"><span class="pp-ln"> 148 </span><span class="pp-pln">            </span><span class="pp-tag">foreach</span><span class="pp-pln"> part in this.parts</span></div><div class="L9"><span class="pp-ln"> 149 </span><span class="pp-pln">                </span><span class="pp-tag">if</span><span class="pp-pln"> part !== this.parts[i]</span></div><div class="L0"><span class="pp-ln"> 150 </span><span class="pp-pln">                    </span><span class="pp-tag">return</span><span class="pp-pln"> false</span></div><div class="L1"><span class="pp-ln"> 151 </span><span class="pp-pln">            </span><span class="pp-tag">return</span><span class="pp-pln"> true</span></div><div class="L2"><span class="pp-ln"> 152 </span><span class="pp-pln">        </span><span class="pp-kwd">$include</span><span class="pp-mix frag-to-link-a" data-frag-id="d79"> ittfFsNode/ids</span></div><div class="L3"><span class="pp-ln"> 153 </span><span class="pp-pln">        </span><span class="pp-kwd">$include</span><span class="pp-mix frag-to-link-a" data-frag-id="d80"> ittfFsNode/sources</span></div><div class="L4"><span class="pp-ln"> 154 </span><span class="pp-pln">        </span><span class="pp-kwd">$include</span><span class="pp-mix frag-to-link-a" data-frag-id="d78"> ittfFsNode/analize</span></div><div class="L5"><span class="pp-ln"> 155 </span><span class="pp-pln">        </span><span class="pp-kwd">$include</span><span class="pp-mix frag-to-link-a" data-frag-id="d81"> ittfFsNode/toIttf</span></div><div class="L6"><span class="pp-ln"> 156 </span><span class="pp-pln">    </span><span class="pp-tag">function</span><span class="pp-pln"> detectSchema</span></div><div class="L7"><span class="pp-ln"> 157 </span><span class="pp-pln">        </span><span class="pp-tag">param</span><span class="pp-pln"> name</span></div><div class="L8"><span class="pp-ln"> 158 </span><span class="pp-pln">        </span><span class="pp-tag">var</span><span class="pp-pln"> ss = name.split('.')</span></div><div class="L9"><span class="pp-ln"> 159 </span><span class="pp-pln">        </span><span class="pp-tag">if</span><span class="pp-pln"> ss.length &gt; 1</span></div><div class="L0"><span class="pp-ln"> 160 </span><span class="pp-pln">            </span><span class="pp-tag">return</span><span class="pp-pln"> ss[ss.length -2]</span></div><div class="L1"><span class="pp-ln"> 161 </span><span class="pp-pln">        </span><span class="pp-tag">else</span></div><div class="L2"><span class="pp-ln"> 162 </span><span class="pp-pln">            </span><span class="pp-tag">return</span><span class="pp-pln"> null</span></div><div class="L3"><span class="pp-ln"> 163 </span><span class="pp-pln">    </span><span class="pp-tag">function</span><span class="pp-pln"> isTFragment</span></div><div class="L4"><span class="pp-ln"> 164 </span><span class="pp-pln">        </span><span class="pp-tag">param</span><span class="pp-pln"> segments</span></div><div class="L5"><span class="pp-ln"> 165 </span><span class="pp-pln">        </span><span class="pp-tag">return</span><span class="pp-pln"> segments.indexOf('t') &gt; -1</span></div><div class="L6"><span class="pp-ln"> 166 </span><span class="pp-pln">    </span><span class="pp-tag">set</span><span class="pp-pln"> module.exports = IttfFsNode</span></div></pre>
                    </div>
                </div>
                <div class="code-panel" id="d84">
                    <div class="modal-view-container">
                        <h4 class="d-h2">/src/ittf/lib/t/lineparser/codifyInterpolation.js.ittf</h4>
                        <pre class="prettyprint">

<div class="L1"><span class="pp-ln">   1 </span><span class="pp-pln"></span><span class="pp-kwd">$group</span></div><div class="L2"><span class="pp-ln">   2 </span><span class="pp-pln">    </span><span class="pp-tag">#</span></div><div class="L3"><span class="pp-ln">   3 </span><span class="pp-pln">        </span><span class="pp-tag">#</span><span class="pp-pln"> params</span></div><div class="L4"><span class="pp-ln">   4 </span><span class="pp-pln">            </span><span class="pp-tag">#</span><span class="pp-pln"> string text</span></div><div class="L5"><span class="pp-ln">   5 </span><span class="pp-pln">            </span><span class="pp-tag">#</span><span class="pp-pln"> string lDel</span></div><div class="L6"><span class="pp-ln">   6 </span><span class="pp-pln">                </span><span class="pp-tag">#</span><span class="pp-pln"> left delimiter</span></div><div class="L7"><span class="pp-ln">   7 </span><span class="pp-pln">            </span><span class="pp-tag">#</span><span class="pp-pln"> string rDel</span></div><div class="L8"><span class="pp-ln">   8 </span><span class="pp-pln">                </span><span class="pp-tag">#</span><span class="pp-pln"> right delimiter</span></div><div class="L9"><span class="pp-ln">   9 </span><span class="pp-pln">            </span><span class="pp-tag">#</span><span class="pp-pln"> string retType</span></div><div class="L0"><span class="pp-ln">  10 </span><span class="pp-pln">                </span><span class="pp-tag">#</span><span class="pp-pln"> 'tokens'</span></div><div class="L1"><span class="pp-ln">  11 </span><span class="pp-pln">                </span><span class="pp-tag">#</span><span class="pp-pln"> 'code'</span></div><div class="L2"><span class="pp-ln">  12 </span><span class="pp-pln">    </span><span class="pp-tag">set</span><span class="pp-pln"> md.codifyInterpolation</span></div><div class="L3"><span class="pp-ln">  13 </span><span class="pp-pln">        </span><span class="pp-tag">function</span></div><div class="L4"><span class="pp-ln">  14 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> template</span></div><div class="L5"><span class="pp-ln">  15 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> lDel</span></div><div class="L6"><span class="pp-ln">  16 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> rDel</span></div><div class="L7"><span class="pp-ln">  17 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> verify.isEmpty(template)</span></div><div class="L8"><span class="pp-ln">  18 </span><span class="pp-pln">                </span><span class="pp-tag">return</span><span class="pp-pln"> ''</span></div><div class="L9"><span class="pp-ln">  19 </span><span class="pp-pln">            </span><span class="pp-tag">var</span><span class="pp-pln"> lDelLen = lDel.length</span></div><div class="L0"><span class="pp-ln">  20 </span><span class="pp-pln">            </span><span class="pp-tag">var</span><span class="pp-pln"> rDelLen = rDel.length</span></div><div class="L1"><span class="pp-ln">  21 </span><span class="pp-pln">            </span><span class="pp-tag">set</span><span class="pp-pln"> lDel = lDel.replace(regexEscape, "\\$1")</span></div><div class="L2"><span class="pp-ln">  22 </span><span class="pp-pln">            </span><span class="pp-tag">set</span><span class="pp-pln"> rDel = rDel.replace(regexEscape, "\\$1")</span></div><div class="L3"><span class="pp-ln">  23 </span><span class="pp-pln">            </span><span class="pp-tag">var</span><span class="pp-pln"> regex = new RegExp(lDel + "[^" + lDel + rDel + "]+" + rDel, "g")</span></div><div class="L4"><span class="pp-ln">  24 </span><span class="pp-pln">            </span><span class="pp-tag">return</span></div><div class="L5"><span class="pp-ln">  25 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> template.replace</span></div><div class="L6"><span class="pp-ln">  26 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> regex</span></div><div class="L7"><span class="pp-ln">  27 </span><span class="pp-pln">                    </span><span class="pp-tag">function</span></div><div class="L8"><span class="pp-ln">  28 </span><span class="pp-pln">                        </span><span class="pp-tag">param</span><span class="pp-pln"> placeholder</span></div><div class="L9"><span class="pp-ln">  29 </span><span class="pp-pln">                        </span><span class="pp-tag">log</span><span class="pp-pln"> '==================== codifyInterpolation.placeholder', placeholder</span></div><div class="L0"><span class="pp-ln">  30 </span><span class="pp-pln">                        </span><span class="pp-tag">var</span><span class="pp-pln"> key = placeholder.slice(lDelLen, -rDelLen)</span></div><div class="L1"><span class="pp-ln">  31 </span><span class="pp-pln">                        </span><span class="pp-tag">return</span><span class="pp-pln"> '" + ' + key + ' + "'</span></div></pre>
                    </div>
                </div>
                <div class="code-panel" id="d85">
                    <div class="modal-view-container">
                        <h4 class="d-h2">/src/ittf/lib/t/verify/_old_parseNameValue.js.ittf</h4>
                        <pre class="prettyprint">

<div class="L1"><span class="pp-ln">   1 </span><span class="pp-pln"></span><span class="pp-kwd">$group</span></div><div class="L2"><span class="pp-ln">   2 </span><span class="pp-pln">    </span><span class="pp-tag">set</span><span class="pp-pln"> md.parseNameValue</span></div><div class="L3"><span class="pp-ln">   3 </span><span class="pp-pln">        </span><span class="pp-tag">function</span></div><div class="L4"><span class="pp-ln">   4 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> text</span></div><div class="L5"><span class="pp-ln">   5 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> node</span></div><div class="L6"><span class="pp-ln">   6 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> !md.isString(text)</span></div><div class="L7"><span class="pp-ln">   7 </span><span class="pp-pln">                </span><span class="pp-tag">return</span></div><div class="L8"><span class="pp-ln">   8 </span><span class="pp-pln">                    </span><span class="pp-tag">{</span></div><div class="L9"><span class="pp-ln">   9 </span><span class="pp-pln">                        </span><span class="pp-tag">@</span><span class="pp-pln"> tokens</span></div><div class="L0"><span class="pp-ln">  10 </span><span class="pp-pln">                            </span><span class="pp-tag">[</span></div><div class="L1"><span class="pp-ln">  11 </span><span class="pp-pln">                        </span><span class="pp-tag">@</span><span class="pp-pln"> join</span></div><div class="L2"><span class="pp-ln">  12 </span><span class="pp-pln">                            </span><span class="pp-tag">function</span></div><div class="L3"><span class="pp-ln">  13 </span><span class="pp-pln">                                </span><span class="pp-tag">return</span><span class="pp-pln"> ''</span></div><div class="L4"><span class="pp-ln">  14 </span><span class="pp-pln">            </span><span class="pp-tag">var</span></div><div class="L5"><span class="pp-ln">  15 </span><span class="pp-pln">                </span><span class="pp-tag">decl</span><span class="pp-pln"> ch</span></div><div class="L6"><span class="pp-ln">  16 </span><span class="pp-pln">                </span><span class="pp-tag">decl</span><span class="pp-pln"> l = text.length</span></div><div class="L7"><span class="pp-ln">  17 </span><span class="pp-pln">                </span><span class="pp-tag">decl</span><span class="pp-pln"> tokens</span></div><div class="L8"><span class="pp-ln">  18 </span><span class="pp-pln">                    </span><span class="pp-tag">[</span></div><div class="L9"><span class="pp-ln">  19 </span><span class="pp-pln">                </span><span class="pp-tag">decl</span><span class="pp-pln"> token</span></div><div class="L0"><span class="pp-ln">  20 </span><span class="pp-pln">                    </span><span class="pp-tag">{</span></div><div class="L1"><span class="pp-ln">  21 </span><span class="pp-pln">                        </span><span class="pp-tag">@</span><span class="pp-pln"> quote null</span></div><div class="L2"><span class="pp-ln">  22 </span><span class="pp-pln">                        </span><span class="pp-tag">@</span><span class="pp-pln"> text ''</span></div><div class="L3"><span class="pp-ln">  23 </span><span class="pp-pln">                        </span><span class="pp-tag">@</span><span class="pp-pln"> raw ''</span></div><div class="L4"><span class="pp-ln">  24 </span><span class="pp-pln">            </span><span class="pp-tag">for</span><span class="pp-pln"> var i = 0; i &lt; l; i++</span></div><div class="L5"><span class="pp-ln">  25 </span><span class="pp-pln">                </span><span class="pp-tag">set</span><span class="pp-pln"> ch = text[i]</span></div><div class="L6"><span class="pp-ln">  26 </span><span class="pp-pln">                </span><span class="pp-tag">if</span><span class="pp-pln"> token.quote != null</span></div><div class="L7"><span class="pp-ln">  27 </span><span class="pp-pln">                    </span><span class="pp-tag">if</span><span class="pp-pln"> ch == token.quote</span></div><div class="L8"><span class="pp-ln">  28 </span><span class="pp-pln">                        </span><span class="pp-tag">_</span><span class="pp-pln"> tokens.push(token)</span></div><div class="L9"><span class="pp-ln">  29 </span><span class="pp-pln">                        </span><span class="pp-tag">set</span><span class="pp-pln"> token =</span></div><div class="L0"><span class="pp-ln">  30 </span><span class="pp-pln">                            </span><span class="pp-tag">{</span></div><div class="L1"><span class="pp-ln">  31 </span><span class="pp-pln">                                </span><span class="pp-tag">@</span><span class="pp-pln"> quote null</span></div><div class="L2"><span class="pp-ln">  32 </span><span class="pp-pln">                                </span><span class="pp-tag">@</span><span class="pp-pln"> text ''</span></div><div class="L3"><span class="pp-ln">  33 </span><span class="pp-pln">                                </span><span class="pp-tag">@</span><span class="pp-pln"> raw ''</span></div><div class="L4"><span class="pp-ln">  34 </span><span class="pp-pln">                    </span><span class="pp-tag">else</span></div><div class="L5"><span class="pp-ln">  35 </span><span class="pp-pln">                        </span><span class="pp-tag">set</span><span class="pp-pln"> token.text += ch</span></div><div class="L6"><span class="pp-ln">  36 </span><span class="pp-pln">                        </span><span class="pp-tag">set</span><span class="pp-pln"> token.raw += ch</span></div><div class="L7"><span class="pp-ln">  37 </span><span class="pp-pln">                </span><span class="pp-tag">elif</span><span class="pp-pln"> ch == '"' || ch == '\''</span></div><div class="L8"><span class="pp-ln">  38 </span><span class="pp-pln">                    </span><span class="pp-tag">if</span><span class="pp-pln"> token.text.length &gt; 0</span></div><div class="L9"><span class="pp-ln">  39 </span><span class="pp-pln">                        </span><span class="pp-tag">_</span><span class="pp-pln"> errors.NodeError("Invalid use of quote inside text", node)</span></div><div class="L0"><span class="pp-ln">  40 </span><span class="pp-pln">                    </span><span class="pp-tag">set</span><span class="pp-pln"> token.quote = ch</span></div><div class="L1"><span class="pp-ln">  41 </span><span class="pp-pln">                </span><span class="pp-tag">elif</span><span class="pp-pln"> ch == ' ' || ch == '\t'</span></div><div class="L2"><span class="pp-ln">  42 </span><span class="pp-pln">                    </span><span class="pp-tag">if</span><span class="pp-pln"> token.text.length &gt; 0</span></div><div class="L3"><span class="pp-ln">  43 </span><span class="pp-pln">                        </span><span class="pp-tag">set</span><span class="pp-pln"> token.raw += ch</span></div><div class="L4"><span class="pp-ln">  44 </span><span class="pp-pln">                        </span><span class="pp-tag">_</span><span class="pp-pln"> tokens.push(token)</span></div><div class="L5"><span class="pp-ln">  45 </span><span class="pp-pln">                        </span><span class="pp-tag">set</span><span class="pp-pln"> token =</span></div><div class="L6"><span class="pp-ln">  46 </span><span class="pp-pln">                            </span><span class="pp-tag">{</span></div><div class="L7"><span class="pp-ln">  47 </span><span class="pp-pln">                                </span><span class="pp-tag">@</span><span class="pp-pln"> quote null</span></div><div class="L8"><span class="pp-ln">  48 </span><span class="pp-pln">                                </span><span class="pp-tag">@</span><span class="pp-pln"> text ''</span></div><div class="L9"><span class="pp-ln">  49 </span><span class="pp-pln">                                </span><span class="pp-tag">@</span><span class="pp-pln"> raw ''</span></div><div class="L0"><span class="pp-ln">  50 </span><span class="pp-pln">                </span><span class="pp-tag">else</span></div><div class="L1"><span class="pp-ln">  51 </span><span class="pp-pln">                    </span><span class="pp-tag">set</span><span class="pp-pln"> token.text += ch</span></div><div class="L2"><span class="pp-ln">  52 </span><span class="pp-pln">                    </span><span class="pp-tag">set</span><span class="pp-pln"> token.raw += ch</span></div><div class="L3"><span class="pp-ln">  53 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> token.text.length &gt; 0</span></div><div class="L4"><span class="pp-ln">  54 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> tokens.push(token)</span></div><div class="L5"><span class="pp-ln">  55 </span><span class="pp-pln">                </span><span class="pp-tag">set</span><span class="pp-pln"> token</span></div><div class="L6"><span class="pp-ln">  56 </span><span class="pp-pln">                    </span><span class="pp-tag">{</span></div><div class="L7"><span class="pp-ln">  57 </span><span class="pp-pln">                        </span><span class="pp-tag">@</span><span class="pp-pln"> quote null</span></div><div class="L8"><span class="pp-ln">  58 </span><span class="pp-pln">                        </span><span class="pp-tag">@</span><span class="pp-pln"> text ''</span></div><div class="L9"><span class="pp-ln">  59 </span><span class="pp-pln">                        </span><span class="pp-tag">@</span><span class="pp-pln"> raw ''</span></div><div class="L0"><span class="pp-ln">  60 </span><span class="pp-pln">            </span><span class="pp-tag">return</span></div><div class="L1"><span class="pp-ln">  61 </span><span class="pp-pln">                </span><span class="pp-tag">{</span></div><div class="L2"><span class="pp-ln">  62 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> tokens tokens</span></div><div class="L3"><span class="pp-ln">  63 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> length tokens.length</span></div><div class="L4"><span class="pp-ln">  64 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> join</span></div><div class="L5"><span class="pp-ln">  65 </span><span class="pp-pln">                        </span><span class="pp-tag">function</span></div><div class="L6"><span class="pp-ln">  66 </span><span class="pp-pln">                            </span><span class="pp-tag">param</span><span class="pp-pln"> sep</span></div><div class="L7"><span class="pp-ln">  67 </span><span class="pp-pln">                            </span><span class="pp-tag">param</span><span class="pp-pln"> start</span></div><div class="L8"><span class="pp-ln">  68 </span><span class="pp-pln">                            </span><span class="pp-tag">var</span></div><div class="L9"><span class="pp-ln">  69 </span><span class="pp-pln">                                </span><span class="pp-tag">decl</span><span class="pp-pln"> t</span></div><div class="L0"><span class="pp-ln">  70 </span><span class="pp-pln">                                    </span><span class="pp-tag">[</span></div><div class="L1"><span class="pp-ln">  71 </span><span class="pp-pln">                                </span><span class="pp-tag">decl</span><span class="pp-pln"> startIndex = (start || 0)</span></div><div class="L2"><span class="pp-ln">  72 </span><span class="pp-pln">                            </span><span class="pp-tag">for</span><span class="pp-pln"> var i = startIndex; i &lt; this.tokens.length; i++</span></div><div class="L3"><span class="pp-ln">  73 </span><span class="pp-pln">                                </span><span class="pp-tag">_</span><span class="pp-pln"> t.push((this.tokens[i].text + ' '))</span></div><div class="L4"><span class="pp-ln">  74 </span><span class="pp-pln">                            </span><span class="pp-tag">return</span></div><div class="L5"><span class="pp-ln">  75 </span><span class="pp-pln">                                </span><span class="pp-tag">_</span><span class="pp-pln"> t.join(sep)</span></div><div class="L6"><span class="pp-ln">  76 </span><span class="pp-pln">                                    </span><span class="pp-tag">._</span><span class="pp-pln"> trim()</span></div><div class="L7"><span class="pp-ln">  77 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> name</span></div><div class="L8"><span class="pp-ln">  78 </span><span class="pp-pln">                        </span><span class="pp-tag">function</span></div><div class="L9"><span class="pp-ln">  79 </span><span class="pp-pln">                            </span><span class="pp-tag">return</span></div><div class="L0"><span class="pp-ln">  80 </span><span class="pp-pln">                                </span><span class="pp-tag">iif</span><span class="pp-pln"> this.length &gt; 0</span></div><div class="L1"><span class="pp-ln">  81 </span><span class="pp-pln">                                    </span><span class="pp-tag">then</span></div><div class="L2"><span class="pp-ln">  82 </span><span class="pp-pln">                                        </span><span class="pp-tag">set</span><span class="pp-pln"> this.tokens[0].text</span></div><div class="L3"><span class="pp-ln">  83 </span><span class="pp-pln">                                    </span><span class="pp-tag">else</span><span class="pp-pln"> null</span></div><div class="L4"><span class="pp-ln">  84 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> value</span></div><div class="L5"><span class="pp-ln">  85 </span><span class="pp-pln">                        </span><span class="pp-tag">function</span></div><div class="L6"><span class="pp-ln">  86 </span><span class="pp-pln">                            </span><span class="pp-tag">return</span><span class="pp-pln"> this.join('', 1)</span></div><div class="L7"><span class="pp-ln">  87 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> hasValue</span></div><div class="L8"><span class="pp-ln">  88 </span><span class="pp-pln">                        </span><span class="pp-tag">function</span></div><div class="L9"><span class="pp-ln">  89 </span><span class="pp-pln">                            </span><span class="pp-tag">return</span><span class="pp-pln"> this.length &gt; 1</span></div></pre>
                    </div>
                </div>
                <div class="code-panel" id="d86">
                    <div class="modal-view-container">
                        <h4 class="d-h2">/src/ittf/lib/t/verify/assert.js.ittf</h4>
                        <pre class="prettyprint">

<div class="L1"><span class="pp-ln">   1 </span><span class="pp-pln"></span><span class="pp-kwd">$group</span></div><div class="L2"><span class="pp-ln">   2 </span><span class="pp-pln">    </span><span class="pp-tag">set</span><span class="pp-pln"> md.assert</span></div><div class="L3"><span class="pp-ln">   3 </span><span class="pp-pln">        </span><span class="pp-tag">{</span></div><div class="L4"><span class="pp-ln">   4 </span><span class="pp-pln">            </span><span class="pp-tag">@</span><span class="pp-pln"> notEmpty</span></div><div class="L5"><span class="pp-ln">   5 </span><span class="pp-pln">                </span><span class="pp-tag">function</span></div><div class="L6"><span class="pp-ln">   6 </span><span class="pp-pln">                    </span><span class="pp-tag">param</span><span class="pp-pln"> test</span></div><div class="L7"><span class="pp-ln">   7 </span><span class="pp-pln">                    </span><span class="pp-tag">param</span><span class="pp-pln"> message</span></div><div class="L8"><span class="pp-ln">   8 </span><span class="pp-pln">                    </span><span class="pp-tag">if</span><span class="pp-pln"> md.isNotEmpty(test) === false</span></div><div class="L9"><span class="pp-ln">   9 </span><span class="pp-pln">                        </span><span class="pp-tag">_</span><span class="pp-pln"> md.fatal</span></div><div class="L0"><span class="pp-ln">  10 </span><span class="pp-pln">                            </span><span class="pp-tag">@</span><span class="pp-pln"> message</span></div></pre>
                    </div>
                </div>
                <div class="code-panel" id="d87">
                    <div class="modal-view-container">
                        <h4 class="d-h2">/src/ittf/lib/t/verify/convert.js.ittf</h4>
                        <pre class="prettyprint">

<div class="L1"><span class="pp-ln">   1 </span><span class="pp-pln"></span><span class="pp-kwd">$group</span></div><div class="L2"><span class="pp-ln">   2 </span><span class="pp-pln">    </span><span class="pp-tag">set</span><span class="pp-pln"> md.convert</span></div><div class="L3"><span class="pp-ln">   3 </span><span class="pp-pln">        </span><span class="pp-tag">function</span><span class="pp-pln"> convert</span></div><div class="L4"><span class="pp-ln">   4 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> value</span></div><div class="L5"><span class="pp-ln">   5 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> type</span></div><div class="L6"><span class="pp-ln">   6 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> unquote</span></div><div class="L7"><span class="pp-ln">   7 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> value === '@@null'</span></div><div class="L8"><span class="pp-ln">   8 </span><span class="pp-pln">                </span><span class="pp-tag">return</span><span class="pp-pln"> null</span></div><div class="L9"><span class="pp-ln">   9 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> value === '@@undefined'</span></div><div class="L0"><span class="pp-ln">  10 </span><span class="pp-pln">                </span><span class="pp-tag">return</span><span class="pp-pln"> undefined</span></div><div class="L1"><span class="pp-ln">  11 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> md.isIttfMacro(value)</span></div><div class="L2"><span class="pp-ln">  12 </span><span class="pp-pln">                </span><span class="pp-tag">return</span><span class="pp-pln"> value</span></div><div class="L3"><span class="pp-ln">  13 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> md.isEmpty(type) || type === 'string'</span></div><div class="L4"><span class="pp-ln">  14 </span><span class="pp-pln">                </span><span class="pp-tag">if</span><span class="pp-pln"> md.isString(value)</span></div><div class="L5"><span class="pp-ln">  15 </span><span class="pp-pln">                    </span><span class="pp-tag">if</span><span class="pp-pln"> unquote</span></div><div class="L6"><span class="pp-ln">  16 </span><span class="pp-pln">                        </span><span class="pp-tag">return</span><span class="pp-pln"> md.unquote(value)</span></div><div class="L7"><span class="pp-ln">  17 </span><span class="pp-pln">                    </span><span class="pp-tag">else</span></div><div class="L8"><span class="pp-ln">  18 </span><span class="pp-pln">                        </span><span class="pp-tag">return</span><span class="pp-pln"> value</span></div><div class="L9"><span class="pp-ln">  19 </span><span class="pp-pln">                </span><span class="pp-tag">else</span></div><div class="L0"><span class="pp-ln">  20 </span><span class="pp-pln">                    </span><span class="pp-tag">return</span><span class="pp-pln"> ''</span></div><div class="L1"><span class="pp-ln">  21 </span><span class="pp-pln">            </span><span class="pp-tag">elif</span><span class="pp-pln"> type == 'integer'</span></div><div class="L2"><span class="pp-ln">  22 </span><span class="pp-pln">                </span><span class="pp-tag">if</span><span class="pp-pln"> md.canConvertTo(type, value)</span></div><div class="L3"><span class="pp-ln">  23 </span><span class="pp-pln">                    </span><span class="pp-tag">return</span><span class="pp-pln"> parseInt(value, 10)</span></div><div class="L4"><span class="pp-ln">  24 </span><span class="pp-pln">                </span><span class="pp-tag">else</span></div><div class="L5"><span class="pp-ln">  25 </span><span class="pp-pln">                    </span><span class="pp-tag">return</span></div><div class="L6"><span class="pp-ln">  26 </span><span class="pp-pln">                        </span><span class="pp-tag">_</span><span class="pp-pln"> error</span></div><div class="L7"><span class="pp-ln">  27 </span><span class="pp-pln">                            </span><span class="pp-tag">@</span><span class="pp-pln"> 'TypeError'</span></div><div class="L8"><span class="pp-ln">  28 </span><span class="pp-pln">                            </span><span class="pp-tag">@</span><span class="pp-pln"> 'convert'</span></div><div class="L9"><span class="pp-ln">  29 </span><span class="pp-pln">                            </span><span class="pp-tag">@</span><span class="pp-pln"> 'Cannot convert ' + value + ' to integer'</span></div><div class="L0"><span class="pp-ln">  30 </span><span class="pp-pln">            </span><span class="pp-tag">elif</span><span class="pp-pln"> type == 'float'</span></div><div class="L1"><span class="pp-ln">  31 </span><span class="pp-pln">                </span><span class="pp-tag">if</span><span class="pp-pln"> md.canConvertTo(type, value)</span></div><div class="L2"><span class="pp-ln">  32 </span><span class="pp-pln">                    </span><span class="pp-tag">return</span><span class="pp-pln"> parseFloat(value)</span></div><div class="L3"><span class="pp-ln">  33 </span><span class="pp-pln">                </span><span class="pp-tag">else</span></div><div class="L4"><span class="pp-ln">  34 </span><span class="pp-pln">                    </span><span class="pp-tag">return</span></div><div class="L5"><span class="pp-ln">  35 </span><span class="pp-pln">                        </span><span class="pp-tag">_</span><span class="pp-pln"> error</span></div><div class="L6"><span class="pp-ln">  36 </span><span class="pp-pln">                            </span><span class="pp-tag">@</span><span class="pp-pln"> 'TypeError'</span></div><div class="L7"><span class="pp-ln">  37 </span><span class="pp-pln">                            </span><span class="pp-tag">@</span><span class="pp-pln"> 'convert'</span></div><div class="L8"><span class="pp-ln">  38 </span><span class="pp-pln">                            </span><span class="pp-tag">@</span><span class="pp-pln"> 'Cannot convert ' + value + ' to float'</span></div><div class="L9"><span class="pp-ln">  39 </span><span class="pp-pln">            </span><span class="pp-tag">elif</span><span class="pp-pln"> type == 'boolean'</span></div><div class="L0"><span class="pp-ln">  40 </span><span class="pp-pln">                </span><span class="pp-tag">if</span><span class="pp-pln"> md.canConvertTo(type, value)</span></div><div class="L1"><span class="pp-ln">  41 </span><span class="pp-pln">                    </span><span class="pp-tag">return</span><span class="pp-pln"> value === 'true' ? true : false</span></div><div class="L2"><span class="pp-ln">  42 </span><span class="pp-pln">                </span><span class="pp-tag">else</span></div><div class="L3"><span class="pp-ln">  43 </span><span class="pp-pln">                    </span><span class="pp-tag">return</span></div><div class="L4"><span class="pp-ln">  44 </span><span class="pp-pln">                        </span><span class="pp-tag">_</span><span class="pp-pln"> error</span></div><div class="L5"><span class="pp-ln">  45 </span><span class="pp-pln">                            </span><span class="pp-tag">@</span><span class="pp-pln"> 'TypeError'</span></div><div class="L6"><span class="pp-ln">  46 </span><span class="pp-pln">                            </span><span class="pp-tag">@</span><span class="pp-pln"> 'convert'</span></div><div class="L7"><span class="pp-ln">  47 </span><span class="pp-pln">                            </span><span class="pp-tag">@</span><span class="pp-pln"> 'Cannot convert ' + value + ' to boolean'</span></div><div class="L8"><span class="pp-ln">  48 </span><span class="pp-pln">            </span><span class="pp-tag">elif</span><span class="pp-pln"> type == 'date'</span></div><div class="L9"><span class="pp-ln">  49 </span><span class="pp-pln">                </span><span class="pp-tag">if</span><span class="pp-pln"> md.canConvertTo(type, value)</span></div><div class="L0"><span class="pp-ln">  50 </span><span class="pp-pln">                    </span><span class="pp-tag">var</span><span class="pp-pln"> parts = value.split('-')</span></div><div class="L1"><span class="pp-ln">  51 </span><span class="pp-pln">                    </span><span class="pp-tag">return</span></div><div class="L2"><span class="pp-ln">  52 </span><span class="pp-pln">                        </span><span class="pp-tag">new</span><span class="pp-pln"> Date</span></div><div class="L3"><span class="pp-ln">  53 </span><span class="pp-pln">                            </span><span class="pp-tag">@</span><span class="pp-pln"> parts[0]</span></div><div class="L4"><span class="pp-ln">  54 </span><span class="pp-pln">                            </span><span class="pp-tag">@</span><span class="pp-pln"> parts[1] - 1</span></div><div class="L5"><span class="pp-ln">  55 </span><span class="pp-pln">                            </span><span class="pp-tag">@</span><span class="pp-pln"> parts[2]</span></div><div class="L6"><span class="pp-ln">  56 </span><span class="pp-pln">                </span><span class="pp-tag">else</span></div><div class="L7"><span class="pp-ln">  57 </span><span class="pp-pln">                    </span><span class="pp-tag">return</span></div><div class="L8"><span class="pp-ln">  58 </span><span class="pp-pln">                        </span><span class="pp-tag">_</span><span class="pp-pln"> error</span></div><div class="L9"><span class="pp-ln">  59 </span><span class="pp-pln">                            </span><span class="pp-tag">@</span><span class="pp-pln"> 'TypeError'</span></div><div class="L0"><span class="pp-ln">  60 </span><span class="pp-pln">                            </span><span class="pp-tag">@</span><span class="pp-pln"> 'convert'</span></div><div class="L1"><span class="pp-ln">  61 </span><span class="pp-pln">                            </span><span class="pp-tag">@</span><span class="pp-pln"> 'Cannot convert ' + value + ' to date'</span></div><div class="L2"><span class="pp-ln">  62 </span><span class="pp-pln">            </span><span class="pp-tag">return</span></div><div class="L3"><span class="pp-ln">  63 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> error</span></div><div class="L4"><span class="pp-ln">  64 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> 'TypeError'</span></div><div class="L5"><span class="pp-ln">  65 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> 'convert'</span></div><div class="L6"><span class="pp-ln">  66 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> 'Invalid type: "' + type + '", expected (string, integer, float, boolean, date)'</span></div><div class="L7"><span class="pp-ln">  67 </span><span class="pp-pln">    </span><span class="pp-tag">#</span><span class="pp-pln"> means can convert a not empty string value to a given type</span></div><div class="L8"><span class="pp-ln">  68 </span><span class="pp-pln">    </span><span class="pp-tag">set</span><span class="pp-pln"> md.canConvertTo</span></div><div class="L9"><span class="pp-ln">  69 </span><span class="pp-pln">        </span><span class="pp-tag">function</span></div><div class="L0"><span class="pp-ln">  70 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> type</span></div><div class="L1"><span class="pp-ln">  71 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> value</span></div><div class="L2"><span class="pp-ln">  72 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> type === 'boolean'</span></div><div class="L3"><span class="pp-ln">  73 </span><span class="pp-pln">                </span><span class="pp-tag">return</span><span class="pp-pln"> value === 'true' || value === 'false'</span></div><div class="L4"><span class="pp-ln">  74 </span><span class="pp-pln">            </span><span class="pp-tag">elif</span><span class="pp-pln"> type === 'integer'</span></div><div class="L5"><span class="pp-ln">  75 </span><span class="pp-pln">                </span><span class="pp-tag">return</span><span class="pp-pln"> /^\-?[0-9]+$/.test(value)</span></div><div class="L6"><span class="pp-ln">  76 </span><span class="pp-pln">            </span><span class="pp-tag">elif</span><span class="pp-pln"> type === 'float'</span></div><div class="L7"><span class="pp-ln">  77 </span><span class="pp-pln">                </span><span class="pp-tag">return</span><span class="pp-pln"> /^\-?[0-9]*\.?[0-9]+$/.test(value)</span></div><div class="L8"><span class="pp-ln">  78 </span><span class="pp-pln">            </span><span class="pp-tag">elif</span><span class="pp-pln"> type === 'date'</span></div><div class="L9"><span class="pp-ln">  79 </span><span class="pp-pln">                </span><span class="pp-tag">return</span><span class="pp-pln"> /\d{4}-\d{1,2}-\d{1,2}/.test(value)</span></div><div class="L0"><span class="pp-ln">  80 </span><span class="pp-pln">            </span><span class="pp-tag">elif</span><span class="pp-pln"> type === 'string'</span></div><div class="L1"><span class="pp-ln">  81 </span><span class="pp-pln">                </span><span class="pp-tag">return</span><span class="pp-pln"> true</span></div></pre>
                    </div>
                </div>
                <div class="code-panel" id="d88">
                    <div class="modal-view-container">
                        <h4 class="d-h2">/src/ittf/lib/t/verify/errors.js.ittf</h4>
                        <pre class="prettyprint">

<div class="L1"><span class="pp-ln">   1 </span><span class="pp-pln"></span><span class="pp-kwd">$group</span></div><div class="L2"><span class="pp-ln">   2 </span><span class="pp-pln">    </span><span class="pp-tag">set</span><span class="pp-pln"> md.code</span></div><div class="L3"><span class="pp-ln">   3 </span><span class="pp-pln">        </span><span class="pp-tag">{</span></div><div class="L4"><span class="pp-ln">   4 </span><span class="pp-pln">            </span><span class="pp-tag">@</span><span class="pp-pln"> FATAL_ERROR 1</span></div><div class="L5"><span class="pp-ln">   5 </span><span class="pp-pln">            </span><span class="pp-tag">@</span><span class="pp-pln"> WARNING 10</span></div><div class="L6"><span class="pp-ln">   6 </span><span class="pp-pln">    </span><span class="pp-tag">set</span><span class="pp-pln"> md.error</span></div><div class="L7"><span class="pp-ln">   7 </span><span class="pp-pln">        </span><span class="pp-tag">function</span></div><div class="L8"><span class="pp-ln">   8 </span><span class="pp-pln">            </span><span class="pp-tag">var</span></div><div class="L9"><span class="pp-ln">   9 </span><span class="pp-pln">                </span><span class="pp-tag">decl</span><span class="pp-pln"> args = Array.prototype.slice.call(arguments, 0)</span></div><div class="L0"><span class="pp-ln">  10 </span><span class="pp-pln">                </span><span class="pp-tag">decl</span><span class="pp-pln"> name = null</span></div><div class="L1"><span class="pp-ln">  11 </span><span class="pp-pln">                </span><span class="pp-tag">decl</span><span class="pp-pln"> inner = null</span></div><div class="L2"><span class="pp-ln">  12 </span><span class="pp-pln">                </span><span class="pp-tag">decl</span><span class="pp-pln"> shortmessage = null</span></div><div class="L3"><span class="pp-ln">  13 </span><span class="pp-pln">                </span><span class="pp-tag">decl</span><span class="pp-pln"> message = null</span></div><div class="L4"><span class="pp-ln">  14 </span><span class="pp-pln">                </span><span class="pp-tag">decl</span><span class="pp-pln"> info = {}</span></div><div class="L5"><span class="pp-ln">  15 </span><span class="pp-pln">                </span><span class="pp-tag">decl</span><span class="pp-pln"> sprintf_args = []</span></div><div class="L6"><span class="pp-ln">  16 </span><span class="pp-pln">                </span><span class="pp-tag">decl</span><span class="pp-pln"> stack</span></div><div class="L7"><span class="pp-ln">  17 </span><span class="pp-pln">            </span><span class="pp-tag">foreach</span><span class="pp-pln"> arg in args</span></div><div class="L8"><span class="pp-ln">  18 </span><span class="pp-pln">                </span><span class="pp-tag">if</span><span class="pp-pln"> md.isError(arg)</span></div><div class="L9"><span class="pp-ln">  19 </span><span class="pp-pln">                    </span><span class="pp-tag">log</span><span class="pp-pln"> 'wizzi-utils.verify.errors.error. seen inner', arg.message, arg.stack</span></div><div class="L0"><span class="pp-ln">  20 </span><span class="pp-pln">                    </span><span class="pp-tag">set</span><span class="pp-pln"> inner = arg</span></div><div class="L1"><span class="pp-ln">  21 </span><span class="pp-pln">                </span><span class="pp-tag">elif</span><span class="pp-pln"> typeof (arg) === 'object' && sprintf_args.length == 0</span></div><div class="L2"><span class="pp-ln">  22 </span><span class="pp-pln">                    </span><span class="pp-tag">for</span><span class="pp-pln"> var k in arg</span></div><div class="L3"><span class="pp-ln">  23 </span><span class="pp-pln">                        </span><span class="pp-tag">if</span><span class="pp-pln"> k === 'name'</span></div><div class="L4"><span class="pp-ln">  24 </span><span class="pp-pln">                            </span><span class="pp-tag">_</span><span class="pp-pln"> md.assert.notEmpty</span></div><div class="L5"><span class="pp-ln">  25 </span><span class="pp-pln">                                </span><span class="pp-tag">@</span><span class="pp-pln"> arg[k]</span></div><div class="L6"><span class="pp-ln">  26 </span><span class="pp-pln">                                </span><span class="pp-tag">@</span><span class="pp-pln"> 'error\'s "name" must be a string. Received: ' + util.inspect(arg[k], { depth: null })</span></div><div class="L7"><span class="pp-ln">  27 </span><span class="pp-pln">                            </span><span class="pp-tag">set</span><span class="pp-pln"> name = arg[k]</span></div><div class="L8"><span class="pp-ln">  28 </span><span class="pp-pln">                        </span><span class="pp-tag">else</span></div><div class="L9"><span class="pp-ln">  29 </span><span class="pp-pln">                            </span><span class="pp-tag">set</span><span class="pp-pln"> info[k] = arg[k]</span></div><div class="L0"><span class="pp-ln">  30 </span><span class="pp-pln">                </span><span class="pp-tag">else</span></div><div class="L1"><span class="pp-ln">  31 </span><span class="pp-pln">                    </span><span class="pp-tag">if</span><span class="pp-pln"> sprintf_args.length == 0 && arg === null || typeof(arg) === 'undefined'</span></div><div class="L2"><span class="pp-ln">  32 </span><span class="pp-pln">                        </span><span class="pp-tag">#</span><span class="pp-pln"> skip empty inner error or empty object</span></div><div class="L3"><span class="pp-ln">  33 </span><span class="pp-pln">                    </span><span class="pp-tag">else</span></div><div class="L4"><span class="pp-ln">  34 </span><span class="pp-pln">                        </span><span class="pp-tag">_</span><span class="pp-pln"> sprintf_args.push(arg)</span></div><div class="L5"><span class="pp-ln">  35 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> sprintf_args.length &gt; 0</span></div><div class="L6"><span class="pp-ln">  36 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> md.assert.notEmpty</span></div><div class="L7"><span class="pp-ln">  37 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> sprintf_args[0]</span></div><div class="L8"><span class="pp-ln">  38 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> 'First sprintf argument to wzError ' + 'constructor must be a string. Received: ' + util.inspect(sprintf_args[0], { depth: null })</span></div><div class="L9"><span class="pp-ln">  39 </span><span class="pp-pln">            </span><span class="pp-tag">set</span><span class="pp-pln"> shortmessage</span></div><div class="L0"><span class="pp-ln">  40 </span><span class="pp-pln">                </span><span class="pp-tag">iif</span><span class="pp-pln"> sprintf_args.length === 0</span></div><div class="L1"><span class="pp-ln">  41 </span><span class="pp-pln">                    </span><span class="pp-tag">then</span><span class="pp-pln"> ''</span></div><div class="L2"><span class="pp-ln">  42 </span><span class="pp-pln">                    </span><span class="pp-tag">else</span><span class="pp-pln"> sprintf.apply(null, sprintf_args)</span></div><div class="L3"><span class="pp-ln">  43 </span><span class="pp-pln">            </span><span class="pp-tag">set</span><span class="pp-pln"> message = shortmessage</span></div><div class="L4"><span class="pp-ln">  44 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> inner && md.isError(inner)</span></div><div class="L5"><span class="pp-ln">  45 </span><span class="pp-pln">                </span><span class="pp-tag">set</span><span class="pp-pln"> message += ': ' + inner.message</span></div><div class="L6"><span class="pp-ln">  46 </span><span class="pp-pln">                </span><span class="pp-tag">set</span><span class="pp-pln"> stack = inner.stack</span></div><div class="L7"><span class="pp-ln">  47 </span><span class="pp-pln">            </span><span class="pp-tag">return</span></div><div class="L8"><span class="pp-ln">  48 </span><span class="pp-pln">                </span><span class="pp-tag">new</span><span class="pp-pln"> wzError</span></div><div class="L9"><span class="pp-ln">  49 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> name</span></div><div class="L0"><span class="pp-ln">  50 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> inner</span></div><div class="L1"><span class="pp-ln">  51 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> shortmessage</span></div><div class="L2"><span class="pp-ln">  52 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> message</span></div><div class="L3"><span class="pp-ln">  53 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> info</span></div><div class="L4"><span class="pp-ln">  54 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> stack</span></div><div class="L5"><span class="pp-ln">  55 </span><span class="pp-pln">    </span><span class="pp-tag">set</span><span class="pp-pln"> md.fatal</span></div><div class="L6"><span class="pp-ln">  56 </span><span class="pp-pln">        </span><span class="pp-tag">function</span></div><div class="L7"><span class="pp-ln">  57 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> err</span></div><div class="L8"><span class="pp-ln">  58 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> errcode</span></div><div class="L9"><span class="pp-ln">  59 </span><span class="pp-pln">            </span><span class="pp-tag">log</span><span class="pp-pln"> 'wizzi-utils.errors.fatal', util.inspect(err, { depth: null })</span></div><div class="L0"><span class="pp-ln">  60 </span><span class="pp-pln">            </span><span class="pp-tag">throw</span><span class="pp-pln"> new Error(err)</span></div><div class="L1"><span class="pp-ln">  61 </span><span class="pp-pln">            </span><span class="pp-tag">_</span><span class="pp-pln"> logerror</span></div><div class="L2"><span class="pp-ln">  62 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> "Fatal error: " + String(err.message || err)</span></div><div class="L3"><span class="pp-ln">  63 </span><span class="pp-pln">            </span><span class="pp-tag">_</span><span class="pp-pln"> dumpStack</span></div><div class="L4"><span class="pp-ln">  64 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> err</span></div><div class="L5"><span class="pp-ln">  65 </span><span class="pp-pln">            </span><span class="pp-tag">var</span><span class="pp-pln"> code</span></div><div class="L6"><span class="pp-ln">  66 </span><span class="pp-pln">                </span><span class="pp-tag">iif</span><span class="pp-pln"> typeof(errcode) === 'number'</span></div><div class="L7"><span class="pp-ln">  67 </span><span class="pp-pln">                    </span><span class="pp-tag">then</span><span class="pp-pln"> errcode</span></div><div class="L8"><span class="pp-ln">  68 </span><span class="pp-pln">                    </span><span class="pp-tag">else</span></div><div class="L9"><span class="pp-ln">  69 </span><span class="pp-pln">                        </span><span class="pp-tag">set</span><span class="pp-pln"> md.code.FATAL_ERROR</span></div><div class="L0"><span class="pp-ln">  70 </span><span class="pp-pln">            </span><span class="pp-tag">_</span><span class="pp-pln"> process.exit</span></div><div class="L1"><span class="pp-ln">  71 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> code</span></div><div class="L2"><span class="pp-ln">  72 </span><span class="pp-pln">    </span><span class="pp-tag">function</span><span class="pp-pln"> loginfo</span></div><div class="L3"><span class="pp-ln">  73 </span><span class="pp-pln">        </span><span class="pp-tag">param</span><span class="pp-pln"> msg</span></div><div class="L4"><span class="pp-ln">  74 </span><span class="pp-pln">        </span><span class="pp-tag">_</span><span class="pp-pln"> console.log(msg)</span></div><div class="L5"><span class="pp-ln">  75 </span><span class="pp-pln">    </span><span class="pp-tag">function</span><span class="pp-pln"> logwarn</span></div><div class="L6"><span class="pp-ln">  76 </span><span class="pp-pln">        </span><span class="pp-tag">param</span><span class="pp-pln"> msg</span></div><div class="L7"><span class="pp-ln">  77 </span><span class="pp-pln">        </span><span class="pp-tag">_</span><span class="pp-pln"> console.log</span></div><div class="L8"><span class="pp-ln">  78 </span><span class="pp-pln">            </span><span class="pp-tag">_</span><span class="pp-pln"> chalk.yellow(msg)</span></div><div class="L9"><span class="pp-ln">  79 </span><span class="pp-pln">    </span><span class="pp-tag">function</span><span class="pp-pln"> logerror</span></div><div class="L0"><span class="pp-ln">  80 </span><span class="pp-pln">        </span><span class="pp-tag">param</span><span class="pp-pln"> msg</span></div><div class="L1"><span class="pp-ln">  81 </span><span class="pp-pln">        </span><span class="pp-tag">_</span><span class="pp-pln"> console.log</span></div><div class="L2"><span class="pp-ln">  82 </span><span class="pp-pln">            </span><span class="pp-tag">_</span><span class="pp-pln"> chalk.red(msg)</span></div><div class="L3"><span class="pp-ln">  83 </span><span class="pp-pln">    </span><span class="pp-tag">function</span><span class="pp-pln"> dumpStack</span></div><div class="L4"><span class="pp-ln">  84 </span><span class="pp-pln">        </span><span class="pp-tag">param</span><span class="pp-pln"> e</span></div><div class="L5"><span class="pp-ln">  85 </span><span class="pp-pln">        </span><span class="pp-tag">if</span><span class="pp-pln"> e.origError && e.origError.stack</span></div><div class="L6"><span class="pp-ln">  86 </span><span class="pp-pln">            </span><span class="pp-tag">_</span><span class="pp-pln"> loginfo</span></div><div class="L7"><span class="pp-ln">  87 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> e.origError.stack</span></div><div class="L8"><span class="pp-ln">  88 </span><span class="pp-pln">        </span><span class="pp-tag">elif</span><span class="pp-pln"> e.stack</span></div><div class="L9"><span class="pp-ln">  89 </span><span class="pp-pln">            </span><span class="pp-tag">_</span><span class="pp-pln"> loginfo</span></div><div class="L0"><span class="pp-ln">  90 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> e.stack</span></div><div class="L1"><span class="pp-ln">  91 </span><span class="pp-pln">        </span><span class="pp-tag">else</span></div><div class="L2"><span class="pp-ln">  92 </span><span class="pp-pln">            </span><span class="pp-tag">_</span><span class="pp-pln"> loginfo</span></div><div class="L3"><span class="pp-ln">  93 </span><span class="pp-pln">                </span><span class="pp-tag">new</span><span class="pp-pln"> Error().stack</span></div></pre>
                    </div>
                </div>
                <div class="code-panel" id="d89">
                    <div class="modal-view-container">
                        <h4 class="d-h2">/src/ittf/lib/t/verify/is.js.ittf</h4>
                        <pre class="prettyprint">

<div class="L1"><span class="pp-ln">   1 </span><span class="pp-pln"></span><span class="pp-kwd">$group</span></div><div class="L2"><span class="pp-ln">   2 </span><span class="pp-pln">    </span><span class="pp-tag">set</span><span class="pp-pln"> md.isDefined</span></div><div class="L3"><span class="pp-ln">   3 </span><span class="pp-pln">        </span><span class="pp-tag">function</span></div><div class="L4"><span class="pp-ln">   4 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> test</span></div><div class="L5"><span class="pp-ln">   5 </span><span class="pp-pln">            </span><span class="pp-tag">return</span><span class="pp-pln"> !(typeof(test) === 'undefined')</span></div><div class="L6"><span class="pp-ln">   6 </span><span class="pp-pln">    </span><span class="pp-tag">set</span><span class="pp-pln"> md.isUndefined</span></div><div class="L7"><span class="pp-ln">   7 </span><span class="pp-pln">        </span><span class="pp-tag">function</span></div><div class="L8"><span class="pp-ln">   8 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> test</span></div><div class="L9"><span class="pp-ln">   9 </span><span class="pp-pln">            </span><span class="pp-tag">return</span><span class="pp-pln"> typeof(test) === 'undefined'</span></div><div class="L0"><span class="pp-ln">  10 </span><span class="pp-pln">    </span><span class="pp-tag">set</span><span class="pp-pln"> md.isNullOrUndefined</span></div><div class="L1"><span class="pp-ln">  11 </span><span class="pp-pln">        </span><span class="pp-tag">function</span></div><div class="L2"><span class="pp-ln">  12 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> test</span></div><div class="L3"><span class="pp-ln">  13 </span><span class="pp-pln">            </span><span class="pp-tag">return</span><span class="pp-pln"> test === null || (typeof(test) === 'undefined')</span></div><div class="L4"><span class="pp-ln">  14 </span><span class="pp-pln">    </span><span class="pp-tag">set</span><span class="pp-pln"> md.isString</span></div><div class="L5"><span class="pp-ln">  15 </span><span class="pp-pln">        </span><span class="pp-tag">function</span></div><div class="L6"><span class="pp-ln">  16 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> test</span></div><div class="L7"><span class="pp-ln">  17 </span><span class="pp-pln">            </span><span class="pp-tag">return</span><span class="pp-pln"> test !== null && typeof(test) === 'string'</span></div><div class="L8"><span class="pp-ln">  18 </span><span class="pp-pln">    </span><span class="pp-tag">set</span><span class="pp-pln"> md.isEmpty</span></div><div class="L9"><span class="pp-ln">  19 </span><span class="pp-pln">        </span><span class="pp-tag">function</span></div><div class="L0"><span class="pp-ln">  20 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> test</span></div><div class="L1"><span class="pp-ln">  21 </span><span class="pp-pln">            </span><span class="pp-tag">return</span><span class="pp-pln"> md.isString(test) == false || test.length == 0</span></div><div class="L2"><span class="pp-ln">  22 </span><span class="pp-pln">    </span><span class="pp-tag">set</span><span class="pp-pln"> md.isNotEmpty</span></div><div class="L3"><span class="pp-ln">  23 </span><span class="pp-pln">        </span><span class="pp-tag">function</span></div><div class="L4"><span class="pp-ln">  24 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> test</span></div><div class="L5"><span class="pp-ln">  25 </span><span class="pp-pln">            </span><span class="pp-tag">return</span><span class="pp-pln"> md.isString(test) && test.length &gt; 0</span></div><div class="L6"><span class="pp-ln">  26 </span><span class="pp-pln">    </span><span class="pp-tag">set</span><span class="pp-pln"> md.isNumber</span></div><div class="L7"><span class="pp-ln">  27 </span><span class="pp-pln">        </span><span class="pp-tag">function</span></div><div class="L8"><span class="pp-ln">  28 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> test</span></div><div class="L9"><span class="pp-ln">  29 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> test === null || typeof(test) === 'undefined'</span></div><div class="L0"><span class="pp-ln">  30 </span><span class="pp-pln">                </span><span class="pp-tag">return</span><span class="pp-pln"> false</span></div><div class="L1"><span class="pp-ln">  31 </span><span class="pp-pln">            </span><span class="pp-tag">return</span><span class="pp-pln"> !md.isArray(test) && (test - parseFloat(test) + 1) &gt;= 0</span></div><div class="L2"><span class="pp-ln">  32 </span><span class="pp-pln">    </span><span class="pp-tag">set</span><span class="pp-pln"> md.isBoolean</span></div><div class="L3"><span class="pp-ln">  33 </span><span class="pp-pln">        </span><span class="pp-tag">function</span></div><div class="L4"><span class="pp-ln">  34 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> test</span></div><div class="L5"><span class="pp-ln">  35 </span><span class="pp-pln">            </span><span class="pp-tag">return</span><span class="pp-pln"> typeof(test) === 'boolean'</span></div><div class="L6"><span class="pp-ln">  36 </span><span class="pp-pln">    </span><span class="pp-tag">set</span><span class="pp-pln"> md.isDate</span></div><div class="L7"><span class="pp-ln">  37 </span><span class="pp-pln">        </span><span class="pp-tag">function</span></div><div class="L8"><span class="pp-ln">  38 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> test</span></div><div class="L9"><span class="pp-ln">  39 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> test === null || typeof(test) === 'undefined'</span></div><div class="L0"><span class="pp-ln">  40 </span><span class="pp-pln">                </span><span class="pp-tag">return</span><span class="pp-pln"> false</span></div><div class="L1"><span class="pp-ln">  41 </span><span class="pp-pln">            </span><span class="pp-tag">return</span><span class="pp-pln"> Object.prototype.toString.call(test) === '[object Date]'</span></div><div class="L2"><span class="pp-ln">  42 </span><span class="pp-pln">    </span><span class="pp-tag">set</span><span class="pp-pln"> md.isPrimitive</span></div><div class="L3"><span class="pp-ln">  43 </span><span class="pp-pln">        </span><span class="pp-tag">function</span></div><div class="L4"><span class="pp-ln">  44 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> test</span></div><div class="L5"><span class="pp-ln">  45 </span><span class="pp-pln">            </span><span class="pp-tag">return</span><span class="pp-pln"> md.isString(test) || md.isNumber(test) || md.isBoolean(test) || md.isDate(test)</span></div><div class="L6"><span class="pp-ln">  46 </span><span class="pp-pln">    </span><span class="pp-tag">set</span><span class="pp-pln"> md.isObject</span></div><div class="L7"><span class="pp-ln">  47 </span><span class="pp-pln">        </span><span class="pp-tag">function</span></div><div class="L8"><span class="pp-ln">  48 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> test</span></div><div class="L9"><span class="pp-ln">  49 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> test === null || typeof(test) === 'undefined'</span></div><div class="L0"><span class="pp-ln">  50 </span><span class="pp-pln">                </span><span class="pp-tag">return</span><span class="pp-pln"> false</span></div><div class="L1"><span class="pp-ln">  51 </span><span class="pp-pln">            </span><span class="pp-tag">return</span><span class="pp-pln"> {}.toString.call(test) === '[object Object]'</span></div><div class="L2"><span class="pp-ln">  52 </span><span class="pp-pln">    </span><span class="pp-tag">set</span><span class="pp-pln"> md.isArray</span></div><div class="L3"><span class="pp-ln">  53 </span><span class="pp-pln">        </span><span class="pp-tag">function</span></div><div class="L4"><span class="pp-ln">  54 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> test</span></div><div class="L5"><span class="pp-ln">  55 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> test === null || typeof(test) === 'undefined'</span></div><div class="L6"><span class="pp-ln">  56 </span><span class="pp-pln">                </span><span class="pp-tag">return</span><span class="pp-pln"> false</span></div><div class="L7"><span class="pp-ln">  57 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> Array.isArray</span></div><div class="L8"><span class="pp-ln">  58 </span><span class="pp-pln">                </span><span class="pp-tag">return</span><span class="pp-pln"> Array.isArray(test);</span></div><div class="L9"><span class="pp-ln">  59 </span><span class="pp-pln">            </span><span class="pp-tag">return</span><span class="pp-pln"> {}.toString.call(test) === '[object Array]'</span></div><div class="L0"><span class="pp-ln">  60 </span><span class="pp-pln">    </span><span class="pp-tag">set</span><span class="pp-pln"> md.isArrayOrObject</span></div><div class="L1"><span class="pp-ln">  61 </span><span class="pp-pln">        </span><span class="pp-tag">function</span></div><div class="L2"><span class="pp-ln">  62 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> test</span></div><div class="L3"><span class="pp-ln">  63 </span><span class="pp-pln">            </span><span class="pp-tag">return</span><span class="pp-pln"> md.isArray(test) || md.isObject(test)</span></div><div class="L4"><span class="pp-ln">  64 </span><span class="pp-pln">    </span><span class="pp-tag">set</span><span class="pp-pln"> md.isFunction</span></div><div class="L5"><span class="pp-ln">  65 </span><span class="pp-pln">        </span><span class="pp-tag">function</span></div><div class="L6"><span class="pp-ln">  66 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> test</span></div><div class="L7"><span class="pp-ln">  67 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> test === null || typeof(test) === 'undefined'</span></div><div class="L8"><span class="pp-ln">  68 </span><span class="pp-pln">                </span><span class="pp-tag">return</span><span class="pp-pln"> false</span></div><div class="L9"><span class="pp-ln">  69 </span><span class="pp-pln">            </span><span class="pp-tag">return</span><span class="pp-pln"> {}.toString.call(test) === '[object Function]'</span></div><div class="L0"><span class="pp-ln">  70 </span><span class="pp-pln">    </span><span class="pp-tag">set</span><span class="pp-pln"> md.isRegExp</span></div><div class="L1"><span class="pp-ln">  71 </span><span class="pp-pln">        </span><span class="pp-tag">function</span></div><div class="L2"><span class="pp-ln">  72 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> test</span></div><div class="L3"><span class="pp-ln">  73 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> test === null || typeof(test) === 'undefined'</span></div><div class="L4"><span class="pp-ln">  74 </span><span class="pp-pln">                </span><span class="pp-tag">return</span><span class="pp-pln"> false</span></div><div class="L5"><span class="pp-ln">  75 </span><span class="pp-pln">            </span><span class="pp-tag">return</span><span class="pp-pln"> {}.toString.call(test) === '[object RegExp]'</span></div><div class="L6"><span class="pp-ln">  76 </span><span class="pp-pln">    </span><span class="pp-tag">set</span><span class="pp-pln"> md.isError</span></div><div class="L7"><span class="pp-ln">  77 </span><span class="pp-pln">        </span><span class="pp-tag">function</span></div><div class="L8"><span class="pp-ln">  78 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> test</span></div><div class="L9"><span class="pp-ln">  79 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> test === null || typeof(test) === 'undefined'</span></div><div class="L0"><span class="pp-ln">  80 </span><span class="pp-pln">                </span><span class="pp-tag">return</span><span class="pp-pln"> false</span></div><div class="L1"><span class="pp-ln">  81 </span><span class="pp-pln">            </span><span class="pp-tag">return</span><span class="pp-pln"> ({}.toString.call(test) === '[object Error]') || (test instanceof Error)</span></div><div class="L2"><span class="pp-ln">  82 </span><span class="pp-pln">    </span><span class="pp-tag">set</span><span class="pp-pln"> md.isAbsolutePath</span></div><div class="L3"><span class="pp-ln">  83 </span><span class="pp-pln">        </span><span class="pp-tag">function</span></div><div class="L4"><span class="pp-ln">  84 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> test</span></div><div class="L5"><span class="pp-ln">  85 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> test === null || typeof(test) === 'undefined'</span></div><div class="L6"><span class="pp-ln">  86 </span><span class="pp-pln">                </span><span class="pp-tag">return</span><span class="pp-pln"> false</span></div><div class="L7"><span class="pp-ln">  87 </span><span class="pp-pln">            </span><span class="pp-tag">return</span><span class="pp-pln"> isAbsolutePathRegExp.test(md.unixifyPath(test))</span></div><div class="L8"><span class="pp-ln">  88 </span><span class="pp-pln">            </span><span class="pp-tag">#</span></div><div class="L9"><span class="pp-ln">  89 </span><span class="pp-pln">                </span><span class="pp-tag">if</span><span class="pp-pln"> test.substr(0,3) === 'db:' || test.substr(0,3) === 'ls:'</span></div><div class="L0"><span class="pp-ln">  90 </span><span class="pp-pln">                    </span><span class="pp-tag">return</span><span class="pp-pln"> true</span></div><div class="L1"><span class="pp-ln">  91 </span><span class="pp-pln">                </span><span class="pp-tag">return</span><span class="pp-pln"> path.resolve(test) == path.normalize(test)</span></div><div class="L2"><span class="pp-ln">  92 </span><span class="pp-pln">    </span><span class="pp-tag">set</span><span class="pp-pln"> md.isIttfMacro</span></div><div class="L3"><span class="pp-ln">  93 </span><span class="pp-pln">        </span><span class="pp-tag">function</span></div><div class="L4"><span class="pp-ln">  94 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> test</span></div><div class="L5"><span class="pp-ln">  95 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> md.isEmpty(test)</span></div><div class="L6"><span class="pp-ln">  96 </span><span class="pp-pln">                </span><span class="pp-tag">return</span><span class="pp-pln"> false</span></div><div class="L7"><span class="pp-ln">  97 </span><span class="pp-pln">            </span><span class="pp-tag">set</span><span class="pp-pln"> test = test.trim()</span></div><div class="L8"><span class="pp-ln">  98 </span><span class="pp-pln">            </span><span class="pp-tag">return</span><span class="pp-pln"> test.substr(0, 2) === '</span><span class="pp-kwd">${</span><span class="pp-expr">' && test.substr(-1, 1) === '</span><span class="pp-kwd">}</span><span class="pp-pln">'</span></div><div class="L9"><span class="pp-ln">  99 </span><span class="pp-pln">    </span><span class="pp-tag">set</span><span class="pp-pln"> md.isSingleQuoteLiteral</span></div><div class="L0"><span class="pp-ln"> 100 </span><span class="pp-pln">        </span><span class="pp-tag">function</span></div><div class="L1"><span class="pp-ln"> 101 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> test</span></div><div class="L2"><span class="pp-ln"> 102 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> md.isEmpty(test)</span></div><div class="L3"><span class="pp-ln"> 103 </span><span class="pp-pln">                </span><span class="pp-tag">return</span><span class="pp-pln"> false</span></div><div class="L4"><span class="pp-ln"> 104 </span><span class="pp-pln">            </span><span class="pp-tag">set</span><span class="pp-pln"> test = test.trim()</span></div><div class="L5"><span class="pp-ln"> 105 </span><span class="pp-pln">            </span><span class="pp-tag">return</span><span class="pp-pln"> test[0] === "'" && test.substr(-1, 1) === "'"</span></div><div class="L6"><span class="pp-ln"> 106 </span><span class="pp-pln">    </span><span class="pp-tag">set</span><span class="pp-pln"> md.isDoubleQuoteLiteral</span></div><div class="L7"><span class="pp-ln"> 107 </span><span class="pp-pln">        </span><span class="pp-tag">function</span></div><div class="L8"><span class="pp-ln"> 108 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> test</span></div><div class="L9"><span class="pp-ln"> 109 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> md.isEmpty(test)</span></div><div class="L0"><span class="pp-ln"> 110 </span><span class="pp-pln">                </span><span class="pp-tag">return</span><span class="pp-pln"> false</span></div><div class="L1"><span class="pp-ln"> 111 </span><span class="pp-pln">            </span><span class="pp-tag">set</span><span class="pp-pln"> test = test.trim()</span></div><div class="L2"><span class="pp-ln"> 112 </span><span class="pp-pln">            </span><span class="pp-tag">return</span><span class="pp-pln"> test[0] === '"' && test.substr(-1, 1) === '"'</span></div><div class="L3"><span class="pp-ln"> 113 </span><span class="pp-pln">    </span><span class="pp-tag">set</span><span class="pp-pln"> md.isCssLength</span></div><div class="L4"><span class="pp-ln"> 114 </span><span class="pp-pln">        </span><span class="pp-tag">function</span></div><div class="L5"><span class="pp-ln"> 115 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> test</span></div><div class="L6"><span class="pp-ln"> 116 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> md.isEmpty(test)</span></div><div class="L7"><span class="pp-ln"> 117 </span><span class="pp-pln">                </span><span class="pp-tag">return</span><span class="pp-pln"> false</span></div><div class="L8"><span class="pp-ln"> 118 </span><span class="pp-pln">            </span><span class="pp-tag">set</span><span class="pp-pln"> test = test.trim()</span></div><div class="L9"><span class="pp-ln"> 119 </span><span class="pp-pln">            </span><span class="pp-tag">var</span><span class="pp-pln"> num = 0</span></div><div class="L0"><span class="pp-ln"> 120 </span><span class="pp-pln">            </span><span class="pp-tag">var</span><span class="pp-pln"> unit = ''</span></div><div class="L1"><span class="pp-ln"> 121 </span><span class="pp-pln">            </span><span class="pp-tag">for</span><span class="pp-pln"> var i=0; i&lt;test.length; i++</span></div><div class="L2"><span class="pp-ln"> 122 </span><span class="pp-pln">                </span><span class="pp-tag">if</span><span class="pp-pln"> '0123456789.'.indexOf(test[i]) &gt; -1</span></div><div class="L3"><span class="pp-ln"> 123 </span><span class="pp-pln">                    </span><span class="pp-tag">set</span><span class="pp-pln"> num++</span></div><div class="L4"><span class="pp-ln"> 124 </span><span class="pp-pln">                </span><span class="pp-tag">else</span></div><div class="L5"><span class="pp-ln"> 125 </span><span class="pp-pln">                    </span><span class="pp-tag">set</span><span class="pp-pln"> unit += test[i]</span></div><div class="L6"><span class="pp-ln"> 126 </span><span class="pp-pln">            </span><span class="pp-tag">return</span><span class="pp-pln"> num &gt; 0 && ['px', 'em', 'rem', 'vh', 'vw'].indexOf(unit) &gt; -1</span></div></pre>
                    </div>
                </div>
                <div class="code-panel" id="d90">
                    <div class="modal-view-container">
                        <h4 class="d-h2">/src/ittf/lib/t/verify/parseNameValue.js.ittf</h4>
                        <pre class="prettyprint">

<div class="L1"><span class="pp-ln">   1 </span><span class="pp-pln"></span><span class="pp-kwd">$group</span></div><div class="L2"><span class="pp-ln">   2 </span><span class="pp-pln">    </span><span class="pp-tag">var</span><span class="pp-pln"> STATE_WAIT_NAME = 0</span></div><div class="L3"><span class="pp-ln">   3 </span><span class="pp-pln">    </span><span class="pp-tag">var</span><span class="pp-pln"> STATE_NAME = 1</span></div><div class="L4"><span class="pp-ln">   4 </span><span class="pp-pln">    </span><span class="pp-tag">var</span><span class="pp-pln"> STATE_WAIT_VALUE = 2</span></div><div class="L5"><span class="pp-ln">   5 </span><span class="pp-pln">    </span><span class="pp-tag">var</span><span class="pp-pln"> STATE_VALUE = 3</span></div><div class="L6"><span class="pp-ln">   6 </span><span class="pp-pln">    </span><span class="pp-tag">var</span><span class="pp-pln"> STATE_ENDED = 4</span></div><div class="L7"><span class="pp-ln">   7 </span><span class="pp-pln">    </span><span class="pp-tag">set</span><span class="pp-pln"> md.parseNameValue</span></div><div class="L8"><span class="pp-ln">   8 </span><span class="pp-pln">        </span><span class="pp-tag">function</span></div><div class="L9"><span class="pp-ln">   9 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> text</span></div><div class="L0"><span class="pp-ln">  10 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> node</span></div><div class="L1"><span class="pp-ln">  11 </span><span class="pp-pln">            </span><span class="pp-tag">var</span><span class="pp-pln"> name_buf = []</span></div><div class="L2"><span class="pp-ln">  12 </span><span class="pp-pln">            </span><span class="pp-tag">var</span><span class="pp-pln"> value_buf = []</span></div><div class="L3"><span class="pp-ln">  13 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> md.isNotEmpty(text)</span></div><div class="L4"><span class="pp-ln">  14 </span><span class="pp-pln">                </span><span class="pp-tag">var</span></div><div class="L5"><span class="pp-ln">  15 </span><span class="pp-pln">                    </span><span class="pp-tag">decl</span><span class="pp-pln"> ch</span></div><div class="L6"><span class="pp-ln">  16 </span><span class="pp-pln">                    </span><span class="pp-tag">decl</span><span class="pp-pln"> l = text.length</span></div><div class="L7"><span class="pp-ln">  17 </span><span class="pp-pln">                    </span><span class="pp-tag">decl</span><span class="pp-pln"> state = 0</span></div><div class="L8"><span class="pp-ln">  18 </span><span class="pp-pln">                    </span><span class="pp-tag">decl</span><span class="pp-pln"> q = null</span></div><div class="L9"><span class="pp-ln">  19 </span><span class="pp-pln">                </span><span class="pp-tag">for</span><span class="pp-pln"> var i = 0; i &lt; l; i++</span></div><div class="L0"><span class="pp-ln">  20 </span><span class="pp-pln">                    </span><span class="pp-tag">set</span><span class="pp-pln"> ch = text[i]</span></div><div class="L1"><span class="pp-ln">  21 </span><span class="pp-pln">                    </span><span class="pp-tag">if</span><span class="pp-pln"> q != null</span></div><div class="L2"><span class="pp-ln">  22 </span><span class="pp-pln">                        </span><span class="pp-tag">#</span><span class="pp-pln"> state MUST BE STATE_NAME or STATE_VALUE</span></div><div class="L3"><span class="pp-ln">  23 </span><span class="pp-pln">                        </span><span class="pp-tag">if</span><span class="pp-pln"> state === STATE_NAME</span></div><div class="L4"><span class="pp-ln">  24 </span><span class="pp-pln">                            </span><span class="pp-tag">_</span><span class="pp-pln"> name_buf.push(ch)</span></div><div class="L5"><span class="pp-ln">  25 </span><span class="pp-pln">                        </span><span class="pp-tag">elif</span><span class="pp-pln"> state === STATE_VALUE</span></div><div class="L6"><span class="pp-ln">  26 </span><span class="pp-pln">                            </span><span class="pp-tag">_</span><span class="pp-pln"> value_buf.push(ch)</span></div><div class="L7"><span class="pp-ln">  27 </span><span class="pp-pln">                        </span><span class="pp-tag">else</span></div><div class="L8"><span class="pp-ln">  28 </span><span class="pp-pln">                            </span><span class="pp-tag">#</span><span class="pp-pln"> this is a bug</span></div><div class="L9"><span class="pp-ln">  29 </span><span class="pp-pln">                            </span><span class="pp-tag">throw</span><span class="pp-pln"> new Error('BUG. parseNameValue invalid state ' + state)</span></div><div class="L0"><span class="pp-ln">  30 </span><span class="pp-pln">                        </span><span class="pp-tag">if</span><span class="pp-pln"> ch == '\\'</span></div><div class="L1"><span class="pp-ln">  31 </span><span class="pp-pln">                            </span><span class="pp-tag">set</span><span class="pp-pln"> i++</span></div><div class="L2"><span class="pp-ln">  32 </span><span class="pp-pln">                            </span><span class="pp-tag">set</span><span class="pp-pln"> ch = text[i]</span></div><div class="L3"><span class="pp-ln">  33 </span><span class="pp-pln">                            </span><span class="pp-tag">if</span><span class="pp-pln"> state === STATE_NAME</span></div><div class="L4"><span class="pp-ln">  34 </span><span class="pp-pln">                                </span><span class="pp-tag">_</span><span class="pp-pln"> name_buf.push(ch)</span></div><div class="L5"><span class="pp-ln">  35 </span><span class="pp-pln">                            </span><span class="pp-tag">elif</span><span class="pp-pln"> state === STATE_VALUE</span></div><div class="L6"><span class="pp-ln">  36 </span><span class="pp-pln">                                </span><span class="pp-tag">_</span><span class="pp-pln"> value_buf.push(ch)</span></div><div class="L7"><span class="pp-ln">  37 </span><span class="pp-pln">                        </span><span class="pp-tag">elif</span><span class="pp-pln"> ch == q</span></div><div class="L8"><span class="pp-ln">  38 </span><span class="pp-pln">                            </span><span class="pp-tag">set</span><span class="pp-pln"> q = null</span></div><div class="L9"><span class="pp-ln">  39 </span><span class="pp-pln">                            </span><span class="pp-tag">if</span><span class="pp-pln"> state === STATE_NAME</span></div><div class="L0"><span class="pp-ln">  40 </span><span class="pp-pln">                                </span><span class="pp-tag">set</span><span class="pp-pln"> state = STATE_WAIT_VALUE</span></div><div class="L1"><span class="pp-ln">  41 </span><span class="pp-pln">                    </span><span class="pp-tag">elif</span><span class="pp-pln"> ch == '"' || ch == '\''</span></div><div class="L2"><span class="pp-ln">  42 </span><span class="pp-pln">                        </span><span class="pp-tag">#</span><span class="pp-pln"> state MUST BE STATE_WAIT_NAME or STATE_WAIT_VALUE</span></div><div class="L3"><span class="pp-ln">  43 </span><span class="pp-pln">                        </span><span class="pp-tag">if</span><span class="pp-pln"> state === STATE_NAME</span></div><div class="L4"><span class="pp-ln">  44 </span><span class="pp-pln">                            </span><span class="pp-tag">throw</span><span class="pp-pln"> new errors.NodeError("parseNameValue error. Invalid use of quote inside a name part. Source: " + text, node)</span></div><div class="L5"><span class="pp-ln">  45 </span><span class="pp-pln">                        </span><span class="pp-tag">elif</span><span class="pp-pln"> state === STATE_VALUE</span></div><div class="L6"><span class="pp-ln">  46 </span><span class="pp-pln">                            </span><span class="pp-tag">_</span><span class="pp-pln"> value_buf.push(ch)</span></div><div class="L7"><span class="pp-ln">  47 </span><span class="pp-pln">                        </span><span class="pp-tag">elif</span><span class="pp-pln"> state === STATE_ENDED</span></div><div class="L8"><span class="pp-ln">  48 </span><span class="pp-pln">                            </span><span class="pp-tag">throw</span><span class="pp-pln"> new errors.NodeError("parseNameValue error. Invalid quote found after value. Source: " + text, node)</span></div><div class="L9"><span class="pp-ln">  49 </span><span class="pp-pln">                        </span><span class="pp-tag">elif</span><span class="pp-pln"> state === STATE_WAIT_NAME</span></div><div class="L0"><span class="pp-ln">  50 </span><span class="pp-pln">                            </span><span class="pp-tag">set</span><span class="pp-pln"> state = STATE_NAME</span></div><div class="L1"><span class="pp-ln">  51 </span><span class="pp-pln">                            </span><span class="pp-tag">_</span><span class="pp-pln"> name_buf.push(ch)</span></div><div class="L2"><span class="pp-ln">  52 </span><span class="pp-pln">                            </span><span class="pp-tag">set</span><span class="pp-pln"> q = ch</span></div><div class="L3"><span class="pp-ln">  53 </span><span class="pp-pln">                        </span><span class="pp-tag">elif</span><span class="pp-pln"> state === STATE_WAIT_VALUE</span></div><div class="L4"><span class="pp-ln">  54 </span><span class="pp-pln">                            </span><span class="pp-tag">set</span><span class="pp-pln"> state = STATE_VALUE</span></div><div class="L5"><span class="pp-ln">  55 </span><span class="pp-pln">                            </span><span class="pp-tag">_</span><span class="pp-pln"> value_buf.push(ch)</span></div><div class="L6"><span class="pp-ln">  56 </span><span class="pp-pln">                            </span><span class="pp-tag">set</span><span class="pp-pln"> q = ch</span></div><div class="L7"><span class="pp-ln">  57 </span><span class="pp-pln">                    </span><span class="pp-tag">elif</span><span class="pp-pln"> ch == ' ' || ch == '\t'</span></div><div class="L8"><span class="pp-ln">  58 </span><span class="pp-pln">                        </span><span class="pp-tag">if</span><span class="pp-pln"> state === STATE_NAME</span></div><div class="L9"><span class="pp-ln">  59 </span><span class="pp-pln">                            </span><span class="pp-tag">set</span><span class="pp-pln"> state = STATE_WAIT_VALUE</span></div><div class="L0"><span class="pp-ln">  60 </span><span class="pp-pln">                        </span><span class="pp-tag">elif</span><span class="pp-pln"> state === STATE_VALUE</span></div><div class="L1"><span class="pp-ln">  61 </span><span class="pp-pln">                            </span><span class="pp-tag">_</span><span class="pp-pln"> value_buf.push(ch)</span></div><div class="L2"><span class="pp-ln">  62 </span><span class="pp-pln">                        </span><span class="pp-tag">else</span></div><div class="L3"><span class="pp-ln">  63 </span><span class="pp-pln">                            </span><span class="pp-tag">#</span><span class="pp-pln"> ok. no action.</span></div><div class="L4"><span class="pp-ln">  64 </span><span class="pp-pln">                    </span><span class="pp-tag">elif</span><span class="pp-pln"> ch == '\r' || ch == '\n'</span></div><div class="L5"><span class="pp-ln">  65 </span><span class="pp-pln">                        </span><span class="pp-tag">throw</span><span class="pp-pln"> new errors.NodeError("parseNameValue error. Invalid char. Line cannot contain line breaks. Source: " + text, node)</span></div><div class="L6"><span class="pp-ln">  66 </span><span class="pp-pln">                    </span><span class="pp-tag">else</span></div><div class="L7"><span class="pp-ln">  67 </span><span class="pp-pln">                        </span><span class="pp-tag">if</span><span class="pp-pln"> state === STATE_WAIT_NAME</span></div><div class="L8"><span class="pp-ln">  68 </span><span class="pp-pln">                            </span><span class="pp-tag">set</span><span class="pp-pln"> state = STATE_NAME</span></div><div class="L9"><span class="pp-ln">  69 </span><span class="pp-pln">                            </span><span class="pp-tag">_</span><span class="pp-pln"> name_buf.push(ch)</span></div><div class="L0"><span class="pp-ln">  70 </span><span class="pp-pln">                        </span><span class="pp-tag">elif</span><span class="pp-pln"> state === STATE_WAIT_VALUE</span></div><div class="L1"><span class="pp-ln">  71 </span><span class="pp-pln">                            </span><span class="pp-tag">set</span><span class="pp-pln"> state = STATE_VALUE</span></div><div class="L2"><span class="pp-ln">  72 </span><span class="pp-pln">                            </span><span class="pp-tag">_</span><span class="pp-pln"> value_buf.push(ch)</span></div><div class="L3"><span class="pp-ln">  73 </span><span class="pp-pln">                        </span><span class="pp-tag">elif</span><span class="pp-pln"> state === STATE_NAME</span></div><div class="L4"><span class="pp-ln">  74 </span><span class="pp-pln">                            </span><span class="pp-tag">_</span><span class="pp-pln"> name_buf.push(ch)</span></div><div class="L5"><span class="pp-ln">  75 </span><span class="pp-pln">                        </span><span class="pp-tag">elif</span><span class="pp-pln"> state === STATE_VALUE</span></div><div class="L6"><span class="pp-ln">  76 </span><span class="pp-pln">                            </span><span class="pp-tag">_</span><span class="pp-pln"> value_buf.push(ch)</span></div><div class="L7"><span class="pp-ln">  77 </span><span class="pp-pln">                        </span><span class="pp-tag">elif</span><span class="pp-pln"> state === STATE_ENDED</span></div><div class="L8"><span class="pp-ln">  78 </span><span class="pp-pln">                            </span><span class="pp-tag">throw</span><span class="pp-pln"> new errors.NodeError("parseNameValue error. Invalid char after value. Source: " + text, node)</span></div><div class="L9"><span class="pp-ln">  79 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> q !== null && state === STATE_NAME</span></div><div class="L0"><span class="pp-ln">  80 </span><span class="pp-pln">                </span><span class="pp-tag">#</span><span class="pp-pln"> This almost surely is an error, but we cannot judge.</span></div><div class="L1"><span class="pp-ln">  81 </span><span class="pp-pln">            </span><span class="pp-tag">return</span></div><div class="L2"><span class="pp-ln">  82 </span><span class="pp-pln">                </span><span class="pp-tag">{</span></div><div class="L3"><span class="pp-ln">  83 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> name</span></div><div class="L4"><span class="pp-ln">  84 </span><span class="pp-pln">                        </span><span class="pp-tag">function</span></div><div class="L5"><span class="pp-ln">  85 </span><span class="pp-pln">                            </span><span class="pp-tag">return</span><span class="pp-pln"> name_buf.join('')</span></div><div class="L6"><span class="pp-ln">  86 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> value</span></div><div class="L7"><span class="pp-ln">  87 </span><span class="pp-pln">                        </span><span class="pp-tag">function</span></div><div class="L8"><span class="pp-ln">  88 </span><span class="pp-pln">                            </span><span class="pp-tag">return</span><span class="pp-pln"> value_buf.join('')</span></div><div class="L9"><span class="pp-ln">  89 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> hasValue</span></div><div class="L0"><span class="pp-ln">  90 </span><span class="pp-pln">                        </span><span class="pp-tag">function</span></div><div class="L1"><span class="pp-ln">  91 </span><span class="pp-pln">                            </span><span class="pp-tag">return</span><span class="pp-pln"> value_buf.length &gt; 0</span></div></pre>
                    </div>
                </div>
                <div class="code-panel" id="d91">
                    <div class="modal-view-container">
                        <h4 class="d-h2">/src/ittf/lib/t/verify/paths.js.ittf</h4>
                        <pre class="prettyprint">

<div class="L1"><span class="pp-ln">   1 </span><span class="pp-pln"></span><span class="pp-kwd">$group</span></div><div class="L2"><span class="pp-ln">   2 </span><span class="pp-pln">    </span><span class="pp-tag">set</span><span class="pp-pln"> md.stripIttfExtension</span></div><div class="L3"><span class="pp-ln">   3 </span><span class="pp-pln">        </span><span class="pp-tag">function</span></div><div class="L4"><span class="pp-ln">   4 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> path_string</span></div><div class="L5"><span class="pp-ln">   5 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> !path_string</span></div><div class="L6"><span class="pp-ln">   6 </span><span class="pp-pln">                </span><span class="pp-tag">return</span><span class="pp-pln"> path_string</span></div><div class="L7"><span class="pp-ln">   7 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> md.endsWith(path_string, '.ittf')</span></div><div class="L8"><span class="pp-ln">   8 </span><span class="pp-pln">                </span><span class="pp-tag">return</span><span class="pp-pln"> md.stripExtension(path_string)</span></div><div class="L9"><span class="pp-ln">   9 </span><span class="pp-pln">            </span><span class="pp-tag">else</span></div><div class="L0"><span class="pp-ln">  10 </span><span class="pp-pln">                </span><span class="pp-tag">return</span><span class="pp-pln"> path_string</span></div><div class="L1"><span class="pp-ln">  11 </span><span class="pp-pln">    </span><span class="pp-tag">set</span><span class="pp-pln"> md.stripExtension</span></div><div class="L2"><span class="pp-ln">  12 </span><span class="pp-pln">        </span><span class="pp-tag">function</span></div><div class="L3"><span class="pp-ln">  13 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> path_string</span></div><div class="L4"><span class="pp-ln">  14 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> !path_string</span></div><div class="L5"><span class="pp-ln">  15 </span><span class="pp-pln">                </span><span class="pp-tag">return</span><span class="pp-pln"> path_string</span></div><div class="L6"><span class="pp-ln">  16 </span><span class="pp-pln">            </span><span class="pp-tag">var</span><span class="pp-pln"> pos = path_string.lastIndexOf('.')</span></div><div class="L7"><span class="pp-ln">  17 </span><span class="pp-pln">            </span><span class="pp-tag">return</span><span class="pp-pln"> path_string.substr(0, pos)</span></div><div class="L8"><span class="pp-ln">  18 </span><span class="pp-pln">    </span><span class="pp-tag">set</span><span class="pp-pln"> md.replaceExtension</span></div><div class="L9"><span class="pp-ln">  19 </span><span class="pp-pln">        </span><span class="pp-tag">function</span></div><div class="L0"><span class="pp-ln">  20 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> path_string</span></div><div class="L1"><span class="pp-ln">  21 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> newExtension</span></div><div class="L2"><span class="pp-ln">  22 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> !path_string</span></div><div class="L3"><span class="pp-ln">  23 </span><span class="pp-pln">                </span><span class="pp-tag">return</span><span class="pp-pln"> path_string</span></div><div class="L4"><span class="pp-ln">  24 </span><span class="pp-pln">            </span><span class="pp-tag">return</span><span class="pp-pln"> md.stripExtension(path_string) + '.' + newExtension</span></div></pre>
                    </div>
                </div>
                <div class="code-panel" id="d92">
                    <div class="modal-view-container">
                        <h4 class="d-h2">/src/ittf/lib/t/verify/texts.js.ittf</h4>
                        <pre class="prettyprint">

<div class="L1"><span class="pp-ln">   1 </span><span class="pp-pln"></span><span class="pp-kwd">$group</span></div><div class="L2"><span class="pp-ln">   2 </span><span class="pp-pln">    </span><span class="pp-tag">set</span><span class="pp-pln"> md.escapeQuotes</span></div><div class="L3"><span class="pp-ln">   3 </span><span class="pp-pln">        </span><span class="pp-tag">function</span></div><div class="L4"><span class="pp-ln">   4 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> text</span></div><div class="L5"><span class="pp-ln">   5 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> !text</span></div><div class="L6"><span class="pp-ln">   6 </span><span class="pp-pln">                </span><span class="pp-tag">return</span></div><div class="L7"><span class="pp-ln">   7 </span><span class="pp-pln">            </span><span class="pp-tag">set</span><span class="pp-pln"> text = md.replaceAll(text, "'", "\\'")</span></div><div class="L8"><span class="pp-ln">   8 </span><span class="pp-pln">            </span><span class="pp-tag">return</span><span class="pp-pln"> md.replaceAll(text, '"', '\\"')</span></div><div class="L9"><span class="pp-ln">   9 </span><span class="pp-pln">    </span><span class="pp-tag">set</span><span class="pp-pln"> md.splitLines</span></div><div class="L0"><span class="pp-ln">  10 </span><span class="pp-pln">        </span><span class="pp-tag">function</span></div><div class="L1"><span class="pp-ln">  11 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> text</span></div><div class="L2"><span class="pp-ln">  12 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> options</span></div><div class="L3"><span class="pp-ln">  13 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> !text</span></div><div class="L4"><span class="pp-ln">  14 </span><span class="pp-pln">                </span><span class="pp-tag">return</span><span class="pp-pln"> []</span></div><div class="L5"><span class="pp-ln">  15 </span><span class="pp-pln">            </span><span class="pp-tag">set</span><span class="pp-pln"> options = options || {}</span></div><div class="L6"><span class="pp-ln">  16 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> options.numbered</span></div><div class="L7"><span class="pp-ln">  17 </span><span class="pp-pln">                </span><span class="pp-tag">var</span><span class="pp-pln"> lines = text.split(/\r?\n/)</span></div><div class="L8"><span class="pp-ln">  18 </span><span class="pp-pln">                </span><span class="pp-tag">var</span><span class="pp-pln"> ret = []</span></div><div class="L9"><span class="pp-ln">  19 </span><span class="pp-pln">                </span><span class="pp-tag">foreach</span><span class="pp-pln"> line in lines</span></div><div class="L0"><span class="pp-ln">  20 </span><span class="pp-pln">                    </span><span class="pp-tag">_</span><span class="pp-pln"> ret.push</span></div><div class="L1"><span class="pp-ln">  21 </span><span class="pp-pln">                        </span><span class="pp-tag">{</span></div><div class="L2"><span class="pp-ln">  22 </span><span class="pp-pln">                            </span><span class="pp-tag">@</span><span class="pp-pln"> num i</span></div><div class="L3"><span class="pp-ln">  23 </span><span class="pp-pln">                            </span><span class="pp-tag">@</span><span class="pp-pln"> numFmt</span></div><div class="L4"><span class="pp-ln">  24 </span><span class="pp-pln">                                </span><span class="pp-tag">iif</span><span class="pp-pln"> i &lt; 10</span></div><div class="L5"><span class="pp-ln">  25 </span><span class="pp-pln">                                    </span><span class="pp-tag">then</span><span class="pp-pln"> '000' + i</span></div><div class="L6"><span class="pp-ln">  26 </span><span class="pp-pln">                                    </span><span class="pp-tag">else</span></div><div class="L7"><span class="pp-ln">  27 </span><span class="pp-pln">                                        </span><span class="pp-tag">iif</span><span class="pp-pln"> i &lt;100</span></div><div class="L8"><span class="pp-ln">  28 </span><span class="pp-pln">                                            </span><span class="pp-tag">then</span><span class="pp-pln"> '00' + i</span></div><div class="L9"><span class="pp-ln">  29 </span><span class="pp-pln">                                            </span><span class="pp-tag">else</span><span class="pp-pln"> '0' + i</span></div><div class="L0"><span class="pp-ln">  30 </span><span class="pp-pln">                            </span><span class="pp-tag">@</span><span class="pp-pln"> text line</span></div><div class="L1"><span class="pp-ln">  31 </span><span class="pp-pln">                </span><span class="pp-tag">return</span><span class="pp-pln"> ret</span></div><div class="L2"><span class="pp-ln">  32 </span><span class="pp-pln">            </span><span class="pp-tag">else</span></div><div class="L3"><span class="pp-ln">  33 </span><span class="pp-pln">                </span><span class="pp-tag">return</span><span class="pp-pln"> text.split(/\r?\n/)</span></div></pre>
                    </div>
                </div>
                <div class="code-panel" id="d93">
                    <div class="modal-view-container">
                        <h4 class="d-h2">/src/ittf/lib/t/verify/validation.js.ittf</h4>
                        <pre class="prettyprint">

<div class="L1"><span class="pp-ln">   1 </span><span class="pp-pln"></span><span class="pp-kwd">$group</span></div><div class="L2"><span class="pp-ln">   2 </span><span class="pp-pln">    </span><span class="pp-tag">#</span></div><div class="L3"><span class="pp-ln">   3 </span><span class="pp-pln">        </span><span class="pp-tag">#</span><span class="pp-pln"> TODO these Regex(s) are too ingenuous</span></div><div class="L4"><span class="pp-ln">   4 </span><span class="pp-pln">        </span><span class="pp-tag">#</span><span class="pp-pln"> research stronger solutions</span></div><div class="L5"><span class="pp-ln">   5 </span><span class="pp-pln">        </span><span class="pp-tag">#</span></div><div class="L6"><span class="pp-ln">   6 </span><span class="pp-pln">    </span><span class="pp-tag">var</span></div><div class="L7"><span class="pp-ln">   7 </span><span class="pp-pln">        </span><span class="pp-tag">decl</span><span class="pp-pln"> ipRegex = /^((25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\.){3}(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})$/i</span></div><div class="L8"><span class="pp-ln">   8 </span><span class="pp-pln">        </span><span class="pp-tag">decl</span><span class="pp-pln"> emailRegex = /^(([^&lt;&gt;()[\]\\.,;:\s@\"]+(\.[^&lt;&gt;()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/</span></div><div class="L9"><span class="pp-ln">   9 </span><span class="pp-pln">        </span><span class="pp-tag">decl</span><span class="pp-pln"> base64Regex = /[^a-zA-Z0-9\/\+=]/i</span></div><div class="L0"><span class="pp-ln">  10 </span><span class="pp-pln">        </span><span class="pp-tag">decl</span><span class="pp-pln"> numericDashRegex = /^[\d\-\s]+$/</span></div><div class="L1"><span class="pp-ln">  11 </span><span class="pp-pln">        </span><span class="pp-tag">decl</span><span class="pp-pln"> urlRegex = /^((http|https):\/\/(\w+:{0,1}\w*@)?(\S+)|)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?$/</span></div><div class="L2"><span class="pp-ln">  12 </span><span class="pp-pln">    </span><span class="pp-tag">set</span><span class="pp-pln"> md.isEmail</span></div><div class="L3"><span class="pp-ln">  13 </span><span class="pp-pln">        </span><span class="pp-tag">function</span></div><div class="L4"><span class="pp-ln">  14 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> value</span></div><div class="L5"><span class="pp-ln">  15 </span><span class="pp-pln">            </span><span class="pp-tag">return</span></div><div class="L6"><span class="pp-ln">  16 </span><span class="pp-pln">                </span><span class="pp-tag">&&</span></div><div class="L7"><span class="pp-ln">  17 </span><span class="pp-pln">                    </span><span class="pp-tag">_</span><span class="pp-pln"> md.isNotEmpty(value)</span></div><div class="L8"><span class="pp-ln">  18 </span><span class="pp-pln">                    </span><span class="pp-tag">_</span><span class="pp-pln"> emailRegex.test</span></div><div class="L9"><span class="pp-ln">  19 </span><span class="pp-pln">                        </span><span class="pp-tag">@</span><span class="pp-pln"> value</span></div><div class="L0"><span class="pp-ln">  20 </span><span class="pp-pln">    </span><span class="pp-tag">set</span><span class="pp-pln"> md.isEmails</span></div><div class="L1"><span class="pp-ln">  21 </span><span class="pp-pln">        </span><span class="pp-tag">function</span></div><div class="L2"><span class="pp-ln">  22 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> value</span></div><div class="L3"><span class="pp-ln">  23 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> md.isNotEmpty(value) == false</span></div><div class="L4"><span class="pp-ln">  24 </span><span class="pp-pln">                </span><span class="pp-tag">return</span><span class="pp-pln"> false</span></div><div class="L5"><span class="pp-ln">  25 </span><span class="pp-pln">            </span><span class="pp-tag">foreach</span><span class="pp-pln"> item in _toArray(value)</span></div><div class="L6"><span class="pp-ln">  26 </span><span class="pp-pln">                </span><span class="pp-tag">if</span><span class="pp-pln"> !emailRegex.test(item)</span></div><div class="L7"><span class="pp-ln">  27 </span><span class="pp-pln">                    </span><span class="pp-tag">return</span><span class="pp-pln"> false</span></div><div class="L8"><span class="pp-ln">  28 </span><span class="pp-pln">            </span><span class="pp-tag">return</span><span class="pp-pln"> true</span></div><div class="L9"><span class="pp-ln">  29 </span><span class="pp-pln">    </span><span class="pp-tag">set</span><span class="pp-pln"> md.isMinLength</span></div><div class="L0"><span class="pp-ln">  30 </span><span class="pp-pln">        </span><span class="pp-tag">function</span></div><div class="L1"><span class="pp-ln">  31 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> value</span></div><div class="L2"><span class="pp-ln">  32 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> length</span></div><div class="L3"><span class="pp-ln">  33 </span><span class="pp-pln">            </span><span class="pp-tag">return</span><span class="pp-pln"> _hasLength(value) && value.length &gt;= length</span></div><div class="L4"><span class="pp-ln">  34 </span><span class="pp-pln">    </span><span class="pp-tag">set</span><span class="pp-pln"> md.isMaxLength</span></div><div class="L5"><span class="pp-ln">  35 </span><span class="pp-pln">        </span><span class="pp-tag">function</span></div><div class="L6"><span class="pp-ln">  36 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> value</span></div><div class="L7"><span class="pp-ln">  37 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> length</span></div><div class="L8"><span class="pp-ln">  38 </span><span class="pp-pln">            </span><span class="pp-tag">return</span><span class="pp-pln"> _hasLength(value) && value.length &lt;= length</span></div><div class="L9"><span class="pp-ln">  39 </span><span class="pp-pln">    </span><span class="pp-tag">set</span><span class="pp-pln"> md.isExactLength</span></div><div class="L0"><span class="pp-ln">  40 </span><span class="pp-pln">        </span><span class="pp-tag">function</span></div><div class="L1"><span class="pp-ln">  41 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> value</span></div><div class="L2"><span class="pp-ln">  42 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> length</span></div><div class="L3"><span class="pp-ln">  43 </span><span class="pp-pln">            </span><span class="pp-tag">return</span><span class="pp-pln"> _hasLength(value) && value.length == length</span></div><div class="L4"><span class="pp-ln">  44 </span><span class="pp-pln">    </span><span class="pp-tag">set</span><span class="pp-pln"> md.isGreaterThan</span></div><div class="L5"><span class="pp-ln">  45 </span><span class="pp-pln">        </span><span class="pp-tag">function</span></div><div class="L6"><span class="pp-ln">  46 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> value</span></div><div class="L7"><span class="pp-ln">  47 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> test</span></div><div class="L8"><span class="pp-ln">  48 </span><span class="pp-pln">            </span><span class="pp-tag">return</span><span class="pp-pln"> md.isNumber(value) && value &gt; test</span></div><div class="L9"><span class="pp-ln">  49 </span><span class="pp-pln">    </span><span class="pp-tag">set</span><span class="pp-pln"> md.isLessThan</span></div><div class="L0"><span class="pp-ln">  50 </span><span class="pp-pln">        </span><span class="pp-tag">function</span></div><div class="L1"><span class="pp-ln">  51 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> value</span></div><div class="L2"><span class="pp-ln">  52 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> test</span></div><div class="L3"><span class="pp-ln">  53 </span><span class="pp-pln">            </span><span class="pp-tag">return</span><span class="pp-pln"> md.isNumber(value) && value &lt; test</span></div><div class="L4"><span class="pp-ln">  54 </span><span class="pp-pln">    </span><span class="pp-tag">set</span><span class="pp-pln"> md.isGreaterEqualThan</span></div><div class="L5"><span class="pp-ln">  55 </span><span class="pp-pln">        </span><span class="pp-tag">function</span></div><div class="L6"><span class="pp-ln">  56 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> value</span></div><div class="L7"><span class="pp-ln">  57 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> test</span></div><div class="L8"><span class="pp-ln">  58 </span><span class="pp-pln">            </span><span class="pp-tag">return</span><span class="pp-pln"> md.isNumber(value) && value &gt;= test</span></div><div class="L9"><span class="pp-ln">  59 </span><span class="pp-pln">    </span><span class="pp-tag">set</span><span class="pp-pln"> md.isLessEqualThan</span></div><div class="L0"><span class="pp-ln">  60 </span><span class="pp-pln">        </span><span class="pp-tag">function</span></div><div class="L1"><span class="pp-ln">  61 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> value</span></div><div class="L2"><span class="pp-ln">  62 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> test</span></div><div class="L3"><span class="pp-ln">  63 </span><span class="pp-pln">            </span><span class="pp-tag">return</span><span class="pp-pln"> md.isNumber(value) && value &lt;= test</span></div><div class="L4"><span class="pp-ln">  64 </span><span class="pp-pln">    </span><span class="pp-tag">set</span><span class="pp-pln"> md.isAlpha</span></div><div class="L5"><span class="pp-ln">  65 </span><span class="pp-pln">        </span><span class="pp-tag">function</span></div><div class="L6"><span class="pp-ln">  66 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> value</span></div><div class="L7"><span class="pp-ln">  67 </span><span class="pp-pln">            </span><span class="pp-tag">return</span><span class="pp-pln"> md.isNotEmpty(value) && /^[a-z]+$/i.test(value)</span></div><div class="L8"><span class="pp-ln">  68 </span><span class="pp-pln">    </span><span class="pp-tag">set</span><span class="pp-pln"> md.isAlphaNumeric</span></div><div class="L9"><span class="pp-ln">  69 </span><span class="pp-pln">        </span><span class="pp-tag">function</span></div><div class="L0"><span class="pp-ln">  70 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> value</span></div><div class="L1"><span class="pp-ln">  71 </span><span class="pp-pln">            </span><span class="pp-tag">return</span><span class="pp-pln"> md.isNotEmpty(value) && /^[a-z0-9]+$/i.test(value)</span></div><div class="L2"><span class="pp-ln">  72 </span><span class="pp-pln">    </span><span class="pp-tag">set</span><span class="pp-pln"> md.isIp</span></div><div class="L3"><span class="pp-ln">  73 </span><span class="pp-pln">        </span><span class="pp-tag">function</span></div><div class="L4"><span class="pp-ln">  74 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> value</span></div><div class="L5"><span class="pp-ln">  75 </span><span class="pp-pln">            </span><span class="pp-tag">return</span><span class="pp-pln"> md.isNotEmpty(value) && ipRegex.test(value)</span></div><div class="L6"><span class="pp-ln">  76 </span><span class="pp-pln">    </span><span class="pp-tag">set</span><span class="pp-pln"> md.isBase64</span></div><div class="L7"><span class="pp-ln">  77 </span><span class="pp-pln">        </span><span class="pp-tag">function</span></div><div class="L8"><span class="pp-ln">  78 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> value</span></div><div class="L9"><span class="pp-ln">  79 </span><span class="pp-pln">            </span><span class="pp-tag">return</span><span class="pp-pln"> md.isNotEmpty(value) && base64Regex.test(value)</span></div><div class="L0"><span class="pp-ln">  80 </span><span class="pp-pln">    </span><span class="pp-tag">set</span><span class="pp-pln"> md.isUrl</span></div><div class="L1"><span class="pp-ln">  81 </span><span class="pp-pln">        </span><span class="pp-tag">function</span></div><div class="L2"><span class="pp-ln">  82 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> value</span></div><div class="L3"><span class="pp-ln">  83 </span><span class="pp-pln">            </span><span class="pp-tag">return</span><span class="pp-pln"> md.isNotEmpty(value) && urlRegex.test(value)</span></div><div class="L4"><span class="pp-ln">  84 </span><span class="pp-pln">    </span><span class="pp-tag">set</span><span class="pp-pln"> md.isCreditCard</span></div><div class="L5"><span class="pp-ln">  85 </span><span class="pp-pln">        </span><span class="pp-tag">function</span></div><div class="L6"><span class="pp-ln">  86 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> value</span></div><div class="L7"><span class="pp-ln">  87 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> !numericDashRegex.test(value)</span></div><div class="L8"><span class="pp-ln">  88 </span><span class="pp-pln">                </span><span class="pp-tag">return</span><span class="pp-pln"> false</span></div><div class="L9"><span class="pp-ln">  89 </span><span class="pp-pln">            </span><span class="pp-tag">var</span></div><div class="L0"><span class="pp-ln">  90 </span><span class="pp-pln">                </span><span class="pp-tag">decl</span><span class="pp-pln"> nCheck = 0</span></div><div class="L1"><span class="pp-ln">  91 </span><span class="pp-pln">                </span><span class="pp-tag">decl</span><span class="pp-pln"> nDigit = 0</span></div><div class="L2"><span class="pp-ln">  92 </span><span class="pp-pln">                </span><span class="pp-tag">decl</span><span class="pp-pln"> bEven = false</span></div><div class="L3"><span class="pp-ln">  93 </span><span class="pp-pln">            </span><span class="pp-tag">var</span><span class="pp-pln"> strippedField = value.replace(/\D/g, "")</span></div><div class="L4"><span class="pp-ln">  94 </span><span class="pp-pln">            </span><span class="pp-tag">for</span><span class="pp-pln"> var n = (strippedField.length - 1); n &gt;= 0; n--</span></div><div class="L5"><span class="pp-ln">  95 </span><span class="pp-pln">                </span><span class="pp-tag">var</span><span class="pp-pln"> cDigit = strippedField.charAt(n)</span></div><div class="L6"><span class="pp-ln">  96 </span><span class="pp-pln">                </span><span class="pp-tag">set</span><span class="pp-pln"> nDigit = parseInt(cDigit, 10)</span></div><div class="L7"><span class="pp-ln">  97 </span><span class="pp-pln">                </span><span class="pp-tag">if</span><span class="pp-pln"> bEven</span></div><div class="L8"><span class="pp-ln">  98 </span><span class="pp-pln">                    </span><span class="pp-tag">if</span><span class="pp-pln"> nDigit *= 2 &gt; 9</span></div><div class="L9"><span class="pp-ln">  99 </span><span class="pp-pln">                        </span><span class="pp-tag">set</span><span class="pp-pln"> nDigit -= 9</span></div><div class="L0"><span class="pp-ln"> 100 </span><span class="pp-pln">                </span><span class="pp-tag">set</span><span class="pp-pln"> nCheck += nDigit</span></div><div class="L1"><span class="pp-ln"> 101 </span><span class="pp-pln">                </span><span class="pp-tag">set</span><span class="pp-pln"> bEven = !bEven</span></div><div class="L2"><span class="pp-ln"> 102 </span><span class="pp-pln">            </span><span class="pp-tag">return</span><span class="pp-pln"> nCheck % 10 === 0</span></div><div class="L3"><span class="pp-ln"> 103 </span><span class="pp-pln">    </span><span class="pp-tag">set</span><span class="pp-pln"> md.isGreaterThanDate</span></div><div class="L4"><span class="pp-ln"> 104 </span><span class="pp-pln">        </span><span class="pp-tag">function</span></div><div class="L5"><span class="pp-ln"> 105 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> value</span></div><div class="L6"><span class="pp-ln"> 106 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> date</span></div><div class="L7"><span class="pp-ln"> 107 </span><span class="pp-pln">            </span><span class="pp-tag">var</span></div><div class="L8"><span class="pp-ln"> 108 </span><span class="pp-pln">                </span><span class="pp-tag">decl</span><span class="pp-pln"> enteredDate</span></div><div class="L9"><span class="pp-ln"> 109 </span><span class="pp-pln">                    </span><span class="pp-tag">_</span><span class="pp-pln"> this._getValidDate</span></div><div class="L0"><span class="pp-ln"> 110 </span><span class="pp-pln">                        </span><span class="pp-tag">@</span><span class="pp-pln"> value</span></div><div class="L1"><span class="pp-ln"> 111 </span><span class="pp-pln">                </span><span class="pp-tag">decl</span><span class="pp-pln"> validDate = this._getValidDate(date)</span></div><div class="L2"><span class="pp-ln"> 112 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> !validDate || !enteredDate</span></div><div class="L3"><span class="pp-ln"> 113 </span><span class="pp-pln">                </span><span class="pp-tag">return</span><span class="pp-pln"> false</span></div><div class="L4"><span class="pp-ln"> 114 </span><span class="pp-pln">            </span><span class="pp-tag">return</span><span class="pp-pln"> enteredDate &gt; validDate</span></div><div class="L5"><span class="pp-ln"> 115 </span><span class="pp-pln">    </span><span class="pp-tag">set</span><span class="pp-pln"> md.isLessThanDate</span></div><div class="L6"><span class="pp-ln"> 116 </span><span class="pp-pln">        </span><span class="pp-tag">function</span></div><div class="L7"><span class="pp-ln"> 117 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> value</span></div><div class="L8"><span class="pp-ln"> 118 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> date</span></div><div class="L9"><span class="pp-ln"> 119 </span><span class="pp-pln">            </span><span class="pp-tag">var</span></div><div class="L0"><span class="pp-ln"> 120 </span><span class="pp-pln">                </span><span class="pp-tag">decl</span><span class="pp-pln"> enteredDate</span></div><div class="L1"><span class="pp-ln"> 121 </span><span class="pp-pln">                    </span><span class="pp-tag">_</span><span class="pp-pln"> this._getValidDate</span></div><div class="L2"><span class="pp-ln"> 122 </span><span class="pp-pln">                        </span><span class="pp-tag">@</span><span class="pp-pln"> value</span></div><div class="L3"><span class="pp-ln"> 123 </span><span class="pp-pln">                </span><span class="pp-tag">decl</span><span class="pp-pln"> validDate = this._getValidDate(date)</span></div><div class="L4"><span class="pp-ln"> 124 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> !validDate || !enteredDate</span></div><div class="L5"><span class="pp-ln"> 125 </span><span class="pp-pln">                </span><span class="pp-tag">return</span><span class="pp-pln"> false</span></div><div class="L6"><span class="pp-ln"> 126 </span><span class="pp-pln">            </span><span class="pp-tag">return</span><span class="pp-pln"> enteredDate &lt; validDate</span></div><div class="L7"><span class="pp-ln"> 127 </span><span class="pp-pln">    </span><span class="pp-tag">set</span><span class="pp-pln"> md.isGreaterEqualDate</span></div><div class="L8"><span class="pp-ln"> 128 </span><span class="pp-pln">        </span><span class="pp-tag">function</span></div><div class="L9"><span class="pp-ln"> 129 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> value</span></div><div class="L0"><span class="pp-ln"> 130 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> date</span></div><div class="L1"><span class="pp-ln"> 131 </span><span class="pp-pln">            </span><span class="pp-tag">var</span></div><div class="L2"><span class="pp-ln"> 132 </span><span class="pp-pln">                </span><span class="pp-tag">decl</span><span class="pp-pln"> enteredDate</span></div><div class="L3"><span class="pp-ln"> 133 </span><span class="pp-pln">                    </span><span class="pp-tag">_</span><span class="pp-pln"> this._getValidDate</span></div><div class="L4"><span class="pp-ln"> 134 </span><span class="pp-pln">                        </span><span class="pp-tag">@</span><span class="pp-pln"> value</span></div><div class="L5"><span class="pp-ln"> 135 </span><span class="pp-pln">                </span><span class="pp-tag">decl</span><span class="pp-pln"> validDate = this._getValidDate(date)</span></div><div class="L6"><span class="pp-ln"> 136 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> !validDate || !enteredDate</span></div><div class="L7"><span class="pp-ln"> 137 </span><span class="pp-pln">                </span><span class="pp-tag">return</span><span class="pp-pln"> false</span></div><div class="L8"><span class="pp-ln"> 138 </span><span class="pp-pln">            </span><span class="pp-tag">return</span><span class="pp-pln"> enteredDate &gt;= validDate</span></div><div class="L9"><span class="pp-ln"> 139 </span><span class="pp-pln">    </span><span class="pp-tag">set</span><span class="pp-pln"> md.isLessEqualDate</span></div><div class="L0"><span class="pp-ln"> 140 </span><span class="pp-pln">        </span><span class="pp-tag">function</span></div><div class="L1"><span class="pp-ln"> 141 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> value</span></div><div class="L2"><span class="pp-ln"> 142 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> date</span></div><div class="L3"><span class="pp-ln"> 143 </span><span class="pp-pln">            </span><span class="pp-tag">var</span></div><div class="L4"><span class="pp-ln"> 144 </span><span class="pp-pln">                </span><span class="pp-tag">decl</span><span class="pp-pln"> enteredDate</span></div><div class="L5"><span class="pp-ln"> 145 </span><span class="pp-pln">                    </span><span class="pp-tag">_</span><span class="pp-pln"> this._getValidDate</span></div><div class="L6"><span class="pp-ln"> 146 </span><span class="pp-pln">                        </span><span class="pp-tag">@</span><span class="pp-pln"> value</span></div><div class="L7"><span class="pp-ln"> 147 </span><span class="pp-pln">                </span><span class="pp-tag">decl</span><span class="pp-pln"> validDate = this._getValidDate(date)</span></div><div class="L8"><span class="pp-ln"> 148 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> !validDate || !enteredDate</span></div><div class="L9"><span class="pp-ln"> 149 </span><span class="pp-pln">                </span><span class="pp-tag">return</span><span class="pp-pln"> false</span></div><div class="L0"><span class="pp-ln"> 150 </span><span class="pp-pln">            </span><span class="pp-tag">return</span><span class="pp-pln"> enteredDate &lt;= validDate</span></div><div class="L1"><span class="pp-ln"> 151 </span><span class="pp-pln">    </span><span class="pp-tag">function</span><span class="pp-pln"> _getValidDate</span></div><div class="L2"><span class="pp-ln"> 152 </span><span class="pp-pln">        </span><span class="pp-tag">param</span><span class="pp-pln"> date</span></div><div class="L3"><span class="pp-ln"> 153 </span><span class="pp-pln">        </span><span class="pp-tag">if</span><span class="pp-pln"> md.isDate(date)</span></div><div class="L4"><span class="pp-ln"> 154 </span><span class="pp-pln">            </span><span class="pp-tag">return</span><span class="pp-pln"> date</span></div><div class="L5"><span class="pp-ln"> 155 </span><span class="pp-pln">        </span><span class="pp-tag">elif</span><span class="pp-pln"> md.isNumber(date)</span></div><div class="L6"><span class="pp-ln"> 156 </span><span class="pp-pln">            </span><span class="pp-tag">return</span><span class="pp-pln"> new Date(date)</span></div><div class="L7"><span class="pp-ln"> 157 </span><span class="pp-pln">        </span><span class="pp-tag">elif</span><span class="pp-pln"> md.isNotEmpty(date)</span></div><div class="L8"><span class="pp-ln"> 158 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> !date.match('today') && !date.match(dateRegex)</span></div><div class="L9"><span class="pp-ln"> 159 </span><span class="pp-pln">                </span><span class="pp-tag">return</span><span class="pp-pln"> false</span></div><div class="L0"><span class="pp-ln"> 160 </span><span class="pp-pln">            </span><span class="pp-tag">var</span></div><div class="L1"><span class="pp-ln"> 161 </span><span class="pp-pln">                </span><span class="pp-tag">decl</span><span class="pp-pln"> validDate</span></div><div class="L2"><span class="pp-ln"> 162 </span><span class="pp-pln">                    </span><span class="pp-tag">new</span><span class="pp-pln"> Date()</span></div><div class="L3"><span class="pp-ln"> 163 </span><span class="pp-pln">                </span><span class="pp-tag">decl</span><span class="pp-pln"> validDateArray</span></div><div class="L4"><span class="pp-ln"> 164 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> !date.match('today')</span></div><div class="L5"><span class="pp-ln"> 165 </span><span class="pp-pln">                </span><span class="pp-tag">set</span><span class="pp-pln"> validDateArray = date.split('-')</span></div><div class="L6"><span class="pp-ln"> 166 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> validDate.setFullYear</span></div><div class="L7"><span class="pp-ln"> 167 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> validDateArray[0]</span></div><div class="L8"><span class="pp-ln"> 168 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> validDate.setMonth((validDateArray[1] - 1))</span></div><div class="L9"><span class="pp-ln"> 169 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> validDate.setDate</span></div><div class="L0"><span class="pp-ln"> 170 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> validDateArray[2]</span></div><div class="L1"><span class="pp-ln"> 171 </span><span class="pp-pln">            </span><span class="pp-tag">return</span><span class="pp-pln"> validDate</span></div><div class="L2"><span class="pp-ln"> 172 </span><span class="pp-pln">        </span><span class="pp-tag">else</span></div><div class="L3"><span class="pp-ln"> 173 </span><span class="pp-pln">            </span><span class="pp-tag">return</span><span class="pp-pln"> false</span></div><div class="L4"><span class="pp-ln"> 174 </span><span class="pp-pln">    </span><span class="pp-tag">function</span><span class="pp-pln"> _hasLength</span></div><div class="L5"><span class="pp-ln"> 175 </span><span class="pp-pln">        </span><span class="pp-tag">param</span><span class="pp-pln"> value</span></div><div class="L6"><span class="pp-ln"> 176 </span><span class="pp-pln">        </span><span class="pp-tag">return</span><span class="pp-pln"> value && md.isNumber(value.length)</span></div><div class="L7"><span class="pp-ln"> 177 </span><span class="pp-pln">    </span><span class="pp-tag">function</span><span class="pp-pln"> _toArray</span></div><div class="L8"><span class="pp-ln"> 178 </span><span class="pp-pln">        </span><span class="pp-tag">param</span><span class="pp-pln"> value</span></div><div class="L9"><span class="pp-ln"> 179 </span><span class="pp-pln">        </span><span class="pp-tag">if</span><span class="pp-pln"> md.isArray(value)</span></div><div class="L0"><span class="pp-ln"> 180 </span><span class="pp-pln">            </span><span class="pp-tag">return</span><span class="pp-pln"> value</span></div><div class="L1"><span class="pp-ln"> 181 </span><span class="pp-pln">        </span><span class="pp-tag">elif</span><span class="pp-pln"> md.isNotEmpty(value)</span></div><div class="L2"><span class="pp-ln"> 182 </span><span class="pp-pln">            </span><span class="pp-tag">return</span><span class="pp-pln"> value.split(/\s*,\s*/g)</span></div><div class="L3"><span class="pp-ln"> 183 </span><span class="pp-pln">        </span><span class="pp-tag">else</span></div><div class="L4"><span class="pp-ln"> 184 </span><span class="pp-pln">            </span><span class="pp-tag">return</span><span class="pp-pln"> []</span></div></pre>
                    </div>
                </div>
                <div class="code-panel" id="d94">
                    <div class="modal-view-container">
                        <h4 class="d-h2">/src/ittf/lib/t/verify/wzError.js.ittf</h4>
                        <pre class="prettyprint">

<div class="L1"><span class="pp-ln">   1 </span><span class="pp-pln"></span><span class="pp-kwd">$group</span></div><div class="L2"><span class="pp-ln">   2 </span><span class="pp-pln">    </span><span class="pp-tag">class</span><span class="pp-pln"> wzError</span></div><div class="L3"><span class="pp-ln">   3 </span><span class="pp-pln">        </span><span class="pp-tag">super</span><span class="pp-pln"> Error</span></div><div class="L4"><span class="pp-ln">   4 </span><span class="pp-pln">        </span><span class="pp-tag">ctor</span></div><div class="L5"><span class="pp-ln">   5 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> name</span></div><div class="L6"><span class="pp-ln">   6 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> inner</span></div><div class="L7"><span class="pp-ln">   7 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> shortmessage</span></div><div class="L8"><span class="pp-ln">   8 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> message</span></div><div class="L9"><span class="pp-ln">   9 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> info</span></div><div class="L0"><span class="pp-ln">  10 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> stack</span></div><div class="L1"><span class="pp-ln">  11 </span><span class="pp-pln">            </span><span class="pp-tag">set</span><span class="pp-pln"> this.name = name</span></div><div class="L2"><span class="pp-ln">  12 </span><span class="pp-pln">            </span><span class="pp-tag">set</span><span class="pp-pln"> this.inner = inner</span></div><div class="L3"><span class="pp-ln">  13 </span><span class="pp-pln">            </span><span class="pp-tag">set</span><span class="pp-pln"> this.shortmessage = shortmessage</span></div><div class="L4"><span class="pp-ln">  14 </span><span class="pp-pln">            </span><span class="pp-tag">set</span><span class="pp-pln"> this.message = message</span></div><div class="L5"><span class="pp-ln">  15 </span><span class="pp-pln">            </span><span class="pp-tag">set</span><span class="pp-pln"> this.info = info</span></div><div class="L6"><span class="pp-ln">  16 </span><span class="pp-pln">            </span><span class="pp-tag">set</span><span class="pp-pln"> this.stack = stack</span></div><div class="L7"><span class="pp-ln">  17 </span><span class="pp-pln">            </span><span class="pp-tag">set</span><span class="pp-pln"> this.__is_error = true</span></div><div class="L8"><span class="pp-ln">  18 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> md.isNotEmpty(stack)</span></div><div class="L9"><span class="pp-ln">  19 </span><span class="pp-pln">                </span><span class="pp-tag">set</span><span class="pp-pln"> this.stack = []</span></div><div class="L0"><span class="pp-ln">  20 </span><span class="pp-pln">                </span><span class="pp-tag">foreach</span><span class="pp-pln"> line in stack.split('\n')</span></div><div class="L1"><span class="pp-ln">  21 </span><span class="pp-pln">                    </span><span class="pp-tag">_</span><span class="pp-pln"> this.stack.push('    ' + line)</span></div><div class="L2"><span class="pp-ln">  22 </span><span class="pp-pln">        </span><span class="pp-tag">m</span><span class="pp-pln"> toString</span></div><div class="L3"><span class="pp-ln">  23 </span><span class="pp-pln">            </span><span class="pp-tag">var</span><span class="pp-pln"> ret</span></div><div class="L4"><span class="pp-ln">  24 </span><span class="pp-pln">                </span><span class="pp-tag">[</span></div><div class="L5"><span class="pp-ln">  25 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> (this.hasOwnProperty('name') && this.name || this.constructor.name || this.constructor.prototype.name) + ': ' + ( this.message || 'message unavailable')</span></div><div class="L6"><span class="pp-ln">  26 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> this.info</span></div><div class="L7"><span class="pp-ln">  27 </span><span class="pp-pln">                </span><span class="pp-tag">for</span><span class="pp-pln"> var k in this.info</span></div><div class="L8"><span class="pp-ln">  28 </span><span class="pp-pln">                    </span><span class="pp-tag">if</span><span class="pp-pln"> md.isPrimitive(this.info[k])</span></div><div class="L9"><span class="pp-ln">  29 </span><span class="pp-pln">                        </span><span class="pp-tag">_</span><span class="pp-pln"> ret.push( '-&gt; ' + k + ': ' + this.info[k] )</span></div><div class="L0"><span class="pp-ln">  30 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> this.inner</span></div><div class="L1"><span class="pp-ln">  31 </span><span class="pp-pln">                </span><span class="pp-tag">#</span><span class="pp-pln"> log 'wizzi-utils.verify.wzError.toString.this.inner', this.inner</span></div><div class="L2"><span class="pp-ln">  32 </span><span class="pp-pln">                </span><span class="pp-tag">var</span><span class="pp-pln"> inner = this.inner</span></div><div class="L3"><span class="pp-ln">  33 </span><span class="pp-pln">                </span><span class="pp-tag">while</span><span class="pp-pln"> inner</span></div><div class="L4"><span class="pp-ln">  34 </span><span class="pp-pln">                    </span><span class="pp-tag">var</span><span class="pp-pln"> stack = inner.stack</span></div><div class="L5"><span class="pp-ln">  35 </span><span class="pp-pln">                    </span><span class="pp-tag">if</span><span class="pp-pln"> md.isNotEmpty(stack)</span></div><div class="L6"><span class="pp-ln">  36 </span><span class="pp-pln">                        </span><span class="pp-tag">_</span><span class="pp-pln"> ret.push( '-&gt; inner.stack :')</span></div><div class="L7"><span class="pp-ln">  37 </span><span class="pp-pln">                        </span><span class="pp-tag">foreach</span><span class="pp-pln"> line in stack.split('\n')</span></div><div class="L8"><span class="pp-ln">  38 </span><span class="pp-pln">                            </span><span class="pp-tag">_</span><span class="pp-pln"> ret.push('    ' + line)</span></div><div class="L9"><span class="pp-ln">  39 </span><span class="pp-pln">                        </span><span class="pp-tag">set</span><span class="pp-pln"> inner = null</span></div><div class="L0"><span class="pp-ln">  40 </span><span class="pp-pln">                    </span><span class="pp-tag">else</span></div><div class="L1"><span class="pp-ln">  41 </span><span class="pp-pln">                        </span><span class="pp-tag">set</span><span class="pp-pln"> inner = inner.inner</span></div><div class="L2"><span class="pp-ln">  42 </span><span class="pp-pln">            </span><span class="pp-tag">return</span><span class="pp-pln"> ret.join('\n')</span></div><div class="L3"><span class="pp-ln">  43 </span><span class="pp-pln">        </span><span class="pp-tag">m</span><span class="pp-pln"> toInfo</span></div><div class="L4"><span class="pp-ln">  44 </span><span class="pp-pln">            </span><span class="pp-tag">var</span><span class="pp-pln"> ret</span></div><div class="L5"><span class="pp-ln">  45 </span><span class="pp-pln">                </span><span class="pp-tag">[</span></div><div class="L6"><span class="pp-ln">  46 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> '\n'</span></div><div class="L7"><span class="pp-ln">  47 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> '== error =================='</span></div><div class="L8"><span class="pp-ln">  48 </span><span class="pp-pln">            </span><span class="pp-tag">for</span><span class="pp-pln"> var k in this.info</span></div><div class="L9"><span class="pp-ln">  49 </span><span class="pp-pln">                </span><span class="pp-tag">if</span><span class="pp-pln"> md.isPrimitive(this.info[k])</span></div><div class="L0"><span class="pp-ln">  50 </span><span class="pp-pln">                    </span><span class="pp-tag">_</span><span class="pp-pln"> ret.push( '-&gt; ' + k + ': ' + this.info[k] )</span></div><div class="L1"><span class="pp-ln">  51 </span><span class="pp-pln">            </span><span class="pp-tag">_</span><span class="pp-pln"> ret.push('---------------------------')</span></div><div class="L2"><span class="pp-ln">  52 </span><span class="pp-pln">            </span><span class="pp-tag">return</span><span class="pp-pln"> ret.join('\n')</span></div><div class="L3"><span class="pp-ln">  53 </span><span class="pp-pln">    </span><span class="pp-tag">set</span><span class="pp-pln"> wzError.prototype.name = 'wzError'</span></div></pre>
                    </div>
                </div>
                <div class="code-panel" id="d95">
                    <div class="modal-view-container">
                        <h4 class="d-h2">/src/ittf/lib/coder.js.ittf</h4>
                        <pre class="prettyprint">

<div class="L1"><span class="pp-ln">   1 </span><span class="pp-pln"></span><span class="pp-tag">module</span></div><div class="L2"><span class="pp-ln">   2 </span><span class="pp-pln">    </span><span class="pp-tag">kind</span><span class="pp-pln"> jsfile</span></div><div class="L3"><span class="pp-ln">   3 </span><span class="pp-pln">    </span><span class="pp-tag">class</span><span class="pp-pln"> Coder</span></div><div class="L4"><span class="pp-ln">   4 </span><span class="pp-pln">        </span><span class="pp-tag">ctor</span></div><div class="L5"><span class="pp-ln">   5 </span><span class="pp-pln">            </span><span class="pp-tag">set</span><span class="pp-pln"> this.buffer = []</span></div><div class="L6"><span class="pp-ln">   6 </span><span class="pp-pln">            </span><span class="pp-tag">set</span><span class="pp-pln"> this.indentValue = 0</span></div><div class="L7"><span class="pp-ln">   7 </span><span class="pp-pln">            </span><span class="pp-tag">set</span><span class="pp-pln"> this.needIndent = false</span></div><div class="L8"><span class="pp-ln">   8 </span><span class="pp-pln">            </span><span class="pp-tag">set</span><span class="pp-pln"> this.ctx = {}</span></div><div class="L9"><span class="pp-ln">   9 </span><span class="pp-pln">            </span><span class="pp-tag">set</span><span class="pp-pln"> this.commentPaths = []</span></div><div class="L0"><span class="pp-ln">  10 </span><span class="pp-pln">        </span><span class="pp-tag">m</span><span class="pp-pln"> w</span></div><div class="L1"><span class="pp-ln">  11 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> text</span></div><div class="L2"><span class="pp-ln">  12 </span><span class="pp-pln">            </span><span class="pp-tag">_</span><span class="pp-pln"> this.do_indent</span></div><div class="L3"><span class="pp-ln">  13 </span><span class="pp-pln">            </span><span class="pp-tag">_</span><span class="pp-pln"> this.buffer.push(text + '\n')</span></div><div class="L4"><span class="pp-ln">  14 </span><span class="pp-pln">            </span><span class="pp-tag">set</span><span class="pp-pln"> this.needIndent = true</span></div><div class="L5"><span class="pp-ln">  15 </span><span class="pp-pln">        </span><span class="pp-tag">m</span><span class="pp-pln"> write</span></div><div class="L6"><span class="pp-ln">  16 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> text</span></div><div class="L7"><span class="pp-ln">  17 </span><span class="pp-pln">            </span><span class="pp-tag">_</span><span class="pp-pln"> this.do_indent</span></div><div class="L8"><span class="pp-ln">  18 </span><span class="pp-pln">            </span><span class="pp-tag">_</span><span class="pp-pln"> this.buffer.push(text)</span></div><div class="L9"><span class="pp-ln">  19 </span><span class="pp-pln">        </span><span class="pp-tag">m</span><span class="pp-pln"> indent</span></div><div class="L0"><span class="pp-ln">  20 </span><span class="pp-pln">            </span><span class="pp-tag">set</span><span class="pp-pln"> this.indentValue++</span></div><div class="L1"><span class="pp-ln">  21 </span><span class="pp-pln">        </span><span class="pp-tag">m</span><span class="pp-pln"> deindent</span></div><div class="L2"><span class="pp-ln">  22 </span><span class="pp-pln">            </span><span class="pp-tag">set</span><span class="pp-pln"> this.indentValue--</span></div><div class="L3"><span class="pp-ln">  23 </span><span class="pp-pln">        </span><span class="pp-tag">m</span><span class="pp-pln"> do_indent</span></div><div class="L4"><span class="pp-ln">  24 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> this.needIndent</span></div><div class="L5"><span class="pp-ln">  25 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> this.buffer.push</span></div><div class="L6"><span class="pp-ln">  26 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> (new Array(1 + this.indentValue * 4)).join(' ')</span></div><div class="L7"><span class="pp-ln">  27 </span><span class="pp-pln">                </span><span class="pp-tag">set</span><span class="pp-pln"> this.needIndent = false</span></div><div class="L8"><span class="pp-ln">  28 </span><span class="pp-pln">        </span><span class="pp-tag">m</span><span class="pp-pln"> pushPath</span></div><div class="L9"><span class="pp-ln">  29 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> path</span></div><div class="L0"><span class="pp-ln">  30 </span><span class="pp-pln">            </span><span class="pp-tag">_</span><span class="pp-pln"> this.commentPaths.push(path)</span></div><div class="L1"><span class="pp-ln">  31 </span><span class="pp-pln">        </span><span class="pp-tag">m</span><span class="pp-pln"> popPath</span></div><div class="L2"><span class="pp-ln">  32 </span><span class="pp-pln">            </span><span class="pp-tag">_</span><span class="pp-pln"> this.commentPaths.pop</span></div><div class="L3"><span class="pp-ln">  33 </span><span class="pp-pln">        </span><span class="pp-tag">m</span><span class="pp-pln"> wPath</span></div><div class="L4"><span class="pp-ln">  34 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> slComment</span></div><div class="L5"><span class="pp-ln">  35 </span><span class="pp-pln">            </span><span class="pp-tag">_</span><span class="pp-pln"> this.w(slComment + ' ' + this.commentPaths.join(' -&gt; '))</span></div><div class="L6"><span class="pp-ln">  36 </span><span class="pp-pln">        </span><span class="pp-tag">m</span><span class="pp-pln"> wEntering</span></div><div class="L7"><span class="pp-ln">  37 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> fname</span></div><div class="L8"><span class="pp-ln">  38 </span><span class="pp-pln">            </span><span class="pp-tag">_</span><span class="pp-pln"> this.w('console.log(\'Entering match ' + this.commentPaths.join(' -&gt; ') + ' ' + (fname || '') + ' ch: \' + input.codePointAt(pos) + \'/\' + input[pos] + \'/ pos:\' + pos);')</span></div><div class="L9"><span class="pp-ln">  39 </span><span class="pp-pln">        </span><span class="pp-tag">m</span><span class="pp-pln"> toString</span></div><div class="L0"><span class="pp-ln">  40 </span><span class="pp-pln">            </span><span class="pp-tag">return</span><span class="pp-pln"> this.buffer.join('')</span></div><div class="L1"><span class="pp-ln">  41 </span><span class="pp-pln">    </span><span class="pp-tag">set</span><span class="pp-pln"> module.exports = Coder</span></div></pre>
                    </div>
                </div>
                <div class="code-panel" id="d96">
                    <div class="modal-view-container">
                        <h4 class="d-h2">/src/ittf/lib/config.js.ittf</h4>
                        <pre class="prettyprint">

<div class="L1"><span class="pp-ln">   1 </span><span class="pp-pln"></span><span class="pp-tag">module</span></div><div class="L2"><span class="pp-ln">   2 </span><span class="pp-pln">    </span><span class="pp-tag">kind</span><span class="pp-pln"> jsfile</span></div><div class="L3"><span class="pp-ln">   3 </span><span class="pp-pln">    </span><span class="pp-tag">#</span></div><div class="L4"><span class="pp-ln">   4 </span><span class="pp-pln">        </span><span class="pp-tag">#</span><span class="pp-pln"> TODO eliminate this</span></div><div class="L5"><span class="pp-ln">   5 </span><span class="pp-pln">        </span><span class="pp-tag">#</span></div><div class="L6"><span class="pp-ln">   6 </span><span class="pp-pln">        </span><span class="pp-tag">#</span><span class="pp-pln"> Config properties can be changed during the startup of the runnerServer,</span></div><div class="L7"><span class="pp-ln">   7 </span><span class="pp-pln">        </span><span class="pp-tag">#</span><span class="pp-pln"> using the onConfig method of a wizzifile.js.</span></div><div class="L8"><span class="pp-ln">   8 </span><span class="pp-pln">        </span><span class="pp-tag">#</span></div><div class="L9"><span class="pp-ln">   9 </span><span class="pp-pln">        </span><span class="pp-tag">#</span><span class="pp-pln"> property wfBaseFolder</span></div><div class="L0"><span class="pp-ln">  10 </span><span class="pp-pln">        </span><span class="pp-tag">#</span><span class="pp-pln"> property wfJobsFolder</span></div><div class="L1"><span class="pp-ln">  11 </span><span class="pp-pln">        </span><span class="pp-tag">#</span></div><div class="L2"><span class="pp-ln">  12 </span><span class="pp-pln">    </span><span class="pp-tag">import</span><span class="pp-pln"> path</span></div><div class="L3"><span class="pp-ln">  13 </span><span class="pp-pln">    </span><span class="pp-tag">var</span><span class="pp-pln"> md</span></div><div class="L4"><span class="pp-ln">  14 </span><span class="pp-pln">        </span><span class="pp-tag">set</span><span class="pp-pln"> module.exports =</span></div><div class="L5"><span class="pp-ln">  15 </span><span class="pp-pln">            </span><span class="pp-tag">{</span></div><div class="L6"><span class="pp-ln">  16 </span><span class="pp-pln">    </span><span class="pp-tag">set</span><span class="pp-pln"> md.wfBaseFolder = 'c:/my/wizzi/v3'</span></div><div class="L7"><span class="pp-ln">  17 </span><span class="pp-pln">    </span><span class="pp-tag">set</span><span class="pp-pln"> md.wfJobsFolder</span></div><div class="L8"><span class="pp-ln">  18 </span><span class="pp-pln">        </span><span class="pp-tag">_</span><span class="pp-pln"> path.join</span></div><div class="L9"><span class="pp-ln">  19 </span><span class="pp-pln">            </span><span class="pp-tag">@</span><span class="pp-pln"> md.wfBaseFolder</span></div><div class="L0"><span class="pp-ln">  20 </span><span class="pp-pln">            </span><span class="pp-tag">@</span><span class="pp-pln"> 'wfjobs'</span></div><div class="L1"><span class="pp-ln">  21 </span><span class="pp-pln">    </span><span class="pp-tag">set</span><span class="pp-pln"> md.get</span></div><div class="L2"><span class="pp-ln">  22 </span><span class="pp-pln">        </span><span class="pp-tag">function</span></div><div class="L3"><span class="pp-ln">  23 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> key</span></div><div class="L4"><span class="pp-ln">  24 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> defaultValue</span></div><div class="L5"><span class="pp-ln">  25 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> typeof(md[key]) === 'undefined' && typeof(defaultValue) !== 'undefined'</span></div><div class="L6"><span class="pp-ln">  26 </span><span class="pp-pln">                </span><span class="pp-tag">return</span><span class="pp-pln"> defaultValue</span></div><div class="L7"><span class="pp-ln">  27 </span><span class="pp-pln">            </span><span class="pp-tag">else</span></div><div class="L8"><span class="pp-ln">  28 </span><span class="pp-pln">                </span><span class="pp-tag">return</span><span class="pp-pln"> md[key]</span></div><div class="L9"><span class="pp-ln">  29 </span><span class="pp-pln">    </span><span class="pp-tag">set</span><span class="pp-pln"> md.set</span></div><div class="L0"><span class="pp-ln">  30 </span><span class="pp-pln">        </span><span class="pp-tag">function</span></div><div class="L1"><span class="pp-ln">  31 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> key</span></div><div class="L2"><span class="pp-ln">  32 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> value</span></div><div class="L3"><span class="pp-ln">  33 </span><span class="pp-pln">            </span><span class="pp-tag">set</span><span class="pp-pln"> md[key] = value</span></div><div class="L4"><span class="pp-ln">  34 </span><span class="pp-pln">            </span><span class="pp-tag">_</span><span class="pp-pln"> onChange</span></div><div class="L5"><span class="pp-ln">  35 </span><span class="pp-pln">    </span><span class="pp-tag">function</span><span class="pp-pln"> onChange</span></div><div class="L6"><span class="pp-ln">  36 </span><span class="pp-pln">        </span><span class="pp-tag">set</span><span class="pp-pln"> md.wfJobsFolder</span></div><div class="L7"><span class="pp-ln">  37 </span><span class="pp-pln">            </span><span class="pp-tag">_</span><span class="pp-pln"> path.join</span></div><div class="L8"><span class="pp-ln">  38 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> md.wfBaseFolder</span></div><div class="L9"><span class="pp-ln">  39 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> 'wfjobs'</span></div></pre>
                    </div>
                </div>
                <div class="code-panel" id="d97">
                    <div class="modal-view-container">
                        <h4 class="d-h2">/src/ittf/lib/errors.js.ittf</h4>
                        <pre class="prettyprint">

<div class="L1"><span class="pp-ln">   1 </span><span class="pp-pln"></span><span class="pp-tag">module</span></div><div class="L2"><span class="pp-ln">   2 </span><span class="pp-pln">    </span><span class="pp-tag">kind</span><span class="pp-pln"> jsfile</span></div><div class="L3"><span class="pp-ln">   3 </span><span class="pp-pln">    </span><span class="pp-tag">import</span><span class="pp-pln"> util</span></div><div class="L4"><span class="pp-ln">   4 </span><span class="pp-pln">    </span><span class="pp-tag">+</span></div><div class="L5"><span class="pp-ln">   5 </span><span class="pp-pln">    </span><span class="pp-tag">var</span><span class="pp-pln"> md = module.exports = {}</span></div><div class="L6"><span class="pp-ln">   6 </span><span class="pp-pln">    </span><span class="pp-tag">+</span></div><div class="L7"><span class="pp-ln">   7 </span><span class="pp-pln">    </span><span class="pp-mix frag-to-link-a" data-frag-id="d117">error(</span><span class="pp-arg"> File</span><span class="pp-pln">,</span><span class="pp-arg">  message</span><span class="pp-pln">,</span><span class="pp-arg">  ex </span><span class="pp-mix">)</span></div><div class="L8"><span class="pp-ln">   8 </span><span class="pp-pln">        </span><span class="pp-tag">set</span><span class="pp-pln"> this.message = message</span></div><div class="L9"><span class="pp-ln">   9 </span><span class="pp-pln">        </span><span class="pp-tag">set</span><span class="pp-pln"> this.inner = ex</span></div><div class="L0"><span class="pp-ln">  10 </span><span class="pp-pln">    </span><span class="pp-mix frag-to-link-a" data-frag-id="d117">error(</span><span class="pp-arg"> Node</span><span class="pp-pln">,</span><span class="pp-arg">  message</span><span class="pp-pln">,</span><span class="pp-arg">  node </span><span class="pp-mix">)</span></div><div class="L1"><span class="pp-ln">  11 </span><span class="pp-pln">        </span><span class="pp-tag">var</span><span class="pp-pln"> msg</span></div><div class="L2"><span class="pp-ln">  12 </span><span class="pp-pln">            </span><span class="pp-tag">[</span></div><div class="L3"><span class="pp-ln">  13 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> message</span></div><div class="L4"><span class="pp-ln">  14 </span><span class="pp-pln">        </span><span class="pp-tag">if</span><span class="pp-pln"> node</span></div><div class="L5"><span class="pp-ln">  15 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> node.wzSourceLineInfo</span></div><div class="L6"><span class="pp-ln">  16 </span><span class="pp-pln">                </span><span class="pp-tag">var</span><span class="pp-pln"> info = node.wzSourceLineInfo</span></div><div class="L7"><span class="pp-ln">  17 </span><span class="pp-pln">                </span><span class="pp-tag">var</span><span class="pp-pln"> filePath = 'TODO'</span></div><div class="L8"><span class="pp-ln">  18 </span><span class="pp-pln">                </span><span class="pp-tag">if</span><span class="pp-pln"> node.wzSourceFilepath</span></div><div class="L9"><span class="pp-ln">  19 </span><span class="pp-pln">                    </span><span class="pp-tag">set</span><span class="pp-pln"> filePath = node.wzSourceFilepath(info.sourceKey)</span></div><div class="L0"><span class="pp-ln">  20 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> msg.push((' at row: ' + info.row))</span></div><div class="L1"><span class="pp-ln">  21 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> msg.push((', col: ' + info.col))</span></div><div class="L2"><span class="pp-ln">  22 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> msg.push((', source: ' + info.sourceKey))</span></div><div class="L3"><span class="pp-ln">  23 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> msg.push((', in file: ' + filePath))</span></div><div class="L4"><span class="pp-ln">  24 </span><span class="pp-pln">            </span><span class="pp-tag">elif</span><span class="pp-pln"> node.row</span></div><div class="L5"><span class="pp-ln">  25 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> msg.push((' at row: ' + node.row))</span></div><div class="L6"><span class="pp-ln">  26 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> msg.push((', col: ' + node.col))</span></div><div class="L7"><span class="pp-ln">  27 </span><span class="pp-pln">        </span><span class="pp-tag">set</span><span class="pp-pln"> this.message = msg.join('')</span></div><div class="L8"><span class="pp-ln">  28 </span><span class="pp-pln">        </span><span class="pp-tag">#</span><span class="pp-pln"> log 'NodeError', this.message</span></div><div class="L9"><span class="pp-ln">  29 </span><span class="pp-pln">        </span><span class="pp-tag">#</span><span class="pp-pln"> set this.node = node</span></div></pre>
                    </div>
                </div>
                <div class="code-panel" id="d98">
                    <div class="modal-view-container">
                        <h4 class="d-h2">/src/ittf/lib/exampleErrors.js.ittf</h4>
                        <pre class="prettyprint">

<div class="L1"><span class="pp-ln">   1 </span><span class="pp-pln"></span><span class="pp-tag">module</span></div><div class="L2"><span class="pp-ln">   2 </span><span class="pp-pln">    </span><span class="pp-tag">kind</span><span class="pp-pln"> jsfile</span></div><div class="L3"><span class="pp-ln">   3 </span><span class="pp-pln">    </span><span class="pp-tag">import</span><span class="pp-pln"> util</span></div><div class="L4"><span class="pp-ln">   4 </span><span class="pp-pln">    </span><span class="pp-tag">var</span><span class="pp-pln"> fail = require('wizzi-utils').fail</span></div><div class="L5"><span class="pp-ln">   5 </span><span class="pp-pln">    </span><span class="pp-tag">+</span></div><div class="L6"><span class="pp-ln">   6 </span><span class="pp-pln">    </span><span class="pp-tag">var</span><span class="pp-pln"> md = module.exports = {}</span></div><div class="L7"><span class="pp-ln">   7 </span><span class="pp-pln">    </span><span class="pp-tag">+</span></div><div class="L8"><span class="pp-ln">   8 </span><span class="pp-pln">    </span><span class="pp-mix frag-to-link-a" data-frag-id="d117">error(</span><span class="pp-arg"> NotImplemented</span><span class="pp-pln">,</span><span class="pp-arg">  message </span><span class="pp-mix">)</span></div><div class="L9"><span class="pp-ln">   9 </span><span class="pp-pln">        </span><span class="pp-tag">log</span><span class="pp-pln"> 'message', message</span></div><div class="L0"><span class="pp-ln">  10 </span><span class="pp-pln">        </span><span class="pp-tag">set</span><span class="pp-pln"> this.message = message</span></div><div class="L1"><span class="pp-ln">  11 </span><span class="pp-pln">    </span><span class="pp-tag">+</span></div><div class="L2"><span class="pp-ln">  12 </span><span class="pp-pln">    </span><span class="pp-mix frag-to-link-a" data-frag-id="d117">error(</span><span class="pp-arg"> InvalidRequest</span><span class="pp-pln">,</span><span class="pp-arg">  message</span><span class="pp-pln">,</span><span class="pp-arg">  code </span><span class="pp-mix">)</span></div><div class="L3"><span class="pp-ln">  13 </span><span class="pp-pln">        </span><span class="pp-tag">log</span><span class="pp-pln"> 'message', message</span></div><div class="L4"><span class="pp-ln">  14 </span><span class="pp-pln">        </span><span class="pp-tag">set</span><span class="pp-pln"> this.message = message</span></div><div class="L5"><span class="pp-ln">  15 </span><span class="pp-pln">        </span><span class="pp-tag">set</span><span class="pp-pln"> this.code = code</span></div><div class="L6"><span class="pp-ln">  16 </span><span class="pp-pln">    </span><span class="pp-mix frag-to-link-a" data-frag-id="d117">error(</span><span class="pp-arg"> Node</span><span class="pp-pln">,</span><span class="pp-arg">  message</span><span class="pp-pln">,</span><span class="pp-arg">  node </span><span class="pp-mix">)</span></div><div class="L7"><span class="pp-ln">  17 </span><span class="pp-pln">        </span><span class="pp-tag">var</span><span class="pp-pln"> msg</span></div><div class="L8"><span class="pp-ln">  18 </span><span class="pp-pln">            </span><span class="pp-tag">[</span></div><div class="L9"><span class="pp-ln">  19 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> message</span></div><div class="L0"><span class="pp-ln">  20 </span><span class="pp-pln">        </span><span class="pp-tag">if</span><span class="pp-pln"> node</span></div><div class="L1"><span class="pp-ln">  21 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> node.wzSourceLineInfo</span></div><div class="L2"><span class="pp-ln">  22 </span><span class="pp-pln">                </span><span class="pp-tag">var</span><span class="pp-pln"> info = node.wzSourceLineInfo</span></div><div class="L3"><span class="pp-ln">  23 </span><span class="pp-pln">                </span><span class="pp-tag">var</span><span class="pp-pln"> filePath = 'TODO'</span></div><div class="L4"><span class="pp-ln">  24 </span><span class="pp-pln">                </span><span class="pp-tag">if</span><span class="pp-pln"> node.wzSourceFilepath</span></div><div class="L5"><span class="pp-ln">  25 </span><span class="pp-pln">                    </span><span class="pp-tag">set</span><span class="pp-pln"> filePath = node.wzSourceFilepath(info.sourceKey)</span></div><div class="L6"><span class="pp-ln">  26 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> msg.push((' at row: ' + info.row))</span></div><div class="L7"><span class="pp-ln">  27 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> msg.push((', col: ' + info.col))</span></div><div class="L8"><span class="pp-ln">  28 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> msg.push((', source: ' + info.sourceKey))</span></div><div class="L9"><span class="pp-ln">  29 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> msg.push((', in file: ' + filePath))</span></div><div class="L0"><span class="pp-ln">  30 </span><span class="pp-pln">            </span><span class="pp-tag">elif</span><span class="pp-pln"> node.row</span></div><div class="L1"><span class="pp-ln">  31 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> msg.push((' at row: ' + node.row))</span></div><div class="L2"><span class="pp-ln">  32 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> msg.push((', col: ' + node.col))</span></div><div class="L3"><span class="pp-ln">  33 </span><span class="pp-pln">        </span><span class="pp-tag">set</span><span class="pp-pln"> this.message = msg.join('')</span></div><div class="L4"><span class="pp-ln">  34 </span><span class="pp-pln">        </span><span class="pp-tag">log</span><span class="pp-pln"> 'NodeError', this.message</span></div><div class="L5"><span class="pp-ln">  35 </span><span class="pp-pln">        </span><span class="pp-tag">#</span><span class="pp-pln"> set this.node = node</span></div><div class="L6"><span class="pp-ln">  36 </span><span class="pp-pln">    </span><span class="pp-mix frag-to-link-a" data-frag-id="d117">error(</span><span class="pp-arg"> NotFound</span><span class="pp-pln">,</span><span class="pp-arg">  resourceType</span><span class="pp-pln">,</span><span class="pp-arg">  name</span><span class="pp-pln">,</span><span class="pp-arg">  message </span><span class="pp-mix">)</span></div><div class="L7"><span class="pp-ln">  37 </span><span class="pp-pln">        </span><span class="pp-tag">set</span><span class="pp-pln"> this.message = resourceType + ': ' + name +' not found, message ' + message</span></div><div class="L8"><span class="pp-ln">  38 </span><span class="pp-pln">    </span><span class="pp-mix frag-to-link-a" data-frag-id="d117">error(</span><span class="pp-arg"> IttfNotFound</span><span class="pp-pln">,</span><span class="pp-arg">  resourceType</span><span class="pp-pln">,</span><span class="pp-arg">  name</span><span class="pp-pln">,</span><span class="pp-arg">  sourceUri </span><span class="pp-mix">)</span></div><div class="L9"><span class="pp-ln">  39 </span><span class="pp-pln">        </span><span class="pp-tag">set</span><span class="pp-pln"> this.message = resourceType + ': ' + name +' not found, processing document ' + md.getSrcPathInfo(sourceUri)</span></div><div class="L0"><span class="pp-ln">  40 </span><span class="pp-pln">    </span><span class="pp-mix frag-to-link-a" data-frag-id="d117">error(</span><span class="pp-arg"> IttfLoad</span><span class="pp-pln">,</span><span class="pp-arg">  message</span><span class="pp-pln">,</span><span class="pp-arg">  srcPath</span><span class="pp-pln">,</span><span class="pp-arg">  node</span><span class="pp-pln">,</span><span class="pp-arg">  ex </span><span class="pp-mix">)</span></div><div class="L1"><span class="pp-ln">  41 </span><span class="pp-pln">        </span><span class="pp-tag">if</span><span class="pp-pln"> !(ex)</span></div><div class="L2"><span class="pp-ln">  42 </span><span class="pp-pln">            </span><span class="pp-tag">set</span><span class="pp-pln"> ex = node</span></div><div class="L3"><span class="pp-ln">  43 </span><span class="pp-pln">            </span><span class="pp-tag">set</span><span class="pp-pln"> node = null</span></div><div class="L4"><span class="pp-ln">  44 </span><span class="pp-pln">        </span><span class="pp-tag">set</span><span class="pp-pln"> this.message = 'Error: ' + message + '\nLoading ittf document ' + md.getSrcPathInfo(srcPath)</span></div><div class="L5"><span class="pp-ln">  45 </span><span class="pp-pln">        </span><span class="pp-tag">if</span><span class="pp-pln"> node</span></div><div class="L6"><span class="pp-ln">  46 </span><span class="pp-pln">            </span><span class="pp-tag">set</span><span class="pp-pln"> this.message += ('\n' + new NodeError('', node).message)</span></div><div class="L7"><span class="pp-ln">  47 </span><span class="pp-pln">    </span><span class="pp-mix frag-to-link-a" data-frag-id="d117">error(</span><span class="pp-arg"> WizziModelLoad</span><span class="pp-pln">,</span><span class="pp-arg">  message</span><span class="pp-pln">,</span><span class="pp-arg">  srcPath</span><span class="pp-pln">,</span><span class="pp-arg">  ex </span><span class="pp-mix">)</span></div><div class="L8"><span class="pp-ln">  48 </span><span class="pp-pln">        </span><span class="pp-tag">set</span><span class="pp-pln"> this.message = 'Error: ' + message + '\nLoading ittf document ' + md.getSrcPathInfo(srcPath)</span></div><div class="L9"><span class="pp-ln">  49 </span><span class="pp-pln">    </span><span class="pp-mix frag-to-link-a" data-frag-id="d117">error(</span><span class="pp-arg"> ModelTransformation</span><span class="pp-pln">,</span><span class="pp-arg">  message</span><span class="pp-pln">,</span><span class="pp-arg">  generation</span><span class="pp-pln">,</span><span class="pp-arg">  srcPath</span><span class="pp-pln">,</span><span class="pp-arg">  ex </span><span class="pp-mix">)</span></div><div class="L0"><span class="pp-ln">  50 </span><span class="pp-pln">        </span><span class="pp-tag">set</span><span class="pp-pln"> this.message = 'Error: ' + message + '\nDuring generation:' + generation + ', processing document ' + md.getSrcPathInfo(srcPath)</span></div><div class="L1"><span class="pp-ln">  51 </span><span class="pp-pln">    </span><span class="pp-mix frag-to-link-a" data-frag-id="d117">error(</span><span class="pp-arg"> ArtifactGeneration</span><span class="pp-pln">,</span><span class="pp-arg">  message</span><span class="pp-pln">,</span><span class="pp-arg">  generation</span><span class="pp-pln">,</span><span class="pp-arg">  srcPath</span><span class="pp-pln">,</span><span class="pp-arg">  ex </span><span class="pp-mix">)</span></div><div class="L2"><span class="pp-ln">  52 </span><span class="pp-pln">        </span><span class="pp-tag">set</span><span class="pp-pln"> this.message = 'Error: ' + message +'\nDuring generation:' + generation +', processing document ' + md.getSrcPathInfo(srcPath)</span></div><div class="L3"><span class="pp-ln">  53 </span><span class="pp-pln">        </span><span class="pp-tag">log</span><span class="pp-pln"> 'wizzi.artifact.errors.artifactGenerationError.message', this.message</span></div><div class="L4"><span class="pp-ln">  54 </span><span class="pp-pln">    </span><span class="pp-mix frag-to-link-a" data-frag-id="d117">error(</span><span class="pp-arg"> WizziInvalidRequest</span><span class="pp-pln">,</span><span class="pp-arg">  message</span><span class="pp-pln">,</span><span class="pp-arg">  srcPath</span><span class="pp-pln">,</span><span class="pp-arg">  ex </span><span class="pp-mix">)</span></div><div class="L5"><span class="pp-ln">  55 </span><span class="pp-pln">        </span><span class="pp-tag">set</span><span class="pp-pln"> this.message = message</span></div><div class="L6"><span class="pp-ln">  56 </span><span class="pp-pln">    </span><span class="pp-mix frag-to-link-a" data-frag-id="d117">error(</span><span class="pp-arg"> RunnerServer</span><span class="pp-pln">,</span><span class="pp-arg">  message </span><span class="pp-mix">)</span></div><div class="L7"><span class="pp-ln">  57 </span><span class="pp-pln">        </span><span class="pp-tag">set</span><span class="pp-pln"> this.message = message</span></div><div class="L8"><span class="pp-ln">  58 </span><span class="pp-pln">    </span><span class="pp-tag">set</span><span class="pp-pln"> md.artifactGenerationError</span></div><div class="L9"><span class="pp-ln">  59 </span><span class="pp-pln">        </span><span class="pp-tag">function</span></div><div class="L0"><span class="pp-ln">  60 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> message</span></div><div class="L1"><span class="pp-ln">  61 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> generation</span></div><div class="L2"><span class="pp-ln">  62 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> node</span></div><div class="L3"><span class="pp-ln">  63 </span><span class="pp-pln">            </span><span class="pp-tag">var</span><span class="pp-pln"> error</span></div><div class="L4"><span class="pp-ln">  64 </span><span class="pp-pln">                </span><span class="pp-tag">new</span><span class="pp-pln"> md.ArtifactGenerationError(message, generation, node)</span></div><div class="L5"><span class="pp-ln">  65 </span><span class="pp-pln">            </span><span class="pp-tag">_</span><span class="pp-pln"> fail.warn(error)</span></div><div class="L6"><span class="pp-ln">  66 </span><span class="pp-pln">            </span><span class="pp-tag">throw</span><span class="pp-pln"> error</span></div><div class="L7"><span class="pp-ln">  67 </span><span class="pp-pln">    </span><span class="pp-tag">set</span><span class="pp-pln"> md.getSrcPathInfo</span></div><div class="L8"><span class="pp-ln">  68 </span><span class="pp-pln">        </span><span class="pp-tag">function</span></div><div class="L9"><span class="pp-ln">  69 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> srcPath</span></div><div class="L0"><span class="pp-ln">  70 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> typeof (srcPath) === 'string'</span></div><div class="L1"><span class="pp-ln">  71 </span><span class="pp-pln">                </span><span class="pp-tag">return</span><span class="pp-pln"> srcPath</span></div><div class="L2"><span class="pp-ln">  72 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> (srcPath && (typeof (srcPath) === 'object'))</span></div><div class="L3"><span class="pp-ln">  73 </span><span class="pp-pln">                </span><span class="pp-tag">var</span><span class="pp-pln"> msg = md.getSrcPathInfoFromNode(srcPath)</span></div><div class="L4"><span class="pp-ln">  74 </span><span class="pp-pln">                </span><span class="pp-tag">return</span></div><div class="L5"><span class="pp-ln">  75 </span><span class="pp-pln">                    </span><span class="pp-tag">iif</span><span class="pp-pln"> msg</span></div><div class="L6"><span class="pp-ln">  76 </span><span class="pp-pln">                        </span><span class="pp-tag">then</span><span class="pp-pln"> msg</span></div><div class="L7"><span class="pp-ln">  77 </span><span class="pp-pln">                        </span><span class="pp-tag">else</span></div><div class="L8"><span class="pp-ln">  78 </span><span class="pp-pln">                            </span><span class="pp-tag">_</span><span class="pp-pln"> srcPath.toString()</span></div><div class="L9"><span class="pp-ln">  79 </span><span class="pp-pln">            </span><span class="pp-tag">return</span><span class="pp-pln"> 'unavailable'</span></div><div class="L0"><span class="pp-ln">  80 </span><span class="pp-pln">    </span><span class="pp-tag">set</span><span class="pp-pln"> md.getSrcPathInfoFromNode</span></div><div class="L1"><span class="pp-ln">  81 </span><span class="pp-pln">        </span><span class="pp-tag">function</span></div><div class="L2"><span class="pp-ln">  82 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> node</span></div><div class="L3"><span class="pp-ln">  83 </span><span class="pp-pln">            </span><span class="pp-tag">var</span><span class="pp-pln"> msg</span></div><div class="L4"><span class="pp-ln">  84 </span><span class="pp-pln">                </span><span class="pp-tag">[</span></div><div class="L5"><span class="pp-ln">  85 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> node</span></div><div class="L6"><span class="pp-ln">  86 </span><span class="pp-pln">                </span><span class="pp-tag">if</span><span class="pp-pln"> node.wzSourceLineInfo</span></div><div class="L7"><span class="pp-ln">  87 </span><span class="pp-pln">                    </span><span class="pp-tag">var</span><span class="pp-pln"> info = node.wzSourceLineInfo</span></div><div class="L8"><span class="pp-ln">  88 </span><span class="pp-pln">                    </span><span class="pp-tag">var</span><span class="pp-pln"> filePath = 'TODO'</span></div><div class="L9"><span class="pp-ln">  89 </span><span class="pp-pln">                    </span><span class="pp-tag">if</span><span class="pp-pln"> node.wzSourceFilepath</span></div><div class="L0"><span class="pp-ln">  90 </span><span class="pp-pln">                        </span><span class="pp-tag">set</span><span class="pp-pln"> filePath = node.wzSourceFilepath(info.sourceKey)</span></div><div class="L1"><span class="pp-ln">  91 </span><span class="pp-pln">                    </span><span class="pp-tag">_</span><span class="pp-pln"> msg.push((' at row: ' + info.row))</span></div><div class="L2"><span class="pp-ln">  92 </span><span class="pp-pln">                    </span><span class="pp-tag">_</span><span class="pp-pln"> msg.push((', col: ' + info.col))</span></div><div class="L3"><span class="pp-ln">  93 </span><span class="pp-pln">                    </span><span class="pp-tag">_</span><span class="pp-pln"> msg.push((', source: ' + info.sourceKey))</span></div><div class="L4"><span class="pp-ln">  94 </span><span class="pp-pln">                    </span><span class="pp-tag">_</span><span class="pp-pln"> msg.push((', in file: ' + filePath))</span></div><div class="L5"><span class="pp-ln">  95 </span><span class="pp-pln">            </span><span class="pp-tag">return</span></div><div class="L6"><span class="pp-ln">  96 </span><span class="pp-pln">                </span><span class="pp-tag">iif</span><span class="pp-pln"> msg.length == 0</span></div><div class="L7"><span class="pp-ln">  97 </span><span class="pp-pln">                    </span><span class="pp-tag">then</span><span class="pp-pln"> null</span></div><div class="L8"><span class="pp-ln">  98 </span><span class="pp-pln">                    </span><span class="pp-tag">else</span></div><div class="L9"><span class="pp-ln">  99 </span><span class="pp-pln">                        </span><span class="pp-tag">_</span><span class="pp-pln"> msg.join('')</span></div><div class="L0"><span class="pp-ln"> 100 </span><span class="pp-pln">    </span><span class="pp-mix frag-to-link-a" data-frag-id="d117">error(</span><span class="pp-arg"> File</span><span class="pp-pln">,</span><span class="pp-arg">  message</span><span class="pp-pln">,</span><span class="pp-arg">  ex </span><span class="pp-mix">)</span></div><div class="L1"><span class="pp-ln"> 101 </span><span class="pp-pln">        </span><span class="pp-tag">set</span><span class="pp-pln"> this.message = message</span></div><div class="L2"><span class="pp-ln"> 102 </span><span class="pp-pln">        </span><span class="pp-tag">set</span><span class="pp-pln"> this.inner = ex</span></div></pre>
                    </div>
                </div>
                <div class="code-panel" id="d99">
                    <div class="modal-view-container">
                        <h4 class="d-h2">/src/ittf/lib/fail.js.ittf</h4>
                        <pre class="prettyprint">

<div class="L1"><span class="pp-ln">   1 </span><span class="pp-pln"></span><span class="pp-tag">module</span></div><div class="L2"><span class="pp-ln">   2 </span><span class="pp-pln">    </span><span class="pp-tag">kind</span><span class="pp-pln"> jsfile</span></div><div class="L3"><span class="pp-ln">   3 </span><span class="pp-pln">    </span><span class="pp-tag">var</span><span class="pp-pln"> option = require('./option')</span></div><div class="L4"><span class="pp-ln">   4 </span><span class="pp-pln">    </span><span class="pp-tag">var</span><span class="pp-pln"> chalk = require('chalk')</span></div><div class="L5"><span class="pp-ln">   5 </span><span class="pp-pln">    </span><span class="pp-tag">var</span><span class="pp-pln"> md</span></div><div class="L6"><span class="pp-ln">   6 </span><span class="pp-pln">        </span><span class="pp-tag">set</span><span class="pp-pln"> module.exports =</span></div><div class="L7"><span class="pp-ln">   7 </span><span class="pp-pln">            </span><span class="pp-tag">{</span></div><div class="L8"><span class="pp-ln">   8 </span><span class="pp-pln">    </span><span class="pp-tag">set</span><span class="pp-pln"> md.code</span></div><div class="L9"><span class="pp-ln">   9 </span><span class="pp-pln">        </span><span class="pp-tag">{</span></div><div class="L0"><span class="pp-ln">  10 </span><span class="pp-pln">            </span><span class="pp-tag">@</span><span class="pp-pln"> FATAL_ERROR 1</span></div><div class="L1"><span class="pp-ln">  11 </span><span class="pp-pln">            </span><span class="pp-tag">@</span><span class="pp-pln"> MISSING_WFJOBFILE 2</span></div><div class="L2"><span class="pp-ln">  12 </span><span class="pp-pln">            </span><span class="pp-tag">@</span><span class="pp-pln"> MISSING_ITTFDOCUMENT 3</span></div><div class="L3"><span class="pp-ln">  13 </span><span class="pp-pln">            </span><span class="pp-tag">@</span><span class="pp-pln"> MISSING_MIXIN 4</span></div><div class="L4"><span class="pp-ln">  14 </span><span class="pp-pln">            </span><span class="pp-tag">@</span><span class="pp-pln"> MISSING_INCLUDE 5</span></div><div class="L5"><span class="pp-ln">  15 </span><span class="pp-pln">            </span><span class="pp-tag">@</span><span class="pp-pln"> ITTF_LOADING_FAILURE 6</span></div><div class="L6"><span class="pp-ln">  16 </span><span class="pp-pln">            </span><span class="pp-tag">@</span><span class="pp-pln"> MODEL_LOADING_FAILURE 7</span></div><div class="L7"><span class="pp-ln">  17 </span><span class="pp-pln">            </span><span class="pp-tag">@</span><span class="pp-pln"> MISSING_MODELTRANSFORMER 8</span></div><div class="L8"><span class="pp-ln">  18 </span><span class="pp-pln">            </span><span class="pp-tag">@</span><span class="pp-pln"> MISSING_ARTIFACTGENERATOR 9</span></div><div class="L9"><span class="pp-ln">  19 </span><span class="pp-pln">            </span><span class="pp-tag">@</span><span class="pp-pln"> WARNING 10</span></div><div class="L0"><span class="pp-ln">  20 </span><span class="pp-pln">    </span><span class="pp-tag">function</span><span class="pp-pln"> dumpStack</span></div><div class="L1"><span class="pp-ln">  21 </span><span class="pp-pln">        </span><span class="pp-tag">param</span><span class="pp-pln"> e</span></div><div class="L2"><span class="pp-ln">  22 </span><span class="pp-pln">        </span><span class="pp-tag">if</span><span class="pp-pln"> option('stack')</span></div><div class="L3"><span class="pp-ln">  23 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> e.origError && e.origError.stack</span></div><div class="L4"><span class="pp-ln">  24 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> loginfo</span></div><div class="L5"><span class="pp-ln">  25 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> e.origError.stack</span></div><div class="L6"><span class="pp-ln">  26 </span><span class="pp-pln">            </span><span class="pp-tag">elif</span><span class="pp-pln"> e.stack</span></div><div class="L7"><span class="pp-ln">  27 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> loginfo</span></div><div class="L8"><span class="pp-ln">  28 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> e.stack</span></div><div class="L9"><span class="pp-ln">  29 </span><span class="pp-pln">    </span><span class="pp-tag">set</span><span class="pp-pln"> md.fatal</span></div><div class="L0"><span class="pp-ln">  30 </span><span class="pp-pln">        </span><span class="pp-tag">function</span></div><div class="L1"><span class="pp-ln">  31 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> e</span></div><div class="L2"><span class="pp-ln">  32 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> errcode</span></div><div class="L3"><span class="pp-ln">  33 </span><span class="pp-pln">            </span><span class="pp-tag">var</span><span class="pp-pln"> msg = "Fatal error: " + String(e.message || e)</span></div><div class="L4"><span class="pp-ln">  34 </span><span class="pp-pln">            </span><span class="pp-tag">_</span><span class="pp-pln"> logerror(msg)</span></div><div class="L5"><span class="pp-ln">  35 </span><span class="pp-pln">            </span><span class="pp-tag">_</span><span class="pp-pln"> dumpStack(e)</span></div><div class="L6"><span class="pp-ln">  36 </span><span class="pp-pln">            </span><span class="pp-tag">var</span><span class="pp-pln"> code</span></div><div class="L7"><span class="pp-ln">  37 </span><span class="pp-pln">                </span><span class="pp-tag">iif</span><span class="pp-pln"> typeof(errcode) === 'number'</span></div><div class="L8"><span class="pp-ln">  38 </span><span class="pp-pln">                    </span><span class="pp-tag">then</span><span class="pp-pln"> errcode</span></div><div class="L9"><span class="pp-ln">  39 </span><span class="pp-pln">                    </span><span class="pp-tag">else</span></div><div class="L0"><span class="pp-ln">  40 </span><span class="pp-pln">                        </span><span class="pp-tag">set</span><span class="pp-pln"> md.code.FATAL_ERROR</span></div><div class="L1"><span class="pp-ln">  41 </span><span class="pp-pln">            </span><span class="pp-tag">_</span><span class="pp-pln"> process.exit</span></div><div class="L2"><span class="pp-ln">  42 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> code</span></div><div class="L3"><span class="pp-ln">  43 </span><span class="pp-pln">    </span><span class="pp-tag">set</span><span class="pp-pln"> md.errorcount = 0</span></div><div class="L4"><span class="pp-ln">  44 </span><span class="pp-pln">    </span><span class="pp-tag">set</span><span class="pp-pln"> md.warncount = 0</span></div><div class="L5"><span class="pp-ln">  45 </span><span class="pp-pln">    </span><span class="pp-tag">set</span><span class="pp-pln"> md.warn =</span></div><div class="L6"><span class="pp-ln">  46 </span><span class="pp-pln">        </span><span class="pp-tag">function</span></div><div class="L7"><span class="pp-ln">  47 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> e</span></div><div class="L8"><span class="pp-ln">  48 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> errcode</span></div><div class="L9"><span class="pp-ln">  49 </span><span class="pp-pln">            </span><span class="pp-tag">var</span><span class="pp-pln"> msg = 'Warning: ' + (typeof(e) === 'string' ? e : e.message)</span></div><div class="L0"><span class="pp-ln">  50 </span><span class="pp-pln">            </span><span class="pp-tag">set</span><span class="pp-pln"> msg += option('force') ? '\nUsed --force, continuing.' : '\nUse --force to continue.'</span></div><div class="L1"><span class="pp-ln">  51 </span><span class="pp-pln">            </span><span class="pp-tag">set</span><span class="pp-pln"> md.warncount++</span></div><div class="L2"><span class="pp-ln">  52 </span><span class="pp-pln">            </span><span class="pp-tag">_</span><span class="pp-pln"> logwarn(msg)</span></div><div class="L3"><span class="pp-ln">  53 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> !(option('force'))</span></div><div class="L4"><span class="pp-ln">  54 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> dumpStack(e)</span></div><div class="L5"><span class="pp-ln">  55 </span><span class="pp-pln">                </span><span class="pp-tag">if</span><span class="pp-pln"> false</span></div><div class="L6"><span class="pp-ln">  56 </span><span class="pp-pln">                    </span><span class="pp-tag">_</span><span class="pp-pln"> logerror('Aborted due to warnings.')</span></div><div class="L7"><span class="pp-ln">  57 </span><span class="pp-pln">                    </span><span class="pp-tag">var</span><span class="pp-pln"> code</span></div><div class="L8"><span class="pp-ln">  58 </span><span class="pp-pln">                        </span><span class="pp-tag">iif</span><span class="pp-pln"> typeof (errcode) === 'number'</span></div><div class="L9"><span class="pp-ln">  59 </span><span class="pp-pln">                            </span><span class="pp-tag">then</span><span class="pp-pln"> errcode</span></div><div class="L0"><span class="pp-ln">  60 </span><span class="pp-pln">                            </span><span class="pp-tag">else</span></div><div class="L1"><span class="pp-ln">  61 </span><span class="pp-pln">                                </span><span class="pp-tag">set</span><span class="pp-pln"> md.code.WARNING</span></div><div class="L2"><span class="pp-ln">  62 </span><span class="pp-pln">                    </span><span class="pp-tag">_</span><span class="pp-pln"> process.exit</span></div><div class="L3"><span class="pp-ln">  63 </span><span class="pp-pln">                        </span><span class="pp-tag">@</span><span class="pp-pln"> code</span></div><div class="L4"><span class="pp-ln">  64 </span><span class="pp-pln">    </span><span class="pp-tag">set</span><span class="pp-pln"> md.report =</span></div><div class="L5"><span class="pp-ln">  65 </span><span class="pp-pln">        </span><span class="pp-tag">function</span></div><div class="L6"><span class="pp-ln">  66 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> md.warncount &gt; 0</span></div><div class="L7"><span class="pp-ln">  67 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> logerror('Done, but with warnings.')</span></div><div class="L8"><span class="pp-ln">  68 </span><span class="pp-pln">            </span><span class="pp-tag">else</span></div><div class="L9"><span class="pp-ln">  69 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> logsuccess('Done, without errors.')</span></div><div class="L0"><span class="pp-ln">  70 </span><span class="pp-pln">    </span><span class="pp-tag">function</span><span class="pp-pln"> loginfo</span></div><div class="L1"><span class="pp-ln">  71 </span><span class="pp-pln">        </span><span class="pp-tag">param</span><span class="pp-pln"> msg</span></div><div class="L2"><span class="pp-ln">  72 </span><span class="pp-pln">        </span><span class="pp-tag">_</span><span class="pp-pln"> console.log(msg)</span></div><div class="L3"><span class="pp-ln">  73 </span><span class="pp-pln">    </span><span class="pp-tag">function</span><span class="pp-pln"> logsuccess</span></div><div class="L4"><span class="pp-ln">  74 </span><span class="pp-pln">        </span><span class="pp-tag">param</span><span class="pp-pln"> msg</span></div><div class="L5"><span class="pp-ln">  75 </span><span class="pp-pln">        </span><span class="pp-tag">_</span><span class="pp-pln"> console.log</span></div><div class="L6"><span class="pp-ln">  76 </span><span class="pp-pln">            </span><span class="pp-tag">_</span><span class="pp-pln"> chalk.green(msg)</span></div><div class="L7"><span class="pp-ln">  77 </span><span class="pp-pln">    </span><span class="pp-tag">function</span><span class="pp-pln"> logwarn</span></div><div class="L8"><span class="pp-ln">  78 </span><span class="pp-pln">        </span><span class="pp-tag">param</span><span class="pp-pln"> msg</span></div><div class="L9"><span class="pp-ln">  79 </span><span class="pp-pln">        </span><span class="pp-tag">_</span><span class="pp-pln"> console.log</span></div><div class="L0"><span class="pp-ln">  80 </span><span class="pp-pln">            </span><span class="pp-tag">_</span><span class="pp-pln"> chalk.yellow(msg)</span></div><div class="L1"><span class="pp-ln">  81 </span><span class="pp-pln">    </span><span class="pp-tag">function</span><span class="pp-pln"> logerror</span></div><div class="L2"><span class="pp-ln">  82 </span><span class="pp-pln">        </span><span class="pp-tag">param</span><span class="pp-pln"> msg</span></div><div class="L3"><span class="pp-ln">  83 </span><span class="pp-pln">        </span><span class="pp-tag">_</span><span class="pp-pln"> console.log</span></div><div class="L4"><span class="pp-ln">  84 </span><span class="pp-pln">            </span><span class="pp-tag">_</span><span class="pp-pln"> chalk.red(msg)</span></div></pre>
                    </div>
                </div>
                <div class="code-panel" id="d100">
                    <div class="modal-view-container">
                        <h4 class="d-h2">/src/ittf/lib/lineparser.js.ittf</h4>
                        <pre class="prettyprint">

<div class="L1"><span class="pp-ln">   1 </span><span class="pp-pln"></span><span class="pp-tag">module</span></div><div class="L2"><span class="pp-ln">   2 </span><span class="pp-pln">    </span><span class="pp-tag">kind</span><span class="pp-pln"> jsfile</span></div><div class="L3"><span class="pp-ln">   3 </span><span class="pp-pln">    </span><span class="pp-tag">var</span><span class="pp-pln"> verify = require('./verify')</span></div><div class="L4"><span class="pp-ln">   4 </span><span class="pp-pln">    </span><span class="pp-tag">var</span><span class="pp-pln"> regexEscape = /([$\^\\\/()|?+*\[\]{}.\-])/g</span></div><div class="L5"><span class="pp-ln">   5 </span><span class="pp-pln">    </span><span class="pp-tag">var</span><span class="pp-pln"> md</span></div><div class="L6"><span class="pp-ln">   6 </span><span class="pp-pln">        </span><span class="pp-tag">set</span><span class="pp-pln"> module.exports =</span></div><div class="L7"><span class="pp-ln">   7 </span><span class="pp-pln">            </span><span class="pp-tag">{</span></div><div class="L8"><span class="pp-ln">   8 </span><span class="pp-pln">    </span><span class="pp-kwd">$include</span><span class="pp-mix frag-to-link-a" data-frag-id="d84"> lineparser/codifyInterpolation</span></div><div class="L9"><span class="pp-ln">   9 </span><span class="pp-pln">    </span><span class="pp-tag">function</span><span class="pp-pln"> match</span></div><div class="L0"><span class="pp-ln">  10 </span><span class="pp-pln">        </span><span class="pp-tag">param</span><span class="pp-pln"> text</span></div><div class="L1"><span class="pp-ln">  11 </span><span class="pp-pln">        </span><span class="pp-tag">param</span><span class="pp-pln"> pos</span></div><div class="L2"><span class="pp-ln">  12 </span><span class="pp-pln">        </span><span class="pp-tag">param</span><span class="pp-pln"> test</span></div><div class="L3"><span class="pp-ln">  13 </span><span class="pp-pln">        </span><span class="pp-tag">for</span><span class="pp-pln"> var i=0; i&lt;test.length; i++</span></div><div class="L4"><span class="pp-ln">  14 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> test[i] !== text[pos+i]</span></div><div class="L5"><span class="pp-ln">  15 </span><span class="pp-pln">                </span><span class="pp-tag">return</span><span class="pp-pln"> false</span></div><div class="L6"><span class="pp-ln">  16 </span><span class="pp-pln">        </span><span class="pp-tag">return</span><span class="pp-pln"> true</span></div><div class="L7"><span class="pp-ln">  17 </span><span class="pp-pln">    </span><span class="pp-tag">function</span><span class="pp-pln"> escapename</span></div><div class="L8"><span class="pp-ln">  18 </span><span class="pp-pln">        </span><span class="pp-tag">param</span><span class="pp-pln"> value</span></div><div class="L9"><span class="pp-ln">  19 </span><span class="pp-pln">        </span><span class="pp-tag">if</span><span class="pp-pln"> verify.isNotEmpty(value)</span></div><div class="L0"><span class="pp-ln">  20 </span><span class="pp-pln">            </span><span class="pp-tag">return</span></div><div class="L1"><span class="pp-ln">  21 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> verify.replaceAll</span></div><div class="L2"><span class="pp-ln">  22 </span><span class="pp-pln">                    </span><span class="pp-tag">_</span><span class="pp-pln"> verify.replaceAll(value, "\\", "\\\\")</span></div><div class="L3"><span class="pp-ln">  23 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> '"'</span></div><div class="L4"><span class="pp-ln">  24 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> '\\"'</span></div><div class="L5"><span class="pp-ln">  25 </span><span class="pp-pln">        </span><span class="pp-tag">else</span></div><div class="L6"><span class="pp-ln">  26 </span><span class="pp-pln">            </span><span class="pp-tag">return</span><span class="pp-pln"> value</span></div></pre>
                    </div>
                </div>
                <div class="code-panel" id="d101">
                    <div class="modal-view-container">
                        <h4 class="d-h2">/src/ittf/lib/node.js.ittf</h4>
                        <pre class="prettyprint">

<div class="L1"><span class="pp-ln">   1 </span><span class="pp-pln"></span><span class="pp-tag">module</span></div><div class="L2"><span class="pp-ln">   2 </span><span class="pp-pln">    </span><span class="pp-tag">kind</span><span class="pp-pln"> jsfile</span></div><div class="L3"><span class="pp-ln">   3 </span><span class="pp-pln">    </span><span class="pp-tag">+</span></div><div class="L4"><span class="pp-ln">   4 </span><span class="pp-pln">    </span><span class="pp-tag">var</span><span class="pp-pln"> verify = require('./verify')</span></div><div class="L5"><span class="pp-ln">   5 </span><span class="pp-pln">    </span><span class="pp-tag">+</span></div><div class="L6"><span class="pp-ln">   6 </span><span class="pp-pln">    </span><span class="pp-tag">var</span><span class="pp-pln"> work</span></div><div class="L7"><span class="pp-ln">   7 </span><span class="pp-pln">        </span><span class="pp-tag">{</span></div><div class="L8"><span class="pp-ln">   8 </span><span class="pp-pln">    </span><span class="pp-tag">set</span><span class="pp-pln"> work.lineSep = "__LS__"</span></div><div class="L9"><span class="pp-ln">   9 </span><span class="pp-pln">    </span><span class="pp-tag">set</span><span class="pp-pln"> work.textSep = "__TS__"</span></div><div class="L0"><span class="pp-ln">  10 </span><span class="pp-pln">    </span><span class="pp-tag">+</span></div><div class="L1"><span class="pp-ln">  11 </span><span class="pp-pln">    </span><span class="pp-tag">var</span><span class="pp-pln"> md</span></div><div class="L2"><span class="pp-ln">  12 </span><span class="pp-pln">        </span><span class="pp-tag">set</span><span class="pp-pln"> module.exports =</span></div><div class="L3"><span class="pp-ln">  13 </span><span class="pp-pln">            </span><span class="pp-tag">{</span></div><div class="L4"><span class="pp-ln">  14 </span><span class="pp-pln">    </span><span class="pp-tag">#</span></div><div class="L5"><span class="pp-ln">  15 </span><span class="pp-pln">        </span><span class="pp-tag">#</span><span class="pp-pln"> inline a node hierarchy in a single text line</span></div><div class="L6"><span class="pp-ln">  16 </span><span class="pp-pln">        </span><span class="pp-tag">#</span><span class="pp-pln"> separated by the "__LS__" sequence</span></div><div class="L7"><span class="pp-ln">  17 </span><span class="pp-pln">    </span><span class="pp-tag">set</span><span class="pp-pln"> md.nodeToTextLine</span></div><div class="L8"><span class="pp-ln">  18 </span><span class="pp-pln">        </span><span class="pp-tag">function</span></div><div class="L9"><span class="pp-ln">  19 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> node</span></div><div class="L0"><span class="pp-ln">  20 </span><span class="pp-pln">            </span><span class="pp-tag">var</span><span class="pp-pln"> acc</span></div><div class="L1"><span class="pp-ln">  21 </span><span class="pp-pln">                </span><span class="pp-tag">[</span></div><div class="L2"><span class="pp-ln">  22 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> node.children</span></div><div class="L3"><span class="pp-ln">  23 </span><span class="pp-pln">                </span><span class="pp-tag">foreach</span><span class="pp-pln"> item in node.children</span></div><div class="L4"><span class="pp-ln">  24 </span><span class="pp-pln">                    </span><span class="pp-tag">_</span><span class="pp-pln"> textline(item, acc, '')</span></div><div class="L5"><span class="pp-ln">  25 </span><span class="pp-pln">            </span><span class="pp-tag">return</span></div><div class="L6"><span class="pp-ln">  26 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> acc.join</span></div><div class="L7"><span class="pp-ln">  27 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> work.lineSep</span></div><div class="L8"><span class="pp-ln">  28 </span><span class="pp-pln">    </span><span class="pp-tag">function</span><span class="pp-pln"> textline</span></div><div class="L9"><span class="pp-ln">  29 </span><span class="pp-pln">        </span><span class="pp-tag">param</span><span class="pp-pln"> node</span></div><div class="L0"><span class="pp-ln">  30 </span><span class="pp-pln">        </span><span class="pp-tag">param</span><span class="pp-pln"> acc</span></div><div class="L1"><span class="pp-ln">  31 </span><span class="pp-pln">        </span><span class="pp-tag">param</span><span class="pp-pln"> indent</span></div><div class="L2"><span class="pp-ln">  32 </span><span class="pp-pln">        </span><span class="pp-tag">var</span><span class="pp-pln"> open = node.tagSuffix == '(' ? '(' : ' '</span></div><div class="L3"><span class="pp-ln">  33 </span><span class="pp-pln">        </span><span class="pp-tag">_</span><span class="pp-pln"> acc.push</span></div><div class="L4"><span class="pp-ln">  34 </span><span class="pp-pln">            </span><span class="pp-tag">@</span><span class="pp-pln"> indent + node.name + open + (node.value || '')</span></div><div class="L5"><span class="pp-ln">  35 </span><span class="pp-pln">        </span><span class="pp-tag">foreach</span><span class="pp-pln"> item in node.children</span></div><div class="L6"><span class="pp-ln">  36 </span><span class="pp-pln">            </span><span class="pp-tag">_</span><span class="pp-pln"> textline(item, acc, (indent + '  '))</span></div><div class="L7"><span class="pp-ln">  37 </span><span class="pp-pln">    </span><span class="pp-tag">#</span></div><div class="L8"><span class="pp-ln">  38 </span><span class="pp-pln">        </span><span class="pp-tag">#</span><span class="pp-pln"> extract the text lines from a text string inlined with `nodeToTextLine`</span></div><div class="L9"><span class="pp-ln">  39 </span><span class="pp-pln">    </span><span class="pp-tag">set</span><span class="pp-pln"> md.inlinedTextToTextLines</span></div><div class="L0"><span class="pp-ln">  40 </span><span class="pp-pln">        </span><span class="pp-tag">function</span></div><div class="L1"><span class="pp-ln">  41 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> text</span></div><div class="L2"><span class="pp-ln">  42 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> options</span></div><div class="L3"><span class="pp-ln">  43 </span><span class="pp-pln">            </span><span class="pp-tag">set</span><span class="pp-pln"> options = options || {}</span></div><div class="L4"><span class="pp-ln">  44 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> typeof(text) === 'undefined' || text == null</span></div><div class="L5"><span class="pp-ln">  45 </span><span class="pp-pln">                </span><span class="pp-tag">if</span><span class="pp-pln"> options.singleLine</span></div><div class="L6"><span class="pp-ln">  46 </span><span class="pp-pln">                    </span><span class="pp-tag">return</span><span class="pp-pln"> text</span></div><div class="L7"><span class="pp-ln">  47 </span><span class="pp-pln">                </span><span class="pp-tag">else</span></div><div class="L8"><span class="pp-ln">  48 </span><span class="pp-pln">                    </span><span class="pp-tag">return</span></div><div class="L9"><span class="pp-ln">  49 </span><span class="pp-pln">                        </span><span class="pp-tag">{</span></div><div class="L0"><span class="pp-ln">  50 </span><span class="pp-pln">                            </span><span class="pp-tag">@</span><span class="pp-pln"> text text</span></div><div class="L1"><span class="pp-ln">  51 </span><span class="pp-pln">                            </span><span class="pp-tag">@</span><span class="pp-pln"> lines null</span></div><div class="L2"><span class="pp-ln">  52 </span><span class="pp-pln">            </span><span class="pp-tag">var</span><span class="pp-pln"> text</span></div><div class="L3"><span class="pp-ln">  53 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> verify.replaceAll</span></div><div class="L4"><span class="pp-ln">  54 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> text</span></div><div class="L5"><span class="pp-ln">  55 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> work.textSep</span></div><div class="L6"><span class="pp-ln">  56 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> '\n'</span></div><div class="L7"><span class="pp-ln">  57 </span><span class="pp-pln">            </span><span class="pp-tag">var</span><span class="pp-pln"> ss = text.split('\n')</span></div><div class="L8"><span class="pp-ln">  58 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> ss.length == 1</span></div><div class="L9"><span class="pp-ln">  59 </span><span class="pp-pln">                </span><span class="pp-tag">if</span><span class="pp-pln"> options.singleLine</span></div><div class="L0"><span class="pp-ln">  60 </span><span class="pp-pln">                    </span><span class="pp-tag">return</span><span class="pp-pln"> ss[0]</span></div><div class="L1"><span class="pp-ln">  61 </span><span class="pp-pln">                </span><span class="pp-tag">else</span></div><div class="L2"><span class="pp-ln">  62 </span><span class="pp-pln">                    </span><span class="pp-tag">return</span></div><div class="L3"><span class="pp-ln">  63 </span><span class="pp-pln">                        </span><span class="pp-tag">{</span></div><div class="L4"><span class="pp-ln">  64 </span><span class="pp-pln">                            </span><span class="pp-tag">@</span><span class="pp-pln"> text ss[0]</span></div><div class="L5"><span class="pp-ln">  65 </span><span class="pp-pln">                            </span><span class="pp-tag">@</span><span class="pp-pln"> lines null</span></div><div class="L6"><span class="pp-ln">  66 </span><span class="pp-pln">            </span><span class="pp-tag">else</span></div><div class="L7"><span class="pp-ln">  67 </span><span class="pp-pln">                </span><span class="pp-tag">if</span><span class="pp-pln"> options.singleLine</span></div><div class="L8"><span class="pp-ln">  68 </span><span class="pp-pln">                    </span><span class="pp-tag">var</span><span class="pp-pln"> para</span></div><div class="L9"><span class="pp-ln">  69 </span><span class="pp-pln">                        </span><span class="pp-tag">_</span><span class="pp-pln"> verify.replaceAll</span></div><div class="L0"><span class="pp-ln">  70 </span><span class="pp-pln">                            </span><span class="pp-tag">@</span><span class="pp-pln"> ss[1]</span></div><div class="L1"><span class="pp-ln">  71 </span><span class="pp-pln">                            </span><span class="pp-tag">@</span><span class="pp-pln"> work.lineSep</span></div><div class="L2"><span class="pp-ln">  72 </span><span class="pp-pln">                            </span><span class="pp-tag">@</span><span class="pp-pln"> '\n'</span></div><div class="L3"><span class="pp-ln">  73 </span><span class="pp-pln">                    </span><span class="pp-tag">return</span><span class="pp-pln"> ss[0] + para</span></div><div class="L4"><span class="pp-ln">  74 </span><span class="pp-pln">                </span><span class="pp-tag">else</span></div><div class="L5"><span class="pp-ln">  75 </span><span class="pp-pln">                    </span><span class="pp-tag">var</span><span class="pp-pln"> lines</span></div><div class="L6"><span class="pp-ln">  76 </span><span class="pp-pln">                        </span><span class="pp-tag">_</span><span class="pp-pln"> verify.replaceAll</span></div><div class="L7"><span class="pp-ln">  77 </span><span class="pp-pln">                            </span><span class="pp-tag">@</span><span class="pp-pln"> ss[1]</span></div><div class="L8"><span class="pp-ln">  78 </span><span class="pp-pln">                            </span><span class="pp-tag">@</span><span class="pp-pln"> work.lineSep</span></div><div class="L9"><span class="pp-ln">  79 </span><span class="pp-pln">                            </span><span class="pp-tag">@</span><span class="pp-pln"> '\n'</span></div><div class="L0"><span class="pp-ln">  80 </span><span class="pp-pln">                            </span><span class="pp-tag">._</span><span class="pp-pln"> split('\n')</span></div><div class="L1"><span class="pp-ln">  81 </span><span class="pp-pln">                    </span><span class="pp-tag">return</span></div><div class="L2"><span class="pp-ln">  82 </span><span class="pp-pln">                        </span><span class="pp-tag">{</span></div><div class="L3"><span class="pp-ln">  83 </span><span class="pp-pln">                            </span><span class="pp-tag">@</span><span class="pp-pln"> text ss[0]</span></div><div class="L4"><span class="pp-ln">  84 </span><span class="pp-pln">                            </span><span class="pp-tag">@</span><span class="pp-pln"> lines lines</span></div></pre>
                    </div>
                </div>
                <div class="code-panel" id="d102">
                    <div class="modal-view-container">
                        <h4 class="d-h2">/src/ittf/lib/option.js.ittf</h4>
                        <pre class="prettyprint">

<div class="L1"><span class="pp-ln">   1 </span><span class="pp-pln"></span><span class="pp-tag">module</span></div><div class="L2"><span class="pp-ln">   2 </span><span class="pp-pln">    </span><span class="pp-tag">kind</span><span class="pp-pln"> jsfile</span></div><div class="L3"><span class="pp-ln">   3 </span><span class="pp-pln">    </span><span class="pp-tag">#</span></div><div class="L4"><span class="pp-ln">   4 </span><span class="pp-pln">        </span><span class="pp-tag">#</span><span class="pp-pln"> TODO eliminate this</span></div><div class="L5"><span class="pp-ln">   5 </span><span class="pp-pln">        </span><span class="pp-tag">#</span></div><div class="L6"><span class="pp-ln">   6 </span><span class="pp-pln">    </span><span class="pp-tag">var</span><span class="pp-pln"> data</span></div><div class="L7"><span class="pp-ln">   7 </span><span class="pp-pln">        </span><span class="pp-tag">{</span></div><div class="L8"><span class="pp-ln">   8 </span><span class="pp-pln">    </span><span class="pp-tag">var</span><span class="pp-pln"> option</span></div><div class="L9"><span class="pp-ln">   9 </span><span class="pp-pln">        </span><span class="pp-tag">set</span><span class="pp-pln"> module.exports =</span></div><div class="L0"><span class="pp-ln">  10 </span><span class="pp-pln">            </span><span class="pp-tag">function</span></div><div class="L1"><span class="pp-ln">  11 </span><span class="pp-pln">                </span><span class="pp-tag">param</span><span class="pp-pln"> key</span></div><div class="L2"><span class="pp-ln">  12 </span><span class="pp-pln">                </span><span class="pp-tag">param</span><span class="pp-pln"> value</span></div><div class="L3"><span class="pp-ln">  13 </span><span class="pp-pln">                </span><span class="pp-tag">var</span><span class="pp-pln"> no = key.match(/^no-(.+)$/)</span></div><div class="L4"><span class="pp-ln">  14 </span><span class="pp-pln">                </span><span class="pp-tag">if</span><span class="pp-pln"> arguments.length === 2</span></div><div class="L5"><span class="pp-ln">  15 </span><span class="pp-pln">                    </span><span class="pp-tag">return</span><span class="pp-pln"> data[key] = value</span></div><div class="L6"><span class="pp-ln">  16 </span><span class="pp-pln">                </span><span class="pp-tag">elif</span><span class="pp-pln"> no</span></div><div class="L7"><span class="pp-ln">  17 </span><span class="pp-pln">                    </span><span class="pp-tag">return</span><span class="pp-pln"> data[no[1]] === false</span></div><div class="L8"><span class="pp-ln">  18 </span><span class="pp-pln">                </span><span class="pp-tag">else</span></div><div class="L9"><span class="pp-ln">  19 </span><span class="pp-pln">                    </span><span class="pp-tag">return</span><span class="pp-pln"> data[key]</span></div><div class="L0"><span class="pp-ln">  20 </span><span class="pp-pln">    </span><span class="pp-tag">set</span><span class="pp-pln"> option.init</span></div><div class="L1"><span class="pp-ln">  21 </span><span class="pp-pln">        </span><span class="pp-tag">function</span></div><div class="L2"><span class="pp-ln">  22 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> obj</span></div><div class="L3"><span class="pp-ln">  23 </span><span class="pp-pln">            </span><span class="pp-tag">return</span><span class="pp-pln"> data = (obj || {})</span></div></pre>
                    </div>
                </div>
                <div class="code-panel" id="d103">
                    <div class="modal-view-container">
                        <h4 class="d-h2">/src/ittf/lib/regexpExt.js.ittf</h4>
                        <pre class="prettyprint">

<div class="L1"><span class="pp-ln">   1 </span><span class="pp-pln"></span><span class="pp-tag">module</span></div><div class="L2"><span class="pp-ln">   2 </span><span class="pp-pln">    </span><span class="pp-tag">kind</span><span class="pp-pln"> jsfile</span></div><div class="L3"><span class="pp-ln">   3 </span><span class="pp-pln">    </span><span class="pp-tag">var</span><span class="pp-pln"> util = require('util')</span></div><div class="L4"><span class="pp-ln">   4 </span><span class="pp-pln">    </span><span class="pp-tag">var</span><span class="pp-pln"> chalk = require('chalk')</span></div><div class="L5"><span class="pp-ln">   5 </span><span class="pp-pln">    </span><span class="pp-tag">var</span><span class="pp-pln"> md</span></div><div class="L6"><span class="pp-ln">   6 </span><span class="pp-pln">        </span><span class="pp-tag">set</span><span class="pp-pln"> module.exports =</span></div><div class="L7"><span class="pp-ln">   7 </span><span class="pp-pln">            </span><span class="pp-tag">{</span></div><div class="L8"><span class="pp-ln">   8 </span><span class="pp-pln">    </span><span class="pp-tag">set</span><span class="pp-pln"> md.getAllRegExp</span></div><div class="L9"><span class="pp-ln">   9 </span><span class="pp-pln">        </span><span class="pp-tag">function</span></div><div class="L0"><span class="pp-ln">  10 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> regexp</span></div><div class="L1"><span class="pp-ln">  11 </span><span class="pp-pln">            </span><span class="pp-tag">var</span><span class="pp-pln"> ret</span></div><div class="L2"><span class="pp-ln">  12 </span><span class="pp-pln">                </span><span class="pp-tag">new</span><span class="pp-pln"> RegExp</span></div><div class="L3"><span class="pp-ln">  13 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> regexp.source</span></div><div class="L4"><span class="pp-ln">  14 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> 'g' + (regexp.ignoreCase ? 'i' : '') + (regexp.multiline  ? 'm' : '')</span></div><div class="L5"><span class="pp-ln">  15 </span><span class="pp-pln">            </span><span class="pp-tag">#</span><span class="pp-pln"> override RegExp#exec</span></div><div class="L6"><span class="pp-ln">  16 </span><span class="pp-pln">            </span><span class="pp-tag">set</span><span class="pp-pln"> ret.exec</span></div><div class="L7"><span class="pp-ln">  17 </span><span class="pp-pln">                </span><span class="pp-tag">function</span></div><div class="L8"><span class="pp-ln">  18 </span><span class="pp-pln">                    </span><span class="pp-tag">param</span><span class="pp-pln"> string</span></div><div class="L9"><span class="pp-ln">  19 </span><span class="pp-pln">                    </span><span class="pp-tag">var</span><span class="pp-pln"> results = [], result, checkLoop = -1</span></div><div class="L0"><span class="pp-ln">  20 </span><span class="pp-pln">                    </span><span class="pp-tag">var</span><span class="pp-pln"> result</span></div><div class="L1"><span class="pp-ln">  21 </span><span class="pp-pln">                        </span><span class="pp-tag">_</span><span class="pp-pln"> RegExp.prototype.exec.call</span></div><div class="L2"><span class="pp-ln">  22 </span><span class="pp-pln">                            </span><span class="pp-tag">@</span><span class="pp-pln"> this</span></div><div class="L3"><span class="pp-ln">  23 </span><span class="pp-pln">                            </span><span class="pp-tag">@</span><span class="pp-pln"> string</span></div><div class="L4"><span class="pp-ln">  24 </span><span class="pp-pln">                    </span><span class="pp-tag">while</span><span class="pp-pln"> result !== null</span></div><div class="L5"><span class="pp-ln">  25 </span><span class="pp-pln">                        </span><span class="pp-tag">if</span><span class="pp-pln"> this.lastIndex === checkLoop</span></div><div class="L6"><span class="pp-ln">  26 </span><span class="pp-pln">                            </span><span class="pp-tag">set</span><span class="pp-pln"> result.loop = true</span></div><div class="L7"><span class="pp-ln">  27 </span><span class="pp-pln">                            </span><span class="pp-tag">break</span></div><div class="L8"><span class="pp-ln">  28 </span><span class="pp-pln">                        </span><span class="pp-tag">set</span><span class="pp-pln"> checkLoop = this.lastIndex</span></div><div class="L9"><span class="pp-ln">  29 </span><span class="pp-pln">                        </span><span class="pp-tag">_</span><span class="pp-pln"> results.push(result[0])</span></div><div class="L0"><span class="pp-ln">  30 </span><span class="pp-pln">                        </span><span class="pp-tag">set</span><span class="pp-pln"> result</span></div><div class="L1"><span class="pp-ln">  31 </span><span class="pp-pln">                            </span><span class="pp-tag">_</span><span class="pp-pln"> RegExp.prototype.exec.call</span></div><div class="L2"><span class="pp-ln">  32 </span><span class="pp-pln">                                </span><span class="pp-tag">@</span><span class="pp-pln"> this</span></div><div class="L3"><span class="pp-ln">  33 </span><span class="pp-pln">                                </span><span class="pp-tag">@</span><span class="pp-pln"> string</span></div><div class="L4"><span class="pp-ln">  34 </span><span class="pp-pln">                    </span><span class="pp-tag">return</span><span class="pp-pln"> results.length &gt; 0 || results.loop ? results : null</span></div><div class="L5"><span class="pp-ln">  35 </span><span class="pp-pln">            </span><span class="pp-tag">return</span><span class="pp-pln"> ret</span></div><div class="L6"><span class="pp-ln">  36 </span><span class="pp-pln">    </span><span class="pp-tag">set</span><span class="pp-pln"> md.namedRegExp</span></div><div class="L7"><span class="pp-ln">  37 </span><span class="pp-pln">        </span><span class="pp-tag">function</span></div><div class="L8"><span class="pp-ln">  38 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> regexp</span></div><div class="L9"><span class="pp-ln">  39 </span><span class="pp-pln">            </span><span class="pp-tag">#</span><span class="pp-pln"> taken from to https://github.com/cho45/named-regexp.js</span></div><div class="L0"><span class="pp-ln">  40 </span><span class="pp-pln">            </span><span class="pp-tag">#</span><span class="pp-pln"> (c) cho45 http://cho45.github.com/mit-license</span></div><div class="L1"><span class="pp-ln">  41 </span><span class="pp-pln">            </span><span class="pp-tag">#</span><span class="pp-pln"> and adapted</span></div><div class="L2"><span class="pp-ln">  42 </span><span class="pp-pln">            </span><span class="pp-tag">var</span><span class="pp-pln"> names = []</span></div><div class="L3"><span class="pp-ln">  43 </span><span class="pp-pln">            </span><span class="pp-tag">var</span><span class="pp-pln"> ret</span></div><div class="L4"><span class="pp-ln">  44 </span><span class="pp-pln">                </span><span class="pp-tag">new</span><span class="pp-pln"> RegExp</span></div><div class="L5"><span class="pp-ln">  45 </span><span class="pp-pln">                    </span><span class="pp-tag">_</span><span class="pp-pln"> regexp.source.replace</span></div><div class="L6"><span class="pp-ln">  46 </span><span class="pp-pln">                        </span><span class="pp-tag">@</span><span class="pp-pln"> /\(:&lt;(\w+)&gt;/g</span></div><div class="L7"><span class="pp-ln">  47 </span><span class="pp-pln">                        </span><span class="pp-tag">function</span></div><div class="L8"><span class="pp-ln">  48 </span><span class="pp-pln">                            </span><span class="pp-tag">param</span><span class="pp-pln"> err</span></div><div class="L9"><span class="pp-ln">  49 </span><span class="pp-pln">                            </span><span class="pp-tag">param</span><span class="pp-pln"> name</span></div><div class="L0"><span class="pp-ln">  50 </span><span class="pp-pln">                            </span><span class="pp-tag">_</span><span class="pp-pln"> names.push(name)</span></div><div class="L1"><span class="pp-ln">  51 </span><span class="pp-pln">                            </span><span class="pp-tag">return</span><span class="pp-pln"> '('</span></div><div class="L2"><span class="pp-ln">  52 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> (regexp.global     ? 'g' : '') + (regexp.ignoreCase ? 'i' : '') + (regexp.multiline  ? 'm' : '')</span></div><div class="L3"><span class="pp-ln">  53 </span><span class="pp-pln">            </span><span class="pp-tag">var</span><span class="pp-pln"> captures</span></div><div class="L4"><span class="pp-ln">  54 </span><span class="pp-pln">                </span><span class="pp-tag">function</span></div><div class="L5"><span class="pp-ln">  55 </span><span class="pp-pln">                    </span><span class="pp-tag">param</span><span class="pp-pln"> matched</span></div><div class="L6"><span class="pp-ln">  56 </span><span class="pp-pln">                    </span><span class="pp-tag">if</span><span class="pp-pln"> !matched</span></div><div class="L7"><span class="pp-ln">  57 </span><span class="pp-pln">                        </span><span class="pp-tag">return</span><span class="pp-pln"> matched</span></div><div class="L8"><span class="pp-ln">  58 </span><span class="pp-pln">                    </span><span class="pp-tag">var</span><span class="pp-pln"> captures = {}</span></div><div class="L9"><span class="pp-ln">  59 </span><span class="pp-pln">                    </span><span class="pp-tag">foreach</span><span class="pp-pln"> name in names</span></div><div class="L0"><span class="pp-ln">  60 </span><span class="pp-pln">                        </span><span class="pp-tag">if</span><span class="pp-pln"> !captures[name]</span></div><div class="L1"><span class="pp-ln">  61 </span><span class="pp-pln">                            </span><span class="pp-tag">set</span><span class="pp-pln"> captures[name] = []</span></div><div class="L2"><span class="pp-ln">  62 </span><span class="pp-pln">                        </span><span class="pp-tag">_</span><span class="pp-pln"> captures[name].push</span></div><div class="L3"><span class="pp-ln">  63 </span><span class="pp-pln">                            </span><span class="pp-tag">@</span><span class="pp-pln"> matched[i + 1]</span></div><div class="L4"><span class="pp-ln">  64 </span><span class="pp-pln">                    </span><span class="pp-tag">set</span><span class="pp-pln"> matched.captures = captures</span></div><div class="L5"><span class="pp-ln">  65 </span><span class="pp-pln">                    </span><span class="pp-tag">set</span><span class="pp-pln"> matched.capture</span></div><div class="L6"><span class="pp-ln">  66 </span><span class="pp-pln">                        </span><span class="pp-tag">function</span></div><div class="L7"><span class="pp-ln">  67 </span><span class="pp-pln">                            </span><span class="pp-tag">param</span><span class="pp-pln"> name</span></div><div class="L8"><span class="pp-ln">  68 </span><span class="pp-pln">                            </span><span class="pp-tag">return</span><span class="pp-pln"> captures[name][ captures[name].length - 1 ]</span></div><div class="L9"><span class="pp-ln">  69 </span><span class="pp-pln">                    </span><span class="pp-tag">return</span><span class="pp-pln"> matched;</span></div><div class="L0"><span class="pp-ln">  70 </span><span class="pp-pln">            </span><span class="pp-tag">#</span><span class="pp-pln"> override RegExp#exec</span></div><div class="L1"><span class="pp-ln">  71 </span><span class="pp-pln">            </span><span class="pp-tag">set</span><span class="pp-pln"> ret.exec</span></div><div class="L2"><span class="pp-ln">  72 </span><span class="pp-pln">                </span><span class="pp-tag">function</span></div><div class="L3"><span class="pp-ln">  73 </span><span class="pp-pln">                    </span><span class="pp-tag">param</span><span class="pp-pln"> string</span></div><div class="L4"><span class="pp-ln">  74 </span><span class="pp-pln">                    </span><span class="pp-tag">return</span></div><div class="L5"><span class="pp-ln">  75 </span><span class="pp-pln">                        </span><span class="pp-tag">_</span><span class="pp-pln"> captures</span></div><div class="L6"><span class="pp-ln">  76 </span><span class="pp-pln">                            </span><span class="pp-tag">_</span><span class="pp-pln"> RegExp.prototype.exec.call</span></div><div class="L7"><span class="pp-ln">  77 </span><span class="pp-pln">                                </span><span class="pp-tag">@</span><span class="pp-pln"> this</span></div><div class="L8"><span class="pp-ln">  78 </span><span class="pp-pln">                                </span><span class="pp-tag">@</span><span class="pp-pln"> string</span></div><div class="L9"><span class="pp-ln">  79 </span><span class="pp-pln">            </span><span class="pp-tag">#</span><span class="pp-pln"> like String#replace</span></div><div class="L0"><span class="pp-ln">  80 </span><span class="pp-pln">            </span><span class="pp-tag">set</span><span class="pp-pln"> ret.replace</span></div><div class="L1"><span class="pp-ln">  81 </span><span class="pp-pln">                </span><span class="pp-tag">function</span></div><div class="L2"><span class="pp-ln">  82 </span><span class="pp-pln">                    </span><span class="pp-tag">param</span><span class="pp-pln"> string</span></div><div class="L3"><span class="pp-ln">  83 </span><span class="pp-pln">                    </span><span class="pp-tag">param</span><span class="pp-pln"> replace</span></div><div class="L4"><span class="pp-ln">  84 </span><span class="pp-pln">                    </span><span class="pp-tag">if</span><span class="pp-pln"> typeof replace == 'function'</span></div><div class="L5"><span class="pp-ln">  85 </span><span class="pp-pln">                        </span><span class="pp-tag">return</span></div><div class="L6"><span class="pp-ln">  86 </span><span class="pp-pln">                            </span><span class="pp-tag">_</span><span class="pp-pln"> string.replace</span></div><div class="L7"><span class="pp-ln">  87 </span><span class="pp-pln">                                </span><span class="pp-tag">@</span><span class="pp-pln"> this</span></div><div class="L8"><span class="pp-ln">  88 </span><span class="pp-pln">                                </span><span class="pp-tag">function</span></div><div class="L9"><span class="pp-ln">  89 </span><span class="pp-pln">                                    </span><span class="pp-tag">return</span></div><div class="L0"><span class="pp-ln">  90 </span><span class="pp-pln">                                        </span><span class="pp-tag">_</span><span class="pp-pln"> replace</span></div><div class="L1"><span class="pp-ln">  91 </span><span class="pp-pln">                                            </span><span class="pp-tag">_</span><span class="pp-pln"> captures</span></div><div class="L2"><span class="pp-ln">  92 </span><span class="pp-pln">                                                </span><span class="pp-tag">_</span><span class="pp-pln"> Array.prototype.slice.call</span></div><div class="L3"><span class="pp-ln">  93 </span><span class="pp-pln">                                                    </span><span class="pp-tag">@</span><span class="pp-pln"> arguments</span></div><div class="L4"><span class="pp-ln">  94 </span><span class="pp-pln">                    </span><span class="pp-tag">else</span></div><div class="L5"><span class="pp-ln">  95 </span><span class="pp-pln">                        </span><span class="pp-tag">return</span><span class="pp-pln"> string.replace(this, replace)</span></div><div class="L6"><span class="pp-ln">  96 </span><span class="pp-pln">            </span><span class="pp-tag">return</span><span class="pp-pln"> ret</span></div></pre>
                    </div>
                </div>
                <div class="code-panel" id="d104">
                    <div class="modal-view-container">
                        <h4 class="d-h2">/src/ittf/lib/requireFromString.js.ittf</h4>
                        <pre class="prettyprint">

<div class="L1"><span class="pp-ln">   1 </span><span class="pp-pln"></span><span class="pp-tag">module</span></div><div class="L2"><span class="pp-ln">   2 </span><span class="pp-pln">    </span><span class="pp-tag">kind</span><span class="pp-pln"> jsfile</span></div><div class="L3"><span class="pp-ln">   3 </span><span class="pp-pln">    </span><span class="pp-tag">#</span><span class="pp-pln"> License</span></div><div class="L4"><span class="pp-ln">   4 </span><span class="pp-pln">    </span><span class="pp-tag">#</span><span class="pp-pln"> MIT Â© Vsevolod Strukchinsky [https://github.com/floatdrop]</span></div><div class="L5"><span class="pp-ln">   5 </span><span class="pp-pln">    </span><span class="pp-tag">#</span><span class="pp-pln"> original source [https://github.com/floatdrop/require-from-string/blob/master/index.js]</span></div><div class="L6"><span class="pp-ln">   6 </span><span class="pp-pln">    </span><span class="pp-tag">var</span><span class="pp-pln"> Module = require('module')</span></div><div class="L7"><span class="pp-ln">   7 </span><span class="pp-pln">    </span><span class="pp-tag">var</span><span class="pp-pln"> path = require('path')</span></div><div class="L8"><span class="pp-ln">   8 </span><span class="pp-pln">    </span><span class="pp-tag">set</span><span class="pp-pln"> module.exports</span></div><div class="L9"><span class="pp-ln">   9 </span><span class="pp-pln">        </span><span class="pp-tag">function</span><span class="pp-pln"> requireFromString</span></div><div class="L0"><span class="pp-ln">  10 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> code</span></div><div class="L1"><span class="pp-ln">  11 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> filename</span></div><div class="L2"><span class="pp-ln">  12 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> opts</span></div><div class="L3"><span class="pp-ln">  13 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> typeof filename === 'object'</span></div><div class="L4"><span class="pp-ln">  14 </span><span class="pp-pln">                </span><span class="pp-tag">set</span><span class="pp-pln"> opts = filename</span></div><div class="L5"><span class="pp-ln">  15 </span><span class="pp-pln">                </span><span class="pp-tag">set</span><span class="pp-pln"> filename = undefined</span></div><div class="L6"><span class="pp-ln">  16 </span><span class="pp-pln">            </span><span class="pp-tag">set</span><span class="pp-pln"> opts = opts || {}</span></div><div class="L7"><span class="pp-ln">  17 </span><span class="pp-pln">            </span><span class="pp-tag">set</span><span class="pp-pln"> filename = filename || ''</span></div><div class="L8"><span class="pp-ln">  18 </span><span class="pp-pln">            </span><span class="pp-tag">set</span><span class="pp-pln"> opts.appendPaths = opts.appendPaths || []</span></div><div class="L9"><span class="pp-ln">  19 </span><span class="pp-pln">            </span><span class="pp-tag">set</span><span class="pp-pln"> opts.prependPaths = opts.prependPaths || []</span></div><div class="L0"><span class="pp-ln">  20 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> typeof code !== 'string'</span></div><div class="L1"><span class="pp-ln">  21 </span><span class="pp-pln">                </span><span class="pp-tag">throw</span><span class="pp-pln"> new Error('code must be a string, not ' + typeof code)</span></div><div class="L2"><span class="pp-ln">  22 </span><span class="pp-pln">            </span><span class="pp-tag">var</span><span class="pp-pln"> paths = Module._nodeModulePaths(path.dirname(filename))</span></div><div class="L3"><span class="pp-ln">  23 </span><span class="pp-pln">            </span><span class="pp-tag">var</span><span class="pp-pln"> parent = module.parent;</span></div><div class="L4"><span class="pp-ln">  24 </span><span class="pp-pln">            </span><span class="pp-tag">var</span><span class="pp-pln"> m = new Module(filename, parent)</span></div><div class="L5"><span class="pp-ln">  25 </span><span class="pp-pln">            </span><span class="pp-tag">set</span><span class="pp-pln"> m.filename = filename</span></div><div class="L6"><span class="pp-ln">  26 </span><span class="pp-pln">            </span><span class="pp-tag">set</span><span class="pp-pln"> m.paths = [].concat(opts.prependPaths).concat(paths).concat(opts.appendPaths)</span></div><div class="L7"><span class="pp-ln">  27 </span><span class="pp-pln">            </span><span class="pp-tag">_</span><span class="pp-pln"> m._compile</span></div><div class="L8"><span class="pp-ln">  28 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> code</span></div><div class="L9"><span class="pp-ln">  29 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> filename</span></div><div class="L0"><span class="pp-ln">  30 </span><span class="pp-pln">            </span><span class="pp-tag">var</span><span class="pp-pln"> exports = m.exports</span></div><div class="L1"><span class="pp-ln">  31 </span><span class="pp-pln">            </span><span class="pp-tag">set</span><span class="pp-pln"> parent.children && parent.children.splice(parent.children.indexOf(m), 1)</span></div><div class="L2"><span class="pp-ln">  32 </span><span class="pp-pln">            </span><span class="pp-tag">return</span><span class="pp-pln"> exports</span></div></pre>
                    </div>
                </div>
                <div class="code-panel" id="d105">
                    <div class="modal-view-container">
                        <h4 class="d-h2">/src/ittf/lib/verify.js.ittf</h4>
                        <pre class="prettyprint">

<div class="L1"><span class="pp-ln">   1 </span><span class="pp-pln"></span><span class="pp-tag">module</span></div><div class="L2"><span class="pp-ln">   2 </span><span class="pp-pln">    </span><span class="pp-tag">kind</span><span class="pp-pln"> jsfile</span></div><div class="L3"><span class="pp-ln">   3 </span><span class="pp-pln">    </span><span class="pp-tag">var</span><span class="pp-pln"> util = require('util')</span></div><div class="L4"><span class="pp-ln">   4 </span><span class="pp-pln">    </span><span class="pp-tag">var</span><span class="pp-pln"> path = require('path')</span></div><div class="L5"><span class="pp-ln">   5 </span><span class="pp-pln">    </span><span class="pp-tag">var</span><span class="pp-pln"> chalk = require('chalk')</span></div><div class="L6"><span class="pp-ln">   6 </span><span class="pp-pln">    </span><span class="pp-tag">var</span><span class="pp-pln"> sprintf = require('extsprintf').sprintf</span></div><div class="L7"><span class="pp-ln">   7 </span><span class="pp-pln">    </span><span class="pp-tag">var</span><span class="pp-pln"> errors = require('./errors')</span></div><div class="L8"><span class="pp-ln">   8 </span><span class="pp-pln">    </span><span class="pp-tag">var</span><span class="pp-pln"> regexpExt = require('./regexpExt')</span></div><div class="L9"><span class="pp-ln">   9 </span><span class="pp-pln">    </span><span class="pp-tag">var</span><span class="pp-pln"> md</span></div><div class="L0"><span class="pp-ln">  10 </span><span class="pp-pln">        </span><span class="pp-tag">set</span><span class="pp-pln"> module.exports =</span></div><div class="L1"><span class="pp-ln">  11 </span><span class="pp-pln">            </span><span class="pp-tag">{</span></div><div class="L2"><span class="pp-ln">  12 </span><span class="pp-pln">    </span><span class="pp-tag">set</span><span class="pp-pln"> md.getAllRegExp = regexpExt.getAllRegExp</span></div><div class="L3"><span class="pp-ln">  13 </span><span class="pp-pln">    </span><span class="pp-tag">set</span><span class="pp-pln"> md.namedRegExp = regexpExt.namedRegExp</span></div><div class="L4"><span class="pp-ln">  14 </span><span class="pp-pln">    </span><span class="pp-tag">var</span><span class="pp-pln"> isAbsolutePathRegExp = new RegExp('^(?:[a-z]+:)?/', 'i')</span></div><div class="L5"><span class="pp-ln">  15 </span><span class="pp-pln">    </span><span class="pp-kwd">$include</span><span class="pp-mix frag-to-link-a" data-frag-id="d89"> verify/is</span></div><div class="L6"><span class="pp-ln">  16 </span><span class="pp-pln">    </span><span class="pp-kwd">$include</span><span class="pp-mix frag-to-link-a" data-frag-id="d93"> verify/validation</span></div><div class="L7"><span class="pp-ln">  17 </span><span class="pp-pln">    </span><span class="pp-kwd">$include</span><span class="pp-mix frag-to-link-a" data-frag-id="d87"> verify/convert</span></div><div class="L8"><span class="pp-ln">  18 </span><span class="pp-pln">    </span><span class="pp-kwd">$include</span><span class="pp-mix frag-to-link-a" data-frag-id="d92"> verify/texts</span></div><div class="L9"><span class="pp-ln">  19 </span><span class="pp-pln">    </span><span class="pp-kwd">$include</span><span class="pp-mix frag-to-link-a" data-frag-id="d91"> verify/paths</span></div><div class="L0"><span class="pp-ln">  20 </span><span class="pp-pln">    </span><span class="pp-kwd">$include</span><span class="pp-mix frag-to-link-a" data-frag-id="d90"> verify/parseNameValue</span></div><div class="L1"><span class="pp-ln">  21 </span><span class="pp-pln">    </span><span class="pp-tag">set</span><span class="pp-pln"> md.isArtifact</span></div><div class="L2"><span class="pp-ln">  22 </span><span class="pp-pln">        </span><span class="pp-tag">function</span></div><div class="L3"><span class="pp-ln">  23 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> test</span></div><div class="L4"><span class="pp-ln">  24 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> !md.isDefined(test) || test === null</span></div><div class="L5"><span class="pp-ln">  25 </span><span class="pp-pln">                </span><span class="pp-tag">return</span><span class="pp-pln"> false</span></div><div class="L6"><span class="pp-ln">  26 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> !md.isFunction(test.generate)</span></div><div class="L7"><span class="pp-ln">  27 </span><span class="pp-pln">                </span><span class="pp-tag">return</span><span class="pp-pln"> false</span></div><div class="L8"><span class="pp-ln">  28 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> !md.isFunction(test.toFile)</span></div><div class="L9"><span class="pp-ln">  29 </span><span class="pp-pln">                </span><span class="pp-tag">return</span><span class="pp-pln"> false</span></div><div class="L0"><span class="pp-ln">  30 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> !md.isFunction(test.generateToFile)</span></div><div class="L1"><span class="pp-ln">  31 </span><span class="pp-pln">                </span><span class="pp-tag">return</span><span class="pp-pln"> false</span></div><div class="L2"><span class="pp-ln">  32 </span><span class="pp-pln">            </span><span class="pp-tag">return</span><span class="pp-pln"> true</span></div><div class="L3"><span class="pp-ln">  33 </span><span class="pp-pln">    </span><span class="pp-tag">set</span><span class="pp-pln"> md.getInterfaceMessage</span></div><div class="L4"><span class="pp-ln">  34 </span><span class="pp-pln">        </span><span class="pp-tag">function</span></div><div class="L5"><span class="pp-ln">  35 </span><span class="pp-pln">            </span><span class="pp-tag">return</span><span class="pp-pln"> "generate(...), toFile(...), generateToFile(...)"</span></div><div class="L6"><span class="pp-ln">  36 </span><span class="pp-pln">    </span><span class="pp-tag">set</span><span class="pp-pln"> md.startsWith</span></div><div class="L7"><span class="pp-ln">  37 </span><span class="pp-pln">        </span><span class="pp-tag">function</span></div><div class="L8"><span class="pp-ln">  38 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> str</span></div><div class="L9"><span class="pp-ln">  39 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> prefix</span></div><div class="L0"><span class="pp-ln">  40 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> md.isEmpty(str) || md.isEmpty(prefix)</span></div><div class="L1"><span class="pp-ln">  41 </span><span class="pp-pln">                </span><span class="pp-tag">return</span><span class="pp-pln"> false</span></div><div class="L2"><span class="pp-ln">  42 </span><span class="pp-pln">            </span><span class="pp-tag">else</span></div><div class="L3"><span class="pp-ln">  43 </span><span class="pp-pln">                </span><span class="pp-tag">return</span><span class="pp-pln"> str.indexOf(prefix) === 0</span></div><div class="L4"><span class="pp-ln">  44 </span><span class="pp-pln">    </span><span class="pp-tag">set</span><span class="pp-pln"> md.endsWith</span></div><div class="L5"><span class="pp-ln">  45 </span><span class="pp-pln">        </span><span class="pp-tag">function</span></div><div class="L6"><span class="pp-ln">  46 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> str</span></div><div class="L7"><span class="pp-ln">  47 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> suffix</span></div><div class="L8"><span class="pp-ln">  48 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> md.isEmpty(str) || md.isEmpty(suffix)</span></div><div class="L9"><span class="pp-ln">  49 </span><span class="pp-pln">                </span><span class="pp-tag">return</span><span class="pp-pln"> false</span></div><div class="L0"><span class="pp-ln">  50 </span><span class="pp-pln">            </span><span class="pp-tag">else</span></div><div class="L1"><span class="pp-ln">  51 </span><span class="pp-pln">                </span><span class="pp-tag">return</span><span class="pp-pln"> str.indexOf(suffix, str.length - suffix.length) !== -1</span></div><div class="L2"><span class="pp-ln">  52 </span><span class="pp-pln">    </span><span class="pp-tag">set</span><span class="pp-pln"> md.unquote</span></div><div class="L3"><span class="pp-ln">  53 </span><span class="pp-pln">        </span><span class="pp-tag">function</span></div><div class="L4"><span class="pp-ln">  54 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> str</span></div><div class="L5"><span class="pp-ln">  55 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> md.isString(str) === false</span></div><div class="L6"><span class="pp-ln">  56 </span><span class="pp-pln">                </span><span class="pp-tag">return</span><span class="pp-pln"> str</span></div><div class="L7"><span class="pp-ln">  57 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> str.length &lt; 2</span></div><div class="L8"><span class="pp-ln">  58 </span><span class="pp-pln">                </span><span class="pp-tag">return</span><span class="pp-pln"> str</span></div><div class="L9"><span class="pp-ln">  59 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> (str.substr(0, 1) === "'" && str.substr(-1, 1) === "'" && str.substr(1, str.length -2).indexOf("'") == -1) || (str.substr(0, 1) === "\"" && str.substr(-1, 1) === "\""  && str.substr(1, str.length -2).indexOf("\"") == -1)</span></div><div class="L0"><span class="pp-ln">  60 </span><span class="pp-pln">                </span><span class="pp-tag">return</span><span class="pp-pln"> str.substr(1, str.length -2)</span></div><div class="L1"><span class="pp-ln">  61 </span><span class="pp-pln">            </span><span class="pp-tag">else</span></div><div class="L2"><span class="pp-ln">  62 </span><span class="pp-pln">                </span><span class="pp-tag">return</span><span class="pp-pln"> str</span></div><div class="L3"><span class="pp-ln">  63 </span><span class="pp-pln">    </span><span class="pp-tag">set</span><span class="pp-pln"> md.capitalize</span></div><div class="L4"><span class="pp-ln">  64 </span><span class="pp-pln">        </span><span class="pp-tag">function</span></div><div class="L5"><span class="pp-ln">  65 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> str</span></div><div class="L6"><span class="pp-ln">  66 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> md.isEmpty(str)</span></div><div class="L7"><span class="pp-ln">  67 </span><span class="pp-pln">                </span><span class="pp-tag">return</span><span class="pp-pln"> str</span></div><div class="L8"><span class="pp-ln">  68 </span><span class="pp-pln">            </span><span class="pp-tag">return</span><span class="pp-pln"> str.substr(0, 1).toUpperCase() + str.substr(1)</span></div><div class="L9"><span class="pp-ln">  69 </span><span class="pp-pln">    </span><span class="pp-tag">set</span><span class="pp-pln"> md.dashToCamelCase</span></div><div class="L0"><span class="pp-ln">  70 </span><span class="pp-pln">        </span><span class="pp-tag">function</span></div><div class="L1"><span class="pp-ln">  71 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> str</span></div><div class="L2"><span class="pp-ln">  72 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> md.isEmpty(str)</span></div><div class="L3"><span class="pp-ln">  73 </span><span class="pp-pln">                </span><span class="pp-tag">return</span><span class="pp-pln"> str</span></div><div class="L4"><span class="pp-ln">  74 </span><span class="pp-pln">            </span><span class="pp-tag">return</span></div><div class="L5"><span class="pp-ln">  75 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> str.replace</span></div><div class="L6"><span class="pp-ln">  76 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> /-([a-z])/g</span></div><div class="L7"><span class="pp-ln">  77 </span><span class="pp-pln">                    </span><span class="pp-tag">function</span></div><div class="L8"><span class="pp-ln">  78 </span><span class="pp-pln">                        </span><span class="pp-tag">param</span><span class="pp-pln"> g</span></div><div class="L9"><span class="pp-ln">  79 </span><span class="pp-pln">                        </span><span class="pp-tag">return</span><span class="pp-pln"> g[1].toUpperCase()</span></div><div class="L0"><span class="pp-ln">  80 </span><span class="pp-pln">    </span><span class="pp-tag">set</span><span class="pp-pln"> md.replaceAll</span></div><div class="L1"><span class="pp-ln">  81 </span><span class="pp-pln">        </span><span class="pp-tag">function</span></div><div class="L2"><span class="pp-ln">  82 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> text</span></div><div class="L3"><span class="pp-ln">  83 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> find</span></div><div class="L4"><span class="pp-ln">  84 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> replace</span></div><div class="L5"><span class="pp-ln">  85 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> md.isEmpty(text)</span></div><div class="L6"><span class="pp-ln">  86 </span><span class="pp-pln">                </span><span class="pp-tag">return</span><span class="pp-pln"> text</span></div><div class="L7"><span class="pp-ln">  87 </span><span class="pp-pln">            </span><span class="pp-tag">#</span><span class="pp-pln"> log 'replaceAll', text, find, replace</span></div><div class="L8"><span class="pp-ln">  88 </span><span class="pp-pln">            </span><span class="pp-tag">return</span></div><div class="L9"><span class="pp-ln">  89 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> text.replace</span></div><div class="L0"><span class="pp-ln">  90 </span><span class="pp-pln">                    </span><span class="pp-tag">new</span><span class="pp-pln"> RegExp</span></div><div class="L1"><span class="pp-ln">  91 </span><span class="pp-pln">                        </span><span class="pp-tag">_</span><span class="pp-pln"> md.escapeRegExp(find)</span></div><div class="L2"><span class="pp-ln">  92 </span><span class="pp-pln">                        </span><span class="pp-tag">@</span><span class="pp-pln"> 'g'</span></div><div class="L3"><span class="pp-ln">  93 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> replace</span></div><div class="L4"><span class="pp-ln">  94 </span><span class="pp-pln">    </span><span class="pp-tag">set</span><span class="pp-pln"> md.escapeRegExp</span></div><div class="L5"><span class="pp-ln">  95 </span><span class="pp-pln">        </span><span class="pp-tag">function</span></div><div class="L6"><span class="pp-ln">  96 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> text</span></div><div class="L7"><span class="pp-ln">  97 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> md.isEmpty(text)</span></div><div class="L8"><span class="pp-ln">  98 </span><span class="pp-pln">                </span><span class="pp-tag">return</span><span class="pp-pln"> text</span></div><div class="L9"><span class="pp-ln">  99 </span><span class="pp-pln">            </span><span class="pp-tag">return</span><span class="pp-pln"> text.replace(/([.*+?^=!:</span><span class="pp-kwd">${</span><span class="pp-expr"></span><span class="pp-kwd">}</span><span class="pp-pln">()|\[\]\/\\])/g, "\\$1")</span></div><div class="L0"><span class="pp-ln"> 100 </span><span class="pp-pln">    </span><span class="pp-tag">set</span><span class="pp-pln"> md.htmlEscape</span></div><div class="L1"><span class="pp-ln"> 101 </span><span class="pp-pln">        </span><span class="pp-tag">function</span><span class="pp-pln"> escape</span></div><div class="L2"><span class="pp-ln"> 102 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> value</span></div><div class="L3"><span class="pp-ln"> 103 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> md.isEmpty(value)</span></div><div class="L4"><span class="pp-ln"> 104 </span><span class="pp-pln">                </span><span class="pp-tag">return</span><span class="pp-pln"> value</span></div><div class="L5"><span class="pp-ln"> 105 </span><span class="pp-pln">            </span><span class="pp-tag">set</span><span class="pp-pln"> value = md.replaceAll(value, '&lt;', '&lt;')</span></div><div class="L6"><span class="pp-ln"> 106 </span><span class="pp-pln">            </span><span class="pp-tag">set</span><span class="pp-pln"> value = md.replaceAll(value, '&gt;', '&gt;')</span></div><div class="L7"><span class="pp-ln"> 107 </span><span class="pp-pln">            </span><span class="pp-tag">return</span><span class="pp-pln"> value</span></div><div class="L8"><span class="pp-ln"> 108 </span><span class="pp-pln">    </span><span class="pp-tag">set</span><span class="pp-pln"> md.resolveToString</span></div><div class="L9"><span class="pp-ln"> 109 </span><span class="pp-pln">        </span><span class="pp-tag">function</span></div><div class="L0"><span class="pp-ln"> 110 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> paramValue</span></div><div class="L1"><span class="pp-ln"> 111 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> md.isNotEmpty(paramValue)</span></div><div class="L2"><span class="pp-ln"> 112 </span><span class="pp-pln">                </span><span class="pp-tag">return</span><span class="pp-pln"> paramValue</span></div><div class="L3"><span class="pp-ln"> 113 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> md.isFunction(paramValue)</span></div><div class="L4"><span class="pp-ln"> 114 </span><span class="pp-pln">                </span><span class="pp-tag">var</span><span class="pp-pln"> value = paramValue()</span></div><div class="L5"><span class="pp-ln"> 115 </span><span class="pp-pln">                </span><span class="pp-tag">if</span><span class="pp-pln"> md.isNotEmpty(value)</span></div><div class="L6"><span class="pp-ln"> 116 </span><span class="pp-pln">                    </span><span class="pp-tag">return</span><span class="pp-pln"> value</span></div><div class="L7"><span class="pp-ln"> 117 </span><span class="pp-pln">            </span><span class="pp-tag">return</span><span class="pp-pln"> null</span></div><div class="L8"><span class="pp-ln"> 118 </span><span class="pp-pln">    </span><span class="pp-tag">set</span><span class="pp-pln"> md.makeInline</span></div><div class="L9"><span class="pp-ln"> 119 </span><span class="pp-pln">        </span><span class="pp-tag">function</span></div><div class="L0"><span class="pp-ln"> 120 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> text</span></div><div class="L1"><span class="pp-ln"> 121 </span><span class="pp-pln">            </span><span class="pp-tag">#</span><span class="pp-pln"> 192: $ , 191:  , 190: 
</span></div><div class="L2"><span class="pp-ln"> 122 </span><span class="pp-pln">            </span><span class="pp-tag">return</span></div><div class="L3"><span class="pp-ln"> 123 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> md.replaceAll</span></div><div class="L4"><span class="pp-ln"> 124 </span><span class="pp-pln">                    </span><span class="pp-tag">_</span><span class="pp-pln"> md.replaceAll</span></div><div class="L5"><span class="pp-ln"> 125 </span><span class="pp-pln">                        </span><span class="pp-tag">_</span><span class="pp-pln"> md.replaceAll</span></div><div class="L6"><span class="pp-ln"> 126 </span><span class="pp-pln">                            </span><span class="pp-tag">@</span><span class="pp-pln"> text</span></div><div class="L7"><span class="pp-ln"> 127 </span><span class="pp-pln">                            </span><span class="pp-tag">@</span><span class="pp-pln"> '\n'</span></div><div class="L8"><span class="pp-ln"> 128 </span><span class="pp-pln">                            </span><span class="pp-tag">@</span><span class="pp-pln"> '
'</span></div><div class="L9"><span class="pp-ln"> 129 </span><span class="pp-pln">                        </span><span class="pp-tag">@</span><span class="pp-pln"> '\r'</span></div><div class="L0"><span class="pp-ln"> 130 </span><span class="pp-pln">                        </span><span class="pp-tag">@</span><span class="pp-pln"> ''</span></div><div class="L1"><span class="pp-ln"> 131 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> '$'</span></div><div class="L2"><span class="pp-ln"> 132 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> '$'</span></div><div class="L3"><span class="pp-ln"> 133 </span><span class="pp-pln">    </span><span class="pp-tag">var</span><span class="pp-pln"> win32 = process.platform === 'win32'</span></div><div class="L4"><span class="pp-ln"> 134 </span><span class="pp-pln">    </span><span class="pp-tag">set</span><span class="pp-pln"> md.unixifyPath =</span></div><div class="L5"><span class="pp-ln"> 135 </span><span class="pp-pln">        </span><span class="pp-tag">function</span></div><div class="L6"><span class="pp-ln"> 136 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> path_string</span></div><div class="L7"><span class="pp-ln"> 137 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> win32</span></div><div class="L8"><span class="pp-ln"> 138 </span><span class="pp-pln">                </span><span class="pp-tag">return</span><span class="pp-pln"> path_string.replace(/\\/g, '/')</span></div><div class="L9"><span class="pp-ln"> 139 </span><span class="pp-pln">            </span><span class="pp-tag">else</span></div><div class="L0"><span class="pp-ln"> 140 </span><span class="pp-pln">                </span><span class="pp-tag">return</span><span class="pp-pln"> path_string</span></div><div class="L1"><span class="pp-ln"> 141 </span><span class="pp-pln">    </span><span class="pp-kwd">$include</span><span class="pp-mix frag-to-link-a" data-frag-id="d94"> verify/wzError</span></div><div class="L2"><span class="pp-ln"> 142 </span><span class="pp-pln">    </span><span class="pp-kwd">$include</span><span class="pp-mix frag-to-link-a" data-frag-id="d86"> verify/assert</span></div><div class="L3"><span class="pp-ln"> 143 </span><span class="pp-pln">    </span><span class="pp-kwd">$include</span><span class="pp-mix frag-to-link-a" data-frag-id="d88"> verify/errors</span></div><div class="L4"><span class="pp-ln"> 144 </span><span class="pp-pln">    </span><span class="pp-tag">function</span><span class="pp-pln"> error</span></div><div class="L5"><span class="pp-ln"> 145 </span><span class="pp-pln">        </span><span class="pp-tag">param</span><span class="pp-pln"> code</span></div><div class="L6"><span class="pp-ln"> 146 </span><span class="pp-pln">        </span><span class="pp-tag">param</span><span class="pp-pln"> method</span></div><div class="L7"><span class="pp-ln"> 147 </span><span class="pp-pln">        </span><span class="pp-tag">param</span><span class="pp-pln"> message</span></div><div class="L8"><span class="pp-ln"> 148 </span><span class="pp-pln">        </span><span class="pp-tag">param</span><span class="pp-pln"> innerError</span></div><div class="L9"><span class="pp-ln"> 149 </span><span class="pp-pln">        </span><span class="pp-tag">var</span><span class="pp-pln"> parameter = null</span></div><div class="L0"><span class="pp-ln"> 150 </span><span class="pp-pln">        </span><span class="pp-tag">if</span><span class="pp-pln"> md.isObject(message)</span></div><div class="L1"><span class="pp-ln"> 151 </span><span class="pp-pln">            </span><span class="pp-tag">set</span><span class="pp-pln"> parameter = message.parameter</span></div><div class="L2"><span class="pp-ln"> 152 </span><span class="pp-pln">            </span><span class="pp-tag">set</span><span class="pp-pln"> message = message.message</span></div><div class="L3"><span class="pp-ln"> 153 </span><span class="pp-pln">        </span><span class="pp-tag">return</span></div><div class="L4"><span class="pp-ln"> 154 </span><span class="pp-pln">            </span><span class="pp-tag">_</span><span class="pp-pln"> md.error</span></div><div class="L5"><span class="pp-ln"> 155 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> innerError</span></div><div class="L6"><span class="pp-ln"> 156 </span><span class="pp-pln">                </span><span class="pp-tag">{</span></div><div class="L7"><span class="pp-ln"> 157 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> name ( md.isNumber(code) ? 'Err-' + code : code )</span></div><div class="L8"><span class="pp-ln"> 158 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> method 'wizzi-utils.verify.' + method</span></div><div class="L9"><span class="pp-ln"> 159 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> parameter parameter</span></div><div class="L0"><span class="pp-ln"> 160 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> sourcePath __filename</span></div><div class="L1"><span class="pp-ln"> 161 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> message || 'Error message unavailable'</span></div></pre>
                    </div>
                </div>
                <div class="code-panel" id="d106">
                    <div class="modal-view-container">
                        <h4 class="d-h2">/src/ittf/meta/index.json.ittf</h4>
                        <pre class="prettyprint">

<div class="L1"><span class="pp-ln">   1 </span><span class="pp-pln"></span><span class="pp-tag">{</span></div><div class="L2"><span class="pp-ln">   2 </span><span class="pp-pln">    </span><span class="pp-tag">name</span><span class="pp-pln"> 'wizzi-utils'</span></div><div class="L3"><span class="pp-ln">   3 </span><span class="pp-pln">    </span><span class="pp-tag">version</span><span class="pp-pln"> '0.5.4'</span></div><div class="L4"><span class="pp-ln">   4 </span><span class="pp-pln">    </span><span class="pp-tag">title</span><span class="pp-pln"> 'Utility library for the wizzi factory'</span></div><div class="L5"><span class="pp-ln">   5 </span><span class="pp-pln">    </span><span class="pp-tag">license</span><span class="pp-pln"> 'MIT'</span></div><div class="L6"><span class="pp-ln">   6 </span><span class="pp-pln">    </span><span class="pp-tag">[</span><span class="pp-pln"> schemas</span></div></pre>
                    </div>
                </div>
                <div class="code-panel" id="d107">
                    <div class="modal-view-container">
                        <h4 class="d-h2">/src/ittf/root/t/fsimpl.md.ittf</h4>
                        <pre class="prettyprint">

<div class="L1"><span class="pp-ln">   1 </span><span class="pp-pln"></span><span class="pp-kwd">$group</span></div><div class="L2"><span class="pp-ln">   2 </span><span class="pp-pln">    </span><span class="pp-tag">h2</span><span class="pp-pln"> The `fsimpl` - interface</span></div><div class="L3"><span class="pp-ln">   3 </span><span class="pp-pln">    </span><span class="pp-tag">p</span><span class="pp-pln"> This interface must be implemented by file system objects</span></div><div class="L4"><span class="pp-ln">   4 </span><span class="pp-pln">        </span><span class="pp-tag">+</span><span class="pp-pln"> that expose their documents to the wizzi factory.</span></div><div class="L5"><span class="pp-ln">   5 </span><span class="pp-pln">    </span><span class="pp-tag">p</span><span class="pp-pln"> The `Sync` methods are optional, but a `Sync` call to an</span></div><div class="L6"><span class="pp-ln">   6 </span><span class="pp-pln">        </span><span class="pp-tag">+</span><span class="pp-pln"> fsimpl that does not implement it throw an Error.</span></div><div class="L7"><span class="pp-ln">   7 </span><span class="pp-pln">    </span><span class="pp-tag">h4</span><span class="pp-pln"> stat(path, callback)</span></div><div class="L8"><span class="pp-ln">   8 </span><span class="pp-pln">    </span><span class="pp-tag">p</span><span class="pp-pln"> The returned `stats` object must implement: stats.isFile()</span></div><div class="L9"><span class="pp-ln">   9 </span><span class="pp-pln">        </span><span class="pp-tag">+</span><span class="pp-pln"> stats.isDirectory()</span></div><div class="L0"><span class="pp-ln">  10 </span><span class="pp-pln">    </span><span class="pp-tag">h4</span><span class="pp-pln"> statSync(path)</span></div><div class="L1"><span class="pp-ln">  11 </span><span class="pp-pln">    </span><span class="pp-tag">p</span><span class="pp-pln"> The returned `stats` object must implement: stats.isFile()</span></div><div class="L2"><span class="pp-ln">  12 </span><span class="pp-pln">        </span><span class="pp-tag">+</span><span class="pp-pln"> stats.isDirectory()</span></div><div class="L3"><span class="pp-ln">  13 </span><span class="pp-pln">    </span><span class="pp-tag">h4</span><span class="pp-pln"> lstat(path, callback)</span></div><div class="L4"><span class="pp-ln">  14 </span><span class="pp-pln">    </span><span class="pp-tag">p</span><span class="pp-pln"> The returned `stats` object must implement: stats.isFile()</span></div><div class="L5"><span class="pp-ln">  15 </span><span class="pp-pln">        </span><span class="pp-tag">+</span><span class="pp-pln"> stats.isDirectory()</span></div><div class="L6"><span class="pp-ln">  16 </span><span class="pp-pln">    </span><span class="pp-tag">h4</span><span class="pp-pln"> lstatSync(path)</span></div><div class="L7"><span class="pp-ln">  17 </span><span class="pp-pln">    </span><span class="pp-tag">p</span><span class="pp-pln"> The returned `stats` object must implement: stats.isFile()</span></div><div class="L8"><span class="pp-ln">  18 </span><span class="pp-pln">        </span><span class="pp-tag">+</span><span class="pp-pln"> stats.isDirectory()</span></div><div class="L9"><span class="pp-ln">  19 </span><span class="pp-pln">    </span><span class="pp-tag">h4</span><span class="pp-pln"> readFile(path[, options], callback)</span></div><div class="L0"><span class="pp-ln">  20 </span><span class="pp-pln">    </span><span class="pp-tag">h4</span><span class="pp-pln"> readFileSync(path[, options])</span></div><div class="L1"><span class="pp-ln">  21 </span><span class="pp-pln">    </span><span class="pp-tag">h4</span><span class="pp-pln"> writeFile(path, content[, options], callback)</span></div><div class="L2"><span class="pp-ln">  22 </span><span class="pp-pln">    </span><span class="pp-tag">h4</span><span class="pp-pln"> writeFileSync(path, content[, options])</span></div><div class="L3"><span class="pp-ln">  23 </span><span class="pp-pln">    </span><span class="pp-tag">h4</span><span class="pp-pln"> readdir(path[, options], callback)</span></div><div class="L4"><span class="pp-ln">  24 </span><span class="pp-pln">    </span><span class="pp-tag">h4</span><span class="pp-pln"> readdirSync(path[, options])</span></div><div class="L5"><span class="pp-ln">  25 </span><span class="pp-pln">    </span><span class="pp-tag">h4</span><span class="pp-pln"> mkdir(path[, options], callback)</span></div><div class="L6"><span class="pp-ln">  26 </span><span class="pp-pln">    </span><span class="pp-tag">h4</span><span class="pp-pln"> mkdirSync(path[, options])</span></div></pre>
                    </div>
                </div>
                <div class="code-panel" id="d108">
                    <div class="modal-view-container">
                        <h4 class="d-h2">/src/ittf/root/t/readme_content.md.ittf</h4>
                        <pre class="prettyprint">

<div class="L1"><span class="pp-ln">   1 </span><span class="pp-pln"></span><span class="pp-kwd">$group</span></div><div class="L2"><span class="pp-ln">   2 </span><span class="pp-pln">    </span><span class="pp-tag">h2</span><span class="pp-pln"> vfile - virtual file system</span></div><div class="L3"><span class="pp-ln">   3 </span><span class="pp-pln">    </span><span class="pp-tag">h4</span><span class="pp-pln"> var vfile = require('wizzi-utils').vfile</span></div><div class="L4"><span class="pp-ln">   4 </span><span class="pp-pln">    </span><span class="pp-tag">h3</span><span class="pp-pln"> vfileInst - create a virtual file system instance</span></div><div class="L5"><span class="pp-ln">   5 </span><span class="pp-pln">    </span><span class="pp-tag">h4</span><span class="pp-pln"> var vfileInst = vfile([fsimpl])</span></div><div class="L6"><span class="pp-ln">   6 </span><span class="pp-pln">    </span><span class="pp-tag">ul</span></div><div class="L7"><span class="pp-ln">   7 </span><span class="pp-pln">        </span><span class="pp-tag">li</span><span class="pp-pln"> `fsimpl` `Object` Default: NodeJS fs object or fs-graceful if available.</span></div><div class="L8"><span class="pp-ln">   8 </span><span class="pp-pln">    </span><span class="pp-tag">h3</span><span class="pp-pln"> vfileInst.read(path_string, options[, callback])</span></div><div class="L9"><span class="pp-ln">   9 </span><span class="pp-pln">    </span><span class="pp-tag">ul</span></div><div class="L0"><span class="pp-ln">  10 </span><span class="pp-pln">        </span><span class="pp-tag">li</span><span class="pp-pln"> `path_string`</span></div><div class="L1"><span class="pp-ln">  11 </span><span class="pp-pln">        </span><span class="pp-tag">li</span><span class="pp-pln"> `options` `Object`</span></div><div class="L2"><span class="pp-ln">  12 </span><span class="pp-pln">        </span><span class="pp-tag">li</span><span class="pp-pln"> `callback` `Function` If absent the call is sync.</span></div><div class="L3"><span class="pp-ln">  13 </span><span class="pp-pln">            </span><span class="pp-tag">ul</span></div><div class="L4"><span class="pp-ln">  14 </span><span class="pp-pln">                </span><span class="pp-tag">li</span><span class="pp-pln"> `err`</span></div><div class="L5"><span class="pp-ln">  15 </span><span class="pp-pln">                </span><span class="pp-tag">li</span><span class="pp-pln"> `content`</span></div><div class="L6"><span class="pp-ln">  16 </span><span class="pp-pln">    </span><span class="pp-tag">h3</span><span class="pp-pln"> vfileInst.write(path_string, content, options[, callback])</span></div><div class="L7"><span class="pp-ln">  17 </span><span class="pp-pln">    </span><span class="pp-tag">ul</span></div><div class="L8"><span class="pp-ln">  18 </span><span class="pp-pln">        </span><span class="pp-tag">li</span><span class="pp-pln"> `path_string`</span></div><div class="L9"><span class="pp-ln">  19 </span><span class="pp-pln">        </span><span class="pp-tag">li</span><span class="pp-pln"> `content` `String`</span></div><div class="L0"><span class="pp-ln">  20 </span><span class="pp-pln">        </span><span class="pp-tag">li</span><span class="pp-pln"> `options` `Object`</span></div><div class="L1"><span class="pp-ln">  21 </span><span class="pp-pln">        </span><span class="pp-tag">li</span><span class="pp-pln"> `callback` `Function` If absent the call is sync.</span></div><div class="L2"><span class="pp-ln">  22 </span><span class="pp-pln">            </span><span class="pp-tag">p</span><span class="pp-pln"> When the call is sync if `fsimpl` does not implement `readFileSync` throw Error.</span></div><div class="L3"><span class="pp-ln">  23 </span><span class="pp-pln">            </span><span class="pp-tag">ul</span></div><div class="L4"><span class="pp-ln">  24 </span><span class="pp-pln">                </span><span class="pp-tag">li</span><span class="pp-pln"> `err`</span></div><div class="L5"><span class="pp-ln">  25 </span><span class="pp-pln">                </span><span class="pp-tag">li</span><span class="pp-pln"> `content`</span></div><div class="L6"><span class="pp-ln">  26 </span><span class="pp-pln">    </span><span class="pp-tag">h3</span><span class="pp-pln"> vfileInst.readJSON(path_string, options[, callback])</span></div><div class="L7"><span class="pp-ln">  27 </span><span class="pp-pln">    </span><span class="pp-tag">h3</span><span class="pp-pln"> vfileInst.writeJSON(path_string, obj, options[, callback])</span></div><div class="L8"><span class="pp-ln">  28 </span><span class="pp-pln">    </span><span class="pp-kwd">$include</span><span class="pp-mix frag-to-link-a" data-frag-id="d107"> ./fsimpl</span></div><div class="L9"><span class="pp-ln">  29 </span><span class="pp-pln">    </span><span class="pp-tag">h2</span><span class="pp-pln"> verify - helper object</span></div><div class="L0"><span class="pp-ln">  30 </span><span class="pp-pln">    </span><span class="pp-tag">h4</span><span class="pp-pln"> var verify = require('wizzi-utils').verify</span></div><div class="L1"><span class="pp-ln">  31 </span><span class="pp-pln">    </span><span class="pp-tag">h2</span><span class="pp-pln"> verify - type checks</span></div><div class="L2"><span class="pp-ln">  32 </span><span class="pp-pln">    </span><span class="pp-tag">h4</span><span class="pp-pln"> verify.isDefined(item)</span></div><div class="L3"><span class="pp-ln">  33 </span><span class="pp-pln">    </span><span class="pp-tag">h4</span><span class="pp-pln"> verify.isNullOrUndefined(item)</span></div><div class="L4"><span class="pp-ln">  34 </span><span class="pp-pln">    </span><span class="pp-tag">h4</span><span class="pp-pln"> verify.isObject(item)</span></div><div class="L5"><span class="pp-ln">  35 </span><span class="pp-pln">    </span><span class="pp-tag">h4</span><span class="pp-pln"> verify.isArray(item)</span></div><div class="L6"><span class="pp-ln">  36 </span><span class="pp-pln">    </span><span class="pp-tag">h4</span><span class="pp-pln"> verify.isFunction(item)</span></div><div class="L7"><span class="pp-ln">  37 </span><span class="pp-pln">    </span><span class="pp-tag">h4</span><span class="pp-pln"> verify.isNumber(item)</span></div><div class="L8"><span class="pp-ln">  38 </span><span class="pp-pln">    </span><span class="pp-tag">h4</span><span class="pp-pln"> verify.isBoolean(item)</span></div><div class="L9"><span class="pp-ln">  39 </span><span class="pp-pln">    </span><span class="pp-tag">h4</span><span class="pp-pln"> verify.isDate(item)</span></div><div class="L0"><span class="pp-ln">  40 </span><span class="pp-pln">    </span><span class="pp-tag">h4</span><span class="pp-pln"> verify.isString(item)</span></div><div class="L1"><span class="pp-ln">  41 </span><span class="pp-pln">    </span><span class="pp-tag">h4</span><span class="pp-pln"> verify.isEmpty(item)</span></div><div class="L2"><span class="pp-ln">  42 </span><span class="pp-pln">    </span><span class="pp-tag">h4</span><span class="pp-pln"> verify.isNotEmpty(item)</span></div><div class="L3"><span class="pp-ln">  43 </span><span class="pp-pln">    </span><span class="pp-tag">h4</span><span class="pp-pln"> verify.isPrimitive(item)</span></div><div class="L4"><span class="pp-ln">  44 </span><span class="pp-pln">    </span><span class="pp-tag">h4</span><span class="pp-pln"> verify.isRegExp(item)</span></div><div class="L5"><span class="pp-ln">  45 </span><span class="pp-pln">    </span><span class="pp-tag">h4</span><span class="pp-pln"> verify.isError(item)</span></div><div class="L6"><span class="pp-ln">  46 </span><span class="pp-pln">    </span><span class="pp-tag">h4</span><span class="pp-pln"> verify.isAbsolutePath(item)</span></div><div class="L7"><span class="pp-ln">  47 </span><span class="pp-pln">    </span><span class="pp-tag">h4</span><span class="pp-pln"> verify.isIttfMacro(item)</span></div><div class="L8"><span class="pp-ln">  48 </span><span class="pp-pln">    </span><span class="pp-tag">h2</span><span class="pp-pln"> verify.convert(value, type[, unquote])</span></div><div class="L9"><span class="pp-ln">  49 </span><span class="pp-pln">    </span><span class="pp-tag">ul</span></div><div class="L0"><span class="pp-ln">  50 </span><span class="pp-pln">        </span><span class="pp-tag">li</span><span class="pp-pln"> `value` `String` If `@@null` return null; if `@@undefined` return undefined.</span></div><div class="L1"><span class="pp-ln">  51 </span><span class="pp-pln">        </span><span class="pp-tag">li</span><span class="pp-pln"> `type` `String` One-of string, integer, float, boolean, date</span></div><div class="L2"><span class="pp-ln">  52 </span><span class="pp-pln">        </span><span class="pp-tag">li</span><span class="pp-pln"> `options` `Object`</span></div><div class="L3"><span class="pp-ln">  53 </span><span class="pp-pln">    </span><span class="pp-tag">h2</span><span class="pp-pln"> verify.canConvertTo(value, type)</span></div><div class="L4"><span class="pp-ln">  54 </span><span class="pp-pln">    </span><span class="pp-tag">ul</span></div><div class="L5"><span class="pp-ln">  55 </span><span class="pp-pln">        </span><span class="pp-tag">li</span><span class="pp-pln"> `value` `String`</span></div><div class="L6"><span class="pp-ln">  56 </span><span class="pp-pln">        </span><span class="pp-tag">li</span><span class="pp-pln"> `type` `String` One-of string, integer, float, boolean, date</span></div><div class="L7"><span class="pp-ln">  57 </span><span class="pp-pln">    </span><span class="pp-tag">h2</span><span class="pp-pln"> verify - validations</span></div><div class="L8"><span class="pp-ln">  58 </span><span class="pp-pln">    </span><span class="pp-tag">h4</span><span class="pp-pln"> verify.isEmail(value)</span></div><div class="L9"><span class="pp-ln">  59 </span><span class="pp-pln">    </span><span class="pp-tag">h4</span><span class="pp-pln"> verify.isEmails(value)</span></div><div class="L0"><span class="pp-ln">  60 </span><span class="pp-pln">    </span><span class="pp-tag">h4</span><span class="pp-pln"> verify.isMinLength(value, length)</span></div><div class="L1"><span class="pp-ln">  61 </span><span class="pp-pln">    </span><span class="pp-tag">h4</span><span class="pp-pln"> verify.isMaxLength(value, length)</span></div><div class="L2"><span class="pp-ln">  62 </span><span class="pp-pln">    </span><span class="pp-tag">h4</span><span class="pp-pln"> verify.isExactLength(value, length)</span></div><div class="L3"><span class="pp-ln">  63 </span><span class="pp-pln">    </span><span class="pp-tag">h4</span><span class="pp-pln"> verify.isGreaterThan(value, test)</span></div><div class="L4"><span class="pp-ln">  64 </span><span class="pp-pln">    </span><span class="pp-tag">h4</span><span class="pp-pln"> verify.isLessThan(value, test)</span></div><div class="L5"><span class="pp-ln">  65 </span><span class="pp-pln">    </span><span class="pp-tag">h4</span><span class="pp-pln"> verify.isGreaterEqualThan(value, test)</span></div><div class="L6"><span class="pp-ln">  66 </span><span class="pp-pln">    </span><span class="pp-tag">h4</span><span class="pp-pln"> verify.isLessEqualThan(value, test)</span></div><div class="L7"><span class="pp-ln">  67 </span><span class="pp-pln">    </span><span class="pp-tag">h4</span><span class="pp-pln"> verify.isAlpha(value)</span></div><div class="L8"><span class="pp-ln">  68 </span><span class="pp-pln">    </span><span class="pp-tag">h4</span><span class="pp-pln"> verify.isAlphaNumeric(value)</span></div><div class="L9"><span class="pp-ln">  69 </span><span class="pp-pln">    </span><span class="pp-tag">h4</span><span class="pp-pln"> verify.isIp(value)</span></div><div class="L0"><span class="pp-ln">  70 </span><span class="pp-pln">    </span><span class="pp-tag">h4</span><span class="pp-pln"> verify.isBase64(value)</span></div><div class="L1"><span class="pp-ln">  71 </span><span class="pp-pln">    </span><span class="pp-tag">h4</span><span class="pp-pln"> verify.isUrl(value)</span></div><div class="L2"><span class="pp-ln">  72 </span><span class="pp-pln">    </span><span class="pp-tag">h4</span><span class="pp-pln"> verify.isCreditCard(value)</span></div><div class="L3"><span class="pp-ln">  73 </span><span class="pp-pln">    </span><span class="pp-tag">h4</span><span class="pp-pln"> verify.isGreaterThanDate(value, date)</span></div><div class="L4"><span class="pp-ln">  74 </span><span class="pp-pln">    </span><span class="pp-tag">h4</span><span class="pp-pln"> verify.isLessThanDate(value, date)</span></div><div class="L5"><span class="pp-ln">  75 </span><span class="pp-pln">    </span><span class="pp-tag">h4</span><span class="pp-pln"> verify.isGreaterEqualDate(value, date)</span></div><div class="L6"><span class="pp-ln">  76 </span><span class="pp-pln">    </span><span class="pp-tag">h4</span><span class="pp-pln"> verify.isLessEqualDate(value, date)</span></div><div class="L7"><span class="pp-ln">  77 </span><span class="pp-pln">    </span><span class="pp-tag">h2</span><span class="pp-pln"> verify - errors</span></div><div class="L8"><span class="pp-ln">  78 </span><span class="pp-pln">    </span><span class="pp-tag">h4</span><span class="pp-pln"> verify.error([inner,] [obj,] message, [arg-1[, arg-2[, arg-...]]])</span></div><div class="L9"><span class="pp-ln">  79 </span><span class="pp-pln">    </span><span class="pp-tag">h4</span><span class="pp-pln"> verify.fatal(err[, code])</span></div><div class="L0"><span class="pp-ln">  80 </span><span class="pp-pln">    </span><span class="pp-tag">h2</span><span class="pp-pln"> folderScanner - ittf documents folder scanner</span></div><div class="L1"><span class="pp-ln">  81 </span><span class="pp-pln">    </span><span class="pp-tag">h4</span><span class="pp-pln"> var folderScanner = require('wizzi-utils').folderScanner</span></div><div class="L2"><span class="pp-ln">  82 </span><span class="pp-pln">    </span><span class="pp-tag">h2</span><span class="pp-pln"> folderScanner.scan(folderPath[, options])</span></div><div class="L3"><span class="pp-ln">  83 </span><span class="pp-pln">    </span><span class="pp-tag">ul</span></div><div class="L4"><span class="pp-ln">  84 </span><span class="pp-pln">        </span><span class="pp-tag">li</span><span class="pp-pln"> `folderPath` `uri`</span></div><div class="L5"><span class="pp-ln">  85 </span><span class="pp-pln">        </span><span class="pp-tag">li</span><span class="pp-pln"> `options` `Object`</span></div><div class="L6"><span class="pp-ln">  86 </span><span class="pp-pln">        </span><span class="pp-tag">li</span><span class="pp-pln"> returns the root IttfFsNode of the 'folderPath' with its descendant folders as children.</span></div><div class="L7"><span class="pp-ln">  87 </span><span class="pp-pln">    </span><span class="pp-tag">h2</span><span class="pp-pln"> ittfMTreeEx - enhanced mTree with import, export, analize capabilities</span></div><div class="L8"><span class="pp-ln">  88 </span><span class="pp-pln">    </span><span class="pp-tag">h4</span><span class="pp-pln"> var ittfMTreeEx = require('wizzi-utils').ittfMTreeEx</span></div><div class="L9"><span class="pp-ln">  89 </span><span class="pp-pln">    </span><span class="pp-tag">h4</span><span class="pp-pln"> ittfMTreeEx.loadFrom(path_string)</span></div><div class="L0"><span class="pp-ln">  90 </span><span class="pp-pln">    </span><span class="pp-tag">ul</span></div><div class="L1"><span class="pp-ln">  91 </span><span class="pp-pln">        </span><span class="pp-tag">li</span><span class="pp-pln"> `path_string` `uri` The uri of the ittf document that will be loaded as is (no composition, non template evaluation)</span></div><div class="L2"><span class="pp-ln">  92 </span><span class="pp-pln">        </span><span class="pp-tag">li</span><span class="pp-pln"> returns an ittfMTreeEx instance</span></div><div class="L3"><span class="pp-ln">  93 </span><span class="pp-pln">    </span><span class="pp-tag">h4</span><span class="pp-pln"> ittfMTreeEx.loadFrom(mTree)</span></div><div class="L4"><span class="pp-ln">  94 </span><span class="pp-pln">    </span><span class="pp-tag">ul</span></div><div class="L5"><span class="pp-ln">  95 </span><span class="pp-pln">        </span><span class="pp-tag">li</span><span class="pp-pln"> `mTree` `Object` An existent final or partial mTree.</span></div><div class="L6"><span class="pp-ln">  96 </span><span class="pp-pln">        </span><span class="pp-tag">li</span><span class="pp-pln"> returns an ittfMTreeEx instance</span></div><div class="L7"><span class="pp-ln">  97 </span><span class="pp-pln">    </span><span class="pp-tag">h2</span><span class="pp-pln"> ittfHtmlPrettifier - ittf html formatter for documentation</span></div><div class="L8"><span class="pp-ln">  98 </span><span class="pp-pln">    </span><span class="pp-tag">h4</span><span class="pp-pln"> var ittfHtmlPrettifier = require('wizzi-utils').ittfHtmlPrettifier</span></div><div class="L9"><span class="pp-ln">  99 </span><span class="pp-pln">    </span><span class="pp-tag">h2</span><span class="pp-pln"> ittfHtmlPrettifier(rootNode[, options])</span></div><div class="L0"><span class="pp-ln"> 100 </span><span class="pp-pln">    </span><span class="pp-tag">ul</span></div><div class="L1"><span class="pp-ln"> 101 </span><span class="pp-pln">        </span><span class="pp-tag">li</span><span class="pp-pln"> `rootNode` `Object` ittfMTreeEx instance</span></div><div class="L2"><span class="pp-ln"> 102 </span><span class="pp-pln">        </span><span class="pp-tag">li</span><span class="pp-pln"> `options` `Object`</span></div><div class="L3"><span class="pp-ln"> 103 </span><span class="pp-pln">    </span><span class="pp-tag">h2</span><span class="pp-pln"> jsHtmlPrettifier - javascript html formatter for documentation</span></div><div class="L4"><span class="pp-ln"> 104 </span><span class="pp-pln">    </span><span class="pp-tag">h4</span><span class="pp-pln"> var jsHtmlPrettifier = require('wizzi-utils').jsHtmlPrettifier</span></div><div class="L5"><span class="pp-ln"> 105 </span><span class="pp-pln">    </span><span class="pp-tag">h2</span><span class="pp-pln"> jsHtmlPrettifier(script[, options])</span></div><div class="L6"><span class="pp-ln"> 106 </span><span class="pp-pln">    </span><span class="pp-tag">ul</span></div><div class="L7"><span class="pp-ln"> 107 </span><span class="pp-pln">        </span><span class="pp-tag">li</span><span class="pp-pln"> `script` `String` javascript code</span></div><div class="L8"><span class="pp-ln"> 108 </span><span class="pp-pln">        </span><span class="pp-tag">li</span><span class="pp-pln"> `options` `Object`</span></div></pre>
                    </div>
                </div>
                <div class="code-panel" id="d109">
                    <div class="modal-view-container">
                        <h4 class="d-h2">/src/ittf/root/.gitignore.text.ittf</h4>
                        <pre class="prettyprint">

<div class="L1"><span class="pp-ln">   1 </span><span class="pp-pln"></span><span class="pp-mix frag-to-link-a" data-frag-id="unknown">common/proj_gitignore(</span><span class="pp-mix">)</span></div></pre>
                    </div>
                </div>
                <div class="code-panel" id="d110">
                    <div class="modal-view-container">
                        <h4 class="d-h2">/src/ittf/root/index.js.ittf</h4>
                        <pre class="prettyprint">

<div class="L1"><span class="pp-ln">   1 </span><span class="pp-pln"></span><span class="pp-tag">module</span></div><div class="L2"><span class="pp-ln">   2 </span><span class="pp-pln">    </span><span class="pp-tag">kind</span><span class="pp-pln"> jsfile</span></div><div class="L3"><span class="pp-ln">   3 </span><span class="pp-pln">    </span><span class="pp-tag">var</span><span class="pp-pln"> ittfMTreeEx = require('./lib/ittfTree/ittfMTreeEx')</span></div><div class="L4"><span class="pp-ln">   4 </span><span class="pp-pln">    </span><span class="pp-tag">var</span><span class="pp-pln"> asIsLoader = require('./lib/ittfTree/asIsLoader')</span></div><div class="L5"><span class="pp-ln">   5 </span><span class="pp-pln">    </span><span class="pp-tag">var</span><span class="pp-pln"> ittfWriter = require('./lib/ittfTree/ittfWriter')</span></div><div class="L6"><span class="pp-ln">   6 </span><span class="pp-pln">    </span><span class="pp-tag">var</span><span class="pp-pln"> folderScanner = require('./lib/scanners/folderScanner')</span></div><div class="L7"><span class="pp-ln">   7 </span><span class="pp-pln">    </span><span class="pp-tag">var</span><span class="pp-pln"> ittfHtmlPrettifier = require('./lib/prettifiers/ittfHtmlPrettifier')</span></div><div class="L8"><span class="pp-ln">   8 </span><span class="pp-pln">    </span><span class="pp-tag">var</span><span class="pp-pln"> md</span></div><div class="L9"><span class="pp-ln">   9 </span><span class="pp-pln">        </span><span class="pp-tag">set</span><span class="pp-pln"> module.exports</span></div><div class="L0"><span class="pp-ln">  10 </span><span class="pp-pln">            </span><span class="pp-tag">{</span></div><div class="L1"><span class="pp-ln">  11 </span><span class="pp-pln">    </span><span class="pp-tag">set</span><span class="pp-pln"> md.fail = require('./lib/fail')</span></div><div class="L2"><span class="pp-ln">  12 </span><span class="pp-pln">    </span><span class="pp-tag">set</span><span class="pp-pln"> md.option = require('./lib/option')</span></div><div class="L3"><span class="pp-ln">  13 </span><span class="pp-pln">    </span><span class="pp-tag">set</span><span class="pp-pln"> md.config = require('./lib/config')</span></div><div class="L4"><span class="pp-ln">  14 </span><span class="pp-pln">    </span><span class="pp-tag">set</span><span class="pp-pln"> md.verify = require('./lib/verify')</span></div><div class="L5"><span class="pp-ln">  15 </span><span class="pp-pln">    </span><span class="pp-tag">set</span><span class="pp-pln"> md.node = require('./lib/node')</span></div><div class="L6"><span class="pp-ln">  16 </span><span class="pp-pln">    </span><span class="pp-tag">set</span><span class="pp-pln"> md.nodeErrors = require('./lib/errors')</span></div><div class="L7"><span class="pp-ln">  17 </span><span class="pp-pln">    </span><span class="pp-tag">set</span><span class="pp-pln"> md.exampleErrors = require('./lib/exampleErrors')</span></div><div class="L8"><span class="pp-ln">  18 </span><span class="pp-pln">    </span><span class="pp-tag">set</span><span class="pp-pln"> md.lineparser = require('./lib/lineparser')</span></div><div class="L9"><span class="pp-ln">  19 </span><span class="pp-pln">    </span><span class="pp-tag">set</span><span class="pp-pln"> md.mocks = require('./lib/mocks')</span></div><div class="L0"><span class="pp-ln">  20 </span><span class="pp-pln">    </span><span class="pp-tag">set</span><span class="pp-pln"> md.requireFromString = require('./lib/requireFromString')</span></div><div class="L1"><span class="pp-ln">  21 </span><span class="pp-pln">    </span><span class="pp-tag">set</span><span class="pp-pln"> md.Coder = require('./lib/coder')</span></div><div class="L2"><span class="pp-ln">  22 </span><span class="pp-pln">    </span><span class="pp-tag">#</span><span class="pp-pln"> fs</span></div><div class="L3"><span class="pp-ln">  23 </span><span class="pp-pln">    </span><span class="pp-tag">set</span><span class="pp-pln"> md.file = require('./lib/fs/file')</span></div><div class="L4"><span class="pp-ln">  24 </span><span class="pp-pln">    </span><span class="pp-tag">set</span><span class="pp-pln"> md.vfile = require('./lib/fs/vfile')</span></div><div class="L5"><span class="pp-ln">  25 </span><span class="pp-pln">    </span><span class="pp-tag">#</span><span class="pp-pln"> class IttfMTreeEx</span></div><div class="L6"><span class="pp-ln">  26 </span><span class="pp-pln">    </span><span class="pp-tag">set</span><span class="pp-pln"> md.IttfMTreeEx = ittfMTreeEx</span></div><div class="L7"><span class="pp-ln">  27 </span><span class="pp-pln">    </span><span class="pp-tag">set</span><span class="pp-pln"> md.ittfWriter = ittfWriter</span></div><div class="L8"><span class="pp-ln">  28 </span><span class="pp-pln">    </span><span class="pp-tag">#</span><span class="pp-pln"> function</span></div><div class="L9"><span class="pp-ln">  29 </span><span class="pp-pln">    </span><span class="pp-tag">#</span><span class="pp-pln"> string ittfDocumentUri</span></div><div class="L0"><span class="pp-ln">  30 </span><span class="pp-pln">    </span><span class="pp-tag">#</span><span class="pp-pln"> { options</span></div><div class="L1"><span class="pp-ln">  31 </span><span class="pp-pln">    </span><span class="pp-tag">#</span><span class="pp-pln"> { file?</span></div><div class="L2"><span class="pp-ln">  32 </span><span class="pp-pln">    </span><span class="pp-tag">#</span><span class="pp-pln"> api-ref wizzi.utils.file</span></div><div class="L3"><span class="pp-ln">  33 </span><span class="pp-pln">    </span><span class="pp-tag">#</span><span class="pp-pln"> callback?</span></div><div class="L4"><span class="pp-ln">  34 </span><span class="pp-pln">    </span><span class="pp-tag">set</span><span class="pp-pln"> md.asIsLoader = asIsLoader</span></div><div class="L5"><span class="pp-ln">  35 </span><span class="pp-pln">    </span><span class="pp-tag">#</span><span class="pp-pln"> { folderScanner</span></div><div class="L6"><span class="pp-ln">  36 </span><span class="pp-pln">    </span><span class="pp-tag">#</span><span class="pp-pln"> m scan</span></div><div class="L7"><span class="pp-ln">  37 </span><span class="pp-pln">    </span><span class="pp-tag">#</span><span class="pp-pln"> string folderPath</span></div><div class="L8"><span class="pp-ln">  38 </span><span class="pp-pln">    </span><span class="pp-tag">#</span><span class="pp-pln"> { options</span></div><div class="L9"><span class="pp-ln">  39 </span><span class="pp-pln">    </span><span class="pp-tag">#</span><span class="pp-pln"> string name</span></div><div class="L0"><span class="pp-ln">  40 </span><span class="pp-pln">    </span><span class="pp-tag">#</span><span class="pp-pln"> string gitPath</span></div><div class="L1"><span class="pp-ln">  41 </span><span class="pp-pln">    </span><span class="pp-tag">set</span><span class="pp-pln"> md.folderScanner = folderScanner</span></div><div class="L2"><span class="pp-ln">  42 </span><span class="pp-pln">    </span><span class="pp-tag">#</span><span class="pp-pln"> function</span></div><div class="L3"><span class="pp-ln">  43 </span><span class="pp-pln">    </span><span class="pp-tag">#</span><span class="pp-pln"> { rootNode</span></div><div class="L4"><span class="pp-ln">  44 </span><span class="pp-pln">    </span><span class="pp-tag">#</span><span class="pp-pln"> api-ref wizzi-utils.IttfMTreeEx</span></div><div class="L5"><span class="pp-ln">  45 </span><span class="pp-pln">    </span><span class="pp-tag">#</span><span class="pp-pln"> { options</span></div><div class="L6"><span class="pp-ln">  46 </span><span class="pp-pln">    </span><span class="pp-tag">set</span><span class="pp-pln"> md.ittfHtmlPrettifier = ittfHtmlPrettifier</span></div></pre>
                    </div>
                </div>
                <div class="code-panel" id="d111">
                    <div class="modal-view-container">
                        <h4 class="d-h2">/src/ittf/root/license.text.ittf</h4>
                        <pre class="prettyprint">

<div class="L1"><span class="pp-ln">   1 </span><span class="pp-pln"></span><span class="pp-mix frag-to-link-a" data-frag-id="unknown">common/mit_license(</span><span class="pp-arg"> 1982 - 2018 The Wizzi Team </span><span class="pp-mix">)</span></div></pre>
                    </div>
                </div>
                <div class="code-panel" id="d112">
                    <div class="modal-view-container">
                        <h4 class="d-h2">/src/ittf/root/package.json.ittf</h4>
                        <pre class="prettyprint">

<div class="L1"><span class="pp-ln">   1 </span><span class="pp-pln"></span><span class="pp-mix frag-to-link-a" data-frag-id="unknown">common/kernel_utils_package(</span><span class="pp-arg"> wizzi-utils</span><span class="pp-pln">,</span><span class="pp-arg">  ${wfpackage.version}</span><span class="pp-pln">,</span><span class="pp-arg">  ${wfpackage.title}.</span><span class="pp-pln">,</span><span class="pp-arg">  ${wfpackage.license}  </span><span class="pp-mix">)</span></div><div class="L2"><span class="pp-ln">   2 </span><span class="pp-pln">    </span><span class="pp-tag">extsprintf</span><span class="pp-pln"> "^1.2.0"</span></div><div class="L3"><span class="pp-ln">   3 </span><span class="pp-pln">    </span><span class="pp-tag">fs-extra</span><span class="pp-pln"> "latest"</span></div><div class="L4"><span class="pp-ln">   4 </span><span class="pp-pln">    </span><span class="pp-tag">glob</span><span class="pp-pln"> "^7.1.2"</span></div><div class="L5"><span class="pp-ln">   5 </span><span class="pp-pln">    </span><span class="pp-tag">graceful-fs</span><span class="pp-pln"> "^4.1.11"</span></div><div class="L6"><span class="pp-ln">   6 </span><span class="pp-pln">    </span><span class="pp-tag">i</span><span class="pp-pln"> "^0.3.5"</span></div><div class="L7"><span class="pp-ln">   7 </span><span class="pp-pln">    </span><span class="pp-tag">promise</span><span class="pp-pln"> "^7.1.1"</span></div><div class="L8"><span class="pp-ln">   8 </span><span class="pp-pln">    </span><span class="pp-kwd">$append</span><span class="pp-pln"> devDependencies</span></div></pre>
                    </div>
                </div>
                <div class="code-panel" id="d113">
                    <div class="modal-view-container">
                        <h4 class="d-h2">/src/ittf/root/readme.md.ittf</h4>
                        <pre class="prettyprint">

<div class="L1"><span class="pp-ln">   1 </span><span class="pp-pln"></span><span class="pp-mix frag-to-link-a" data-frag-id="unknown">common/kernel(</span><span class="pp-arg"> wizzi-utils</span><span class="pp-pln">,</span><span class="pp-arg">  ${wfpackage.title}. </span><span class="pp-mix">)</span></div><div class="L2"><span class="pp-ln">   2 </span><span class="pp-pln">    </span><span class="pp-tag">h2</span><span class="pp-pln"> vfile - virtual file system</span></div><div class="L3"><span class="pp-ln">   3 </span><span class="pp-pln">    </span><span class="pp-tag">h4</span><span class="pp-pln"> var vfile = require('wizzi-utils').vfile</span></div><div class="L4"><span class="pp-ln">   4 </span><span class="pp-pln">    </span><span class="pp-tag">h3</span><span class="pp-pln"> vfileInst - create a virtual file system instance</span></div><div class="L5"><span class="pp-ln">   5 </span><span class="pp-pln">    </span><span class="pp-tag">h4</span><span class="pp-pln"> var vfileInst = vfile([fsimpl])</span></div><div class="L6"><span class="pp-ln">   6 </span><span class="pp-pln">    </span><span class="pp-tag">ul</span></div><div class="L7"><span class="pp-ln">   7 </span><span class="pp-pln">        </span><span class="pp-tag">li</span><span class="pp-pln"> `fsimpl` `Object` Default: NodeJS fs object or fs-graceful if available.</span></div><div class="L8"><span class="pp-ln">   8 </span><span class="pp-pln">    </span><span class="pp-tag">h3</span><span class="pp-pln"> vfileInst.read(path_string, options[, callback])</span></div><div class="L9"><span class="pp-ln">   9 </span><span class="pp-pln">    </span><span class="pp-tag">ul</span></div><div class="L0"><span class="pp-ln">  10 </span><span class="pp-pln">        </span><span class="pp-tag">li</span><span class="pp-pln"> `path_string`</span></div><div class="L1"><span class="pp-ln">  11 </span><span class="pp-pln">        </span><span class="pp-tag">li</span><span class="pp-pln"> `options` `Object`</span></div><div class="L2"><span class="pp-ln">  12 </span><span class="pp-pln">        </span><span class="pp-tag">li</span><span class="pp-pln"> `callback` `Function` If absent the call is sync.</span></div><div class="L3"><span class="pp-ln">  13 </span><span class="pp-pln">            </span><span class="pp-tag">ul</span></div><div class="L4"><span class="pp-ln">  14 </span><span class="pp-pln">                </span><span class="pp-tag">li</span><span class="pp-pln"> `err`</span></div><div class="L5"><span class="pp-ln">  15 </span><span class="pp-pln">                </span><span class="pp-tag">li</span><span class="pp-pln"> `content`</span></div><div class="L6"><span class="pp-ln">  16 </span><span class="pp-pln">    </span><span class="pp-tag">h3</span><span class="pp-pln"> vfileInst.write(path_string, content, options[, callback])</span></div><div class="L7"><span class="pp-ln">  17 </span><span class="pp-pln">    </span><span class="pp-tag">ul</span></div><div class="L8"><span class="pp-ln">  18 </span><span class="pp-pln">        </span><span class="pp-tag">li</span><span class="pp-pln"> `path_string`</span></div><div class="L9"><span class="pp-ln">  19 </span><span class="pp-pln">        </span><span class="pp-tag">li</span><span class="pp-pln"> `content` `String`</span></div><div class="L0"><span class="pp-ln">  20 </span><span class="pp-pln">        </span><span class="pp-tag">li</span><span class="pp-pln"> `options` `Object`</span></div><div class="L1"><span class="pp-ln">  21 </span><span class="pp-pln">        </span><span class="pp-tag">li</span><span class="pp-pln"> `callback` `Function` If absent the call is sync.</span></div><div class="L2"><span class="pp-ln">  22 </span><span class="pp-pln">            </span><span class="pp-tag">p</span><span class="pp-pln"> When the call is sync if `fsimpl` does not implement `readFileSync` throw Error.</span></div><div class="L3"><span class="pp-ln">  23 </span><span class="pp-pln">            </span><span class="pp-tag">ul</span></div><div class="L4"><span class="pp-ln">  24 </span><span class="pp-pln">                </span><span class="pp-tag">li</span><span class="pp-pln"> `err`</span></div><div class="L5"><span class="pp-ln">  25 </span><span class="pp-pln">                </span><span class="pp-tag">li</span><span class="pp-pln"> `content`</span></div><div class="L6"><span class="pp-ln">  26 </span><span class="pp-pln">    </span><span class="pp-tag">h3</span><span class="pp-pln"> vfileInst.readJSON(path_string, options[, callback])</span></div><div class="L7"><span class="pp-ln">  27 </span><span class="pp-pln">    </span><span class="pp-tag">h3</span><span class="pp-pln"> vfileInst.writeJSON(path_string, obj, options[, callback])</span></div><div class="L8"><span class="pp-ln">  28 </span><span class="pp-pln">    </span><span class="pp-kwd">$include</span><span class="pp-mix frag-to-link-a" data-frag-id="d107"> fsimpl</span></div><div class="L9"><span class="pp-ln">  29 </span><span class="pp-pln">    </span><span class="pp-tag">h2</span><span class="pp-pln"> verify - helper object</span></div><div class="L0"><span class="pp-ln">  30 </span><span class="pp-pln">    </span><span class="pp-tag">h4</span><span class="pp-pln"> var verify = require('wizzi-utils').verify</span></div><div class="L1"><span class="pp-ln">  31 </span><span class="pp-pln">    </span><span class="pp-tag">h2</span><span class="pp-pln"> verify - type checks</span></div><div class="L2"><span class="pp-ln">  32 </span><span class="pp-pln">    </span><span class="pp-tag">h4</span><span class="pp-pln"> verify.isDefined(item)</span></div><div class="L3"><span class="pp-ln">  33 </span><span class="pp-pln">    </span><span class="pp-tag">h4</span><span class="pp-pln"> verify.isNullOrUndefined(item)</span></div><div class="L4"><span class="pp-ln">  34 </span><span class="pp-pln">    </span><span class="pp-tag">h4</span><span class="pp-pln"> verify.isObject(item)</span></div><div class="L5"><span class="pp-ln">  35 </span><span class="pp-pln">    </span><span class="pp-tag">h4</span><span class="pp-pln"> verify.isArray(item)</span></div><div class="L6"><span class="pp-ln">  36 </span><span class="pp-pln">    </span><span class="pp-tag">h4</span><span class="pp-pln"> verify.isFunction(item)</span></div><div class="L7"><span class="pp-ln">  37 </span><span class="pp-pln">    </span><span class="pp-tag">h4</span><span class="pp-pln"> verify.isNumber(item)</span></div><div class="L8"><span class="pp-ln">  38 </span><span class="pp-pln">    </span><span class="pp-tag">h4</span><span class="pp-pln"> verify.isBoolean(item)</span></div><div class="L9"><span class="pp-ln">  39 </span><span class="pp-pln">    </span><span class="pp-tag">h4</span><span class="pp-pln"> verify.isDate(item)</span></div><div class="L0"><span class="pp-ln">  40 </span><span class="pp-pln">    </span><span class="pp-tag">h4</span><span class="pp-pln"> verify.isString(item)</span></div><div class="L1"><span class="pp-ln">  41 </span><span class="pp-pln">    </span><span class="pp-tag">h4</span><span class="pp-pln"> verify.isEmpty(item)</span></div><div class="L2"><span class="pp-ln">  42 </span><span class="pp-pln">    </span><span class="pp-tag">h4</span><span class="pp-pln"> verify.isNotEmpty(item)</span></div><div class="L3"><span class="pp-ln">  43 </span><span class="pp-pln">    </span><span class="pp-tag">h4</span><span class="pp-pln"> verify.isPrimitive(item)</span></div><div class="L4"><span class="pp-ln">  44 </span><span class="pp-pln">    </span><span class="pp-tag">h4</span><span class="pp-pln"> verify.isRegExp(item)</span></div><div class="L5"><span class="pp-ln">  45 </span><span class="pp-pln">    </span><span class="pp-tag">h4</span><span class="pp-pln"> verify.isError(item)</span></div><div class="L6"><span class="pp-ln">  46 </span><span class="pp-pln">    </span><span class="pp-tag">h4</span><span class="pp-pln"> verify.isAbsolutePath(item)</span></div><div class="L7"><span class="pp-ln">  47 </span><span class="pp-pln">    </span><span class="pp-tag">h4</span><span class="pp-pln"> verify.isIttfMacro(item)</span></div><div class="L8"><span class="pp-ln">  48 </span><span class="pp-pln">    </span><span class="pp-tag">h2</span><span class="pp-pln"> verify.convert(value, type[, unquote])</span></div><div class="L9"><span class="pp-ln">  49 </span><span class="pp-pln">    </span><span class="pp-tag">ul</span></div><div class="L0"><span class="pp-ln">  50 </span><span class="pp-pln">        </span><span class="pp-tag">li</span><span class="pp-pln"> `value` `String` If `@@null` return null; if `@@undefined` return undefined.</span></div><div class="L1"><span class="pp-ln">  51 </span><span class="pp-pln">        </span><span class="pp-tag">li</span><span class="pp-pln"> `type` `String` One-of string, integer, float, boolean, date</span></div><div class="L2"><span class="pp-ln">  52 </span><span class="pp-pln">        </span><span class="pp-tag">li</span><span class="pp-pln"> `options` `Object`</span></div><div class="L3"><span class="pp-ln">  53 </span><span class="pp-pln">    </span><span class="pp-tag">h2</span><span class="pp-pln"> verify.canConvertTo(value, type)</span></div><div class="L4"><span class="pp-ln">  54 </span><span class="pp-pln">    </span><span class="pp-tag">ul</span></div><div class="L5"><span class="pp-ln">  55 </span><span class="pp-pln">        </span><span class="pp-tag">li</span><span class="pp-pln"> `value` `String`</span></div><div class="L6"><span class="pp-ln">  56 </span><span class="pp-pln">        </span><span class="pp-tag">li</span><span class="pp-pln"> `type` `String` One-of string, integer, float, boolean, date</span></div><div class="L7"><span class="pp-ln">  57 </span><span class="pp-pln">    </span><span class="pp-tag">h2</span><span class="pp-pln"> verify - validations</span></div><div class="L8"><span class="pp-ln">  58 </span><span class="pp-pln">    </span><span class="pp-tag">h4</span><span class="pp-pln"> verify.isEmail(value)</span></div><div class="L9"><span class="pp-ln">  59 </span><span class="pp-pln">    </span><span class="pp-tag">h4</span><span class="pp-pln"> verify.isEmails(value)</span></div><div class="L0"><span class="pp-ln">  60 </span><span class="pp-pln">    </span><span class="pp-tag">h4</span><span class="pp-pln"> verify.isMinLength(value, length)</span></div><div class="L1"><span class="pp-ln">  61 </span><span class="pp-pln">    </span><span class="pp-tag">h4</span><span class="pp-pln"> verify.isMaxLength(value, length)</span></div><div class="L2"><span class="pp-ln">  62 </span><span class="pp-pln">    </span><span class="pp-tag">h4</span><span class="pp-pln"> verify.isExactLength(value, length)</span></div><div class="L3"><span class="pp-ln">  63 </span><span class="pp-pln">    </span><span class="pp-tag">h4</span><span class="pp-pln"> verify.isGreaterThan(value, test)</span></div><div class="L4"><span class="pp-ln">  64 </span><span class="pp-pln">    </span><span class="pp-tag">h4</span><span class="pp-pln"> verify.isLessThan(value, test)</span></div><div class="L5"><span class="pp-ln">  65 </span><span class="pp-pln">    </span><span class="pp-tag">h4</span><span class="pp-pln"> verify.isGreaterEqualThan(value, test)</span></div><div class="L6"><span class="pp-ln">  66 </span><span class="pp-pln">    </span><span class="pp-tag">h4</span><span class="pp-pln"> verify.isLessEqualThan(value, test)</span></div><div class="L7"><span class="pp-ln">  67 </span><span class="pp-pln">    </span><span class="pp-tag">h4</span><span class="pp-pln"> verify.isAlpha(value)</span></div><div class="L8"><span class="pp-ln">  68 </span><span class="pp-pln">    </span><span class="pp-tag">h4</span><span class="pp-pln"> verify.isAlphaNumeric(value)</span></div><div class="L9"><span class="pp-ln">  69 </span><span class="pp-pln">    </span><span class="pp-tag">h4</span><span class="pp-pln"> verify.isIp(value)</span></div><div class="L0"><span class="pp-ln">  70 </span><span class="pp-pln">    </span><span class="pp-tag">h4</span><span class="pp-pln"> verify.isBase64(value)</span></div><div class="L1"><span class="pp-ln">  71 </span><span class="pp-pln">    </span><span class="pp-tag">h4</span><span class="pp-pln"> verify.isUrl(value)</span></div><div class="L2"><span class="pp-ln">  72 </span><span class="pp-pln">    </span><span class="pp-tag">h4</span><span class="pp-pln"> verify.isCreditCard(value)</span></div><div class="L3"><span class="pp-ln">  73 </span><span class="pp-pln">    </span><span class="pp-tag">h4</span><span class="pp-pln"> verify.isGreaterThanDate(value, date)</span></div><div class="L4"><span class="pp-ln">  74 </span><span class="pp-pln">    </span><span class="pp-tag">h4</span><span class="pp-pln"> verify.isLessThanDate(value, date)</span></div><div class="L5"><span class="pp-ln">  75 </span><span class="pp-pln">    </span><span class="pp-tag">h4</span><span class="pp-pln"> verify.isGreaterEqualDate(value, date)</span></div><div class="L6"><span class="pp-ln">  76 </span><span class="pp-pln">    </span><span class="pp-tag">h4</span><span class="pp-pln"> verify.isLessEqualDate(value, date)</span></div><div class="L7"><span class="pp-ln">  77 </span><span class="pp-pln">    </span><span class="pp-tag">h2</span><span class="pp-pln"> verify - errors</span></div><div class="L8"><span class="pp-ln">  78 </span><span class="pp-pln">    </span><span class="pp-tag">h4</span><span class="pp-pln"> verify.error([inner,] [obj,] message, [arg-1[, arg-2[, arg-...]]])</span></div><div class="L9"><span class="pp-ln">  79 </span><span class="pp-pln">    </span><span class="pp-tag">h4</span><span class="pp-pln"> verify.fatal(err[, code])</span></div><div class="L0"><span class="pp-ln">  80 </span><span class="pp-pln">    </span><span class="pp-tag">h2</span><span class="pp-pln"> folderScanner - ittf documents folder scanner</span></div><div class="L1"><span class="pp-ln">  81 </span><span class="pp-pln">    </span><span class="pp-tag">h4</span><span class="pp-pln"> var folderScanner = require('wizzi-utils').folderScanner</span></div><div class="L2"><span class="pp-ln">  82 </span><span class="pp-pln">    </span><span class="pp-tag">h2</span><span class="pp-pln"> folderScanner.scan(folderPath[, options])</span></div><div class="L3"><span class="pp-ln">  83 </span><span class="pp-pln">    </span><span class="pp-tag">ul</span></div><div class="L4"><span class="pp-ln">  84 </span><span class="pp-pln">        </span><span class="pp-tag">li</span><span class="pp-pln"> `folderPath` `uri`</span></div><div class="L5"><span class="pp-ln">  85 </span><span class="pp-pln">        </span><span class="pp-tag">li</span><span class="pp-pln"> `options` `Object`</span></div><div class="L6"><span class="pp-ln">  86 </span><span class="pp-pln">        </span><span class="pp-tag">li</span><span class="pp-pln"> returns the root IttfFsNode of the 'folderPath' with its descendant folders as children.</span></div><div class="L7"><span class="pp-ln">  87 </span><span class="pp-pln">    </span><span class="pp-tag">h2</span><span class="pp-pln"> ittfMTreeEx - enhanced mTree with import, export, analize capabilities</span></div><div class="L8"><span class="pp-ln">  88 </span><span class="pp-pln">    </span><span class="pp-tag">h4</span><span class="pp-pln"> var ittfMTreeEx = require('wizzi-utils').ittfMTreeEx</span></div><div class="L9"><span class="pp-ln">  89 </span><span class="pp-pln">    </span><span class="pp-tag">h4</span><span class="pp-pln"> ittfMTreeEx.loadFrom(path_string)</span></div><div class="L0"><span class="pp-ln">  90 </span><span class="pp-pln">    </span><span class="pp-tag">ul</span></div><div class="L1"><span class="pp-ln">  91 </span><span class="pp-pln">        </span><span class="pp-tag">li</span><span class="pp-pln"> `path_string` `uri` The uri of the ittf document that will be loaded as is (no composition, non template evaluation)</span></div><div class="L2"><span class="pp-ln">  92 </span><span class="pp-pln">        </span><span class="pp-tag">li</span><span class="pp-pln"> returns an ittfMTreeEx instance</span></div><div class="L3"><span class="pp-ln">  93 </span><span class="pp-pln">    </span><span class="pp-tag">h4</span><span class="pp-pln"> ittfMTreeEx.loadFrom(mTree)</span></div><div class="L4"><span class="pp-ln">  94 </span><span class="pp-pln">    </span><span class="pp-tag">ul</span></div><div class="L5"><span class="pp-ln">  95 </span><span class="pp-pln">        </span><span class="pp-tag">li</span><span class="pp-pln"> `mTree` `Object` An existent final or partial mTree.</span></div><div class="L6"><span class="pp-ln">  96 </span><span class="pp-pln">        </span><span class="pp-tag">li</span><span class="pp-pln"> returns an ittfMTreeEx instance</span></div><div class="L7"><span class="pp-ln">  97 </span><span class="pp-pln">    </span><span class="pp-tag">h2</span><span class="pp-pln"> ittfHtmlPrettifier - ittf html formatter for documentation</span></div><div class="L8"><span class="pp-ln">  98 </span><span class="pp-pln">    </span><span class="pp-tag">h4</span><span class="pp-pln"> var ittfHtmlPrettifier = require('wizzi-utils').ittfHtmlPrettifier</span></div><div class="L9"><span class="pp-ln">  99 </span><span class="pp-pln">    </span><span class="pp-tag">h2</span><span class="pp-pln"> ittfHtmlPrettifier(rootNode[, options])</span></div><div class="L0"><span class="pp-ln"> 100 </span><span class="pp-pln">    </span><span class="pp-tag">ul</span></div><div class="L1"><span class="pp-ln"> 101 </span><span class="pp-pln">        </span><span class="pp-tag">li</span><span class="pp-pln"> `rootNode` `Object` ittfMTreeEx instance</span></div><div class="L2"><span class="pp-ln"> 102 </span><span class="pp-pln">        </span><span class="pp-tag">li</span><span class="pp-pln"> `options` `Object`</span></div><div class="L3"><span class="pp-ln"> 103 </span><span class="pp-pln">    </span><span class="pp-tag">h2</span><span class="pp-pln"> jsHtmlPrettifier - javascript html formatter for documentation</span></div><div class="L4"><span class="pp-ln"> 104 </span><span class="pp-pln">    </span><span class="pp-tag">h4</span><span class="pp-pln"> var jsHtmlPrettifier = require('wizzi-utils').jsHtmlPrettifier</span></div><div class="L5"><span class="pp-ln"> 105 </span><span class="pp-pln">    </span><span class="pp-tag">h2</span><span class="pp-pln"> jsHtmlPrettifier(script[, options])</span></div><div class="L6"><span class="pp-ln"> 106 </span><span class="pp-pln">    </span><span class="pp-tag">ul</span></div><div class="L7"><span class="pp-ln"> 107 </span><span class="pp-pln">        </span><span class="pp-tag">li</span><span class="pp-pln"> `script` `String` javascript code</span></div><div class="L8"><span class="pp-ln"> 108 </span><span class="pp-pln">        </span><span class="pp-tag">li</span><span class="pp-pln"> `options` `Object`</span></div></pre>
                    </div>
                </div>
                <div class="code-panel" id="d114">
                    <div class="modal-view-container">
                        <h4 class="d-h2">/src/ittf/t/checked_call_return_set.js.ittf</h4>
                        <pre class="prettyprint">

<div class="L1"><span class="pp-ln">   1 </span><span class="pp-pln"></span><span class="pp-kwd">$group</span></div><div class="L2"><span class="pp-ln">   2 </span><span class="pp-pln">    </span><span class="pp-kwd">$params</span><span class="pp-pln"> varName</span></div><div class="L3"><span class="pp-ln">   3 </span><span class="pp-pln">    </span><span class="pp-tag">set</span><span class="pp-kwd"> ${</span><span class="pp-expr">varName</span><span class="pp-kwd">}</span></div><div class="L4"><span class="pp-ln">   4 </span><span class="pp-pln">        </span><span class="pp-kwd">$hook</span></div><div class="L5"><span class="pp-ln">   5 </span><span class="pp-pln">    </span><span class="pp-tag">if</span><span class="pp-kwd"> ${</span><span class="pp-expr">varName</span><span class="pp-kwd">}</span><span class="pp-pln"> && </span><span class="pp-kwd">${</span><span class="pp-expr">varName</span><span class="pp-kwd">}</span><span class="pp-pln">.__is_error</span></div><div class="L6"><span class="pp-ln">   6 </span><span class="pp-pln">        </span><span class="pp-tag">return</span><span class="pp-kwd"> ${</span><span class="pp-expr">varName</span><span class="pp-kwd">}</span></div></pre>
                    </div>
                </div>
                <div class="code-panel" id="d115">
                    <div class="modal-view-container">
                        <h4 class="d-h2">/src/ittf/t/checked_call_return.js.ittf</h4>
                        <pre class="prettyprint">

<div class="L1"><span class="pp-ln">   1 </span><span class="pp-pln"></span><span class="pp-kwd">$group</span></div><div class="L2"><span class="pp-ln">   2 </span><span class="pp-pln">    </span><span class="pp-kwd">$params</span><span class="pp-pln"> varName</span></div><div class="L3"><span class="pp-ln">   3 </span><span class="pp-pln">    </span><span class="pp-tag">var</span><span class="pp-kwd"> ${</span><span class="pp-expr">varName</span><span class="pp-kwd">}</span></div><div class="L4"><span class="pp-ln">   4 </span><span class="pp-pln">        </span><span class="pp-kwd">$hook</span></div><div class="L5"><span class="pp-ln">   5 </span><span class="pp-pln">    </span><span class="pp-tag">if</span><span class="pp-kwd"> ${</span><span class="pp-expr">varName</span><span class="pp-kwd">}</span><span class="pp-pln"> && </span><span class="pp-kwd">${</span><span class="pp-expr">varName</span><span class="pp-kwd">}</span><span class="pp-pln">.__is_error</span></div><div class="L6"><span class="pp-ln">   6 </span><span class="pp-pln">        </span><span class="pp-tag">return</span><span class="pp-kwd"> ${</span><span class="pp-expr">varName</span><span class="pp-kwd">}</span></div></pre>
                    </div>
                </div>
                <div class="code-panel" id="d116">
                    <div class="modal-view-container">
                        <h4 class="d-h2">/src/ittf/t/checked_call.js.ittf</h4>
                        <pre class="prettyprint">

<div class="L1"><span class="pp-ln">   1 </span><span class="pp-pln"></span><span class="pp-kwd">$group</span></div><div class="L2"><span class="pp-ln">   2 </span><span class="pp-pln">    </span><span class="pp-kwd">$params</span><span class="pp-pln"> varName, message|@@null</span></div><div class="L3"><span class="pp-ln">   3 </span><span class="pp-pln">    </span><span class="pp-tag">var</span><span class="pp-kwd"> ${</span><span class="pp-expr">varName</span><span class="pp-kwd">}</span></div><div class="L4"><span class="pp-ln">   4 </span><span class="pp-pln">        </span><span class="pp-kwd">$hook</span></div><div class="L5"><span class="pp-ln">   5 </span><span class="pp-pln">    </span><span class="pp-tag">if</span><span class="pp-kwd"> ${</span><span class="pp-expr">varName</span><span class="pp-kwd">}</span><span class="pp-pln"> && </span><span class="pp-kwd">${</span><span class="pp-expr">varName</span><span class="pp-kwd">}</span><span class="pp-pln">.__is_error</span></div><div class="L6"><span class="pp-ln">   6 </span><span class="pp-pln">        </span><span class="pp-tag">log</span><span class="pp-pln"> '__is_error </span><span class="pp-kwd">${</span><span class="pp-expr">message</span><span class="pp-kwd">}</span><span class="pp-pln">', </span><span class="pp-kwd">${</span><span class="pp-expr">varName</span><span class="pp-kwd">}</span></div><div class="L7"><span class="pp-ln">   7 </span><span class="pp-pln">        </span><span class="pp-tag">return</span><span class="pp-pln"> callback(</span><span class="pp-kwd">${</span><span class="pp-expr">varName</span><span class="pp-kwd">}</span><span class="pp-pln">)</span></div></pre>
                    </div>
                </div>
                <div class="code-panel" id="d117">
                    <div class="modal-view-container">
                        <h4 class="d-h2">/src/ittf/t/error.js.ittf</h4>
                        <pre class="prettyprint">

<div class="L1"><span class="pp-ln">   1 </span><span class="pp-pln"></span><span class="pp-kwd">$group</span></div><div class="L2"><span class="pp-ln">   2 </span><span class="pp-pln">    </span><span class="pp-kwd">$params</span><span class="pp-pln"> name, arg1|@@null, arg2|@@null, arg3|@@null, arg4|@@null</span></div><div class="L3"><span class="pp-ln">   3 </span><span class="pp-pln">    </span><span class="pp-tag">function</span><span class="pp-kwd"> ${</span><span class="pp-expr">name</span><span class="pp-kwd">}</span><span class="pp-pln">Error</span></div><div class="L4"><span class="pp-ln">   4 </span><span class="pp-pln">        </span><span class="pp-kwd">$if</span><span class="pp-expr"> arg1 != null</span></div><div class="L5"><span class="pp-ln">   5 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-kwd"> ${</span><span class="pp-expr">arg1</span><span class="pp-kwd">}</span></div><div class="L6"><span class="pp-ln">   6 </span><span class="pp-pln">        </span><span class="pp-kwd">$if</span><span class="pp-expr"> arg2 != null</span></div><div class="L7"><span class="pp-ln">   7 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-kwd"> ${</span><span class="pp-expr">arg2</span><span class="pp-kwd">}</span></div><div class="L8"><span class="pp-ln">   8 </span><span class="pp-pln">        </span><span class="pp-kwd">$if</span><span class="pp-expr"> arg3 != null</span></div><div class="L9"><span class="pp-ln">   9 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-kwd"> ${</span><span class="pp-expr">arg3</span><span class="pp-kwd">}</span></div><div class="L0"><span class="pp-ln">  10 </span><span class="pp-pln">        </span><span class="pp-kwd">$if</span><span class="pp-expr"> arg4 != null</span></div><div class="L1"><span class="pp-ln">  11 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-kwd"> ${</span><span class="pp-expr">arg4</span><span class="pp-kwd">}</span></div><div class="L2"><span class="pp-ln">  12 </span><span class="pp-pln">        </span><span class="pp-tag">set</span><span class="pp-pln"> this.name = '</span><span class="pp-kwd">${</span><span class="pp-expr">name</span><span class="pp-kwd">}</span><span class="pp-pln">Error'</span></div><div class="L3"><span class="pp-ln">  13 </span><span class="pp-pln">        </span><span class="pp-kwd">$hook</span></div><div class="L4"><span class="pp-ln">  14 </span><span class="pp-pln">        </span><span class="pp-tag">set</span><span class="pp-pln"> this.stack = (new Error()).stack</span></div><div class="L5"><span class="pp-ln">  15 </span><span class="pp-pln">    </span><span class="pp-tag">set</span><span class="pp-kwd"> ${</span><span class="pp-expr">name</span><span class="pp-kwd">}</span><span class="pp-pln">Error.prototype.toString</span></div><div class="L6"><span class="pp-ln">  16 </span><span class="pp-pln">        </span><span class="pp-tag">function</span></div><div class="L7"><span class="pp-ln">  17 </span><span class="pp-pln">            </span><span class="pp-tag">return</span><span class="pp-pln"> this.message</span></div><div class="L8"><span class="pp-ln">  18 </span><span class="pp-pln">    </span><span class="pp-tag">set</span><span class="pp-kwd"> ${</span><span class="pp-expr">name</span><span class="pp-kwd">}</span><span class="pp-pln">Error.prototype = Object.create(Error.prototype)</span></div><div class="L9"><span class="pp-ln">  19 </span><span class="pp-pln">    </span><span class="pp-tag">set</span><span class="pp-kwd"> ${</span><span class="pp-expr">name</span><span class="pp-kwd">}</span><span class="pp-pln">Error.prototype.constructor = </span><span class="pp-kwd">${</span><span class="pp-expr">name</span><span class="pp-kwd">}</span><span class="pp-pln">Error</span></div><div class="L0"><span class="pp-ln">  20 </span><span class="pp-pln">    </span><span class="pp-tag">set</span><span class="pp-pln"> md.</span><span class="pp-kwd">${</span><span class="pp-expr">name</span><span class="pp-kwd">}</span><span class="pp-pln">Error = </span><span class="pp-kwd">${</span><span class="pp-expr">name</span><span class="pp-kwd">}</span><span class="pp-pln">Error</span></div><div class="L1"><span class="pp-ln">  21 </span><span class="pp-pln">    </span><span class="pp-tag">+</span></div></pre>
                    </div>
                </div>
                <div class="code-panel" id="d118">
                    <div class="modal-view-container">
                        <h4 class="d-h2">/src/ittf/t/f_cb_no_err.js.ittf</h4>
                        <pre class="prettyprint">

<div class="L1"><span class="pp-ln">   1 </span><span class="pp-pln"></span><span class="pp-kwd">$group</span></div><div class="L2"><span class="pp-ln">   2 </span><span class="pp-pln">    </span><span class="pp-kwd">$params</span><span class="pp-pln"> result|notUsed</span></div><div class="L3"><span class="pp-ln">   3 </span><span class="pp-pln">    </span><span class="pp-tag">function</span></div><div class="L4"><span class="pp-ln">   4 </span><span class="pp-pln">        </span><span class="pp-tag">param</span><span class="pp-pln"> err</span></div><div class="L5"><span class="pp-ln">   5 </span><span class="pp-pln">        </span><span class="pp-tag">param</span><span class="pp-kwd"> ${</span><span class="pp-expr">result</span><span class="pp-kwd">}</span></div><div class="L6"><span class="pp-ln">   6 </span><span class="pp-pln">        </span><span class="pp-kwd">$hook</span></div></pre>
                    </div>
                </div>
                <div class="code-panel" id="d119">
                    <div class="modal-view-container">
                        <h4 class="d-h2">/src/ittf/t/f_cb_test.js.ittf</h4>
                        <pre class="prettyprint">

<div class="L1"><span class="pp-ln">   1 </span><span class="pp-pln"></span><span class="pp-kwd">$group</span></div><div class="L2"><span class="pp-ln">   2 </span><span class="pp-pln">    </span><span class="pp-kwd">$params</span><span class="pp-pln"> result|notUsed</span></div><div class="L3"><span class="pp-ln">   3 </span><span class="pp-pln">    </span><span class="pp-tag">function</span></div><div class="L4"><span class="pp-ln">   4 </span><span class="pp-pln">        </span><span class="pp-tag">param</span><span class="pp-pln"> err</span></div><div class="L5"><span class="pp-ln">   5 </span><span class="pp-pln">        </span><span class="pp-tag">param</span><span class="pp-kwd"> ${</span><span class="pp-expr">result</span><span class="pp-kwd">}</span></div><div class="L6"><span class="pp-ln">   6 </span><span class="pp-pln">        </span><span class="pp-tag">if</span><span class="pp-pln"> err</span></div><div class="L7"><span class="pp-ln">   7 </span><span class="pp-pln">            </span><span class="pp-tag">log</span><span class="pp-pln"> 'err', err</span></div><div class="L8"><span class="pp-ln">   8 </span><span class="pp-pln">            </span><span class="pp-tag">throw</span><span class="pp-pln"> new Error(err.message)</span></div><div class="L9"><span class="pp-ln">   9 </span><span class="pp-pln">        </span><span class="pp-kwd">$hook</span></div></pre>
                    </div>
                </div>
                <div class="code-panel" id="d120">
                    <div class="modal-view-container">
                        <h4 class="d-h2">/src/ittf/t/f_cb_throw.js.ittf</h4>
                        <pre class="prettyprint">

<div class="L1"><span class="pp-ln">   1 </span><span class="pp-pln"></span><span class="pp-kwd">$group</span></div><div class="L2"><span class="pp-ln">   2 </span><span class="pp-pln">    </span><span class="pp-kwd">$params</span><span class="pp-pln"> result|notUsed</span></div><div class="L3"><span class="pp-ln">   3 </span><span class="pp-pln">    </span><span class="pp-tag">function</span></div><div class="L4"><span class="pp-ln">   4 </span><span class="pp-pln">        </span><span class="pp-tag">param</span><span class="pp-pln"> err</span></div><div class="L5"><span class="pp-ln">   5 </span><span class="pp-pln">        </span><span class="pp-tag">param</span><span class="pp-kwd"> ${</span><span class="pp-expr">result</span><span class="pp-kwd">}</span></div><div class="L6"><span class="pp-ln">   6 </span><span class="pp-pln">        </span><span class="pp-tag">if</span><span class="pp-pln"> err</span></div><div class="L7"><span class="pp-ln">   7 </span><span class="pp-pln">            </span><span class="pp-tag">log</span><span class="pp-pln"> 'err', err</span></div><div class="L8"><span class="pp-ln">   8 </span><span class="pp-pln">            </span><span class="pp-tag">throw</span><span class="pp-pln"> new Error(err.message)</span></div><div class="L9"><span class="pp-ln">   9 </span><span class="pp-pln">        </span><span class="pp-kwd">$hook</span></div></pre>
                    </div>
                </div>
                <div class="code-panel" id="d121">
                    <div class="modal-view-container">
                        <h4 class="d-h2">/src/ittf/t/f_cb.js.ittf</h4>
                        <pre class="prettyprint">

<div class="L1"><span class="pp-ln">   1 </span><span class="pp-pln"></span><span class="pp-kwd">$group</span></div><div class="L2"><span class="pp-ln">   2 </span><span class="pp-pln">    </span><span class="pp-kwd">$params</span><span class="pp-pln"> result|notUsed</span></div><div class="L3"><span class="pp-ln">   3 </span><span class="pp-pln">    </span><span class="pp-tag">function</span></div><div class="L4"><span class="pp-ln">   4 </span><span class="pp-pln">        </span><span class="pp-tag">param</span><span class="pp-pln"> err</span></div><div class="L5"><span class="pp-ln">   5 </span><span class="pp-pln">        </span><span class="pp-tag">param</span><span class="pp-kwd"> ${</span><span class="pp-expr">result</span><span class="pp-kwd">}</span></div><div class="L6"><span class="pp-ln">   6 </span><span class="pp-pln">        </span><span class="pp-tag">if</span><span class="pp-pln"> err</span></div><div class="L7"><span class="pp-ln">   7 </span><span class="pp-pln">            </span><span class="pp-tag">return</span></div><div class="L8"><span class="pp-ln">   8 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> callback</span></div><div class="L9"><span class="pp-ln">   9 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> err</span></div><div class="L0"><span class="pp-ln">  10 </span><span class="pp-pln">        </span><span class="pp-kwd">$hook</span></div></pre>
                    </div>
                </div>
                <div class="code-panel" id="d122">
                    <div class="modal-view-container">
                        <h4 class="d-h2">/src/ittf/t/r_cb_error.js.ittf</h4>
                        <pre class="prettyprint">

<div class="L1"><span class="pp-ln">   1 </span><span class="pp-pln"></span><span class="pp-kwd">$group</span></div><div class="L2"><span class="pp-ln">   2 </span><span class="pp-pln">    </span><span class="pp-tag">return</span></div><div class="L3"><span class="pp-ln">   3 </span><span class="pp-pln">        </span><span class="pp-tag">_</span><span class="pp-pln"> callback</span></div><div class="L4"><span class="pp-ln">   4 </span><span class="pp-pln">            </span><span class="pp-tag">_</span><span class="pp-pln"> this.error</span></div><div class="L5"><span class="pp-ln">   5 </span><span class="pp-pln">                </span><span class="pp-kwd">$hook</span></div></pre>
                    </div>
                </div>
                <div class="code-panel" id="d123">
                    <div class="modal-view-container">
                        <h4 class="d-h2">/src/ittf/t/r_cb_wz_err.js.ittf</h4>
                        <pre class="prettyprint">

<div class="L1"><span class="pp-ln">   1 </span><span class="pp-pln"></span><span class="pp-kwd">$group</span></div><div class="L2"><span class="pp-ln">   2 </span><span class="pp-pln">    </span><span class="pp-kwd">$params</span><span class="pp-pln"> errorCode, method, inner|@@null</span></div><div class="L3"><span class="pp-ln">   3 </span><span class="pp-pln">    </span><span class="pp-tag">return</span></div><div class="L4"><span class="pp-ln">   4 </span><span class="pp-pln">        </span><span class="pp-tag">_</span><span class="pp-pln"> callback</span></div><div class="L5"><span class="pp-ln">   5 </span><span class="pp-pln">            </span><span class="pp-tag">_</span><span class="pp-pln"> error</span></div><div class="L6"><span class="pp-ln">   6 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> '</span><span class="pp-kwd">${</span><span class="pp-expr">errorCode</span><span class="pp-kwd">}</span><span class="pp-pln">'</span></div><div class="L7"><span class="pp-ln">   7 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> '</span><span class="pp-kwd">${</span><span class="pp-expr">method</span><span class="pp-kwd">}</span><span class="pp-pln">'</span></div><div class="L8"><span class="pp-ln">   8 </span><span class="pp-pln">                </span><span class="pp-kwd">$hook</span></div><div class="L9"><span class="pp-ln">   9 </span><span class="pp-pln">                </span><span class="pp-kwd">$if</span><span class="pp-expr"> inner != null</span></div><div class="L0"><span class="pp-ln">  10 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-kwd"> ${</span><span class="pp-expr">inner</span><span class="pp-kwd">}</span></div></pre>
                    </div>
                </div>
                <div class="code-panel" id="d124">
                    <div class="modal-view-container">
                        <h4 class="d-h2">/src/ittf/t/r_cb.js.ittf</h4>
                        <pre class="prettyprint">

<div class="L1"><span class="pp-ln">   1 </span><span class="pp-pln"></span><span class="pp-kwd">$group</span></div><div class="L2"><span class="pp-ln">   2 </span><span class="pp-pln">    </span><span class="pp-kwd">$params</span><span class="pp-pln"> result|@@null</span></div><div class="L3"><span class="pp-ln">   3 </span><span class="pp-pln">    </span><span class="pp-tag">return</span></div><div class="L4"><span class="pp-ln">   4 </span><span class="pp-pln">        </span><span class="pp-tag">_</span><span class="pp-pln"> callback</span></div><div class="L5"><span class="pp-ln">   5 </span><span class="pp-pln">            </span><span class="pp-tag">@</span><span class="pp-pln"> null</span></div><div class="L6"><span class="pp-ln">   6 </span><span class="pp-pln">            </span><span class="pp-kwd">$if</span><span class="pp-expr"> result !== null</span></div><div class="L7"><span class="pp-ln">   7 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-kwd"> ${</span><span class="pp-expr">result</span><span class="pp-kwd">}</span></div><div class="L8"><span class="pp-ln">   8 </span><span class="pp-pln">            </span><span class="pp-kwd">$hook</span></div></pre>
                    </div>
                </div>
                <div class="code-panel" id="d125">
                    <div class="modal-view-container">
                        <h4 class="d-h2">/src/ittf/t/r_wz_err.js.ittf</h4>
                        <pre class="prettyprint">

<div class="L1"><span class="pp-ln">   1 </span><span class="pp-pln"></span><span class="pp-kwd">$group</span></div><div class="L2"><span class="pp-ln">   2 </span><span class="pp-pln">    </span><span class="pp-kwd">$params</span><span class="pp-pln"> errorCode, method, inner|@@null</span></div><div class="L3"><span class="pp-ln">   3 </span><span class="pp-pln">    </span><span class="pp-tag">return</span></div><div class="L4"><span class="pp-ln">   4 </span><span class="pp-pln">        </span><span class="pp-tag">_</span><span class="pp-pln"> error</span></div><div class="L5"><span class="pp-ln">   5 </span><span class="pp-pln">            </span><span class="pp-tag">@</span><span class="pp-pln"> '</span><span class="pp-kwd">${</span><span class="pp-expr">errorCode</span><span class="pp-kwd">}</span><span class="pp-pln">'</span></div><div class="L6"><span class="pp-ln">   6 </span><span class="pp-pln">            </span><span class="pp-tag">@</span><span class="pp-pln"> '</span><span class="pp-kwd">${</span><span class="pp-expr">method</span><span class="pp-kwd">}</span><span class="pp-pln">'</span></div><div class="L7"><span class="pp-ln">   7 </span><span class="pp-pln">            </span><span class="pp-kwd">$hook</span></div><div class="L8"><span class="pp-ln">   8 </span><span class="pp-pln">            </span><span class="pp-kwd">$if</span><span class="pp-expr"> inner != null</span></div><div class="L9"><span class="pp-ln">   9 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-kwd"> ${</span><span class="pp-expr">inner</span><span class="pp-kwd">}</span></div></pre>
                    </div>
                </div>
                <div class="code-panel" id="d126">
                    <div class="modal-view-container">
                        <h4 class="d-h2">/src/ittf/t/var_cb_error.js.ittf</h4>
                        <pre class="prettyprint">

<div class="L1"><span class="pp-ln">   1 </span><span class="pp-pln"></span><span class="pp-kwd">$group</span></div><div class="L2"><span class="pp-ln">   2 </span><span class="pp-pln">    </span><span class="pp-kwd">$params</span><span class="pp-pln"> errorName</span></div><div class="L3"><span class="pp-ln">   3 </span><span class="pp-pln">    </span><span class="pp-tag">var</span><span class="pp-pln"> error</span></div><div class="L4"><span class="pp-ln">   4 </span><span class="pp-pln">        </span><span class="pp-tag">new</span><span class="pp-pln"> errors.</span><span class="pp-kwd">${</span><span class="pp-expr">errorName</span><span class="pp-kwd">}</span><span class="pp-pln">Error</span></div><div class="L5"><span class="pp-ln">   5 </span><span class="pp-pln">            </span><span class="pp-kwd">$hook</span></div><div class="L6"><span class="pp-ln">   6 </span><span class="pp-pln">    </span><span class="pp-tag">return</span></div><div class="L7"><span class="pp-ln">   7 </span><span class="pp-pln">        </span><span class="pp-tag">_</span><span class="pp-pln"> callback</span></div><div class="L8"><span class="pp-ln">   8 </span><span class="pp-pln">            </span><span class="pp-tag">@</span><span class="pp-pln"> error</span></div></pre>
                    </div>
                </div>
                <div class="code-panel" id="d127">
                    <div class="modal-view-container">
                        <h4 class="d-h2">/src/ittf/t/var_error.js.ittf</h4>
                        <pre class="prettyprint">

<div class="L1"><span class="pp-ln">   1 </span><span class="pp-pln"></span><span class="pp-kwd">$group</span></div><div class="L2"><span class="pp-ln">   2 </span><span class="pp-pln">    </span><span class="pp-kwd">$params</span><span class="pp-pln"> errorName</span></div><div class="L3"><span class="pp-ln">   3 </span><span class="pp-pln">    </span><span class="pp-tag">var</span><span class="pp-pln"> error</span></div><div class="L4"><span class="pp-ln">   4 </span><span class="pp-pln">        </span><span class="pp-tag">new</span><span class="pp-pln"> errors.</span><span class="pp-kwd">${</span><span class="pp-expr">errorName</span><span class="pp-kwd">}</span><span class="pp-pln">Error</span></div><div class="L5"><span class="pp-ln">   5 </span><span class="pp-pln">            </span><span class="pp-kwd">$hook</span></div></pre>
                    </div>
                </div>
                <div class="code-panel" id="d128">
                    <div class="modal-view-container">
                        <h4 class="d-h2">/src/ittf/t/wzerror.js.ittf</h4>
                        <pre class="prettyprint">

<div class="L1"><span class="pp-ln">   1 </span><span class="pp-pln"></span><span class="pp-kwd">$group</span></div><div class="L2"><span class="pp-ln">   2 </span><span class="pp-pln">    </span><span class="pp-kwd">$params</span><span class="pp-pln"> module</span></div><div class="L3"><span class="pp-ln">   3 </span><span class="pp-pln">    </span><span class="pp-tag">function</span><span class="pp-pln"> error</span></div><div class="L4"><span class="pp-ln">   4 </span><span class="pp-pln">        </span><span class="pp-tag">param</span><span class="pp-pln"> code</span></div><div class="L5"><span class="pp-ln">   5 </span><span class="pp-pln">        </span><span class="pp-tag">param</span><span class="pp-pln"> method</span></div><div class="L6"><span class="pp-ln">   6 </span><span class="pp-pln">        </span><span class="pp-tag">param</span><span class="pp-pln"> message</span></div><div class="L7"><span class="pp-ln">   7 </span><span class="pp-pln">        </span><span class="pp-tag">param</span><span class="pp-pln"> innerError</span></div><div class="L8"><span class="pp-ln">   8 </span><span class="pp-pln">        </span><span class="pp-tag">var</span><span class="pp-pln"> parameter = null</span></div><div class="L9"><span class="pp-ln">   9 </span><span class="pp-pln">        </span><span class="pp-tag">if</span><span class="pp-pln"> verify.isObject(message)</span></div><div class="L0"><span class="pp-ln">  10 </span><span class="pp-pln">            </span><span class="pp-tag">set</span><span class="pp-pln"> parameter = message.parameter</span></div><div class="L1"><span class="pp-ln">  11 </span><span class="pp-pln">            </span><span class="pp-tag">set</span><span class="pp-pln"> message = message.message</span></div><div class="L2"><span class="pp-ln">  12 </span><span class="pp-pln">        </span><span class="pp-tag">set</span><span class="pp-pln"> innerError = innerError || new Error('Error created for trace.')</span></div><div class="L3"><span class="pp-ln">  13 </span><span class="pp-pln">        </span><span class="pp-tag">return</span></div><div class="L4"><span class="pp-ln">  14 </span><span class="pp-pln">            </span><span class="pp-tag">_</span><span class="pp-pln"> verify.error</span></div><div class="L5"><span class="pp-ln">  15 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> innerError</span></div><div class="L6"><span class="pp-ln">  16 </span><span class="pp-pln">                </span><span class="pp-tag">{</span></div><div class="L7"><span class="pp-ln">  17 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> name verify.isNumber(code) ? 'Err-' + code : code</span></div><div class="L8"><span class="pp-ln">  18 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> method '</span><span class="pp-kwd">${</span><span class="pp-expr">module</span><span class="pp-kwd">}</span><span class="pp-pln">.' + method</span></div><div class="L9"><span class="pp-ln">  19 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> parameter parameter</span></div><div class="L0"><span class="pp-ln">  20 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> sourcePath __filename</span></div><div class="L1"><span class="pp-ln">  21 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> message || 'Error message unavailable'</span></div></pre>
                    </div>
                </div>
                <div class="code-panel" id="d129">
                    <div class="modal-view-container">
                        <h4 class="d-h2">/src/ittf/tests/ittfFsNode/ittfFsNode.js.ittf</h4>
                        <pre class="prettyprint">

<div class="L1"><span class="pp-ln">   1 </span><span class="pp-pln"></span><span class="pp-mix frag-to-link-a" data-frag-id="d140">base_test(</span><span class="pp-arg"> ittFsNode </span><span class="pp-mix">)</span></div><div class="L2"><span class="pp-ln">   2 </span><span class="pp-pln">    </span><span class="pp-kwd">$append</span><span class="pp-pln"> imports</span></div><div class="L3"><span class="pp-ln">   3 </span><span class="pp-pln">        </span><span class="pp-tag">var</span><span class="pp-pln"> ittfMTreeEx = require('../../lib/ittfTree/ittfMTreeEx')</span></div><div class="L4"><span class="pp-ln">   4 </span><span class="pp-pln">        </span><span class="pp-tag">var</span><span class="pp-pln"> ittfFsNode = require('../../lib/scanners/ittfFsNode')</span></div><div class="L5"><span class="pp-ln">   5 </span><span class="pp-pln">        </span><span class="pp-tag">+</span></div><div class="L6"><span class="pp-ln">   6 </span><span class="pp-pln">        </span><span class="pp-tag">var</span><span class="pp-pln"> root</span></div><div class="L7"><span class="pp-ln">   7 </span><span class="pp-pln">    </span><span class="pp-tag">+</span></div><div class="L8"><span class="pp-ln">   8 </span><span class="pp-pln">    </span><span class="pp-tag">it</span><span class="pp-pln"> should add a document</span></div><div class="L9"><span class="pp-ln">   9 </span><span class="pp-pln">        </span><span class="pp-tag">set</span><span class="pp-pln"> root = new ittfFsNode('root', null, true)</span></div><div class="L0"><span class="pp-ln">  10 </span><span class="pp-pln">        </span><span class="pp-tag">#</span><span class="pp-pln"> log 'root', root</span></div><div class="L1"><span class="pp-ln">  11 </span><span class="pp-pln">        </span><span class="pp-tag">var</span><span class="pp-pln"> added</span></div><div class="L2"><span class="pp-ln">  12 </span><span class="pp-pln">            </span><span class="pp-tag">_</span><span class="pp-pln"> root.addDocument('root/readme.md.ittf')</span></div><div class="L3"><span class="pp-ln">  13 </span><span class="pp-pln">        </span><span class="pp-tag">#</span><span class="pp-pln"> log 'root', root</span></div><div class="L4"><span class="pp-ln">  14 </span><span class="pp-pln">        </span><span class="pp-mix frag-to-link-a" data-frag-id="d154">tobe_true(</span><span class="pp-arg"> added</span><span class="pp-mix">)</span></div><div class="L5"><span class="pp-ln">  15 </span><span class="pp-pln">        </span><span class="pp-mix frag-to-link-a" data-frag-id="d146">tobe_array(</span><span class="pp-arg"> root.folders</span><span class="pp-pln">,</span><span class="pp-arg">  0</span><span class="pp-mix">)</span></div><div class="L6"><span class="pp-ln">  16 </span><span class="pp-pln">        </span><span class="pp-mix frag-to-link-a" data-frag-id="d146">tobe_array(</span><span class="pp-arg"> root.documents</span><span class="pp-pln">,</span><span class="pp-arg">  1</span><span class="pp-mix">)</span></div><div class="L7"><span class="pp-ln">  17 </span><span class="pp-pln">        </span><span class="pp-mix frag-to-link-a" data-frag-id="d153">tobe_string(</span><span class="pp-arg"> root.documents[0].schema</span><span class="pp-pln">,</span><span class="pp-arg">  md</span><span class="pp-mix">)</span></div><div class="L8"><span class="pp-ln">  18 </span><span class="pp-pln">        </span><span class="pp-mix frag-to-link-a" data-frag-id="d148">tobe_false(</span><span class="pp-arg"> root.documents[0].isFragment</span><span class="pp-mix">)</span></div><div class="L9"><span class="pp-ln">  19 </span><span class="pp-pln">        </span><span class="pp-mix frag-to-link-a" data-frag-id="d153">tobe_string(</span><span class="pp-arg"> root.documents[0].path</span><span class="pp-pln">,</span><span class="pp-arg">  root/readme.md.ittf</span><span class="pp-mix">)</span></div><div class="L0"><span class="pp-ln">  20 </span><span class="pp-pln">        </span><span class="pp-mix frag-to-link-a" data-frag-id="d153">tobe_string(</span><span class="pp-arg"> root.documents[0].dirname</span><span class="pp-pln">,</span><span class="pp-arg">  root</span><span class="pp-mix">)</span></div><div class="L1"><span class="pp-ln">  21 </span><span class="pp-pln">        </span><span class="pp-mix frag-to-link-a" data-frag-id="d153">tobe_string(</span><span class="pp-arg"> root.documents[0].basename</span><span class="pp-pln">,</span><span class="pp-arg">  readme.md.ittf</span><span class="pp-mix">)</span></div><div class="L2"><span class="pp-ln">  22 </span><span class="pp-pln">    </span><span class="pp-tag">it</span><span class="pp-pln"> should add a document fragment</span></div><div class="L3"><span class="pp-ln">  23 </span><span class="pp-pln">        </span><span class="pp-tag">var</span><span class="pp-pln"> added</span></div><div class="L4"><span class="pp-ln">  24 </span><span class="pp-pln">            </span><span class="pp-tag">_</span><span class="pp-pln"> root.addDocument('root/t/title.md.ittf')</span></div><div class="L5"><span class="pp-ln">  25 </span><span class="pp-pln">        </span><span class="pp-tag">#</span><span class="pp-pln"> log 'root', root</span></div><div class="L6"><span class="pp-ln">  26 </span><span class="pp-pln">        </span><span class="pp-mix frag-to-link-a" data-frag-id="d154">tobe_true(</span><span class="pp-arg"> added</span><span class="pp-mix">)</span></div><div class="L7"><span class="pp-ln">  27 </span><span class="pp-pln">        </span><span class="pp-mix frag-to-link-a" data-frag-id="d146">tobe_array(</span><span class="pp-arg"> root.folders</span><span class="pp-pln">,</span><span class="pp-arg">  1</span><span class="pp-mix">)</span></div><div class="L8"><span class="pp-ln">  28 </span><span class="pp-pln">        </span><span class="pp-mix frag-to-link-a" data-frag-id="d146">tobe_array(</span><span class="pp-arg"> root.documents</span><span class="pp-pln">,</span><span class="pp-arg">  1</span><span class="pp-mix">)</span></div><div class="L9"><span class="pp-ln">  29 </span><span class="pp-pln">        </span><span class="pp-mix frag-to-link-a" data-frag-id="d154">tobe_true(</span><span class="pp-arg"> root.folders[0].isTFolder</span><span class="pp-mix">)</span></div><div class="L0"><span class="pp-ln">  30 </span><span class="pp-pln">        </span><span class="pp-mix frag-to-link-a" data-frag-id="d153">tobe_string(</span><span class="pp-arg"> root.folders[0].basename</span><span class="pp-pln">,</span><span class="pp-arg">  t</span><span class="pp-mix">)</span></div><div class="L1"><span class="pp-ln">  31 </span><span class="pp-pln">        </span><span class="pp-mix frag-to-link-a" data-frag-id="d146">tobe_array(</span><span class="pp-arg"> root.folders[0].documents</span><span class="pp-pln">,</span><span class="pp-arg">  1</span><span class="pp-mix">)</span></div><div class="L2"><span class="pp-ln">  32 </span><span class="pp-pln">        </span><span class="pp-mix frag-to-link-a" data-frag-id="d153">tobe_string(</span><span class="pp-arg"> root.folders[0].documents[0].basename</span><span class="pp-pln">,</span><span class="pp-arg">  title.md.ittf</span><span class="pp-mix">)</span></div><div class="L3"><span class="pp-ln">  33 </span><span class="pp-pln">        </span><span class="pp-mix frag-to-link-a" data-frag-id="d153">tobe_string(</span><span class="pp-arg"> root.folders[0].documents[0].dirname</span><span class="pp-pln">,</span><span class="pp-arg">  root/t</span><span class="pp-mix">)</span></div><div class="L4"><span class="pp-ln">  34 </span><span class="pp-pln">        </span><span class="pp-mix frag-to-link-a" data-frag-id="d153">tobe_string(</span><span class="pp-arg"> root.folders[0].documents[0].schema</span><span class="pp-pln">,</span><span class="pp-arg">  md</span><span class="pp-mix">)</span></div><div class="L5"><span class="pp-ln">  35 </span><span class="pp-pln">        </span><span class="pp-mix frag-to-link-a" data-frag-id="d154">tobe_true(</span><span class="pp-arg"> root.folders[0].documents[0].isFragment</span><span class="pp-mix">)</span></div><div class="L6"><span class="pp-ln">  36 </span><span class="pp-pln">    </span><span class="pp-tag">it</span><span class="pp-pln"> should check infos</span></div><div class="L7"><span class="pp-ln">  37 </span><span class="pp-pln">        </span><span class="pp-tag">_</span><span class="pp-pln"> root.setInfo()</span></div><div class="L8"><span class="pp-ln">  38 </span><span class="pp-pln">        </span><span class="pp-tag">#</span><span class="pp-pln"> log 'root', root</span></div><div class="L9"><span class="pp-ln">  39 </span><span class="pp-pln">        </span><span class="pp-mix frag-to-link-a" data-frag-id="d150">tobe_object_num(</span><span class="pp-arg"> root.info.schemas</span><span class="pp-pln">,</span><span class="pp-arg">  1</span><span class="pp-mix">)</span></div><div class="L0"><span class="pp-ln">  40 </span><span class="pp-pln">        </span><span class="pp-mix frag-to-link-a" data-frag-id="d153">tobe_string(</span><span class="pp-arg"> root.info.schemas['md'].name</span><span class="pp-pln">,</span><span class="pp-arg">  md</span><span class="pp-mix">)</span></div><div class="L1"><span class="pp-ln">  41 </span><span class="pp-pln">        </span><span class="pp-mix frag-to-link-a" data-frag-id="d146">tobe_array(</span><span class="pp-arg"> root.info.lib.documents</span><span class="pp-pln">,</span><span class="pp-arg">  1</span><span class="pp-mix">)</span></div><div class="L2"><span class="pp-ln">  42 </span><span class="pp-pln">    </span><span class="pp-tag">it-async</span><span class="pp-pln"> should write an ittf</span></div><div class="L3"><span class="pp-ln">  43 </span><span class="pp-pln">        </span><span class="pp-tag">var</span><span class="pp-pln"> ittf = new ittfMTreeEx('wzpackage')</span></div><div class="L4"><span class="pp-ln">  44 </span><span class="pp-pln">        </span><span class="pp-tag">_</span><span class="pp-pln"> root.toIttf(ittf)</span></div><div class="L5"><span class="pp-ln">  45 </span><span class="pp-pln">        </span><span class="pp-tag">_</span><span class="pp-pln"> ittf.writeFile</span></div><div class="L6"><span class="pp-ln">  46 </span><span class="pp-pln">            </span><span class="pp-tag">_</span><span class="pp-pln"> path.join</span></div><div class="L7"><span class="pp-ln">  47 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> __dirname</span></div><div class="L8"><span class="pp-ln">  48 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> 'outputs'</span></div><div class="L9"><span class="pp-ln">  49 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> 'test.wzpackage.ittf'</span></div><div class="L0"><span class="pp-ln">  50 </span><span class="pp-pln">            </span><span class="pp-mix frag-to-link-a" data-frag-id="d144">f_cb_test(</span><span class="pp-arg"> result </span><span class="pp-mix">)</span></div><div class="L1"><span class="pp-ln">  51 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> done()</span></div></pre>
                    </div>
                </div>
                <div class="code-panel" id="d130">
                    <div class="modal-view-container">
                        <h4 class="d-h2">/src/ittf/tests/ittfTree/ittf/basic.tests.ittf</h4>
                        <pre class="prettyprint">

<div class="L1"><span class="pp-ln">   1 </span><span class="pp-pln"></span><span class="pp-tag">alfa</span></div><div class="L2"><span class="pp-ln">   2 </span><span class="pp-pln">    </span><span class="pp-kwd">$$</span><span class="pp-pln"> beta</span></div><div class="L3"><span class="pp-ln">   3 </span><span class="pp-pln">    </span><span class="pp-tag">gamma</span></div><div class="L4"><span class="pp-ln">   4 </span><span class="pp-pln">        </span><span class="pp-kwd">$*</span></div><div class="L5"><span class="pp-ln">   5 </span><span class="pp-pln">            </span><span class="pp-tag">a</span></div><div class="L6"><span class="pp-ln">   6 </span><span class="pp-pln">            </span><span class="pp-tag">b</span></div><div class="L7"><span class="pp-ln">   7 </span><span class="pp-pln">            </span><span class="pp-tag">c</span><span class="pp-pln"> *</span></div></pre>
                    </div>
                </div>
                <div class="code-panel" id="d131">
                    <div class="modal-view-container">
                        <h4 class="d-h2">/src/ittf/tests/ittfTree/asisLoader.js.ittf</h4>
                        <pre class="prettyprint">

<div class="L1"><span class="pp-ln">   1 </span><span class="pp-pln"></span><span class="pp-mix frag-to-link-a" data-frag-id="d140">base_test(</span><span class="pp-arg"> asIsLoader </span><span class="pp-mix">)</span></div><div class="L2"><span class="pp-ln">   2 </span><span class="pp-pln">    </span><span class="pp-kwd">$append</span><span class="pp-pln"> imports</span></div><div class="L3"><span class="pp-ln">   3 </span><span class="pp-pln">        </span><span class="pp-tag">var</span><span class="pp-pln"> asIsLoader = require('../../lib/ittfTree/asIsLoader')</span></div><div class="L4"><span class="pp-ln">   4 </span><span class="pp-pln">    </span><span class="pp-tag">it-async</span><span class="pp-pln"> should load an ittf tree as is</span></div><div class="L5"><span class="pp-ln">   5 </span><span class="pp-pln">        </span><span class="pp-tag">_</span><span class="pp-pln"> asIsLoader</span></div><div class="L6"><span class="pp-ln">   6 </span><span class="pp-pln">            </span><span class="pp-tag">_</span><span class="pp-pln"> path.join</span></div><div class="L7"><span class="pp-ln">   7 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> __dirname</span></div><div class="L8"><span class="pp-ln">   8 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> 'ittf'</span></div><div class="L9"><span class="pp-ln">   9 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> 'basic.tests.ittf'</span></div><div class="L0"><span class="pp-ln">  10 </span><span class="pp-pln">            </span><span class="pp-tag">{</span></div><div class="L1"><span class="pp-ln">  11 </span><span class="pp-pln">            </span><span class="pp-mix frag-to-link-a" data-frag-id="d144">f_cb_test(</span><span class="pp-arg"> result </span><span class="pp-mix">)</span></div><div class="L2"><span class="pp-ln">  12 </span><span class="pp-pln">                </span><span class="pp-tag">#</span><span class="pp-pln"> log? result</span></div><div class="L3"><span class="pp-ln">  13 </span><span class="pp-pln">                </span><span class="pp-mix frag-to-link-a" data-frag-id="d151">tobe_object(</span><span class="pp-arg"> result </span><span class="pp-mix">)</span></div><div class="L4"><span class="pp-ln">  14 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> done()</span></div></pre>
                    </div>
                </div>
                <div class="code-panel" id="d132">
                    <div class="modal-view-container">
                        <h4 class="d-h2">/src/ittf/tests/ittfTree/ittfMTreeEx.js.ittf</h4>
                        <pre class="prettyprint">

<div class="L1"><span class="pp-ln">   1 </span><span class="pp-pln"></span><span class="pp-mix frag-to-link-a" data-frag-id="d140">base_test(</span><span class="pp-arg"> ittfMTreeEx </span><span class="pp-mix">)</span></div><div class="L2"><span class="pp-ln">   2 </span><span class="pp-pln">    </span><span class="pp-kwd">$append</span><span class="pp-pln"> imports</span></div><div class="L3"><span class="pp-ln">   3 </span><span class="pp-pln">        </span><span class="pp-tag">var</span><span class="pp-pln"> ittfMTreeEx = require('../../lib/ittfTree/ittfMTreeEx')</span></div><div class="L4"><span class="pp-ln">   4 </span><span class="pp-pln">    </span><span class="pp-tag">it-async</span><span class="pp-pln"> should load an ittf document, as is, into an IttfModelEx instance class</span></div><div class="L5"><span class="pp-ln">   5 </span><span class="pp-pln">        </span><span class="pp-tag">_</span><span class="pp-pln"> ittfMTreeEx.createFrom</span></div><div class="L6"><span class="pp-ln">   6 </span><span class="pp-pln">            </span><span class="pp-tag">_</span><span class="pp-pln"> path.join</span></div><div class="L7"><span class="pp-ln">   7 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> __dirname</span></div><div class="L8"><span class="pp-ln">   8 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> 'ittf'</span></div><div class="L9"><span class="pp-ln">   9 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> 'basic.tests.ittf'</span></div><div class="L0"><span class="pp-ln">  10 </span><span class="pp-pln">            </span><span class="pp-tag">{</span></div><div class="L1"><span class="pp-ln">  11 </span><span class="pp-pln">            </span><span class="pp-mix frag-to-link-a" data-frag-id="d144">f_cb_test(</span><span class="pp-arg"> result </span><span class="pp-mix">)</span></div><div class="L2"><span class="pp-ln">  12 </span><span class="pp-pln">                </span><span class="pp-tag">log?</span><span class="pp-pln"> result</span></div><div class="L3"><span class="pp-ln">  13 </span><span class="pp-pln">                </span><span class="pp-mix frag-to-link-a" data-frag-id="d151">tobe_object(</span><span class="pp-arg"> result </span><span class="pp-mix">)</span></div><div class="L4"><span class="pp-ln">  14 </span><span class="pp-pln">                </span><span class="pp-mix frag-to-link-a" data-frag-id="d153">tobe_string(</span><span class="pp-arg"> result.name</span><span class="pp-pln">,</span><span class="pp-arg">  alfa </span><span class="pp-mix">)</span></div><div class="L5"><span class="pp-ln">  15 </span><span class="pp-pln">                </span><span class="pp-mix frag-to-link-a" data-frag-id="d146">tobe_array(</span><span class="pp-arg"> result.children</span><span class="pp-pln">,</span><span class="pp-arg">  2 </span><span class="pp-mix">)</span></div><div class="L6"><span class="pp-ln">  16 </span><span class="pp-pln">                </span><span class="pp-mix frag-to-link-a" data-frag-id="d153">tobe_string(</span><span class="pp-arg"> result.children[0].name</span><span class="pp-pln">,</span><span class="pp-arg">  ${'$$'} </span><span class="pp-mix">)</span></div><div class="L7"><span class="pp-ln">  17 </span><span class="pp-pln">                </span><span class="pp-mix frag-to-link-a" data-frag-id="d153">tobe_string(</span><span class="pp-arg"> result.children[0].value</span><span class="pp-pln">,</span><span class="pp-arg">  beta </span><span class="pp-mix">)</span></div><div class="L8"><span class="pp-ln">  18 </span><span class="pp-pln">                </span><span class="pp-mix frag-to-link-a" data-frag-id="d153">tobe_string(</span><span class="pp-arg"> result.children[1].name</span><span class="pp-pln">,</span><span class="pp-arg">  gamma </span><span class="pp-mix">)</span></div><div class="L9"><span class="pp-ln">  19 </span><span class="pp-pln">                </span><span class="pp-mix frag-to-link-a" data-frag-id="d146">tobe_array(</span><span class="pp-arg"> result.children[1].children</span><span class="pp-pln">,</span><span class="pp-arg">  1 </span><span class="pp-mix">)</span></div><div class="L0"><span class="pp-ln">  20 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> done()</span></div><div class="L1"><span class="pp-ln">  21 </span><span class="pp-pln">    </span><span class="pp-tag">it-async</span><span class="pp-pln"> should load an evaluated mTree object into an IttfMOdelEx instance class</span></div><div class="L2"><span class="pp-ln">  22 </span><span class="pp-pln">        </span><span class="pp-tag">_</span><span class="pp-pln"> ittfMTreeEx.createFrom</span></div><div class="L3"><span class="pp-ln">  23 </span><span class="pp-pln">            </span><span class="pp-tag">{</span></div><div class="L4"><span class="pp-ln">  24 </span><span class="pp-pln">                </span><span class="pp-tag">[</span><span class="pp-pln"> nodes</span></div><div class="L5"><span class="pp-ln">  25 </span><span class="pp-pln">                    </span><span class="pp-tag">{</span></div><div class="L6"><span class="pp-ln">  26 </span><span class="pp-pln">                        </span><span class="pp-tag">@</span><span class="pp-pln"> n 'alfa'</span></div><div class="L7"><span class="pp-ln">  27 </span><span class="pp-pln">                        </span><span class="pp-tag">[</span><span class="pp-pln"> children</span></div><div class="L8"><span class="pp-ln">  28 </span><span class="pp-pln">                            </span><span class="pp-tag">{</span></div><div class="L9"><span class="pp-ln">  29 </span><span class="pp-pln">                                </span><span class="pp-tag">@</span><span class="pp-pln"> n '$$'</span></div><div class="L0"><span class="pp-ln">  30 </span><span class="pp-pln">                                </span><span class="pp-tag">@</span><span class="pp-pln"> v 'beta'</span></div><div class="L1"><span class="pp-ln">  31 </span><span class="pp-pln">                            </span><span class="pp-tag">{</span></div><div class="L2"><span class="pp-ln">  32 </span><span class="pp-pln">                                </span><span class="pp-tag">@</span><span class="pp-pln"> n 'gamma'</span></div><div class="L3"><span class="pp-ln">  33 </span><span class="pp-pln">                                </span><span class="pp-tag">[</span><span class="pp-pln"> children</span></div><div class="L4"><span class="pp-ln">  34 </span><span class="pp-pln">                                    </span><span class="pp-tag">{</span></div><div class="L5"><span class="pp-ln">  35 </span><span class="pp-pln">                                        </span><span class="pp-tag">@</span><span class="pp-pln"> n 'a'</span></div><div class="L6"><span class="pp-ln">  36 </span><span class="pp-pln">            </span><span class="pp-mix frag-to-link-a" data-frag-id="d144">f_cb_test(</span><span class="pp-arg"> result </span><span class="pp-mix">)</span></div><div class="L7"><span class="pp-ln">  37 </span><span class="pp-pln">                </span><span class="pp-tag">log?</span><span class="pp-pln"> result</span></div><div class="L8"><span class="pp-ln">  38 </span><span class="pp-pln">                </span><span class="pp-mix frag-to-link-a" data-frag-id="d151">tobe_object(</span><span class="pp-arg"> result </span><span class="pp-mix">)</span></div><div class="L9"><span class="pp-ln">  39 </span><span class="pp-pln">                </span><span class="pp-mix frag-to-link-a" data-frag-id="d153">tobe_string(</span><span class="pp-arg"> result.name</span><span class="pp-pln">,</span><span class="pp-arg">  alfa </span><span class="pp-mix">)</span></div><div class="L0"><span class="pp-ln">  40 </span><span class="pp-pln">                </span><span class="pp-mix frag-to-link-a" data-frag-id="d146">tobe_array(</span><span class="pp-arg"> result.children</span><span class="pp-pln">,</span><span class="pp-arg">  2 </span><span class="pp-mix">)</span></div><div class="L1"><span class="pp-ln">  41 </span><span class="pp-pln">                </span><span class="pp-mix frag-to-link-a" data-frag-id="d153">tobe_string(</span><span class="pp-arg"> result.children[0].name</span><span class="pp-pln">,</span><span class="pp-arg">  ${'$$'} </span><span class="pp-mix">)</span></div><div class="L2"><span class="pp-ln">  42 </span><span class="pp-pln">                </span><span class="pp-mix frag-to-link-a" data-frag-id="d153">tobe_string(</span><span class="pp-arg"> result.children[0].value</span><span class="pp-pln">,</span><span class="pp-arg">  beta </span><span class="pp-mix">)</span></div><div class="L3"><span class="pp-ln">  43 </span><span class="pp-pln">                </span><span class="pp-mix frag-to-link-a" data-frag-id="d153">tobe_string(</span><span class="pp-arg"> result.children[1].name</span><span class="pp-pln">,</span><span class="pp-arg">  gamma </span><span class="pp-mix">)</span></div><div class="L4"><span class="pp-ln">  44 </span><span class="pp-pln">                </span><span class="pp-mix frag-to-link-a" data-frag-id="d146">tobe_array(</span><span class="pp-arg"> result.children[1].children</span><span class="pp-pln">,</span><span class="pp-arg">  1 </span><span class="pp-mix">)</span></div><div class="L5"><span class="pp-ln">  45 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> done()</span></div><div class="L6"><span class="pp-ln">  46 </span><span class="pp-pln">    </span><span class="pp-tag">it-async</span><span class="pp-pln"> should load a tree structure of named-value nodes into an IttfMOdelEx instance class</span></div><div class="L7"><span class="pp-ln">  47 </span><span class="pp-pln">        </span><span class="pp-tag">_</span><span class="pp-pln"> ittfMTreeEx.createFrom</span></div><div class="L8"><span class="pp-ln">  48 </span><span class="pp-pln">            </span><span class="pp-tag">{</span></div><div class="L9"><span class="pp-ln">  49 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> name 'alfa'</span></div><div class="L0"><span class="pp-ln">  50 </span><span class="pp-pln">                </span><span class="pp-tag">[</span><span class="pp-pln"> children</span></div><div class="L1"><span class="pp-ln">  51 </span><span class="pp-pln">                    </span><span class="pp-tag">{</span></div><div class="L2"><span class="pp-ln">  52 </span><span class="pp-pln">                        </span><span class="pp-tag">@</span><span class="pp-pln"> name '$$'</span></div><div class="L3"><span class="pp-ln">  53 </span><span class="pp-pln">                        </span><span class="pp-tag">@</span><span class="pp-pln"> value 'beta'</span></div><div class="L4"><span class="pp-ln">  54 </span><span class="pp-pln">                    </span><span class="pp-tag">{</span></div><div class="L5"><span class="pp-ln">  55 </span><span class="pp-pln">                        </span><span class="pp-tag">@</span><span class="pp-pln"> name 'gamma'</span></div><div class="L6"><span class="pp-ln">  56 </span><span class="pp-pln">                        </span><span class="pp-tag">[</span><span class="pp-pln"> children</span></div><div class="L7"><span class="pp-ln">  57 </span><span class="pp-pln">                            </span><span class="pp-tag">{</span></div><div class="L8"><span class="pp-ln">  58 </span><span class="pp-pln">                                </span><span class="pp-tag">@</span><span class="pp-pln"> name 'a'</span></div><div class="L9"><span class="pp-ln">  59 </span><span class="pp-pln">            </span><span class="pp-mix frag-to-link-a" data-frag-id="d144">f_cb_test(</span><span class="pp-arg"> result </span><span class="pp-mix">)</span></div><div class="L0"><span class="pp-ln">  60 </span><span class="pp-pln">                </span><span class="pp-tag">log?</span><span class="pp-pln"> result</span></div><div class="L1"><span class="pp-ln">  61 </span><span class="pp-pln">                </span><span class="pp-mix frag-to-link-a" data-frag-id="d151">tobe_object(</span><span class="pp-arg"> result </span><span class="pp-mix">)</span></div><div class="L2"><span class="pp-ln">  62 </span><span class="pp-pln">                </span><span class="pp-mix frag-to-link-a" data-frag-id="d153">tobe_string(</span><span class="pp-arg"> result.name</span><span class="pp-pln">,</span><span class="pp-arg">  alfa </span><span class="pp-mix">)</span></div><div class="L3"><span class="pp-ln">  63 </span><span class="pp-pln">                </span><span class="pp-mix frag-to-link-a" data-frag-id="d146">tobe_array(</span><span class="pp-arg"> result.children</span><span class="pp-pln">,</span><span class="pp-arg">  2 </span><span class="pp-mix">)</span></div><div class="L4"><span class="pp-ln">  64 </span><span class="pp-pln">                </span><span class="pp-mix frag-to-link-a" data-frag-id="d153">tobe_string(</span><span class="pp-arg"> result.children[0].name</span><span class="pp-pln">,</span><span class="pp-arg">  ${'$$'} </span><span class="pp-mix">)</span></div><div class="L5"><span class="pp-ln">  65 </span><span class="pp-pln">                </span><span class="pp-mix frag-to-link-a" data-frag-id="d153">tobe_string(</span><span class="pp-arg"> result.children[0].value</span><span class="pp-pln">,</span><span class="pp-arg">  beta </span><span class="pp-mix">)</span></div><div class="L6"><span class="pp-ln">  66 </span><span class="pp-pln">                </span><span class="pp-mix frag-to-link-a" data-frag-id="d153">tobe_string(</span><span class="pp-arg"> result.children[1].name</span><span class="pp-pln">,</span><span class="pp-arg">  gamma </span><span class="pp-mix">)</span></div><div class="L7"><span class="pp-ln">  67 </span><span class="pp-pln">                </span><span class="pp-mix frag-to-link-a" data-frag-id="d146">tobe_array(</span><span class="pp-arg"> result.children[1].children</span><span class="pp-pln">,</span><span class="pp-arg">  1 </span><span class="pp-mix">)</span></div><div class="L8"><span class="pp-ln">  68 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> done()</span></div><div class="L9"><span class="pp-ln">  69 </span><span class="pp-pln">    </span><span class="pp-tag">it-async</span><span class="pp-pln"> should parse a node value containing an interpolation</span></div><div class="L0"><span class="pp-ln">  70 </span><span class="pp-pln">        </span><span class="pp-tag">_</span><span class="pp-pln"> ittfMTreeEx.createFrom</span></div><div class="L1"><span class="pp-ln">  71 </span><span class="pp-pln">            </span><span class="pp-tag">{</span></div><div class="L2"><span class="pp-ln">  72 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> name 'alfa'</span></div><div class="L3"><span class="pp-ln">  73 </span><span class="pp-pln">                </span><span class="pp-tag">[</span><span class="pp-pln"> children</span></div><div class="L4"><span class="pp-ln">  74 </span><span class="pp-pln">                    </span><span class="pp-tag">{</span></div><div class="L5"><span class="pp-ln">  75 </span><span class="pp-pln">                        </span><span class="pp-tag">@</span><span class="pp-pln"> name 'beta'</span></div><div class="L6"><span class="pp-ln">  76 </span><span class="pp-pln">                        </span><span class="pp-tag">@</span><span class="pp-pln"> value 'i am:</span><span class="pp-kwd">${</span><span class="pp-expr">'$'</span><span class="pp-kwd">}</span><span class="pp-pln">{name}.'</span></div><div class="L7"><span class="pp-ln">  77 </span><span class="pp-pln">            </span><span class="pp-mix frag-to-link-a" data-frag-id="d144">f_cb_test(</span><span class="pp-arg"> result </span><span class="pp-mix">)</span></div><div class="L8"><span class="pp-ln">  78 </span><span class="pp-pln">                </span><span class="pp-tag">log?</span><span class="pp-pln"> result</span></div><div class="L9"><span class="pp-ln">  79 </span><span class="pp-pln">                </span><span class="pp-mix frag-to-link-a" data-frag-id="d151">tobe_object(</span><span class="pp-arg"> result </span><span class="pp-mix">)</span></div><div class="L0"><span class="pp-ln">  80 </span><span class="pp-pln">                </span><span class="pp-mix frag-to-link-a" data-frag-id="d153">tobe_string(</span><span class="pp-arg"> result.name</span><span class="pp-pln">,</span><span class="pp-arg">  alfa </span><span class="pp-mix">)</span></div><div class="L1"><span class="pp-ln">  81 </span><span class="pp-pln">                </span><span class="pp-mix frag-to-link-a" data-frag-id="d146">tobe_array(</span><span class="pp-arg"> result.children</span><span class="pp-pln">,</span><span class="pp-arg">  1 </span><span class="pp-mix">)</span></div><div class="L2"><span class="pp-ln">  82 </span><span class="pp-pln">                </span><span class="pp-mix frag-to-link-a" data-frag-id="d153">tobe_string(</span><span class="pp-arg"> result.children[0].name</span><span class="pp-pln">,</span><span class="pp-arg">  beta</span><span class="pp-mix">)</span></div><div class="L3"><span class="pp-ln">  83 </span><span class="pp-pln">                </span><span class="pp-mix frag-to-link-a" data-frag-id="d146">tobe_array(</span><span class="pp-arg"> result.children[0].getValueParsed()</span><span class="pp-pln">,</span><span class="pp-arg">  3 </span><span class="pp-mix">)</span></div><div class="L4"><span class="pp-ln">  84 </span><span class="pp-pln">                </span><span class="pp-mix frag-to-link-a" data-frag-id="d149">tobe_number(</span><span class="pp-arg"> result.children[0].getValueParsed()[0].t</span><span class="pp-pln">,</span><span class="pp-arg">  0 </span><span class="pp-mix">)</span></div><div class="L5"><span class="pp-ln">  85 </span><span class="pp-pln">                </span><span class="pp-mix frag-to-link-a" data-frag-id="d153">tobe_string(</span><span class="pp-arg"> result.children[0].getValueParsed()[0].v</span><span class="pp-pln">,</span><span class="pp-arg">  i am: </span><span class="pp-mix">)</span></div><div class="L6"><span class="pp-ln">  86 </span><span class="pp-pln">                </span><span class="pp-mix frag-to-link-a" data-frag-id="d149">tobe_number(</span><span class="pp-arg"> result.children[0].getValueParsed()[1].t</span><span class="pp-pln">,</span><span class="pp-arg">  1 </span><span class="pp-mix">)</span></div><div class="L7"><span class="pp-ln">  87 </span><span class="pp-pln">                </span><span class="pp-mix frag-to-link-a" data-frag-id="d153">tobe_string(</span><span class="pp-arg"> result.children[0].getValueParsed()[1].v</span><span class="pp-pln">,</span><span class="pp-arg">  name </span><span class="pp-mix">)</span></div><div class="L8"><span class="pp-ln">  88 </span><span class="pp-pln">                </span><span class="pp-mix frag-to-link-a" data-frag-id="d149">tobe_number(</span><span class="pp-arg"> result.children[0].getValueParsed()[2].t</span><span class="pp-pln">,</span><span class="pp-arg">  0 </span><span class="pp-mix">)</span></div><div class="L9"><span class="pp-ln">  89 </span><span class="pp-pln">                </span><span class="pp-mix frag-to-link-a" data-frag-id="d153">tobe_string(</span><span class="pp-arg"> result.children[0].getValueParsed()[2].v</span><span class="pp-pln">,</span><span class="pp-arg">  . </span><span class="pp-mix">)</span></div><div class="L0"><span class="pp-ln">  90 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> done()</span></div></pre>
                    </div>
                </div>
                <div class="code-panel" id="d133">
                    <div class="modal-view-container">
                        <h4 class="d-h2">/src/ittf/tests/prettifiers/ittf/basic.tests.ittf</h4>
                        <pre class="prettyprint">

<div class="L1"><span class="pp-ln">   1 </span><span class="pp-pln"></span><span class="pp-tag">alfa</span></div><div class="L2"><span class="pp-ln">   2 </span><span class="pp-pln">    </span><span class="pp-tag">tau</span><span class="pp-pln"> aa</span><span class="pp-kwd">${</span><span class="pp-expr">dae * 3</span><span class="pp-kwd">}</span><span class="pp-pln"> bb</span></div><div class="L3"><span class="pp-ln">   3 </span><span class="pp-pln">    </span><span class="pp-kwd">$$</span><span class="pp-pln"> beta</span></div><div class="L4"><span class="pp-ln">   4 </span><span class="pp-pln">    </span><span class="pp-tag">gamma</span></div><div class="L5"><span class="pp-ln">   5 </span><span class="pp-pln">        </span><span class="pp-kwd">$*</span></div><div class="L6"><span class="pp-ln">   6 </span><span class="pp-pln">            </span><span class="pp-tag">a</span></div><div class="L7"><span class="pp-ln">   7 </span><span class="pp-pln">            </span><span class="pp-tag">b</span></div><div class="L8"><span class="pp-ln">   8 </span><span class="pp-pln">            </span><span class="pp-tag">c</span><span class="pp-pln"> *</span></div></pre>
                    </div>
                </div>
                <div class="code-panel" id="d134">
                    <div class="modal-view-container">
                        <h4 class="d-h2">/src/ittf/tests/prettifiers/ittfHtmlPrettifier.js.ittf</h4>
                        <pre class="prettyprint">

<div class="L1"><span class="pp-ln">   1 </span><span class="pp-pln"></span><span class="pp-mix frag-to-link-a" data-frag-id="d140">base_test(</span><span class="pp-arg"> asIsLoader </span><span class="pp-mix">)</span></div><div class="L2"><span class="pp-ln">   2 </span><span class="pp-pln">    </span><span class="pp-kwd">$append</span><span class="pp-pln"> imports</span></div><div class="L3"><span class="pp-ln">   3 </span><span class="pp-pln">        </span><span class="pp-tag">var</span><span class="pp-pln"> file = require('../../lib/fs/file')</span></div><div class="L4"><span class="pp-ln">   4 </span><span class="pp-pln">        </span><span class="pp-tag">var</span><span class="pp-pln"> ittfMTreeEx = require('../../lib/ittfTree/ittfMTreeEx')</span></div><div class="L5"><span class="pp-ln">   5 </span><span class="pp-pln">        </span><span class="pp-tag">var</span><span class="pp-pln"> ittfHtmlPrettifier = require('../../lib/prettifiers/ittfHtmlPrettifier')</span></div><div class="L6"><span class="pp-ln">   6 </span><span class="pp-pln">    </span><span class="pp-tag">it-async</span><span class="pp-pln"> should load an ittf tree as is and prettify it</span></div><div class="L7"><span class="pp-ln">   7 </span><span class="pp-pln">        </span><span class="pp-tag">_</span><span class="pp-pln"> ittfMTreeEx.createFrom</span></div><div class="L8"><span class="pp-ln">   8 </span><span class="pp-pln">            </span><span class="pp-tag">_</span><span class="pp-pln"> path.join</span></div><div class="L9"><span class="pp-ln">   9 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> __dirname</span></div><div class="L0"><span class="pp-ln">  10 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> 'ittf'</span></div><div class="L1"><span class="pp-ln">  11 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> 'basic.tests.ittf'</span></div><div class="L2"><span class="pp-ln">  12 </span><span class="pp-pln">            </span><span class="pp-tag">{</span></div><div class="L3"><span class="pp-ln">  13 </span><span class="pp-pln">            </span><span class="pp-mix frag-to-link-a" data-frag-id="d144">f_cb_test(</span><span class="pp-arg"> result </span><span class="pp-mix">)</span></div><div class="L4"><span class="pp-ln">  14 </span><span class="pp-pln">                </span><span class="pp-tag">#</span><span class="pp-pln"> log? result</span></div><div class="L5"><span class="pp-ln">  15 </span><span class="pp-pln">                </span><span class="pp-mix frag-to-link-a" data-frag-id="d151">tobe_object(</span><span class="pp-arg"> result </span><span class="pp-mix">)</span></div><div class="L6"><span class="pp-ln">  16 </span><span class="pp-pln">                    </span><span class="pp-tag">var</span><span class="pp-pln"> html_lines</span></div><div class="L7"><span class="pp-ln">  17 </span><span class="pp-pln">                        </span><span class="pp-tag">_</span><span class="pp-pln"> ittfHtmlPrettifier</span></div><div class="L8"><span class="pp-ln">  18 </span><span class="pp-pln">                            </span><span class="pp-tag">@</span><span class="pp-pln"> result</span></div><div class="L9"><span class="pp-ln">  19 </span><span class="pp-pln">                            </span><span class="pp-tag">{</span></div><div class="L0"><span class="pp-ln">  20 </span><span class="pp-pln">                    </span><span class="pp-tag">#</span><span class="pp-pln"> log 'html_lines', html_lines</span></div><div class="L1"><span class="pp-ln">  21 </span><span class="pp-pln">                    </span><span class="pp-mix frag-to-link-a" data-frag-id="d151">tobe_object(</span><span class="pp-arg"> html_lines </span><span class="pp-mix">)</span></div><div class="L2"><span class="pp-ln">  22 </span><span class="pp-pln">                    </span><span class="pp-mix frag-to-link-a" data-frag-id="d146">tobe_array(</span><span class="pp-arg"> html_lines.prettyLines</span><span class="pp-pln">,</span><span class="pp-arg">  1 </span><span class="pp-mix">)</span></div><div class="L3"><span class="pp-ln">  23 </span><span class="pp-pln">                    </span><span class="pp-tag">_</span><span class="pp-pln"> file.write</span></div><div class="L4"><span class="pp-ln">  24 </span><span class="pp-pln">                        </span><span class="pp-tag">_</span><span class="pp-pln"> path.join</span></div><div class="L5"><span class="pp-ln">  25 </span><span class="pp-pln">                            </span><span class="pp-tag">@</span><span class="pp-pln"> __dirname</span></div><div class="L6"><span class="pp-ln">  26 </span><span class="pp-pln">                            </span><span class="pp-tag">@</span><span class="pp-pln"> 'outputs'</span></div><div class="L7"><span class="pp-ln">  27 </span><span class="pp-pln">                            </span><span class="pp-tag">@</span><span class="pp-pln"> 'basic.tests.pretty.html'</span></div><div class="L8"><span class="pp-ln">  28 </span><span class="pp-pln">                        </span><span class="pp-tag">@</span><span class="pp-pln"> html_lines.prettyLines.join('\n')</span></div><div class="L9"><span class="pp-ln">  29 </span><span class="pp-pln">                    </span><span class="pp-tag">_</span><span class="pp-pln"> done()</span></div><div class="L0"><span class="pp-ln">  30 </span><span class="pp-pln">    </span><span class="pp-tag">it-async</span><span class="pp-pln"> should load an ittf tree (by filepath ) as is and prettify it</span></div><div class="L1"><span class="pp-ln">  31 </span><span class="pp-pln">        </span><span class="pp-tag">var</span><span class="pp-pln"> html_lines</span></div><div class="L2"><span class="pp-ln">  32 </span><span class="pp-pln">            </span><span class="pp-tag">_</span><span class="pp-pln"> ittfHtmlPrettifier</span></div><div class="L3"><span class="pp-ln">  33 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> path.join</span></div><div class="L4"><span class="pp-ln">  34 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> __dirname</span></div><div class="L5"><span class="pp-ln">  35 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> 'ittf'</span></div><div class="L6"><span class="pp-ln">  36 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> 'basic.tests.ittf'</span></div><div class="L7"><span class="pp-ln">  37 </span><span class="pp-pln">                </span><span class="pp-tag">{</span></div><div class="L8"><span class="pp-ln">  38 </span><span class="pp-pln">        </span><span class="pp-tag">#</span><span class="pp-pln"> log 'html_lines', html_lines</span></div><div class="L9"><span class="pp-ln">  39 </span><span class="pp-pln">        </span><span class="pp-mix frag-to-link-a" data-frag-id="d151">tobe_object(</span><span class="pp-arg"> html_lines </span><span class="pp-mix">)</span></div><div class="L0"><span class="pp-ln">  40 </span><span class="pp-pln">        </span><span class="pp-mix frag-to-link-a" data-frag-id="d146">tobe_array(</span><span class="pp-arg"> html_lines.prettyLines</span><span class="pp-pln">,</span><span class="pp-arg">  1 </span><span class="pp-mix">)</span></div><div class="L1"><span class="pp-ln">  41 </span><span class="pp-pln">        </span><span class="pp-tag">_</span><span class="pp-pln"> file.write</span></div><div class="L2"><span class="pp-ln">  42 </span><span class="pp-pln">            </span><span class="pp-tag">_</span><span class="pp-pln"> path.join</span></div><div class="L3"><span class="pp-ln">  43 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> __dirname</span></div><div class="L4"><span class="pp-ln">  44 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> 'outputs'</span></div><div class="L5"><span class="pp-ln">  45 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> 'basic.tests.prettybyfile.html'</span></div><div class="L6"><span class="pp-ln">  46 </span><span class="pp-pln">            </span><span class="pp-tag">@</span><span class="pp-pln"> html_lines.prettyLines.join('\n')</span></div><div class="L7"><span class="pp-ln">  47 </span><span class="pp-pln">        </span><span class="pp-tag">_</span><span class="pp-pln"> done()</span></div></pre>
                    </div>
                </div>
                <div class="code-panel" id="d135">
                    <div class="modal-view-container">
                        <h4 class="d-h2">/src/ittf/tests/scanner/ittf/first/child/child.tests.ittf</h4>
                        <pre class="prettyprint">

<div class="L1"><span class="pp-ln">   1 </span><span class="pp-pln"></span><span class="pp-tag">tests</span><span class="pp-pln"> root</span></div><div class="L2"><span class="pp-ln">   2 </span><span class="pp-pln">    </span><span class="pp-mix frag-to-link-a" data-frag-id="d136">frag-1(</span><span class="pp-mix">)</span></div></pre>
                    </div>
                </div>
                <div class="code-panel" id="d136">
                    <div class="modal-view-container">
                        <h4 class="d-h2">/src/ittf/tests/scanner/ittf/first/t/frag-1.tests.ittf</h4>
                        <pre class="prettyprint">

<div class="L1"><span class="pp-ln">   1 </span><span class="pp-pln"></span><span class="pp-kwd">$group</span></div><div class="L2"><span class="pp-ln">   2 </span><span class="pp-pln">    </span><span class="pp-tag">alfa</span><span class="pp-pln"> frag-1</span></div></pre>
                    </div>
                </div>
                <div class="code-panel" id="d137">
                    <div class="modal-view-container">
                        <h4 class="d-h2">/src/ittf/tests/scanner/ittf/first/root.tests.ittf</h4>
                        <pre class="prettyprint">

<div class="L1"><span class="pp-ln">   1 </span><span class="pp-pln"></span><span class="pp-tag">tests</span><span class="pp-pln"> root</span></div><div class="L2"><span class="pp-ln">   2 </span><span class="pp-pln">    </span><span class="pp-mix frag-to-link-a" data-frag-id="d136">frag-1(</span><span class="pp-mix">)</span></div></pre>
                    </div>
                </div>
                <div class="code-panel" id="d138">
                    <div class="modal-view-container">
                        <h4 class="d-h2">/src/ittf/tests/scanner/scanner.js.ittf</h4>
                        <pre class="prettyprint">

<div class="L1"><span class="pp-ln">   1 </span><span class="pp-pln"></span><span class="pp-tag">module</span></div><div class="L2"><span class="pp-ln">   2 </span><span class="pp-pln">    </span><span class="pp-tag">kind</span><span class="pp-pln"> jsfile</span></div><div class="L3"><span class="pp-ln">   3 </span><span class="pp-pln">    </span><span class="pp-tag">+</span></div><div class="L4"><span class="pp-ln">   4 </span><span class="pp-pln">    </span><span class="pp-tag">import</span><span class="pp-pln"> path</span></div><div class="L5"><span class="pp-ln">   5 </span><span class="pp-pln">    </span><span class="pp-tag">import</span><span class="pp-pln"> util</span></div><div class="L6"><span class="pp-ln">   6 </span><span class="pp-pln">    </span><span class="pp-tag">+</span></div><div class="L7"><span class="pp-ln">   7 </span><span class="pp-pln">    </span><span class="pp-tag">var</span><span class="pp-pln"> expect = require('expect.js')</span></div><div class="L8"><span class="pp-ln">   8 </span><span class="pp-pln">    </span><span class="pp-tag">var</span><span class="pp-pln"> folderScanner = require('../../lib/scanners/folderScanner')</span></div><div class="L9"><span class="pp-ln">   9 </span><span class="pp-pln">    </span><span class="pp-tag">var</span><span class="pp-pln"> root</span></div><div class="L0"><span class="pp-ln">  10 </span><span class="pp-pln">    </span><span class="pp-tag">+</span></div><div class="L1"><span class="pp-ln">  11 </span><span class="pp-pln">    </span><span class="pp-tag">describe</span><span class="pp-pln"> the folderScanner module</span></div><div class="L2"><span class="pp-ln">  12 </span><span class="pp-pln">        </span><span class="pp-tag">+</span></div><div class="L3"><span class="pp-ln">  13 </span><span class="pp-pln">        </span><span class="pp-tag">it</span><span class="pp-pln"> should scan a folder</span></div><div class="L4"><span class="pp-ln">  14 </span><span class="pp-pln">            </span><span class="pp-tag">var</span><span class="pp-pln"> ittfMTreeEx</span></div><div class="L5"><span class="pp-ln">  15 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> folderScanner.scan</span></div><div class="L6"><span class="pp-ln">  16 </span><span class="pp-pln">                    </span><span class="pp-tag">_</span><span class="pp-pln"> path.join</span></div><div class="L7"><span class="pp-ln">  17 </span><span class="pp-pln">                        </span><span class="pp-tag">@</span><span class="pp-pln"> __dirname</span></div><div class="L8"><span class="pp-ln">  18 </span><span class="pp-pln">                        </span><span class="pp-tag">@</span><span class="pp-pln"> 'ittf'</span></div><div class="L9"><span class="pp-ln">  19 </span><span class="pp-pln">                        </span><span class="pp-tag">@</span><span class="pp-pln"> 'first'</span></div><div class="L0"><span class="pp-ln">  20 </span><span class="pp-pln">                    </span><span class="pp-tag">{</span></div><div class="L1"><span class="pp-ln">  21 </span><span class="pp-pln">                        </span><span class="pp-tag">@</span><span class="pp-pln"> name 'first'</span></div><div class="L2"><span class="pp-ln">  22 </span><span class="pp-pln">                        </span><span class="pp-tag">@</span><span class="pp-pln"> gitPath 'c:/blabla'</span></div><div class="L3"><span class="pp-ln">  23 </span><span class="pp-pln">            </span><span class="pp-mix frag-to-link-a" data-frag-id="d151">tobe_object(</span><span class="pp-arg"> ittfMTreeEx</span><span class="pp-mix">)</span></div><div class="L4"><span class="pp-ln">  24 </span><span class="pp-pln">            </span><span class="pp-tag">_</span><span class="pp-pln"> ittfMTreeEx.writeFile</span></div><div class="L5"><span class="pp-ln">  25 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> path.join</span></div><div class="L6"><span class="pp-ln">  26 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> __dirname</span></div><div class="L7"><span class="pp-ln">  27 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> 'outputs'</span></div><div class="L8"><span class="pp-ln">  28 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> 'first.wfpackage.ittf'</span></div><div class="L9"><span class="pp-ln">  29 </span><span class="pp-pln">                </span><span class="pp-mix frag-to-link-a" data-frag-id="d144">f_cb_test(</span><span class="pp-arg"> result </span><span class="pp-mix">)</span></div><div class="L0"><span class="pp-ln">  30 </span><span class="pp-pln">                    </span><span class="pp-tag">log</span><span class="pp-pln"> 'err, result', err, result</span></div></pre>
                    </div>
                </div>
                <div class="code-panel" id="d139">
                    <div class="modal-view-container">
                        <h4 class="d-h2">/src/ittf/tests/t/async.js.ittf</h4>
                        <pre class="prettyprint">

<div class="L1"><span class="pp-ln">   1 </span><span class="pp-pln"></span><span class="pp-kwd">$group</span></div><div class="L2"><span class="pp-ln">   2 </span><span class="pp-pln">    </span><span class="pp-kwd">$params</span><span class="pp-pln"> call, arg1|@@null, arg2|@@null, arg3|@@null, arg4|@@null, arg5|@@null, arg6|@@null</span></div><div class="L3"><span class="pp-ln">   3 </span><span class="pp-pln">    </span><span class="pp-tag">_</span><span class="pp-kwd"> ${</span><span class="pp-expr">call</span><span class="pp-kwd">}</span></div><div class="L4"><span class="pp-ln">   4 </span><span class="pp-pln">        </span><span class="pp-kwd">$if</span><span class="pp-expr"> arg1 != null</span></div><div class="L5"><span class="pp-ln">   5 </span><span class="pp-pln">            </span><span class="pp-tag">@</span><span class="pp-kwd"> ${</span><span class="pp-expr">arg1</span><span class="pp-kwd">}</span></div><div class="L6"><span class="pp-ln">   6 </span><span class="pp-pln">        </span><span class="pp-kwd">$if</span><span class="pp-expr"> arg2 != null</span></div><div class="L7"><span class="pp-ln">   7 </span><span class="pp-pln">            </span><span class="pp-tag">@</span><span class="pp-kwd"> ${</span><span class="pp-expr">arg2</span><span class="pp-kwd">}</span></div><div class="L8"><span class="pp-ln">   8 </span><span class="pp-pln">        </span><span class="pp-kwd">$if</span><span class="pp-expr"> arg3 != null</span></div><div class="L9"><span class="pp-ln">   9 </span><span class="pp-pln">            </span><span class="pp-tag">@</span><span class="pp-kwd"> ${</span><span class="pp-expr">arg3</span><span class="pp-kwd">}</span></div><div class="L0"><span class="pp-ln">  10 </span><span class="pp-pln">        </span><span class="pp-kwd">$if</span><span class="pp-expr"> arg4 != null</span></div><div class="L1"><span class="pp-ln">  11 </span><span class="pp-pln">            </span><span class="pp-tag">@</span><span class="pp-kwd"> ${</span><span class="pp-expr">arg4</span><span class="pp-kwd">}</span></div><div class="L2"><span class="pp-ln">  12 </span><span class="pp-pln">        </span><span class="pp-kwd">$if</span><span class="pp-expr"> arg5 != null</span></div><div class="L3"><span class="pp-ln">  13 </span><span class="pp-pln">            </span><span class="pp-tag">@</span><span class="pp-kwd"> ${</span><span class="pp-expr">arg5</span><span class="pp-kwd">}</span></div><div class="L4"><span class="pp-ln">  14 </span><span class="pp-pln">        </span><span class="pp-kwd">$if</span><span class="pp-expr"> arg6 != null</span></div><div class="L5"><span class="pp-ln">  15 </span><span class="pp-pln">            </span><span class="pp-tag">@</span><span class="pp-kwd"> ${</span><span class="pp-expr">arg6</span><span class="pp-kwd">}</span></div><div class="L6"><span class="pp-ln">  16 </span><span class="pp-pln">        </span><span class="pp-tag">function</span></div><div class="L7"><span class="pp-ln">  17 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> err</span></div><div class="L8"><span class="pp-ln">  18 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> result</span></div><div class="L9"><span class="pp-ln">  19 </span><span class="pp-pln">            </span><span class="pp-tag">if</span><span class="pp-pln"> err</span></div><div class="L0"><span class="pp-ln">  20 </span><span class="pp-pln">                </span><span class="pp-tag">throw</span><span class="pp-pln"> new Error()</span></div><div class="L1"><span class="pp-ln">  21 </span><span class="pp-pln">            </span><span class="pp-kwd">$hook</span></div></pre>
                    </div>
                </div>
                <div class="code-panel" id="d140">
                    <div class="modal-view-container">
                        <h4 class="d-h2">/src/ittf/tests/t/base_test.js.ittf</h4>
                        <pre class="prettyprint">

<div class="L1"><span class="pp-ln">   1 </span><span class="pp-pln"></span><span class="pp-tag">module</span></div><div class="L2"><span class="pp-ln">   2 </span><span class="pp-pln">    </span><span class="pp-kwd">$params</span><span class="pp-pln"> name</span></div><div class="L3"><span class="pp-ln">   3 </span><span class="pp-pln">    </span><span class="pp-tag">kind</span><span class="pp-pln"> jsfile</span></div><div class="L4"><span class="pp-ln">   4 </span><span class="pp-pln">    </span><span class="pp-tag">+</span></div><div class="L5"><span class="pp-ln">   5 </span><span class="pp-pln">    </span><span class="pp-tag">import</span><span class="pp-pln"> path</span></div><div class="L6"><span class="pp-ln">   6 </span><span class="pp-pln">    </span><span class="pp-tag">import</span><span class="pp-pln"> util</span></div><div class="L7"><span class="pp-ln">   7 </span><span class="pp-pln">    </span><span class="pp-tag">+</span></div><div class="L8"><span class="pp-ln">   8 </span><span class="pp-pln">    </span><span class="pp-tag">var</span><span class="pp-pln"> del = require('del')</span></div><div class="L9"><span class="pp-ln">   9 </span><span class="pp-pln">    </span><span class="pp-tag">var</span><span class="pp-pln"> expect = require('expect.js')</span></div><div class="L0"><span class="pp-ln">  10 </span><span class="pp-pln">    </span><span class="pp-tag">+</span></div><div class="L1"><span class="pp-ln">  11 </span><span class="pp-pln">    </span><span class="pp-tag">var</span><span class="pp-pln"> _ = require('lodash')</span></div><div class="L2"><span class="pp-ln">  12 </span><span class="pp-pln">    </span><span class="pp-tag">var</span><span class="pp-pln"> file = require('../../lib/fs/file')</span></div><div class="L3"><span class="pp-ln">  13 </span><span class="pp-pln">    </span><span class="pp-tag">var</span><span class="pp-pln"> verify = require('../../lib/verify')</span></div><div class="L4"><span class="pp-ln">  14 </span><span class="pp-pln">    </span><span class="pp-tag">+</span></div><div class="L5"><span class="pp-ln">  15 </span><span class="pp-pln">    </span><span class="pp-kwd">$hook</span><span class="pp-pln"> imports</span></div><div class="L6"><span class="pp-ln">  16 </span><span class="pp-pln">    </span><span class="pp-tag">+</span></div><div class="L7"><span class="pp-ln">  17 </span><span class="pp-pln">    </span><span class="pp-tag">describe</span><span class="pp-kwd"> ${</span><span class="pp-expr">name</span><span class="pp-kwd">}</span></div><div class="L8"><span class="pp-ln">  18 </span><span class="pp-pln">        </span><span class="pp-kwd">$hook</span></div></pre>
                    </div>
                </div>
                <div class="code-panel" id="d141">
                    <div class="modal-view-container">
                        <h4 class="d-h2">/src/ittf/tests/t/expect_throw_error.js.ittf</h4>
                        <pre class="prettyprint">

<div class="L1"><span class="pp-ln">   1 </span><span class="pp-pln"></span><span class="pp-kwd">$group</span></div><div class="L2"><span class="pp-ln">   2 </span><span class="pp-pln">    </span><span class="pp-kwd">$params</span><span class="pp-pln"> error</span></div><div class="L3"><span class="pp-ln">   3 </span><span class="pp-pln">    </span><span class="pp-tag">_</span><span class="pp-pln"> expect</span></div><div class="L4"><span class="pp-ln">   4 </span><span class="pp-pln">        </span><span class="pp-tag">function</span><span class="pp-pln"> fn</span></div><div class="L5"><span class="pp-ln">   5 </span><span class="pp-pln">            </span><span class="pp-kwd">$hook</span></div><div class="L6"><span class="pp-ln">   6 </span><span class="pp-pln">        </span><span class="pp-tag">.</span><span class="pp-pln"> to</span></div><div class="L7"><span class="pp-ln">   7 </span><span class="pp-pln">        </span><span class="pp-tag">._</span><span class="pp-pln"> throwException</span></div><div class="L8"><span class="pp-ln">   8 </span><span class="pp-pln">            </span><span class="pp-tag">function</span></div><div class="L9"><span class="pp-ln">   9 </span><span class="pp-pln">                </span><span class="pp-tag">param</span><span class="pp-pln"> e</span></div><div class="L0"><span class="pp-ln">  10 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> expect(e).to.be.a(errors.</span><span class="pp-kwd">${</span><span class="pp-expr">error</span><span class="pp-kwd">}</span><span class="pp-pln">)</span></div></pre>
                    </div>
                </div>
                <div class="code-panel" id="d142">
                    <div class="modal-view-container">
                        <h4 class="d-h2">/src/ittf/tests/t/f_cb_done.js.ittf</h4>
                        <pre class="prettyprint">

<div class="L1"><span class="pp-ln">   1 </span><span class="pp-pln"></span><span class="pp-kwd">$group</span></div><div class="L2"><span class="pp-ln">   2 </span><span class="pp-pln">    </span><span class="pp-kwd">$params</span><span class="pp-pln"> result</span></div><div class="L3"><span class="pp-ln">   3 </span><span class="pp-pln">    </span><span class="pp-tag">function</span></div><div class="L4"><span class="pp-ln">   4 </span><span class="pp-pln">        </span><span class="pp-tag">param</span><span class="pp-pln"> err</span></div><div class="L5"><span class="pp-ln">   5 </span><span class="pp-pln">        </span><span class="pp-tag">param</span><span class="pp-kwd"> ${</span><span class="pp-expr">result</span><span class="pp-kwd">}</span></div><div class="L6"><span class="pp-ln">   6 </span><span class="pp-pln">        </span><span class="pp-tag">if</span><span class="pp-pln"> err</span></div><div class="L7"><span class="pp-ln">   7 </span><span class="pp-pln">            </span><span class="pp-tag">log</span><span class="pp-pln"> 'err', err</span></div><div class="L8"><span class="pp-ln">   8 </span><span class="pp-pln">            </span><span class="pp-tag">throw</span><span class="pp-pln"> new Error(err.message)</span></div><div class="L9"><span class="pp-ln">   9 </span><span class="pp-pln">        </span><span class="pp-kwd">$hook</span></div><div class="L0"><span class="pp-ln">  10 </span><span class="pp-pln">        </span><span class="pp-tag">_</span><span class="pp-pln"> done</span></div></pre>
                    </div>
                </div>
                <div class="code-panel" id="d143">
                    <div class="modal-view-container">
                        <h4 class="d-h2">/src/ittf/tests/t/f_cb_no_err.js.ittf</h4>
                        <pre class="prettyprint">

<div class="L1"><span class="pp-ln">   1 </span><span class="pp-pln"></span><span class="pp-kwd">$group</span></div><div class="L2"><span class="pp-ln">   2 </span><span class="pp-pln">    </span><span class="pp-kwd">$params</span><span class="pp-pln"> result</span></div><div class="L3"><span class="pp-ln">   3 </span><span class="pp-pln">    </span><span class="pp-tag">function</span></div><div class="L4"><span class="pp-ln">   4 </span><span class="pp-pln">        </span><span class="pp-tag">param</span><span class="pp-pln"> err</span></div><div class="L5"><span class="pp-ln">   5 </span><span class="pp-pln">        </span><span class="pp-tag">param</span><span class="pp-kwd"> ${</span><span class="pp-expr">result</span><span class="pp-kwd">}</span></div><div class="L6"><span class="pp-ln">   6 </span><span class="pp-pln">        </span><span class="pp-kwd">$hook</span></div></pre>
                    </div>
                </div>
                <div class="code-panel" id="d144">
                    <div class="modal-view-container">
                        <h4 class="d-h2">/src/ittf/tests/t/f_cb_test.js.ittf</h4>
                        <pre class="prettyprint">

<div class="L1"><span class="pp-ln">   1 </span><span class="pp-pln"></span><span class="pp-kwd">$group</span></div><div class="L2"><span class="pp-ln">   2 </span><span class="pp-pln">    </span><span class="pp-kwd">$params</span><span class="pp-pln"> result</span></div><div class="L3"><span class="pp-ln">   3 </span><span class="pp-pln">    </span><span class="pp-tag">function</span></div><div class="L4"><span class="pp-ln">   4 </span><span class="pp-pln">        </span><span class="pp-tag">param</span><span class="pp-pln"> err</span></div><div class="L5"><span class="pp-ln">   5 </span><span class="pp-pln">        </span><span class="pp-tag">param</span><span class="pp-kwd"> ${</span><span class="pp-expr">result</span><span class="pp-kwd">}</span></div><div class="L6"><span class="pp-ln">   6 </span><span class="pp-pln">        </span><span class="pp-tag">if</span><span class="pp-pln"> err</span></div><div class="L7"><span class="pp-ln">   7 </span><span class="pp-pln">            </span><span class="pp-tag">log</span><span class="pp-pln"> 'err', err</span></div><div class="L8"><span class="pp-ln">   8 </span><span class="pp-pln">            </span><span class="pp-tag">throw</span><span class="pp-pln"> new Error(err.message)</span></div><div class="L9"><span class="pp-ln">   9 </span><span class="pp-pln">        </span><span class="pp-kwd">$hook</span></div></pre>
                    </div>
                </div>
                <div class="code-panel" id="d145">
                    <div class="modal-view-container">
                        <h4 class="d-h2">/src/ittf/tests/t/itasync.js.ittf</h4>
                        <pre class="prettyprint">

<div class="L1"><span class="pp-ln">   1 </span><span class="pp-pln"></span><span class="pp-kwd">$group</span></div><div class="L2"><span class="pp-ln">   2 </span><span class="pp-pln">    </span><span class="pp-kwd">$params</span><span class="pp-pln"> title, call, arg1|@@null, arg2|@@null, arg3|@@null, arg4|@@null, arg5|@@null, arg6|@@null</span></div><div class="L3"><span class="pp-ln">   3 </span><span class="pp-pln">    </span><span class="pp-tag">_</span><span class="pp-pln"> it</span></div><div class="L4"><span class="pp-ln">   4 </span><span class="pp-pln">        </span><span class="pp-tag">@</span><span class="pp-pln"> "</span><span class="pp-kwd">${</span><span class="pp-expr">title</span><span class="pp-kwd">}</span><span class="pp-pln">"</span></div><div class="L5"><span class="pp-ln">   5 </span><span class="pp-pln">        </span><span class="pp-tag">function</span></div><div class="L6"><span class="pp-ln">   6 </span><span class="pp-pln">            </span><span class="pp-tag">param</span><span class="pp-pln"> done</span></div><div class="L7"><span class="pp-ln">   7 </span><span class="pp-pln">            </span><span class="pp-tag">_</span><span class="pp-kwd"> ${</span><span class="pp-expr">call</span><span class="pp-kwd">}</span></div><div class="L8"><span class="pp-ln">   8 </span><span class="pp-pln">                </span><span class="pp-kwd">$if</span><span class="pp-expr"> arg1 != null</span></div><div class="L9"><span class="pp-ln">   9 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-kwd"> ${</span><span class="pp-expr">arg1</span><span class="pp-kwd">}</span></div><div class="L0"><span class="pp-ln">  10 </span><span class="pp-pln">                </span><span class="pp-kwd">$if</span><span class="pp-expr"> arg2 != null</span></div><div class="L1"><span class="pp-ln">  11 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-kwd"> ${</span><span class="pp-expr">arg2</span><span class="pp-kwd">}</span></div><div class="L2"><span class="pp-ln">  12 </span><span class="pp-pln">                </span><span class="pp-kwd">$if</span><span class="pp-expr"> arg3 != null</span></div><div class="L3"><span class="pp-ln">  13 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-kwd"> ${</span><span class="pp-expr">arg3</span><span class="pp-kwd">}</span></div><div class="L4"><span class="pp-ln">  14 </span><span class="pp-pln">                </span><span class="pp-kwd">$if</span><span class="pp-expr"> arg4 != null</span></div><div class="L5"><span class="pp-ln">  15 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-kwd"> ${</span><span class="pp-expr">arg4</span><span class="pp-kwd">}</span></div><div class="L6"><span class="pp-ln">  16 </span><span class="pp-pln">                </span><span class="pp-kwd">$if</span><span class="pp-expr"> arg5 != null</span></div><div class="L7"><span class="pp-ln">  17 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-kwd"> ${</span><span class="pp-expr">arg5</span><span class="pp-kwd">}</span></div><div class="L8"><span class="pp-ln">  18 </span><span class="pp-pln">                </span><span class="pp-kwd">$if</span><span class="pp-expr"> arg6 != null</span></div><div class="L9"><span class="pp-ln">  19 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-kwd"> ${</span><span class="pp-expr">arg6</span><span class="pp-kwd">}</span></div><div class="L0"><span class="pp-ln">  20 </span><span class="pp-pln">                </span><span class="pp-tag">function</span></div><div class="L1"><span class="pp-ln">  21 </span><span class="pp-pln">                    </span><span class="pp-tag">param</span><span class="pp-pln"> err</span></div><div class="L2"><span class="pp-ln">  22 </span><span class="pp-pln">                    </span><span class="pp-tag">param</span><span class="pp-pln"> result</span></div><div class="L3"><span class="pp-ln">  23 </span><span class="pp-pln">                    </span><span class="pp-kwd">$hook</span></div></pre>
                    </div>
                </div>
                <div class="code-panel" id="d146">
                    <div class="modal-view-container">
                        <h4 class="d-h2">/src/ittf/tests/t/tobe_array.js.ittf</h4>
                        <pre class="prettyprint">

<div class="L1"><span class="pp-ln">   1 </span><span class="pp-pln"></span><span class="pp-kwd">$group</span></div><div class="L2"><span class="pp-ln">   2 </span><span class="pp-pln">    </span><span class="pp-kwd">$params</span><span class="pp-pln"> name, length</span></div><div class="L3"><span class="pp-ln">   3 </span><span class="pp-pln">    </span><span class="pp-tag">_</span><span class="pp-pln"> expect(</span><span class="pp-kwd">${</span><span class="pp-expr">name</span><span class="pp-kwd">}</span><span class="pp-pln">).to.be.an('array')</span></div><div class="L4"><span class="pp-ln">   4 </span><span class="pp-pln">    </span><span class="pp-tag">_</span><span class="pp-pln"> expect(</span><span class="pp-kwd">${</span><span class="pp-expr">name</span><span class="pp-kwd">}</span><span class="pp-pln">.length).to.be(</span><span class="pp-kwd">${</span><span class="pp-expr">length</span><span class="pp-kwd">}</span><span class="pp-pln">)</span></div></pre>
                    </div>
                </div>
                <div class="code-panel" id="d147">
                    <div class="modal-view-container">
                        <h4 class="d-h2">/src/ittf/tests/t/tobe_eql.js.ittf</h4>
                        <pre class="prettyprint">

<div class="L1"><span class="pp-ln">   1 </span><span class="pp-pln"></span><span class="pp-kwd">$group</span></div><div class="L2"><span class="pp-ln">   2 </span><span class="pp-pln">    </span><span class="pp-kwd">$params</span><span class="pp-pln"> name, value</span></div><div class="L3"><span class="pp-ln">   3 </span><span class="pp-pln">    </span><span class="pp-tag">#</span><span class="pp-pln"> loose equality works for objects</span></div><div class="L4"><span class="pp-ln">   4 </span><span class="pp-pln">    </span><span class="pp-tag">_</span><span class="pp-pln"> expect(</span><span class="pp-kwd">${</span><span class="pp-expr">name</span><span class="pp-kwd">}</span><span class="pp-pln">).to.eql(</span><span class="pp-kwd">${</span><span class="pp-expr">value</span><span class="pp-kwd">}</span><span class="pp-pln">)</span></div></pre>
                    </div>
                </div>
                <div class="code-panel" id="d148">
                    <div class="modal-view-container">
                        <h4 class="d-h2">/src/ittf/tests/t/tobe_false.js.ittf</h4>
                        <pre class="prettyprint">

<div class="L1"><span class="pp-ln">   1 </span><span class="pp-pln"></span><span class="pp-kwd">$group</span></div><div class="L2"><span class="pp-ln">   2 </span><span class="pp-pln">    </span><span class="pp-kwd">$params</span><span class="pp-pln"> name</span></div><div class="L3"><span class="pp-ln">   3 </span><span class="pp-pln">    </span><span class="pp-tag">_</span><span class="pp-pln"> expect(</span><span class="pp-kwd">${</span><span class="pp-expr">name</span><span class="pp-kwd">}</span><span class="pp-pln">).to.be(false)</span></div></pre>
                    </div>
                </div>
                <div class="code-panel" id="d149">
                    <div class="modal-view-container">
                        <h4 class="d-h2">/src/ittf/tests/t/tobe_number.js.ittf</h4>
                        <pre class="prettyprint">

<div class="L1"><span class="pp-ln">   1 </span><span class="pp-pln"></span><span class="pp-kwd">$group</span></div><div class="L2"><span class="pp-ln">   2 </span><span class="pp-pln">    </span><span class="pp-kwd">$params</span><span class="pp-pln"> name, value</span></div><div class="L3"><span class="pp-ln">   3 </span><span class="pp-pln">    </span><span class="pp-tag">_</span><span class="pp-pln"> expect(</span><span class="pp-kwd">${</span><span class="pp-expr">name</span><span class="pp-kwd">}</span><span class="pp-pln">).to.be.a('number')</span></div><div class="L4"><span class="pp-ln">   4 </span><span class="pp-pln">    </span><span class="pp-tag">_</span><span class="pp-pln"> expect(</span><span class="pp-kwd">${</span><span class="pp-expr">name</span><span class="pp-kwd">}</span><span class="pp-pln">).to.be(</span><span class="pp-kwd">${</span><span class="pp-expr">value</span><span class="pp-kwd">}</span><span class="pp-pln">)</span></div></pre>
                    </div>
                </div>
                <div class="code-panel" id="d150">
                    <div class="modal-view-container">
                        <h4 class="d-h2">/src/ittf/tests/t/tobe_object_num.js.ittf</h4>
                        <pre class="prettyprint">

<div class="L1"><span class="pp-ln">   1 </span><span class="pp-pln"></span><span class="pp-kwd">$group</span></div><div class="L2"><span class="pp-ln">   2 </span><span class="pp-pln">    </span><span class="pp-kwd">$params</span><span class="pp-pln"> name, len</span></div><div class="L3"><span class="pp-ln">   3 </span><span class="pp-pln">    </span><span class="pp-tag">_</span><span class="pp-pln"> expect(</span><span class="pp-kwd">${</span><span class="pp-expr">name</span><span class="pp-kwd">}</span><span class="pp-pln">).to.be.an('object')</span></div><div class="L4"><span class="pp-ln">   4 </span><span class="pp-pln">    </span><span class="pp-tag">_</span><span class="pp-pln"> expect(Object.keys(</span><span class="pp-kwd">${</span><span class="pp-expr">name</span><span class="pp-kwd">}</span><span class="pp-pln">).length).to.be(</span><span class="pp-kwd">${</span><span class="pp-expr">len</span><span class="pp-kwd">}</span><span class="pp-pln">)</span></div></pre>
                    </div>
                </div>
                <div class="code-panel" id="d151">
                    <div class="modal-view-container">
                        <h4 class="d-h2">/src/ittf/tests/t/tobe_object.js.ittf</h4>
                        <pre class="prettyprint">

<div class="L1"><span class="pp-ln">   1 </span><span class="pp-pln"></span><span class="pp-kwd">$group</span></div><div class="L2"><span class="pp-ln">   2 </span><span class="pp-pln">    </span><span class="pp-kwd">$params</span><span class="pp-pln"> name</span></div><div class="L3"><span class="pp-ln">   3 </span><span class="pp-pln">    </span><span class="pp-tag">_</span><span class="pp-pln"> expect(</span><span class="pp-kwd">${</span><span class="pp-expr">name</span><span class="pp-kwd">}</span><span class="pp-pln">).to.be.an('object')</span></div></pre>
                    </div>
                </div>
                <div class="code-panel" id="d152">
                    <div class="modal-view-container">
                        <h4 class="d-h2">/src/ittf/tests/t/tobe_string_value.js.ittf</h4>
                        <pre class="prettyprint">

<div class="L1"><span class="pp-ln">   1 </span><span class="pp-pln"></span><span class="pp-kwd">$group</span></div><div class="L2"><span class="pp-ln">   2 </span><span class="pp-pln">    </span><span class="pp-kwd">$params</span><span class="pp-pln"> name, value</span></div><div class="L3"><span class="pp-ln">   3 </span><span class="pp-pln">    </span><span class="pp-tag">_</span><span class="pp-pln"> expect(</span><span class="pp-kwd">${</span><span class="pp-expr">name</span><span class="pp-kwd">}</span><span class="pp-pln">).to.be.a('string')</span></div><div class="L4"><span class="pp-ln">   4 </span><span class="pp-pln">    </span><span class="pp-tag">_</span><span class="pp-pln"> expect(</span><span class="pp-kwd">${</span><span class="pp-expr">name</span><span class="pp-kwd">}</span><span class="pp-pln">).to.be(</span><span class="pp-kwd">${</span><span class="pp-expr">value</span><span class="pp-kwd">}</span><span class="pp-pln">)</span></div></pre>
                    </div>
                </div>
                <div class="code-panel" id="d153">
                    <div class="modal-view-container">
                        <h4 class="d-h2">/src/ittf/tests/t/tobe_string.js.ittf</h4>
                        <pre class="prettyprint">

<div class="L1"><span class="pp-ln">   1 </span><span class="pp-pln"></span><span class="pp-kwd">$group</span></div><div class="L2"><span class="pp-ln">   2 </span><span class="pp-pln">    </span><span class="pp-kwd">$params</span><span class="pp-pln"> name, value</span></div><div class="L3"><span class="pp-ln">   3 </span><span class="pp-pln">    </span><span class="pp-tag">_</span><span class="pp-pln"> expect(</span><span class="pp-kwd">${</span><span class="pp-expr">name</span><span class="pp-kwd">}</span><span class="pp-pln">).to.be.a('string')</span></div><div class="L4"><span class="pp-ln">   4 </span><span class="pp-pln">    </span><span class="pp-tag">_</span><span class="pp-pln"> expect(</span><span class="pp-kwd">${</span><span class="pp-expr">name</span><span class="pp-kwd">}</span><span class="pp-pln">).to.be('</span><span class="pp-kwd">${</span><span class="pp-expr">value</span><span class="pp-kwd">}</span><span class="pp-pln">')</span></div></pre>
                    </div>
                </div>
                <div class="code-panel" id="d154">
                    <div class="modal-view-container">
                        <h4 class="d-h2">/src/ittf/tests/t/tobe_true.js.ittf</h4>
                        <pre class="prettyprint">

<div class="L1"><span class="pp-ln">   1 </span><span class="pp-pln"></span><span class="pp-kwd">$group</span></div><div class="L2"><span class="pp-ln">   2 </span><span class="pp-pln">    </span><span class="pp-kwd">$params</span><span class="pp-pln"> name</span></div><div class="L3"><span class="pp-ln">   3 </span><span class="pp-pln">    </span><span class="pp-tag">_</span><span class="pp-pln"> expect(</span><span class="pp-kwd">${</span><span class="pp-expr">name</span><span class="pp-kwd">}</span><span class="pp-pln">).to.be(true)</span></div></pre>
                    </div>
                </div>
                <div class="code-panel" id="d155">
                    <div class="modal-view-container">
                        <h4 class="d-h2">/src/ittf/tests/t/tobe_undefined.js.ittf</h4>
                        <pre class="prettyprint">

<div class="L1"><span class="pp-ln">   1 </span><span class="pp-pln"></span><span class="pp-kwd">$group</span></div><div class="L2"><span class="pp-ln">   2 </span><span class="pp-pln">    </span><span class="pp-kwd">$params</span><span class="pp-pln"> name</span></div><div class="L3"><span class="pp-ln">   3 </span><span class="pp-pln">    </span><span class="pp-tag">_</span><span class="pp-pln"> expect(</span><span class="pp-kwd">${</span><span class="pp-expr">name</span><span class="pp-kwd">}</span><span class="pp-pln">).to.be(undefined)</span></div></pre>
                    </div>
                </div>
                <div class="code-panel" id="d156">
                    <div class="modal-view-container">
                        <h4 class="d-h2">/src/ittf/tests/t/tobe.js.ittf</h4>
                        <pre class="prettyprint">

<div class="L1"><span class="pp-ln">   1 </span><span class="pp-pln"></span><span class="pp-kwd">$group</span></div><div class="L2"><span class="pp-ln">   2 </span><span class="pp-pln">    </span><span class="pp-kwd">$params</span><span class="pp-pln"> name, value</span></div><div class="L3"><span class="pp-ln">   3 </span><span class="pp-pln">    </span><span class="pp-tag">#</span><span class="pp-pln"> strict equality</span></div><div class="L4"><span class="pp-ln">   4 </span><span class="pp-pln">    </span><span class="pp-tag">_</span><span class="pp-pln"> expect(</span><span class="pp-kwd">${</span><span class="pp-expr">name</span><span class="pp-kwd">}</span><span class="pp-pln">).to.be(</span><span class="pp-kwd">${</span><span class="pp-expr">value</span><span class="pp-kwd">}</span><span class="pp-pln">)</span></div></pre>
                    </div>
                </div>
                <div class="code-panel" id="d157">
                    <div class="modal-view-container">
                        <h4 class="d-h2">/src/ittf/tests/util/ittf__copy/folder_one/gc_two.ittf</h4>
                        <pre class="prettyprint">

<div class="L1"><span class="pp-ln">   1 </span><span class="pp-pln"></span><span class="pp-tag">Cannot load this ittf document: Malformed tree, only one root note allowed.
In node: second one row: 2 col: 1 file: c:\my\wizzi\v5\kernel\wizzi-utils\src\ittf\tests\util\ittf__copy\folder_one\gc_two.ittf: Error created for trace.</span></div></pre>
                    </div>
                </div>
                <div class="code-panel" id="d158">
                    <div class="modal-view-container">
                        <h4 class="d-h2">/src/ittf/tests/util/ittf__copy/gc_one.ittf</h4>
                        <pre class="prettyprint">

<div class="L1"><span class="pp-ln">   1 </span><span class="pp-pln"></span><span class="pp-tag">Cannot load this ittf document: Malformed tree, only one root note allowed.
In node: second one row: 2 col: 1 file: c:\my\wizzi\v5\kernel\wizzi-utils\src\ittf\tests\util\ittf__copy\gc_one.ittf: Error created for trace.</span></div></pre>
                    </div>
                </div>
                <div class="code-panel" id="d159">
                    <div class="modal-view-container">
                        <h4 class="d-h2">/src/ittf/tests/util/t/verify/convert.js.ittf</h4>
                        <pre class="prettyprint">

<div class="L1"><span class="pp-ln">   1 </span><span class="pp-pln"></span><span class="pp-kwd">$group</span></div><div class="L2"><span class="pp-ln">   2 </span><span class="pp-pln">    </span><span class="pp-tag">it</span><span class="pp-pln"> should convert string values to types</span></div><div class="L3"><span class="pp-ln">   3 </span><span class="pp-pln">        </span><span class="pp-tag">var</span><span class="pp-pln"> expected</span></div><div class="L4"><span class="pp-ln">   4 </span><span class="pp-pln">        </span><span class="pp-tag">var</span><span class="pp-pln"> result = verify.convert('', 'string')</span></div><div class="L5"><span class="pp-ln">   5 </span><span class="pp-pln">        </span><span class="pp-tag">log</span><span class="pp-pln"> ' "" result', result</span></div><div class="L6"><span class="pp-ln">   6 </span><span class="pp-pln">        </span><span class="pp-tag">set</span><span class="pp-pln"> expected = ''</span></div><div class="L7"><span class="pp-ln">   7 </span><span class="pp-pln">        </span><span class="pp-mix frag-to-link-a" data-frag-id="d156">tobe(</span><span class="pp-arg"> result</span><span class="pp-pln">,</span><span class="pp-arg">  expected</span><span class="pp-mix">)</span></div><div class="L8"><span class="pp-ln">   8 </span><span class="pp-pln">        </span><span class="pp-tag">set</span><span class="pp-pln"> result = verify.convert(null, 'string')</span></div><div class="L9"><span class="pp-ln">   9 </span><span class="pp-pln">        </span><span class="pp-tag">log</span><span class="pp-pln"> ' "" result', result</span></div><div class="L0"><span class="pp-ln">  10 </span><span class="pp-pln">        </span><span class="pp-tag">set</span><span class="pp-pln"> expected = ''</span></div><div class="L1"><span class="pp-ln">  11 </span><span class="pp-pln">        </span><span class="pp-mix frag-to-link-a" data-frag-id="d156">tobe(</span><span class="pp-arg"> result</span><span class="pp-pln">,</span><span class="pp-arg">  expected</span><span class="pp-mix">)</span></div><div class="L2"><span class="pp-ln">  12 </span><span class="pp-pln">        </span><span class="pp-tag">set</span><span class="pp-pln"> result = verify.convert('alfa', 'string')</span></div><div class="L3"><span class="pp-ln">  13 </span><span class="pp-pln">        </span><span class="pp-tag">set</span><span class="pp-pln"> expected = 'alfa'</span></div><div class="L4"><span class="pp-ln">  14 </span><span class="pp-pln">        </span><span class="pp-mix frag-to-link-a" data-frag-id="d156">tobe(</span><span class="pp-arg"> result</span><span class="pp-pln">,</span><span class="pp-arg">  expected</span><span class="pp-mix">)</span></div><div class="L5"><span class="pp-ln">  15 </span><span class="pp-pln">        </span><span class="pp-tag">set</span><span class="pp-pln"> result = verify.convert('"alfa"', 'string', true)</span></div><div class="L6"><span class="pp-ln">  16 </span><span class="pp-pln">        </span><span class="pp-mix frag-to-link-a" data-frag-id="d156">tobe(</span><span class="pp-arg"> result</span><span class="pp-pln">,</span><span class="pp-arg">  expected</span><span class="pp-mix">)</span></div><div class="L7"><span class="pp-ln">  17 </span><span class="pp-pln">        </span><span class="pp-tag">set</span><span class="pp-pln"> result = verify.convert('0', 'integer')</span></div><div class="L8"><span class="pp-ln">  18 </span><span class="pp-pln">        </span><span class="pp-mix frag-to-link-a" data-frag-id="d156">tobe(</span><span class="pp-arg"> result</span><span class="pp-pln">,</span><span class="pp-arg">  0</span><span class="pp-mix">)</span></div><div class="L9"><span class="pp-ln">  19 </span><span class="pp-pln">        </span><span class="pp-tag">set</span><span class="pp-pln"> result = verify.convert('-10', 'integer')</span></div><div class="L0"><span class="pp-ln">  20 </span><span class="pp-pln">        </span><span class="pp-mix frag-to-link-a" data-frag-id="d156">tobe(</span><span class="pp-arg"> result</span><span class="pp-pln">,</span><span class="pp-arg">  -10</span><span class="pp-mix">)</span></div><div class="L1"><span class="pp-ln">  21 </span><span class="pp-pln">        </span><span class="pp-tag">set</span><span class="pp-pln"> result = verify.convert('20', 'integer')</span></div><div class="L2"><span class="pp-ln">  22 </span><span class="pp-pln">        </span><span class="pp-mix frag-to-link-a" data-frag-id="d156">tobe(</span><span class="pp-arg"> result</span><span class="pp-pln">,</span><span class="pp-arg">  20</span><span class="pp-mix">)</span></div><div class="L3"><span class="pp-ln">  23 </span><span class="pp-pln">        </span><span class="pp-tag">set</span><span class="pp-pln"> result = verify.convert('20.5', 'float')</span></div><div class="L4"><span class="pp-ln">  24 </span><span class="pp-pln">        </span><span class="pp-mix frag-to-link-a" data-frag-id="d156">tobe(</span><span class="pp-arg"> result</span><span class="pp-pln">,</span><span class="pp-arg">  20.5</span><span class="pp-mix">)</span></div><div class="L5"><span class="pp-ln">  25 </span><span class="pp-pln">        </span><span class="pp-tag">set</span><span class="pp-pln"> result = verify.convert('0.5', 'float')</span></div><div class="L6"><span class="pp-ln">  26 </span><span class="pp-pln">        </span><span class="pp-mix frag-to-link-a" data-frag-id="d156">tobe(</span><span class="pp-arg"> result</span><span class="pp-pln">,</span><span class="pp-arg">  0.5</span><span class="pp-mix">)</span></div><div class="L7"><span class="pp-ln">  27 </span><span class="pp-pln">        </span><span class="pp-tag">set</span><span class="pp-pln"> result = verify.convert('true', 'boolean')</span></div><div class="L8"><span class="pp-ln">  28 </span><span class="pp-pln">        </span><span class="pp-mix frag-to-link-a" data-frag-id="d156">tobe(</span><span class="pp-arg"> result</span><span class="pp-pln">,</span><span class="pp-arg">  true</span><span class="pp-mix">)</span></div><div class="L9"><span class="pp-ln">  29 </span><span class="pp-pln">        </span><span class="pp-tag">set</span><span class="pp-pln"> result = verify.convert('false', 'boolean')</span></div><div class="L0"><span class="pp-ln">  30 </span><span class="pp-pln">        </span><span class="pp-mix frag-to-link-a" data-frag-id="d156">tobe(</span><span class="pp-arg"> result</span><span class="pp-pln">,</span><span class="pp-arg">  false</span><span class="pp-mix">)</span></div><div class="L1"><span class="pp-ln">  31 </span><span class="pp-pln">        </span><span class="pp-tag">set</span><span class="pp-pln"> result = verify.convert('1990-5-12', 'date')</span></div><div class="L2"><span class="pp-ln">  32 </span><span class="pp-pln">        </span><span class="pp-tag">set</span><span class="pp-pln"> expected = new Date(1990, 4, 12)</span></div><div class="L3"><span class="pp-ln">  33 </span><span class="pp-pln">        </span><span class="pp-tag">log</span><span class="pp-pln"> 'expected', expected</span></div><div class="L4"><span class="pp-ln">  34 </span><span class="pp-pln">        </span><span class="pp-mix frag-to-link-a" data-frag-id="d147">tobe_eql(</span><span class="pp-arg"> result</span><span class="pp-pln">,</span><span class="pp-arg">  expected</span><span class="pp-mix">)</span></div><div class="L5"><span class="pp-ln">  35 </span><span class="pp-pln">        </span><span class="pp-tag">set</span><span class="pp-pln"> result = verify.convert('1990/5/12', 'date')</span></div><div class="L6"><span class="pp-ln">  36 </span><span class="pp-pln">        </span><span class="pp-tag">log</span><span class="pp-pln"> 'date 1990/5/12 result', result</span></div><div class="L7"><span class="pp-ln">  37 </span><span class="pp-pln">        </span><span class="pp-mix frag-to-link-a" data-frag-id="d154">tobe_true(</span><span class="pp-arg"> result.__is_error </span><span class="pp-mix">)</span></div><div class="L8"><span class="pp-ln">  38 </span><span class="pp-pln">        </span><span class="pp-tag">set</span><span class="pp-pln"> result = verify.convert('yes', 'boolean')</span></div><div class="L9"><span class="pp-ln">  39 </span><span class="pp-pln">        </span><span class="pp-mix frag-to-link-a" data-frag-id="d154">tobe_true(</span><span class="pp-arg"> result.__is_error </span><span class="pp-mix">)</span></div><div class="L0"><span class="pp-ln">  40 </span><span class="pp-pln">        </span><span class="pp-tag">set</span><span class="pp-pln"> result = verify.convert('1.10', 'integer')</span></div><div class="L1"><span class="pp-ln">  41 </span><span class="pp-pln">        </span><span class="pp-mix frag-to-link-a" data-frag-id="d154">tobe_true(</span><span class="pp-arg"> result.__is_error </span><span class="pp-mix">)</span></div><div class="L2"><span class="pp-ln">  42 </span><span class="pp-pln">        </span><span class="pp-tag">set</span><span class="pp-pln"> result = verify.convert('alfa', 'float')</span></div><div class="L3"><span class="pp-ln">  43 </span><span class="pp-pln">        </span><span class="pp-mix frag-to-link-a" data-frag-id="d154">tobe_true(</span><span class="pp-arg"> result.__is_error </span><span class="pp-mix">)</span></div></pre>
                    </div>
                </div>
                <div class="code-panel" id="d160">
                    <div class="modal-view-container">
                        <h4 class="d-h2">/src/ittf/tests/util/t/verify/paths.js.ittf</h4>
                        <pre class="prettyprint">

<div class="L1"><span class="pp-ln">   1 </span><span class="pp-pln"></span><span class="pp-kwd">$group</span></div><div class="L2"><span class="pp-ln">   2 </span><span class="pp-pln">    </span><span class="pp-tag">it</span><span class="pp-pln"> should strip an extension</span></div><div class="L3"><span class="pp-ln">   3 </span><span class="pp-pln">        </span><span class="pp-tag">var</span><span class="pp-pln"> expected</span></div><div class="L4"><span class="pp-ln">   4 </span><span class="pp-pln">        </span><span class="pp-tag">var</span><span class="pp-pln"> result = verify.stripExtension('aaa.bbb.ccc')</span></div><div class="L5"><span class="pp-ln">   5 </span><span class="pp-pln">        </span><span class="pp-mix frag-to-link-a" data-frag-id="d153">tobe_string(</span><span class="pp-arg"> result</span><span class="pp-pln">,</span><span class="pp-arg">  aaa.bbb </span><span class="pp-mix">)</span></div><div class="L6"><span class="pp-ln">   6 </span><span class="pp-pln">        </span><span class="pp-tag">var</span><span class="pp-pln"> result = verify.replaceExtension('aaa.bbb.ccc', 'ddd')</span></div><div class="L7"><span class="pp-ln">   7 </span><span class="pp-pln">        </span><span class="pp-mix frag-to-link-a" data-frag-id="d153">tobe_string(</span><span class="pp-arg"> result</span><span class="pp-pln">,</span><span class="pp-arg">  aaa.bbb.ddd </span><span class="pp-mix">)</span></div></pre>
                    </div>
                </div>
                <div class="code-panel" id="d161">
                    <div class="modal-view-container">
                        <h4 class="d-h2">/src/ittf/tests/util/t/vfile_async/glob.js.ittf</h4>
                        <pre class="prettyprint">

<div class="L1"><span class="pp-ln">   1 </span><span class="pp-pln"></span><span class="pp-kwd">$group</span></div><div class="L2"><span class="pp-ln">   2 </span><span class="pp-pln">    </span><span class="pp-tag">it-async</span><span class="pp-pln"> should async get files in a basefolder</span></div><div class="L3"><span class="pp-ln">   3 </span><span class="pp-pln">        </span><span class="pp-tag">_</span><span class="pp-pln"> file.write</span></div><div class="L4"><span class="pp-ln">   4 </span><span class="pp-pln">            </span><span class="pp-tag">_</span><span class="pp-pln"> path.join</span></div><div class="L5"><span class="pp-ln">   5 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> __dirname</span></div><div class="L6"><span class="pp-ln">   6 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> 'ittf'</span></div><div class="L7"><span class="pp-ln">   7 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> 'globs'</span></div><div class="L8"><span class="pp-ln">   8 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> 'globbed_1.ittf'</span></div><div class="L9"><span class="pp-ln">   9 </span><span class="pp-pln">            </span><span class="pp-tag">@</span><span class="pp-pln"> 'globbed 1'</span></div><div class="L0"><span class="pp-ln">  10 </span><span class="pp-pln">        </span><span class="pp-tag">_</span><span class="pp-pln"> file.write</span></div><div class="L1"><span class="pp-ln">  11 </span><span class="pp-pln">            </span><span class="pp-tag">_</span><span class="pp-pln"> path.join</span></div><div class="L2"><span class="pp-ln">  12 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> __dirname</span></div><div class="L3"><span class="pp-ln">  13 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> 'ittf'</span></div><div class="L4"><span class="pp-ln">  14 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> 'globs'</span></div><div class="L5"><span class="pp-ln">  15 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> 'globbed_2.ittf'</span></div><div class="L6"><span class="pp-ln">  16 </span><span class="pp-pln">            </span><span class="pp-tag">@</span><span class="pp-pln"> 'globbed 2'</span></div><div class="L7"><span class="pp-ln">  17 </span><span class="pp-pln">        </span><span class="pp-tag">_</span><span class="pp-pln"> file.getFiles</span></div><div class="L8"><span class="pp-ln">  18 </span><span class="pp-pln">            </span><span class="pp-tag">_</span><span class="pp-pln"> path.join</span></div><div class="L9"><span class="pp-ln">  19 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> __dirname</span></div><div class="L0"><span class="pp-ln">  20 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> 'ittf'</span></div><div class="L1"><span class="pp-ln">  21 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> 'globs'</span></div><div class="L2"><span class="pp-ln">  22 </span><span class="pp-pln">            </span><span class="pp-tag">{</span></div><div class="L3"><span class="pp-ln">  23 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> deep false</span></div><div class="L4"><span class="pp-ln">  24 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> extension null</span></div><div class="L5"><span class="pp-ln">  25 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> documentContent false</span></div><div class="L6"><span class="pp-ln">  26 </span><span class="pp-pln">            </span><span class="pp-mix frag-to-link-a" data-frag-id="d144">f_cb_test(</span><span class="pp-arg"> files </span><span class="pp-mix">)</span></div><div class="L7"><span class="pp-ln">  27 </span><span class="pp-pln">                </span><span class="pp-tag">log</span><span class="pp-pln"> 'should get files in a basefolder - files', files</span></div><div class="L8"><span class="pp-ln">  28 </span><span class="pp-pln">                </span><span class="pp-mix frag-to-link-a" data-frag-id="d146">tobe_array(</span><span class="pp-arg"> files</span><span class="pp-pln">,</span><span class="pp-arg">  2 </span><span class="pp-mix">)</span></div><div class="L9"><span class="pp-ln">  29 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> done</span></div><div class="L0"><span class="pp-ln">  30 </span><span class="pp-pln">    </span><span class="pp-tag">it-async</span><span class="pp-pln"> should get async files with content in a basefolder</span></div><div class="L1"><span class="pp-ln">  31 </span><span class="pp-pln">        </span><span class="pp-tag">_</span><span class="pp-pln"> file.getFiles</span></div><div class="L2"><span class="pp-ln">  32 </span><span class="pp-pln">            </span><span class="pp-tag">_</span><span class="pp-pln"> path.join</span></div><div class="L3"><span class="pp-ln">  33 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> __dirname</span></div><div class="L4"><span class="pp-ln">  34 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> 'ittf'</span></div><div class="L5"><span class="pp-ln">  35 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> 'globs'</span></div><div class="L6"><span class="pp-ln">  36 </span><span class="pp-pln">            </span><span class="pp-tag">{</span></div><div class="L7"><span class="pp-ln">  37 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> deep false</span></div><div class="L8"><span class="pp-ln">  38 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> extension null</span></div><div class="L9"><span class="pp-ln">  39 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> documentContent true</span></div><div class="L0"><span class="pp-ln">  40 </span><span class="pp-pln">            </span><span class="pp-mix frag-to-link-a" data-frag-id="d144">f_cb_test(</span><span class="pp-arg"> files </span><span class="pp-mix">)</span></div><div class="L1"><span class="pp-ln">  41 </span><span class="pp-pln">                </span><span class="pp-mix frag-to-link-a" data-frag-id="d146">tobe_array(</span><span class="pp-arg"> files</span><span class="pp-pln">,</span><span class="pp-arg">  2 </span><span class="pp-mix">)</span></div><div class="L2"><span class="pp-ln">  42 </span><span class="pp-pln">                </span><span class="pp-mix frag-to-link-a" data-frag-id="d153">tobe_string(</span><span class="pp-arg"> files[0].content</span><span class="pp-pln">,</span><span class="pp-arg">  globbed 1 </span><span class="pp-mix">)</span></div><div class="L3"><span class="pp-ln">  43 </span><span class="pp-pln">                </span><span class="pp-mix frag-to-link-a" data-frag-id="d153">tobe_string(</span><span class="pp-arg"> files[0].relPath</span><span class="pp-pln">,</span><span class="pp-arg">  globbed_1.ittf </span><span class="pp-mix">)</span></div><div class="L4"><span class="pp-ln">  44 </span><span class="pp-pln">                </span><span class="pp-mix frag-to-link-a" data-frag-id="d153">tobe_string(</span><span class="pp-arg"> files[1].content</span><span class="pp-pln">,</span><span class="pp-arg">  globbed 2 </span><span class="pp-mix">)</span></div><div class="L5"><span class="pp-ln">  45 </span><span class="pp-pln">                </span><span class="pp-mix frag-to-link-a" data-frag-id="d153">tobe_string(</span><span class="pp-arg"> files[1].relPath</span><span class="pp-pln">,</span><span class="pp-arg">  globbed_2.ittf </span><span class="pp-mix">)</span></div><div class="L6"><span class="pp-ln">  46 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> done</span></div><div class="L7"><span class="pp-ln">  47 </span><span class="pp-pln">    </span><span class="pp-tag">it-async</span><span class="pp-pln"> should async get folders in a basefolder</span></div><div class="L8"><span class="pp-ln">  48 </span><span class="pp-pln">        </span><span class="pp-tag">_</span><span class="pp-pln"> file.write</span></div><div class="L9"><span class="pp-ln">  49 </span><span class="pp-pln">            </span><span class="pp-tag">_</span><span class="pp-pln"> path.join</span></div><div class="L0"><span class="pp-ln">  50 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> __dirname</span></div><div class="L1"><span class="pp-ln">  51 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> 'ittf'</span></div><div class="L2"><span class="pp-ln">  52 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> 'globs'</span></div><div class="L3"><span class="pp-ln">  53 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> 'one'</span></div><div class="L4"><span class="pp-ln">  54 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> 'globbed_1.ittf'</span></div><div class="L5"><span class="pp-ln">  55 </span><span class="pp-pln">            </span><span class="pp-tag">@</span><span class="pp-pln"> 'globbed 1'</span></div><div class="L6"><span class="pp-ln">  56 </span><span class="pp-pln">        </span><span class="pp-tag">_</span><span class="pp-pln"> file.write</span></div><div class="L7"><span class="pp-ln">  57 </span><span class="pp-pln">            </span><span class="pp-tag">_</span><span class="pp-pln"> path.join</span></div><div class="L8"><span class="pp-ln">  58 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> __dirname</span></div><div class="L9"><span class="pp-ln">  59 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> 'ittf'</span></div><div class="L0"><span class="pp-ln">  60 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> 'globs'</span></div><div class="L1"><span class="pp-ln">  61 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> 'two'</span></div><div class="L2"><span class="pp-ln">  62 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> 'globbed_2.ittf'</span></div><div class="L3"><span class="pp-ln">  63 </span><span class="pp-pln">            </span><span class="pp-tag">@</span><span class="pp-pln"> 'globbed 2'</span></div><div class="L4"><span class="pp-ln">  64 </span><span class="pp-pln">        </span><span class="pp-tag">_</span><span class="pp-pln"> file.getFolders</span></div><div class="L5"><span class="pp-ln">  65 </span><span class="pp-pln">            </span><span class="pp-tag">_</span><span class="pp-pln"> path.join</span></div><div class="L6"><span class="pp-ln">  66 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> __dirname</span></div><div class="L7"><span class="pp-ln">  67 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> 'ittf'</span></div><div class="L8"><span class="pp-ln">  68 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> 'globs'</span></div><div class="L9"><span class="pp-ln">  69 </span><span class="pp-pln">            </span><span class="pp-tag">{</span></div><div class="L0"><span class="pp-ln">  70 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> deep false</span></div><div class="L1"><span class="pp-ln">  71 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> tFoldersOnly false</span></div><div class="L2"><span class="pp-ln">  72 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> documentNames false</span></div><div class="L3"><span class="pp-ln">  73 </span><span class="pp-pln">            </span><span class="pp-mix frag-to-link-a" data-frag-id="d144">f_cb_test(</span><span class="pp-arg"> folders </span><span class="pp-mix">)</span></div><div class="L4"><span class="pp-ln">  74 </span><span class="pp-pln">                </span><span class="pp-tag">log</span><span class="pp-pln"> 'folders', folders</span></div><div class="L5"><span class="pp-ln">  75 </span><span class="pp-pln">                </span><span class="pp-mix frag-to-link-a" data-frag-id="d146">tobe_array(</span><span class="pp-arg"> folders</span><span class="pp-pln">,</span><span class="pp-arg">  2 </span><span class="pp-mix">)</span></div><div class="L6"><span class="pp-ln">  76 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> done</span></div><div class="L7"><span class="pp-ln">  77 </span><span class="pp-pln">    </span><span class="pp-tag">it-async</span><span class="pp-pln"> should async get folders in a basefolder deep</span></div><div class="L8"><span class="pp-ln">  78 </span><span class="pp-pln">        </span><span class="pp-tag">_</span><span class="pp-pln"> file.write</span></div><div class="L9"><span class="pp-ln">  79 </span><span class="pp-pln">            </span><span class="pp-tag">_</span><span class="pp-pln"> path.join</span></div><div class="L0"><span class="pp-ln">  80 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> __dirname</span></div><div class="L1"><span class="pp-ln">  81 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> 'ittf'</span></div><div class="L2"><span class="pp-ln">  82 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> 'globs'</span></div><div class="L3"><span class="pp-ln">  83 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> 'one'</span></div><div class="L4"><span class="pp-ln">  84 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> 'deep'</span></div><div class="L5"><span class="pp-ln">  85 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> 'globbed_1deep.ittf'</span></div><div class="L6"><span class="pp-ln">  86 </span><span class="pp-pln">            </span><span class="pp-tag">@</span><span class="pp-pln"> 'globbed 1 deep'</span></div><div class="L7"><span class="pp-ln">  87 </span><span class="pp-pln">        </span><span class="pp-tag">_</span><span class="pp-pln"> file.write</span></div><div class="L8"><span class="pp-ln">  88 </span><span class="pp-pln">            </span><span class="pp-tag">_</span><span class="pp-pln"> path.join</span></div><div class="L9"><span class="pp-ln">  89 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> __dirname</span></div><div class="L0"><span class="pp-ln">  90 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> 'ittf'</span></div><div class="L1"><span class="pp-ln">  91 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> 'globs'</span></div><div class="L2"><span class="pp-ln">  92 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> 'two'</span></div><div class="L3"><span class="pp-ln">  93 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> 'deep'</span></div><div class="L4"><span class="pp-ln">  94 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> 'globbed_2deep.ittf'</span></div><div class="L5"><span class="pp-ln">  95 </span><span class="pp-pln">            </span><span class="pp-tag">@</span><span class="pp-pln"> 'globbed 2 deep'</span></div><div class="L6"><span class="pp-ln">  96 </span><span class="pp-pln">        </span><span class="pp-tag">_</span><span class="pp-pln"> file.getFolders</span></div><div class="L7"><span class="pp-ln">  97 </span><span class="pp-pln">            </span><span class="pp-tag">_</span><span class="pp-pln"> path.join</span></div><div class="L8"><span class="pp-ln">  98 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> __dirname</span></div><div class="L9"><span class="pp-ln">  99 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> 'ittf'</span></div><div class="L0"><span class="pp-ln"> 100 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> 'globs'</span></div><div class="L1"><span class="pp-ln"> 101 </span><span class="pp-pln">            </span><span class="pp-tag">{</span></div><div class="L2"><span class="pp-ln"> 102 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> deep true</span></div><div class="L3"><span class="pp-ln"> 103 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> tFoldersOnly false</span></div><div class="L4"><span class="pp-ln"> 104 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> documentNames false</span></div><div class="L5"><span class="pp-ln"> 105 </span><span class="pp-pln">            </span><span class="pp-mix frag-to-link-a" data-frag-id="d144">f_cb_test(</span><span class="pp-arg"> folders </span><span class="pp-mix">)</span></div><div class="L6"><span class="pp-ln"> 106 </span><span class="pp-pln">                </span><span class="pp-tag">log</span><span class="pp-pln"> 'folders', folders</span></div><div class="L7"><span class="pp-ln"> 107 </span><span class="pp-pln">                </span><span class="pp-mix frag-to-link-a" data-frag-id="d146">tobe_array(</span><span class="pp-arg"> folders</span><span class="pp-pln">,</span><span class="pp-arg">  4 </span><span class="pp-mix">)</span></div><div class="L8"><span class="pp-ln"> 108 </span><span class="pp-pln">                </span><span class="pp-mix frag-to-link-a" data-frag-id="d153">tobe_string(</span><span class="pp-arg"> folders[0].relPath</span><span class="pp-pln">,</span><span class="pp-arg">  one </span><span class="pp-mix">)</span></div><div class="L9"><span class="pp-ln"> 109 </span><span class="pp-pln">                </span><span class="pp-mix frag-to-link-a" data-frag-id="d153">tobe_string(</span><span class="pp-arg"> folders[1].relPath</span><span class="pp-pln">,</span><span class="pp-arg">  two </span><span class="pp-mix">)</span></div><div class="L0"><span class="pp-ln"> 110 </span><span class="pp-pln">                </span><span class="pp-mix frag-to-link-a" data-frag-id="d153">tobe_string(</span><span class="pp-arg"> folders[2].relPath</span><span class="pp-pln">,</span><span class="pp-arg">  one/deep </span><span class="pp-mix">)</span></div><div class="L1"><span class="pp-ln"> 111 </span><span class="pp-pln">                </span><span class="pp-mix frag-to-link-a" data-frag-id="d153">tobe_string(</span><span class="pp-arg"> folders[3].relPath</span><span class="pp-pln">,</span><span class="pp-arg">  two/deep </span><span class="pp-mix">)</span></div><div class="L2"><span class="pp-ln"> 112 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> done</span></div><div class="L3"><span class="pp-ln"> 113 </span><span class="pp-pln">    </span><span class="pp-tag">it-async</span><span class="pp-pln"> should async get folders in a basefolder deep with document names</span></div><div class="L4"><span class="pp-ln"> 114 </span><span class="pp-pln">        </span><span class="pp-tag">_</span><span class="pp-pln"> file.write</span></div><div class="L5"><span class="pp-ln"> 115 </span><span class="pp-pln">            </span><span class="pp-tag">_</span><span class="pp-pln"> path.join</span></div><div class="L6"><span class="pp-ln"> 116 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> __dirname</span></div><div class="L7"><span class="pp-ln"> 117 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> 'ittf'</span></div><div class="L8"><span class="pp-ln"> 118 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> 'globs'</span></div><div class="L9"><span class="pp-ln"> 119 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> 'one'</span></div><div class="L0"><span class="pp-ln"> 120 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> 'deep'</span></div><div class="L1"><span class="pp-ln"> 121 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> 'globbed_1deep.ittf'</span></div><div class="L2"><span class="pp-ln"> 122 </span><span class="pp-pln">            </span><span class="pp-tag">@</span><span class="pp-pln"> 'globbed 1 deep'</span></div><div class="L3"><span class="pp-ln"> 123 </span><span class="pp-pln">        </span><span class="pp-tag">_</span><span class="pp-pln"> file.write</span></div><div class="L4"><span class="pp-ln"> 124 </span><span class="pp-pln">            </span><span class="pp-tag">_</span><span class="pp-pln"> path.join</span></div><div class="L5"><span class="pp-ln"> 125 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> __dirname</span></div><div class="L6"><span class="pp-ln"> 126 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> 'ittf'</span></div><div class="L7"><span class="pp-ln"> 127 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> 'globs'</span></div><div class="L8"><span class="pp-ln"> 128 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> 'two'</span></div><div class="L9"><span class="pp-ln"> 129 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> 'deep'</span></div><div class="L0"><span class="pp-ln"> 130 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> 'globbed_2deep.ittf'</span></div><div class="L1"><span class="pp-ln"> 131 </span><span class="pp-pln">            </span><span class="pp-tag">@</span><span class="pp-pln"> 'globbed 2 deep'</span></div><div class="L2"><span class="pp-ln"> 132 </span><span class="pp-pln">        </span><span class="pp-tag">_</span><span class="pp-pln"> file.getFolders</span></div><div class="L3"><span class="pp-ln"> 133 </span><span class="pp-pln">            </span><span class="pp-tag">_</span><span class="pp-pln"> path.join</span></div><div class="L4"><span class="pp-ln"> 134 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> __dirname</span></div><div class="L5"><span class="pp-ln"> 135 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> 'ittf'</span></div><div class="L6"><span class="pp-ln"> 136 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> 'globs'</span></div><div class="L7"><span class="pp-ln"> 137 </span><span class="pp-pln">            </span><span class="pp-tag">{</span></div><div class="L8"><span class="pp-ln"> 138 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> deep true</span></div><div class="L9"><span class="pp-ln"> 139 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> tFoldersOnly false</span></div><div class="L0"><span class="pp-ln"> 140 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> documentNames true</span></div><div class="L1"><span class="pp-ln"> 141 </span><span class="pp-pln">            </span><span class="pp-mix frag-to-link-a" data-frag-id="d144">f_cb_test(</span><span class="pp-arg"> folders </span><span class="pp-mix">)</span></div><div class="L2"><span class="pp-ln"> 142 </span><span class="pp-pln">                </span><span class="pp-tag">log</span><span class="pp-pln"> ''</span></div><div class="L3"><span class="pp-ln"> 143 </span><span class="pp-pln">                </span><span class="pp-tag">log</span><span class="pp-pln"> ''</span></div><div class="L4"><span class="pp-ln"> 144 </span><span class="pp-pln">                </span><span class="pp-tag">log</span><span class="pp-pln"> '*** folders', folders</span></div><div class="L5"><span class="pp-ln"> 145 </span><span class="pp-pln">                </span><span class="pp-mix frag-to-link-a" data-frag-id="d146">tobe_array(</span><span class="pp-arg"> folders</span><span class="pp-pln">,</span><span class="pp-arg">  4 </span><span class="pp-mix">)</span></div><div class="L6"><span class="pp-ln"> 146 </span><span class="pp-pln">                </span><span class="pp-mix frag-to-link-a" data-frag-id="d146">tobe_array(</span><span class="pp-arg"> folders[0].documents</span><span class="pp-pln">,</span><span class="pp-arg">  1 </span><span class="pp-mix">)</span></div><div class="L7"><span class="pp-ln"> 147 </span><span class="pp-pln">                </span><span class="pp-mix frag-to-link-a" data-frag-id="d146">tobe_array(</span><span class="pp-arg"> folders[1].documents</span><span class="pp-pln">,</span><span class="pp-arg">  1 </span><span class="pp-mix">)</span></div><div class="L8"><span class="pp-ln"> 148 </span><span class="pp-pln">                </span><span class="pp-mix frag-to-link-a" data-frag-id="d146">tobe_array(</span><span class="pp-arg"> folders[2].documents</span><span class="pp-pln">,</span><span class="pp-arg">  1 </span><span class="pp-mix">)</span></div><div class="L9"><span class="pp-ln"> 149 </span><span class="pp-pln">                </span><span class="pp-mix frag-to-link-a" data-frag-id="d146">tobe_array(</span><span class="pp-arg"> folders[3].documents</span><span class="pp-pln">,</span><span class="pp-arg">  1 </span><span class="pp-mix">)</span></div><div class="L0"><span class="pp-ln"> 150 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> done</span></div><div class="L1"><span class="pp-ln"> 151 </span><span class="pp-pln">    </span><span class="pp-tag">it-async</span><span class="pp-pln"> should async glob a folder</span></div><div class="L2"><span class="pp-ln"> 152 </span><span class="pp-pln">        </span><span class="pp-tag">_</span><span class="pp-pln"> file.write</span></div><div class="L3"><span class="pp-ln"> 153 </span><span class="pp-pln">            </span><span class="pp-tag">_</span><span class="pp-pln"> path.join</span></div><div class="L4"><span class="pp-ln"> 154 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> __dirname</span></div><div class="L5"><span class="pp-ln"> 155 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> 'ittf'</span></div><div class="L6"><span class="pp-ln"> 156 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> 'globs2'</span></div><div class="L7"><span class="pp-ln"> 157 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> 'globbed_1.ittf'</span></div><div class="L8"><span class="pp-ln"> 158 </span><span class="pp-pln">            </span><span class="pp-tag">@</span><span class="pp-pln"> 'globbed 1'</span></div><div class="L9"><span class="pp-ln"> 159 </span><span class="pp-pln">        </span><span class="pp-tag">_</span><span class="pp-pln"> file.write</span></div><div class="L0"><span class="pp-ln"> 160 </span><span class="pp-pln">            </span><span class="pp-tag">_</span><span class="pp-pln"> path.join</span></div><div class="L1"><span class="pp-ln"> 161 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> __dirname</span></div><div class="L2"><span class="pp-ln"> 162 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> 'ittf'</span></div><div class="L3"><span class="pp-ln"> 163 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> 'globs2'</span></div><div class="L4"><span class="pp-ln"> 164 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> 'globbed_2.ittf'</span></div><div class="L5"><span class="pp-ln"> 165 </span><span class="pp-pln">            </span><span class="pp-tag">@</span><span class="pp-pln"> 'globbed 2'</span></div><div class="L6"><span class="pp-ln"> 166 </span><span class="pp-pln">        </span><span class="pp-tag">_</span><span class="pp-pln"> file.write</span></div><div class="L7"><span class="pp-ln"> 167 </span><span class="pp-pln">            </span><span class="pp-tag">_</span><span class="pp-pln"> path.join</span></div><div class="L8"><span class="pp-ln"> 168 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> __dirname</span></div><div class="L9"><span class="pp-ln"> 169 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> 'ittf'</span></div><div class="L0"><span class="pp-ln"> 170 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> 'globs2'</span></div><div class="L1"><span class="pp-ln"> 171 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> 'one'</span></div><div class="L2"><span class="pp-ln"> 172 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> 'globbed_2_one.ittf'</span></div><div class="L3"><span class="pp-ln"> 173 </span><span class="pp-pln">            </span><span class="pp-tag">@</span><span class="pp-pln"> 'globbed 2 one'</span></div><div class="L4"><span class="pp-ln"> 174 </span><span class="pp-pln">        </span><span class="pp-tag">_</span><span class="pp-pln"> file.getGlobbedFilesEx</span></div><div class="L5"><span class="pp-ln"> 175 </span><span class="pp-pln">            </span><span class="pp-tag">_</span><span class="pp-pln"> path.join</span></div><div class="L6"><span class="pp-ln"> 176 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> __dirname</span></div><div class="L7"><span class="pp-ln"> 177 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> 'ittf'</span></div><div class="L8"><span class="pp-ln"> 178 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> 'globs2'</span></div><div class="L9"><span class="pp-ln"> 179 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> '**/*.ittf'</span></div><div class="L0"><span class="pp-ln"> 180 </span><span class="pp-pln">            </span><span class="pp-tag">@</span><span class="pp-pln"> file</span></div><div class="L1"><span class="pp-ln"> 181 </span><span class="pp-pln">            </span><span class="pp-mix frag-to-link-a" data-frag-id="d144">f_cb_test(</span><span class="pp-arg"> result </span><span class="pp-mix">)</span></div><div class="L2"><span class="pp-ln"> 182 </span><span class="pp-pln">                </span><span class="pp-mix frag-to-link-a" data-frag-id="d146">tobe_array(</span><span class="pp-arg"> result</span><span class="pp-pln">,</span><span class="pp-arg">  3</span><span class="pp-mix">)</span></div><div class="L3"><span class="pp-ln"> 183 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> file.getGlobbedFilesEx</span></div><div class="L4"><span class="pp-ln"> 184 </span><span class="pp-pln">                    </span><span class="pp-tag">_</span><span class="pp-pln"> path.join</span></div><div class="L5"><span class="pp-ln"> 185 </span><span class="pp-pln">                        </span><span class="pp-tag">@</span><span class="pp-pln"> __dirname</span></div><div class="L6"><span class="pp-ln"> 186 </span><span class="pp-pln">                        </span><span class="pp-tag">@</span><span class="pp-pln"> 'ittf'</span></div><div class="L7"><span class="pp-ln"> 187 </span><span class="pp-pln">                        </span><span class="pp-tag">@</span><span class="pp-pln"> 'globs2'</span></div><div class="L8"><span class="pp-ln"> 188 </span><span class="pp-pln">                        </span><span class="pp-tag">@</span><span class="pp-pln"> '**/*.ittf'</span></div><div class="L9"><span class="pp-ln"> 189 </span><span class="pp-pln">                    </span><span class="pp-tag">{</span></div><div class="L0"><span class="pp-ln"> 190 </span><span class="pp-pln">                        </span><span class="pp-tag">@</span><span class="pp-pln"> removeRoot</span></div><div class="L1"><span class="pp-ln"> 191 </span><span class="pp-pln">                            </span><span class="pp-tag">_</span><span class="pp-pln"> path.join</span></div><div class="L2"><span class="pp-ln"> 192 </span><span class="pp-pln">                                </span><span class="pp-tag">@</span><span class="pp-pln"> __dirname</span></div><div class="L3"><span class="pp-ln"> 193 </span><span class="pp-pln">                                </span><span class="pp-tag">@</span><span class="pp-pln"> 'ittf'</span></div><div class="L4"><span class="pp-ln"> 194 </span><span class="pp-pln">                    </span><span class="pp-mix frag-to-link-a" data-frag-id="d144">f_cb_test(</span><span class="pp-arg"> result </span><span class="pp-mix">)</span></div><div class="L5"><span class="pp-ln"> 195 </span><span class="pp-pln">                        </span><span class="pp-mix frag-to-link-a" data-frag-id="d146">tobe_array(</span><span class="pp-arg"> result</span><span class="pp-pln">,</span><span class="pp-arg">  3</span><span class="pp-mix">)</span></div><div class="L6"><span class="pp-ln"> 196 </span><span class="pp-pln">                        </span><span class="pp-mix frag-to-link-a" data-frag-id="d153">tobe_string(</span><span class="pp-arg"> result[0]</span><span class="pp-pln">,</span><span class="pp-arg">  /globs2/globbed_1.ittf</span><span class="pp-mix">)</span></div><div class="L7"><span class="pp-ln"> 197 </span><span class="pp-pln">                        </span><span class="pp-tag">_</span><span class="pp-pln"> done</span></div></pre>
                    </div>
                </div>
                <div class="code-panel" id="d162">
                    <div class="modal-view-container">
                        <h4 class="d-h2">/src/ittf/tests/util/t/vfile/glob.js.ittf</h4>
                        <pre class="prettyprint">

<div class="L1"><span class="pp-ln">   1 </span><span class="pp-pln"></span><span class="pp-kwd">$group</span></div><div class="L2"><span class="pp-ln">   2 </span><span class="pp-pln">    </span><span class="pp-tag">it</span><span class="pp-pln"> should get files in a basefolder</span></div><div class="L3"><span class="pp-ln">   3 </span><span class="pp-pln">        </span><span class="pp-tag">_</span><span class="pp-pln"> file.write</span></div><div class="L4"><span class="pp-ln">   4 </span><span class="pp-pln">            </span><span class="pp-tag">_</span><span class="pp-pln"> path.join</span></div><div class="L5"><span class="pp-ln">   5 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> __dirname</span></div><div class="L6"><span class="pp-ln">   6 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> 'ittf'</span></div><div class="L7"><span class="pp-ln">   7 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> 'globs'</span></div><div class="L8"><span class="pp-ln">   8 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> 'globbed_1.ittf'</span></div><div class="L9"><span class="pp-ln">   9 </span><span class="pp-pln">            </span><span class="pp-tag">@</span><span class="pp-pln"> 'globbed 1'</span></div><div class="L0"><span class="pp-ln">  10 </span><span class="pp-pln">        </span><span class="pp-tag">_</span><span class="pp-pln"> file.write</span></div><div class="L1"><span class="pp-ln">  11 </span><span class="pp-pln">            </span><span class="pp-tag">_</span><span class="pp-pln"> path.join</span></div><div class="L2"><span class="pp-ln">  12 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> __dirname</span></div><div class="L3"><span class="pp-ln">  13 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> 'ittf'</span></div><div class="L4"><span class="pp-ln">  14 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> 'globs'</span></div><div class="L5"><span class="pp-ln">  15 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> 'globbed_2.ittf'</span></div><div class="L6"><span class="pp-ln">  16 </span><span class="pp-pln">            </span><span class="pp-tag">@</span><span class="pp-pln"> 'globbed 2'</span></div><div class="L7"><span class="pp-ln">  17 </span><span class="pp-pln">        </span><span class="pp-tag">var</span><span class="pp-pln"> files</span></div><div class="L8"><span class="pp-ln">  18 </span><span class="pp-pln">            </span><span class="pp-tag">_</span><span class="pp-pln"> file.getFiles</span></div><div class="L9"><span class="pp-ln">  19 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> path.join</span></div><div class="L0"><span class="pp-ln">  20 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> __dirname</span></div><div class="L1"><span class="pp-ln">  21 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> 'ittf'</span></div><div class="L2"><span class="pp-ln">  22 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> 'globs'</span></div><div class="L3"><span class="pp-ln">  23 </span><span class="pp-pln">                </span><span class="pp-tag">{</span></div><div class="L4"><span class="pp-ln">  24 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> deep false</span></div><div class="L5"><span class="pp-ln">  25 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> extension null</span></div><div class="L6"><span class="pp-ln">  26 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> documentContent false</span></div><div class="L7"><span class="pp-ln">  27 </span><span class="pp-pln">        </span><span class="pp-tag">log</span><span class="pp-pln"> 'should get files in a basefolder - files', files</span></div><div class="L8"><span class="pp-ln">  28 </span><span class="pp-pln">        </span><span class="pp-mix frag-to-link-a" data-frag-id="d146">tobe_array(</span><span class="pp-arg"> files</span><span class="pp-pln">,</span><span class="pp-arg">  2 </span><span class="pp-mix">)</span></div><div class="L9"><span class="pp-ln">  29 </span><span class="pp-pln">    </span><span class="pp-tag">it</span><span class="pp-pln"> should get files with content in a basefolder</span></div><div class="L0"><span class="pp-ln">  30 </span><span class="pp-pln">        </span><span class="pp-tag">var</span><span class="pp-pln"> files</span></div><div class="L1"><span class="pp-ln">  31 </span><span class="pp-pln">            </span><span class="pp-tag">_</span><span class="pp-pln"> file.getFiles</span></div><div class="L2"><span class="pp-ln">  32 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> path.join</span></div><div class="L3"><span class="pp-ln">  33 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> __dirname</span></div><div class="L4"><span class="pp-ln">  34 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> 'ittf'</span></div><div class="L5"><span class="pp-ln">  35 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> 'globs'</span></div><div class="L6"><span class="pp-ln">  36 </span><span class="pp-pln">                </span><span class="pp-tag">{</span></div><div class="L7"><span class="pp-ln">  37 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> deep false</span></div><div class="L8"><span class="pp-ln">  38 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> extension null</span></div><div class="L9"><span class="pp-ln">  39 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> documentContent true</span></div><div class="L0"><span class="pp-ln">  40 </span><span class="pp-pln">        </span><span class="pp-mix frag-to-link-a" data-frag-id="d146">tobe_array(</span><span class="pp-arg"> files</span><span class="pp-pln">,</span><span class="pp-arg">  2 </span><span class="pp-mix">)</span></div><div class="L1"><span class="pp-ln">  41 </span><span class="pp-pln">        </span><span class="pp-mix frag-to-link-a" data-frag-id="d153">tobe_string(</span><span class="pp-arg"> files[0].content</span><span class="pp-pln">,</span><span class="pp-arg">  globbed 1 </span><span class="pp-mix">)</span></div><div class="L2"><span class="pp-ln">  42 </span><span class="pp-pln">        </span><span class="pp-mix frag-to-link-a" data-frag-id="d153">tobe_string(</span><span class="pp-arg"> files[0].relPath</span><span class="pp-pln">,</span><span class="pp-arg">  globbed_1.ittf </span><span class="pp-mix">)</span></div><div class="L3"><span class="pp-ln">  43 </span><span class="pp-pln">        </span><span class="pp-mix frag-to-link-a" data-frag-id="d153">tobe_string(</span><span class="pp-arg"> files[1].content</span><span class="pp-pln">,</span><span class="pp-arg">  globbed 2 </span><span class="pp-mix">)</span></div><div class="L4"><span class="pp-ln">  44 </span><span class="pp-pln">        </span><span class="pp-mix frag-to-link-a" data-frag-id="d153">tobe_string(</span><span class="pp-arg"> files[1].relPath</span><span class="pp-pln">,</span><span class="pp-arg">  globbed_2.ittf </span><span class="pp-mix">)</span></div><div class="L5"><span class="pp-ln">  45 </span><span class="pp-pln">    </span><span class="pp-tag">it</span><span class="pp-pln"> should get folders in a basefolder</span></div><div class="L6"><span class="pp-ln">  46 </span><span class="pp-pln">        </span><span class="pp-tag">_</span><span class="pp-pln"> file.write</span></div><div class="L7"><span class="pp-ln">  47 </span><span class="pp-pln">            </span><span class="pp-tag">_</span><span class="pp-pln"> path.join</span></div><div class="L8"><span class="pp-ln">  48 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> __dirname</span></div><div class="L9"><span class="pp-ln">  49 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> 'ittf'</span></div><div class="L0"><span class="pp-ln">  50 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> 'globs'</span></div><div class="L1"><span class="pp-ln">  51 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> 'one'</span></div><div class="L2"><span class="pp-ln">  52 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> 'globbed_1.ittf'</span></div><div class="L3"><span class="pp-ln">  53 </span><span class="pp-pln">            </span><span class="pp-tag">@</span><span class="pp-pln"> 'globbed 1'</span></div><div class="L4"><span class="pp-ln">  54 </span><span class="pp-pln">        </span><span class="pp-tag">_</span><span class="pp-pln"> file.write</span></div><div class="L5"><span class="pp-ln">  55 </span><span class="pp-pln">            </span><span class="pp-tag">_</span><span class="pp-pln"> path.join</span></div><div class="L6"><span class="pp-ln">  56 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> __dirname</span></div><div class="L7"><span class="pp-ln">  57 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> 'ittf'</span></div><div class="L8"><span class="pp-ln">  58 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> 'globs'</span></div><div class="L9"><span class="pp-ln">  59 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> 'two'</span></div><div class="L0"><span class="pp-ln">  60 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> 'globbed_2.ittf'</span></div><div class="L1"><span class="pp-ln">  61 </span><span class="pp-pln">            </span><span class="pp-tag">@</span><span class="pp-pln"> 'globbed 2'</span></div><div class="L2"><span class="pp-ln">  62 </span><span class="pp-pln">        </span><span class="pp-tag">var</span><span class="pp-pln"> folders</span></div><div class="L3"><span class="pp-ln">  63 </span><span class="pp-pln">            </span><span class="pp-tag">_</span><span class="pp-pln"> file.getFolders</span></div><div class="L4"><span class="pp-ln">  64 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> path.join</span></div><div class="L5"><span class="pp-ln">  65 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> __dirname</span></div><div class="L6"><span class="pp-ln">  66 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> 'ittf'</span></div><div class="L7"><span class="pp-ln">  67 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> 'globs'</span></div><div class="L8"><span class="pp-ln">  68 </span><span class="pp-pln">                </span><span class="pp-tag">{</span></div><div class="L9"><span class="pp-ln">  69 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> deep false</span></div><div class="L0"><span class="pp-ln">  70 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> tFoldersOnly false</span></div><div class="L1"><span class="pp-ln">  71 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> documentNames false</span></div><div class="L2"><span class="pp-ln">  72 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> documentContents false</span></div><div class="L3"><span class="pp-ln">  73 </span><span class="pp-pln">        </span><span class="pp-tag">log</span><span class="pp-pln"> 'folders', folders</span></div><div class="L4"><span class="pp-ln">  74 </span><span class="pp-pln">        </span><span class="pp-mix frag-to-link-a" data-frag-id="d146">tobe_array(</span><span class="pp-arg"> folders</span><span class="pp-pln">,</span><span class="pp-arg">  2 </span><span class="pp-mix">)</span></div><div class="L5"><span class="pp-ln">  75 </span><span class="pp-pln">    </span><span class="pp-tag">it</span><span class="pp-pln"> should get folders in a basefolder deep</span></div><div class="L6"><span class="pp-ln">  76 </span><span class="pp-pln">        </span><span class="pp-tag">_</span><span class="pp-pln"> file.write</span></div><div class="L7"><span class="pp-ln">  77 </span><span class="pp-pln">            </span><span class="pp-tag">_</span><span class="pp-pln"> path.join</span></div><div class="L8"><span class="pp-ln">  78 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> __dirname</span></div><div class="L9"><span class="pp-ln">  79 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> 'ittf'</span></div><div class="L0"><span class="pp-ln">  80 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> 'globs'</span></div><div class="L1"><span class="pp-ln">  81 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> 'one'</span></div><div class="L2"><span class="pp-ln">  82 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> 'deep'</span></div><div class="L3"><span class="pp-ln">  83 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> 'globbed_1deep.ittf'</span></div><div class="L4"><span class="pp-ln">  84 </span><span class="pp-pln">            </span><span class="pp-tag">@</span><span class="pp-pln"> 'globbed 1 deep'</span></div><div class="L5"><span class="pp-ln">  85 </span><span class="pp-pln">        </span><span class="pp-tag">_</span><span class="pp-pln"> file.write</span></div><div class="L6"><span class="pp-ln">  86 </span><span class="pp-pln">            </span><span class="pp-tag">_</span><span class="pp-pln"> path.join</span></div><div class="L7"><span class="pp-ln">  87 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> __dirname</span></div><div class="L8"><span class="pp-ln">  88 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> 'ittf'</span></div><div class="L9"><span class="pp-ln">  89 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> 'globs'</span></div><div class="L0"><span class="pp-ln">  90 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> 'two'</span></div><div class="L1"><span class="pp-ln">  91 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> 'deep'</span></div><div class="L2"><span class="pp-ln">  92 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> 'globbed_2deep.ittf'</span></div><div class="L3"><span class="pp-ln">  93 </span><span class="pp-pln">            </span><span class="pp-tag">@</span><span class="pp-pln"> 'globbed 2 deep'</span></div><div class="L4"><span class="pp-ln">  94 </span><span class="pp-pln">        </span><span class="pp-tag">var</span><span class="pp-pln"> folders</span></div><div class="L5"><span class="pp-ln">  95 </span><span class="pp-pln">            </span><span class="pp-tag">_</span><span class="pp-pln"> file.getFolders</span></div><div class="L6"><span class="pp-ln">  96 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> path.join</span></div><div class="L7"><span class="pp-ln">  97 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> __dirname</span></div><div class="L8"><span class="pp-ln">  98 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> 'ittf'</span></div><div class="L9"><span class="pp-ln">  99 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> 'globs'</span></div><div class="L0"><span class="pp-ln"> 100 </span><span class="pp-pln">                </span><span class="pp-tag">{</span></div><div class="L1"><span class="pp-ln"> 101 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> deep true</span></div><div class="L2"><span class="pp-ln"> 102 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> tFoldersOnly false</span></div><div class="L3"><span class="pp-ln"> 103 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> documentNames false</span></div><div class="L4"><span class="pp-ln"> 104 </span><span class="pp-pln">        </span><span class="pp-tag">log</span><span class="pp-pln"> 'folders', folders</span></div><div class="L5"><span class="pp-ln"> 105 </span><span class="pp-pln">        </span><span class="pp-mix frag-to-link-a" data-frag-id="d146">tobe_array(</span><span class="pp-arg"> folders</span><span class="pp-pln">,</span><span class="pp-arg">  4 </span><span class="pp-mix">)</span></div><div class="L6"><span class="pp-ln"> 106 </span><span class="pp-pln">        </span><span class="pp-mix frag-to-link-a" data-frag-id="d153">tobe_string(</span><span class="pp-arg"> folders[0].relPath</span><span class="pp-pln">,</span><span class="pp-arg">  one </span><span class="pp-mix">)</span></div><div class="L7"><span class="pp-ln"> 107 </span><span class="pp-pln">        </span><span class="pp-mix frag-to-link-a" data-frag-id="d153">tobe_string(</span><span class="pp-arg"> folders[1].relPath</span><span class="pp-pln">,</span><span class="pp-arg">  one/deep </span><span class="pp-mix">)</span></div><div class="L8"><span class="pp-ln"> 108 </span><span class="pp-pln">        </span><span class="pp-mix frag-to-link-a" data-frag-id="d153">tobe_string(</span><span class="pp-arg"> folders[2].relPath</span><span class="pp-pln">,</span><span class="pp-arg">  two </span><span class="pp-mix">)</span></div><div class="L9"><span class="pp-ln"> 109 </span><span class="pp-pln">        </span><span class="pp-mix frag-to-link-a" data-frag-id="d153">tobe_string(</span><span class="pp-arg"> folders[3].relPath</span><span class="pp-pln">,</span><span class="pp-arg">  two/deep </span><span class="pp-mix">)</span></div><div class="L0"><span class="pp-ln"> 110 </span><span class="pp-pln">    </span><span class="pp-tag">it</span><span class="pp-pln"> should get folders in a basefolder deep with document names</span></div><div class="L1"><span class="pp-ln"> 111 </span><span class="pp-pln">        </span><span class="pp-tag">_</span><span class="pp-pln"> file.write</span></div><div class="L2"><span class="pp-ln"> 112 </span><span class="pp-pln">            </span><span class="pp-tag">_</span><span class="pp-pln"> path.join</span></div><div class="L3"><span class="pp-ln"> 113 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> __dirname</span></div><div class="L4"><span class="pp-ln"> 114 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> 'ittf'</span></div><div class="L5"><span class="pp-ln"> 115 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> 'globs'</span></div><div class="L6"><span class="pp-ln"> 116 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> 'one'</span></div><div class="L7"><span class="pp-ln"> 117 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> 'deep'</span></div><div class="L8"><span class="pp-ln"> 118 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> 'globbed_1deep.ittf'</span></div><div class="L9"><span class="pp-ln"> 119 </span><span class="pp-pln">            </span><span class="pp-tag">@</span><span class="pp-pln"> 'globbed 1 deep'</span></div><div class="L0"><span class="pp-ln"> 120 </span><span class="pp-pln">        </span><span class="pp-tag">_</span><span class="pp-pln"> file.write</span></div><div class="L1"><span class="pp-ln"> 121 </span><span class="pp-pln">            </span><span class="pp-tag">_</span><span class="pp-pln"> path.join</span></div><div class="L2"><span class="pp-ln"> 122 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> __dirname</span></div><div class="L3"><span class="pp-ln"> 123 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> 'ittf'</span></div><div class="L4"><span class="pp-ln"> 124 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> 'globs'</span></div><div class="L5"><span class="pp-ln"> 125 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> 'two'</span></div><div class="L6"><span class="pp-ln"> 126 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> 'deep'</span></div><div class="L7"><span class="pp-ln"> 127 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> 'globbed_2deep.ittf'</span></div><div class="L8"><span class="pp-ln"> 128 </span><span class="pp-pln">            </span><span class="pp-tag">@</span><span class="pp-pln"> 'globbed 2 deep'</span></div><div class="L9"><span class="pp-ln"> 129 </span><span class="pp-pln">        </span><span class="pp-tag">var</span><span class="pp-pln"> folders</span></div><div class="L0"><span class="pp-ln"> 130 </span><span class="pp-pln">            </span><span class="pp-tag">_</span><span class="pp-pln"> file.getFolders</span></div><div class="L1"><span class="pp-ln"> 131 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> path.join</span></div><div class="L2"><span class="pp-ln"> 132 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> __dirname</span></div><div class="L3"><span class="pp-ln"> 133 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> 'ittf'</span></div><div class="L4"><span class="pp-ln"> 134 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> 'globs'</span></div><div class="L5"><span class="pp-ln"> 135 </span><span class="pp-pln">                </span><span class="pp-tag">{</span></div><div class="L6"><span class="pp-ln"> 136 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> deep true</span></div><div class="L7"><span class="pp-ln"> 137 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> tFoldersOnly false</span></div><div class="L8"><span class="pp-ln"> 138 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> documentNames true</span></div><div class="L9"><span class="pp-ln"> 139 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> documentContents false</span></div><div class="L0"><span class="pp-ln"> 140 </span><span class="pp-pln">        </span><span class="pp-tag">log</span><span class="pp-pln"> 'folders', folders</span></div><div class="L1"><span class="pp-ln"> 141 </span><span class="pp-pln">        </span><span class="pp-mix frag-to-link-a" data-frag-id="d146">tobe_array(</span><span class="pp-arg"> folders</span><span class="pp-pln">,</span><span class="pp-arg">  4 </span><span class="pp-mix">)</span></div><div class="L2"><span class="pp-ln"> 142 </span><span class="pp-pln">        </span><span class="pp-mix frag-to-link-a" data-frag-id="d146">tobe_array(</span><span class="pp-arg"> folders[0].documents</span><span class="pp-pln">,</span><span class="pp-arg">  1 </span><span class="pp-mix">)</span></div><div class="L3"><span class="pp-ln"> 143 </span><span class="pp-pln">        </span><span class="pp-mix frag-to-link-a" data-frag-id="d146">tobe_array(</span><span class="pp-arg"> folders[1].documents</span><span class="pp-pln">,</span><span class="pp-arg">  1 </span><span class="pp-mix">)</span></div><div class="L4"><span class="pp-ln"> 144 </span><span class="pp-pln">        </span><span class="pp-mix frag-to-link-a" data-frag-id="d146">tobe_array(</span><span class="pp-arg"> folders[2].documents</span><span class="pp-pln">,</span><span class="pp-arg">  1 </span><span class="pp-mix">)</span></div><div class="L5"><span class="pp-ln"> 145 </span><span class="pp-pln">        </span><span class="pp-mix frag-to-link-a" data-frag-id="d146">tobe_array(</span><span class="pp-arg"> folders[3].documents</span><span class="pp-pln">,</span><span class="pp-arg">  1 </span><span class="pp-mix">)</span></div><div class="L6"><span class="pp-ln"> 146 </span><span class="pp-pln">    </span><span class="pp-tag">it</span><span class="pp-pln"> should get folders in a basefolder deep with document names</span></div><div class="L7"><span class="pp-ln"> 147 </span><span class="pp-pln">        </span><span class="pp-tag">var</span><span class="pp-pln"> folders</span></div><div class="L8"><span class="pp-ln"> 148 </span><span class="pp-pln">            </span><span class="pp-tag">_</span><span class="pp-pln"> file.getFolders</span></div><div class="L9"><span class="pp-ln"> 149 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> path.join</span></div><div class="L0"><span class="pp-ln"> 150 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> __dirname</span></div><div class="L1"><span class="pp-ln"> 151 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> 'ittf'</span></div><div class="L2"><span class="pp-ln"> 152 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> 'globs'</span></div><div class="L3"><span class="pp-ln"> 153 </span><span class="pp-pln">                </span><span class="pp-tag">{</span></div><div class="L4"><span class="pp-ln"> 154 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> deep true</span></div><div class="L5"><span class="pp-ln"> 155 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> tFoldersOnly false</span></div><div class="L6"><span class="pp-ln"> 156 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> documentNames true</span></div><div class="L7"><span class="pp-ln"> 157 </span><span class="pp-pln">        </span><span class="pp-tag">log</span><span class="pp-pln"> 'folders', folders</span></div><div class="L8"><span class="pp-ln"> 158 </span><span class="pp-pln">        </span><span class="pp-mix frag-to-link-a" data-frag-id="d146">tobe_array(</span><span class="pp-arg"> folders</span><span class="pp-pln">,</span><span class="pp-arg">  4 </span><span class="pp-mix">)</span></div><div class="L9"><span class="pp-ln"> 159 </span><span class="pp-pln">        </span><span class="pp-mix frag-to-link-a" data-frag-id="d153">tobe_string(</span><span class="pp-arg"> folders[0].documents[0].relPath</span><span class="pp-pln">,</span><span class="pp-arg">  globbed_1.ittf </span><span class="pp-mix">)</span></div><div class="L0"><span class="pp-ln"> 160 </span><span class="pp-pln">        </span><span class="pp-mix frag-to-link-a" data-frag-id="d153">tobe_string(</span><span class="pp-arg"> folders[1].documents[0].relPath</span><span class="pp-pln">,</span><span class="pp-arg">  globbed_1deep.ittf </span><span class="pp-mix">)</span></div><div class="L1"><span class="pp-ln"> 161 </span><span class="pp-pln">        </span><span class="pp-mix frag-to-link-a" data-frag-id="d153">tobe_string(</span><span class="pp-arg"> folders[2].documents[0].relPath</span><span class="pp-pln">,</span><span class="pp-arg">  globbed_2.ittf </span><span class="pp-mix">)</span></div><div class="L2"><span class="pp-ln"> 162 </span><span class="pp-pln">        </span><span class="pp-mix frag-to-link-a" data-frag-id="d153">tobe_string(</span><span class="pp-arg"> folders[3].documents[0].relPath</span><span class="pp-pln">,</span><span class="pp-arg">  globbed_2deep.ittf </span><span class="pp-mix">)</span></div><div class="L3"><span class="pp-ln"> 163 </span><span class="pp-pln">    </span><span class="pp-tag">it</span><span class="pp-pln"> should sync glob a folder</span></div><div class="L4"><span class="pp-ln"> 164 </span><span class="pp-pln">        </span><span class="pp-tag">_</span><span class="pp-pln"> file.write</span></div><div class="L5"><span class="pp-ln"> 165 </span><span class="pp-pln">            </span><span class="pp-tag">_</span><span class="pp-pln"> path.join</span></div><div class="L6"><span class="pp-ln"> 166 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> __dirname</span></div><div class="L7"><span class="pp-ln"> 167 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> 'ittf'</span></div><div class="L8"><span class="pp-ln"> 168 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> 'globs2'</span></div><div class="L9"><span class="pp-ln"> 169 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> 'globbed_1.ittf'</span></div><div class="L0"><span class="pp-ln"> 170 </span><span class="pp-pln">            </span><span class="pp-tag">@</span><span class="pp-pln"> 'globbed 1'</span></div><div class="L1"><span class="pp-ln"> 171 </span><span class="pp-pln">        </span><span class="pp-tag">_</span><span class="pp-pln"> file.write</span></div><div class="L2"><span class="pp-ln"> 172 </span><span class="pp-pln">            </span><span class="pp-tag">_</span><span class="pp-pln"> path.join</span></div><div class="L3"><span class="pp-ln"> 173 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> __dirname</span></div><div class="L4"><span class="pp-ln"> 174 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> 'ittf'</span></div><div class="L5"><span class="pp-ln"> 175 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> 'globs2'</span></div><div class="L6"><span class="pp-ln"> 176 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> 'globbed_2.ittf'</span></div><div class="L7"><span class="pp-ln"> 177 </span><span class="pp-pln">            </span><span class="pp-tag">@</span><span class="pp-pln"> 'globbed 2'</span></div><div class="L8"><span class="pp-ln"> 178 </span><span class="pp-pln">        </span><span class="pp-tag">_</span><span class="pp-pln"> file.write</span></div><div class="L9"><span class="pp-ln"> 179 </span><span class="pp-pln">            </span><span class="pp-tag">_</span><span class="pp-pln"> path.join</span></div><div class="L0"><span class="pp-ln"> 180 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> __dirname</span></div><div class="L1"><span class="pp-ln"> 181 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> 'ittf'</span></div><div class="L2"><span class="pp-ln"> 182 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> 'globs2'</span></div><div class="L3"><span class="pp-ln"> 183 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> 'one'</span></div><div class="L4"><span class="pp-ln"> 184 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> 'globbed_2_one.ittf'</span></div><div class="L5"><span class="pp-ln"> 185 </span><span class="pp-pln">            </span><span class="pp-tag">@</span><span class="pp-pln"> 'globbed 2 one'</span></div><div class="L6"><span class="pp-ln"> 186 </span><span class="pp-pln">        </span><span class="pp-tag">var</span><span class="pp-pln"> result</span></div><div class="L7"><span class="pp-ln"> 187 </span><span class="pp-pln">            </span><span class="pp-tag">_</span><span class="pp-pln"> file.getGlobbedFilesEx</span></div><div class="L8"><span class="pp-ln"> 188 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> path.join</span></div><div class="L9"><span class="pp-ln"> 189 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> __dirname</span></div><div class="L0"><span class="pp-ln"> 190 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> 'ittf'</span></div><div class="L1"><span class="pp-ln"> 191 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> 'globs2'</span></div><div class="L2"><span class="pp-ln"> 192 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> '**/*.ittf'</span></div><div class="L3"><span class="pp-ln"> 193 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> file</span></div><div class="L4"><span class="pp-ln"> 194 </span><span class="pp-pln">        </span><span class="pp-mix frag-to-link-a" data-frag-id="d146">tobe_array(</span><span class="pp-arg"> result</span><span class="pp-pln">,</span><span class="pp-arg">  3</span><span class="pp-mix">)</span></div><div class="L5"><span class="pp-ln"> 195 </span><span class="pp-pln">        </span><span class="pp-tag">var</span><span class="pp-pln"> result</span></div><div class="L6"><span class="pp-ln"> 196 </span><span class="pp-pln">            </span><span class="pp-tag">_</span><span class="pp-pln"> file.getGlobbedFilesEx</span></div><div class="L7"><span class="pp-ln"> 197 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> path.join</span></div><div class="L8"><span class="pp-ln"> 198 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> __dirname</span></div><div class="L9"><span class="pp-ln"> 199 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> 'ittf'</span></div><div class="L0"><span class="pp-ln"> 200 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> 'globs2'</span></div><div class="L1"><span class="pp-ln"> 201 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> '**/*.ittf'</span></div><div class="L2"><span class="pp-ln"> 202 </span><span class="pp-pln">                </span><span class="pp-tag">{</span></div><div class="L3"><span class="pp-ln"> 203 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> removeRoot</span></div><div class="L4"><span class="pp-ln"> 204 </span><span class="pp-pln">                        </span><span class="pp-tag">_</span><span class="pp-pln"> path.join</span></div><div class="L5"><span class="pp-ln"> 205 </span><span class="pp-pln">                            </span><span class="pp-tag">@</span><span class="pp-pln"> __dirname</span></div><div class="L6"><span class="pp-ln"> 206 </span><span class="pp-pln">                            </span><span class="pp-tag">@</span><span class="pp-pln"> 'ittf'</span></div><div class="L7"><span class="pp-ln"> 207 </span><span class="pp-pln">        </span><span class="pp-mix frag-to-link-a" data-frag-id="d146">tobe_array(</span><span class="pp-arg"> result</span><span class="pp-pln">,</span><span class="pp-arg">  3</span><span class="pp-mix">)</span></div><div class="L8"><span class="pp-ln"> 208 </span><span class="pp-pln">        </span><span class="pp-mix frag-to-link-a" data-frag-id="d153">tobe_string(</span><span class="pp-arg"> result[0]</span><span class="pp-pln">,</span><span class="pp-arg">  /globs2/globbed_1.ittf</span><span class="pp-mix">)</span></div></pre>
                    </div>
                </div>
                <div class="code-panel" id="d163">
                    <div class="modal-view-container">
                        <h4 class="d-h2">/src/ittf/tests/util/file.js.ittf</h4>
                        <pre class="prettyprint">

<div class="L1"><span class="pp-ln">   1 </span><span class="pp-pln"></span><span class="pp-mix frag-to-link-a" data-frag-id="d140">base_test(</span><span class="pp-arg"> file </span><span class="pp-mix">)</span></div><div class="L2"><span class="pp-ln">   2 </span><span class="pp-pln">    </span><span class="pp-kwd">$append</span><span class="pp-pln"> imports</span></div><div class="L3"><span class="pp-ln">   3 </span><span class="pp-pln">        </span><span class="pp-tag">var</span><span class="pp-pln"> file = require('../../lib/fs/file')</span></div><div class="L4"><span class="pp-ln">   4 </span><span class="pp-pln">    </span><span class="pp-tag">it</span><span class="pp-pln"> should split a text into lines</span></div><div class="L5"><span class="pp-ln">   5 </span><span class="pp-pln">        </span><span class="pp-tag">var</span><span class="pp-pln"> text = 'alfa\nbeta\n\ngamma\n\rtheta\r\nyota\r\rsigma'</span></div><div class="L6"><span class="pp-ln">   6 </span><span class="pp-pln">        </span><span class="pp-tag">var</span><span class="pp-pln"> lines = file.splitLines(text)</span></div><div class="L7"><span class="pp-ln">   7 </span><span class="pp-pln">        </span><span class="pp-mix frag-to-link-a" data-frag-id="d153">tobe_string(</span><span class="pp-arg"> lines[0]</span><span class="pp-pln">,</span><span class="pp-arg">  alfa </span><span class="pp-mix">)</span></div><div class="L8"><span class="pp-ln">   8 </span><span class="pp-pln">        </span><span class="pp-mix frag-to-link-a" data-frag-id="d153">tobe_string(</span><span class="pp-arg"> lines[1]</span><span class="pp-pln">,</span><span class="pp-arg">  beta </span><span class="pp-mix">)</span></div><div class="L9"><span class="pp-ln">   9 </span><span class="pp-pln">        </span><span class="pp-mix frag-to-link-a" data-frag-id="d153">tobe_string(</span><span class="pp-arg"> lines[3]</span><span class="pp-pln">,</span><span class="pp-arg">  gamma </span><span class="pp-mix">)</span></div><div class="L0"><span class="pp-ln">  10 </span><span class="pp-pln">        </span><span class="pp-mix frag-to-link-a" data-frag-id="d153">tobe_string(</span><span class="pp-arg"> lines[4]</span><span class="pp-pln">,</span><span class="pp-arg">  theta </span><span class="pp-mix">)</span></div><div class="L1"><span class="pp-ln">  11 </span><span class="pp-pln">        </span><span class="pp-mix frag-to-link-a" data-frag-id="d153">tobe_string(</span><span class="pp-arg"> lines[5]</span><span class="pp-pln">,</span><span class="pp-arg">  yota </span><span class="pp-mix">)</span></div><div class="L2"><span class="pp-ln">  12 </span><span class="pp-pln">        </span><span class="pp-mix frag-to-link-a" data-frag-id="d153">tobe_string(</span><span class="pp-arg"> lines[7]</span><span class="pp-pln">,</span><span class="pp-arg">  sigma </span><span class="pp-mix">)</span></div><div class="L3"><span class="pp-ln">  13 </span><span class="pp-pln">    </span><span class="pp-tag">it</span><span class="pp-pln"> should split a text into lines</span></div><div class="L4"><span class="pp-ln">  14 </span><span class="pp-pln">        </span><span class="pp-tag">var</span><span class="pp-pln"> lines</span></div><div class="L5"><span class="pp-ln">  15 </span><span class="pp-pln">            </span><span class="pp-tag">_</span><span class="pp-pln"> file.readLines</span></div><div class="L6"><span class="pp-ln">  16 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> path.join</span></div><div class="L7"><span class="pp-ln">  17 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> __dirname</span></div><div class="L8"><span class="pp-ln">  18 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> 'ittf'</span></div><div class="L9"><span class="pp-ln">  19 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> 'gc_one.ittf'</span></div><div class="L0"><span class="pp-ln">  20 </span><span class="pp-pln">        </span><span class="pp-tag">log</span><span class="pp-pln"> 'file lines', lines</span></div><div class="L1"><span class="pp-ln">  21 </span><span class="pp-pln">        </span><span class="pp-mix frag-to-link-a" data-frag-id="d153">tobe_string(</span><span class="pp-arg"> lines[0]</span><span class="pp-pln">,</span><span class="pp-arg">  first one </span><span class="pp-mix">)</span></div><div class="L2"><span class="pp-ln">  22 </span><span class="pp-pln">        </span><span class="pp-mix frag-to-link-a" data-frag-id="d153">tobe_string(</span><span class="pp-arg"> lines[1]</span><span class="pp-pln">,</span><span class="pp-arg">  second one </span><span class="pp-mix">)</span></div></pre>
                    </div>
                </div>
                <div class="code-panel" id="d164">
                    <div class="modal-view-container">
                        <h4 class="d-h2">/src/ittf/tests/util/glob.js.ittf</h4>
                        <pre class="prettyprint">

<div class="L1"><span class="pp-ln">   1 </span><span class="pp-pln"></span><span class="pp-mix frag-to-link-a" data-frag-id="d140">base_test(</span><span class="pp-arg"> glob </span><span class="pp-mix">)</span></div><div class="L2"><span class="pp-ln">   2 </span><span class="pp-pln">    </span><span class="pp-kwd">$append</span><span class="pp-pln"> imports</span></div><div class="L3"><span class="pp-ln">   3 </span><span class="pp-pln">        </span><span class="pp-tag">var</span><span class="pp-pln"> glob = require('../../lib/glob')</span></div><div class="L4"><span class="pp-ln">   4 </span><span class="pp-pln">        </span><span class="pp-tag">var</span><span class="pp-pln"> vfile = require('../../lib/fs/vfile')</span></div><div class="L5"><span class="pp-ln">   5 </span><span class="pp-pln">        </span><span class="pp-tag">var</span><span class="pp-pln"> file = vfile()</span></div><div class="L6"><span class="pp-ln">   6 </span><span class="pp-pln">    </span><span class="pp-tag">it-async</span><span class="pp-pln"> should glob a folder</span></div><div class="L7"><span class="pp-ln">   7 </span><span class="pp-pln">        </span><span class="pp-tag">_</span><span class="pp-pln"> file.write</span></div><div class="L8"><span class="pp-ln">   8 </span><span class="pp-pln">            </span><span class="pp-tag">_</span><span class="pp-pln"> path.join</span></div><div class="L9"><span class="pp-ln">   9 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> __dirname</span></div><div class="L0"><span class="pp-ln">  10 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> 'ittf'</span></div><div class="L1"><span class="pp-ln">  11 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> 'globs2'</span></div><div class="L2"><span class="pp-ln">  12 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> 'globbed_1.ittf'</span></div><div class="L3"><span class="pp-ln">  13 </span><span class="pp-pln">            </span><span class="pp-tag">@</span><span class="pp-pln"> 'globbed 1'</span></div><div class="L4"><span class="pp-ln">  14 </span><span class="pp-pln">        </span><span class="pp-tag">_</span><span class="pp-pln"> file.write</span></div><div class="L5"><span class="pp-ln">  15 </span><span class="pp-pln">            </span><span class="pp-tag">_</span><span class="pp-pln"> path.join</span></div><div class="L6"><span class="pp-ln">  16 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> __dirname</span></div><div class="L7"><span class="pp-ln">  17 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> 'ittf'</span></div><div class="L8"><span class="pp-ln">  18 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> 'globs2'</span></div><div class="L9"><span class="pp-ln">  19 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> 'globbed_2.ittf'</span></div><div class="L0"><span class="pp-ln">  20 </span><span class="pp-pln">            </span><span class="pp-tag">@</span><span class="pp-pln"> 'globbed 2'</span></div><div class="L1"><span class="pp-ln">  21 </span><span class="pp-pln">        </span><span class="pp-tag">_</span><span class="pp-pln"> file.write</span></div><div class="L2"><span class="pp-ln">  22 </span><span class="pp-pln">            </span><span class="pp-tag">_</span><span class="pp-pln"> path.join</span></div><div class="L3"><span class="pp-ln">  23 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> __dirname</span></div><div class="L4"><span class="pp-ln">  24 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> 'ittf'</span></div><div class="L5"><span class="pp-ln">  25 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> 'globs2'</span></div><div class="L6"><span class="pp-ln">  26 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> 'one'</span></div><div class="L7"><span class="pp-ln">  27 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> 'globbed_2_one.ittf'</span></div><div class="L8"><span class="pp-ln">  28 </span><span class="pp-pln">            </span><span class="pp-tag">@</span><span class="pp-pln"> 'globbed 2 one'</span></div><div class="L9"><span class="pp-ln">  29 </span><span class="pp-pln">        </span><span class="pp-tag">_</span><span class="pp-pln"> glob</span></div><div class="L0"><span class="pp-ln">  30 </span><span class="pp-pln">            </span><span class="pp-tag">_</span><span class="pp-pln"> path.join</span></div><div class="L1"><span class="pp-ln">  31 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> __dirname</span></div><div class="L2"><span class="pp-ln">  32 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> 'ittf'</span></div><div class="L3"><span class="pp-ln">  33 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> 'globs2'</span></div><div class="L4"><span class="pp-ln">  34 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> '**/*.ittf'</span></div><div class="L5"><span class="pp-ln">  35 </span><span class="pp-pln">            </span><span class="pp-tag">@</span><span class="pp-pln"> file</span></div><div class="L6"><span class="pp-ln">  36 </span><span class="pp-pln">            </span><span class="pp-mix frag-to-link-a" data-frag-id="d144">f_cb_test(</span><span class="pp-arg"> result </span><span class="pp-mix">)</span></div><div class="L7"><span class="pp-ln">  37 </span><span class="pp-pln">                </span><span class="pp-mix frag-to-link-a" data-frag-id="d146">tobe_array(</span><span class="pp-arg"> result</span><span class="pp-pln">,</span><span class="pp-arg">  3</span><span class="pp-mix">)</span></div><div class="L8"><span class="pp-ln">  38 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> done</span></div><div class="L9"><span class="pp-ln">  39 </span><span class="pp-pln">    </span><span class="pp-tag">it</span><span class="pp-pln"> should sync glob a folder</span></div><div class="L0"><span class="pp-ln">  40 </span><span class="pp-pln">        </span><span class="pp-tag">var</span><span class="pp-pln"> result</span></div><div class="L1"><span class="pp-ln">  41 </span><span class="pp-pln">            </span><span class="pp-tag">_</span><span class="pp-pln"> glob</span></div><div class="L2"><span class="pp-ln">  42 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> path.join</span></div><div class="L3"><span class="pp-ln">  43 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> __dirname</span></div><div class="L4"><span class="pp-ln">  44 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> 'ittf'</span></div><div class="L5"><span class="pp-ln">  45 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> 'globs2'</span></div><div class="L6"><span class="pp-ln">  46 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> '**/*.ittf'</span></div><div class="L7"><span class="pp-ln">  47 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> file</span></div><div class="L8"><span class="pp-ln">  48 </span><span class="pp-pln">                </span><span class="pp-tag">{</span></div><div class="L9"><span class="pp-ln">  49 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> sync true</span></div><div class="L0"><span class="pp-ln">  50 </span><span class="pp-pln">        </span><span class="pp-mix frag-to-link-a" data-frag-id="d146">tobe_array(</span><span class="pp-arg"> result</span><span class="pp-pln">,</span><span class="pp-arg">  3</span><span class="pp-mix">)</span></div></pre>
                    </div>
                </div>
                <div class="code-panel" id="d165">
                    <div class="modal-view-container">
                        <h4 class="d-h2">/src/ittf/tests/util/verify.js.ittf</h4>
                        <pre class="prettyprint">

<div class="L1"><span class="pp-ln">   1 </span><span class="pp-pln"></span><span class="pp-mix frag-to-link-a" data-frag-id="d140">base_test(</span><span class="pp-arg"> verify </span><span class="pp-mix">)</span></div><div class="L2"><span class="pp-ln">   2 </span><span class="pp-pln">    </span><span class="pp-kwd">$append</span><span class="pp-pln"> imports</span></div><div class="L3"><span class="pp-ln">   3 </span><span class="pp-pln">        </span><span class="pp-tag">var</span><span class="pp-pln"> verify = require('../../lib/verify')</span></div><div class="L4"><span class="pp-ln">   4 </span><span class="pp-pln">    </span><span class="pp-tag">+</span></div><div class="L5"><span class="pp-ln">   5 </span><span class="pp-pln">    </span><span class="pp-tag">var</span><span class="pp-pln"> test</span></div><div class="L6"><span class="pp-ln">   6 </span><span class="pp-pln">    </span><span class="pp-tag">+</span></div><div class="L7"><span class="pp-ln">   7 </span><span class="pp-pln">    </span><span class="pp-tag">it</span><span class="pp-pln"> should check valid email address</span></div><div class="L8"><span class="pp-ln">   8 </span><span class="pp-pln">        </span><span class="pp-tag">set</span><span class="pp-pln"> test</span></div><div class="L9"><span class="pp-ln">   9 </span><span class="pp-pln">            </span><span class="pp-tag">_</span><span class="pp-pln"> verify.isEmail('bongo@')</span></div><div class="L0"><span class="pp-ln">  10 </span><span class="pp-pln">        </span><span class="pp-mix frag-to-link-a" data-frag-id="d148">tobe_false(</span><span class="pp-arg"> test </span><span class="pp-mix">)</span></div><div class="L1"><span class="pp-ln">  11 </span><span class="pp-pln">        </span><span class="pp-tag">set</span><span class="pp-pln"> test</span></div><div class="L2"><span class="pp-ln">  12 </span><span class="pp-pln">            </span><span class="pp-tag">_</span><span class="pp-pln"> verify.isEmail('bongo@it')</span></div><div class="L3"><span class="pp-ln">  13 </span><span class="pp-pln">        </span><span class="pp-mix frag-to-link-a" data-frag-id="d148">tobe_false(</span><span class="pp-arg"> test </span><span class="pp-mix">)</span></div><div class="L4"><span class="pp-ln">  14 </span><span class="pp-pln">        </span><span class="pp-tag">set</span><span class="pp-pln"> test</span></div><div class="L5"><span class="pp-ln">  15 </span><span class="pp-pln">            </span><span class="pp-tag">_</span><span class="pp-pln"> verify.isEmail('stfn.nssl@gmail.com')</span></div><div class="L6"><span class="pp-ln">  16 </span><span class="pp-pln">        </span><span class="pp-mix frag-to-link-a" data-frag-id="d154">tobe_true(</span><span class="pp-arg"> test </span><span class="pp-mix">)</span></div><div class="L7"><span class="pp-ln">  17 </span><span class="pp-pln">        </span><span class="pp-tag">set</span><span class="pp-pln"> test</span></div><div class="L8"><span class="pp-ln">  18 </span><span class="pp-pln">            </span><span class="pp-tag">_</span><span class="pp-pln"> verify.isEmail('stfn@do.com')</span></div><div class="L9"><span class="pp-ln">  19 </span><span class="pp-pln">        </span><span class="pp-mix frag-to-link-a" data-frag-id="d154">tobe_true(</span><span class="pp-arg"> test </span><span class="pp-mix">)</span></div><div class="L0"><span class="pp-ln">  20 </span><span class="pp-pln">    </span><span class="pp-tag">it</span><span class="pp-pln"> should create a wzError</span></div><div class="L1"><span class="pp-ln">  21 </span><span class="pp-pln">        </span><span class="pp-tag">var</span><span class="pp-pln"> err1</span></div><div class="L2"><span class="pp-ln">  22 </span><span class="pp-pln">            </span><span class="pp-tag">_</span><span class="pp-pln"> verify.error</span></div><div class="L3"><span class="pp-ln">  23 </span><span class="pp-pln">                </span><span class="pp-tag">{</span></div><div class="L4"><span class="pp-ln">  24 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> name 'ArgumentError'</span></div><div class="L5"><span class="pp-ln">  25 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> 'Parameter %s must be a string'</span></div><div class="L6"><span class="pp-ln">  26 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> 'ittfDocumentUri'</span></div><div class="L7"><span class="pp-ln">  27 </span><span class="pp-pln">        </span><span class="pp-mix frag-to-link-a" data-frag-id="d153">tobe_string(</span><span class="pp-arg"> err1.toString()</span><span class="pp-pln">,</span><span class="pp-arg">  ArgumentError: Parameter ittfDocumentUri must be a string </span><span class="pp-mix">)</span></div><div class="L8"><span class="pp-ln">  28 </span><span class="pp-pln">    </span><span class="pp-kwd">$include</span><span class="pp-mix frag-to-link-a" data-frag-id="d159"> verify/convert</span></div><div class="L9"><span class="pp-ln">  29 </span><span class="pp-pln">    </span><span class="pp-kwd">$include</span><span class="pp-mix frag-to-link-a" data-frag-id="d160"> verify/paths</span></div></pre>
                    </div>
                </div>
                <div class="code-panel" id="d166">
                    <div class="modal-view-container">
                        <h4 class="d-h2">/src/ittf/tests/util/vfile_async.js.ittf</h4>
                        <pre class="prettyprint">

<div class="L1"><span class="pp-ln">   1 </span><span class="pp-pln"></span><span class="pp-mix frag-to-link-a" data-frag-id="d140">base_test(</span><span class="pp-arg"> vfile </span><span class="pp-mix">)</span></div><div class="L2"><span class="pp-ln">   2 </span><span class="pp-pln">    </span><span class="pp-kwd">$append</span><span class="pp-pln"> imports</span></div><div class="L3"><span class="pp-ln">   3 </span><span class="pp-pln">        </span><span class="pp-tag">var</span><span class="pp-pln"> async = require('async')</span></div><div class="L4"><span class="pp-ln">   4 </span><span class="pp-pln">        </span><span class="pp-tag">var</span><span class="pp-pln"> vfile = require('../../lib/fs/vfile')</span></div><div class="L5"><span class="pp-ln">   5 </span><span class="pp-pln">        </span><span class="pp-tag">var</span><span class="pp-pln"> file = vfile()</span></div><div class="L6"><span class="pp-ln">   6 </span><span class="pp-pln">        </span><span class="pp-tag">var</span><span class="pp-pln"> glob = require('../../lib/glob')</span></div><div class="L7"><span class="pp-ln">   7 </span><span class="pp-pln">    </span><span class="pp-tag">before</span></div><div class="L8"><span class="pp-ln">   8 </span><span class="pp-pln">        </span><span class="pp-tag">_</span><span class="pp-pln"> del.sync</span></div><div class="L9"><span class="pp-ln">   9 </span><span class="pp-pln">            </span><span class="pp-tag">[</span></div><div class="L0"><span class="pp-ln">  10 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> path.join</span></div><div class="L1"><span class="pp-ln">  11 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> __dirname</span></div><div class="L2"><span class="pp-ln">  12 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> 'ittf'</span></div><div class="L3"><span class="pp-ln">  13 </span><span class="pp-pln">            </span><span class="pp-tag">{</span></div><div class="L4"><span class="pp-ln">  14 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> force true</span></div><div class="L5"><span class="pp-ln">  15 </span><span class="pp-pln">    </span><span class="pp-tag">it-async</span><span class="pp-pln"> should async create the first file in the ittf folder</span></div><div class="L6"><span class="pp-ln">  16 </span><span class="pp-pln">        </span><span class="pp-tag">_</span><span class="pp-pln"> file.write</span></div><div class="L7"><span class="pp-ln">  17 </span><span class="pp-pln">            </span><span class="pp-tag">_</span><span class="pp-pln"> path.join</span></div><div class="L8"><span class="pp-ln">  18 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> __dirname</span></div><div class="L9"><span class="pp-ln">  19 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> 'ittf'</span></div><div class="L0"><span class="pp-ln">  20 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> 'gc_one.ittf'</span></div><div class="L1"><span class="pp-ln">  21 </span><span class="pp-pln">            </span><span class="pp-tag">@</span><span class="pp-pln"> 'first one\nsecond one'</span></div><div class="L2"><span class="pp-ln">  22 </span><span class="pp-pln">            </span><span class="pp-mix frag-to-link-a" data-frag-id="d144">f_cb_test(</span><span class="pp-arg"> result </span><span class="pp-mix">)</span></div><div class="L3"><span class="pp-ln">  23 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> file.write</span></div><div class="L4"><span class="pp-ln">  24 </span><span class="pp-pln">                    </span><span class="pp-tag">_</span><span class="pp-pln"> path.join</span></div><div class="L5"><span class="pp-ln">  25 </span><span class="pp-pln">                        </span><span class="pp-tag">@</span><span class="pp-pln"> __dirname</span></div><div class="L6"><span class="pp-ln">  26 </span><span class="pp-pln">                        </span><span class="pp-tag">@</span><span class="pp-pln"> 'ittf'</span></div><div class="L7"><span class="pp-ln">  27 </span><span class="pp-pln">                        </span><span class="pp-tag">@</span><span class="pp-pln"> 'folder_one'</span></div><div class="L8"><span class="pp-ln">  28 </span><span class="pp-pln">                        </span><span class="pp-tag">@</span><span class="pp-pln"> 'gc_two.ittf'</span></div><div class="L9"><span class="pp-ln">  29 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> 'first one\nsecond one'</span></div><div class="L0"><span class="pp-ln">  30 </span><span class="pp-pln">                    </span><span class="pp-mix frag-to-link-a" data-frag-id="d144">f_cb_test(</span><span class="pp-arg"> result </span><span class="pp-mix">)</span></div><div class="L1"><span class="pp-ln">  31 </span><span class="pp-pln">                        </span><span class="pp-tag">_</span><span class="pp-pln"> done</span></div><div class="L2"><span class="pp-ln">  32 </span><span class="pp-pln">    </span><span class="pp-tag">it-async</span><span class="pp-pln"> should async check existence of file</span></div><div class="L3"><span class="pp-ln">  33 </span><span class="pp-pln">        </span><span class="pp-tag">_</span><span class="pp-pln"> file.exists</span></div><div class="L4"><span class="pp-ln">  34 </span><span class="pp-pln">            </span><span class="pp-tag">_</span><span class="pp-pln"> path.join</span></div><div class="L5"><span class="pp-ln">  35 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> __dirname</span></div><div class="L6"><span class="pp-ln">  36 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> 'ittf'</span></div><div class="L7"><span class="pp-ln">  37 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> 'gc_one.ittf'</span></div><div class="L8"><span class="pp-ln">  38 </span><span class="pp-pln">            </span><span class="pp-mix frag-to-link-a" data-frag-id="d144">f_cb_test(</span><span class="pp-arg"> exists </span><span class="pp-mix">)</span></div><div class="L9"><span class="pp-ln">  39 </span><span class="pp-pln">                </span><span class="pp-mix frag-to-link-a" data-frag-id="d154">tobe_true(</span><span class="pp-arg"> exists</span><span class="pp-mix">)</span></div><div class="L0"><span class="pp-ln">  40 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> file.exists</span></div><div class="L1"><span class="pp-ln">  41 </span><span class="pp-pln">                    </span><span class="pp-tag">_</span><span class="pp-pln"> path.join</span></div><div class="L2"><span class="pp-ln">  42 </span><span class="pp-pln">                        </span><span class="pp-tag">@</span><span class="pp-pln"> __dirname</span></div><div class="L3"><span class="pp-ln">  43 </span><span class="pp-pln">                        </span><span class="pp-tag">@</span><span class="pp-pln"> 'ittf'</span></div><div class="L4"><span class="pp-ln">  44 </span><span class="pp-pln">                        </span><span class="pp-tag">@</span><span class="pp-pln"> 'astrumb.ittf'</span></div><div class="L5"><span class="pp-ln">  45 </span><span class="pp-pln">                    </span><span class="pp-mix frag-to-link-a" data-frag-id="d144">f_cb_test(</span><span class="pp-arg"> exists </span><span class="pp-mix">)</span></div><div class="L6"><span class="pp-ln">  46 </span><span class="pp-pln">                        </span><span class="pp-mix frag-to-link-a" data-frag-id="d148">tobe_false(</span><span class="pp-arg"> exists</span><span class="pp-mix">)</span></div><div class="L7"><span class="pp-ln">  47 </span><span class="pp-pln">                        </span><span class="pp-tag">_</span><span class="pp-pln"> file.isFile</span></div><div class="L8"><span class="pp-ln">  48 </span><span class="pp-pln">                            </span><span class="pp-tag">_</span><span class="pp-pln"> path.join</span></div><div class="L9"><span class="pp-ln">  49 </span><span class="pp-pln">                                </span><span class="pp-tag">@</span><span class="pp-pln"> __dirname</span></div><div class="L0"><span class="pp-ln">  50 </span><span class="pp-pln">                                </span><span class="pp-tag">@</span><span class="pp-pln"> 'ittf'</span></div><div class="L1"><span class="pp-ln">  51 </span><span class="pp-pln">                                </span><span class="pp-tag">@</span><span class="pp-pln"> 'gc_one.ittf'</span></div><div class="L2"><span class="pp-ln">  52 </span><span class="pp-pln">                            </span><span class="pp-mix frag-to-link-a" data-frag-id="d144">f_cb_test(</span><span class="pp-arg"> isFile </span><span class="pp-mix">)</span></div><div class="L3"><span class="pp-ln">  53 </span><span class="pp-pln">                                </span><span class="pp-mix frag-to-link-a" data-frag-id="d154">tobe_true(</span><span class="pp-arg"> isFile</span><span class="pp-mix">)</span></div><div class="L4"><span class="pp-ln">  54 </span><span class="pp-pln">                                </span><span class="pp-tag">_</span><span class="pp-pln"> file.isFile</span></div><div class="L5"><span class="pp-ln">  55 </span><span class="pp-pln">                                    </span><span class="pp-tag">_</span><span class="pp-pln"> path.join</span></div><div class="L6"><span class="pp-ln">  56 </span><span class="pp-pln">                                        </span><span class="pp-tag">@</span><span class="pp-pln"> __dirname</span></div><div class="L7"><span class="pp-ln">  57 </span><span class="pp-pln">                                        </span><span class="pp-tag">@</span><span class="pp-pln"> 'ittf'</span></div><div class="L8"><span class="pp-ln">  58 </span><span class="pp-pln">                                        </span><span class="pp-tag">@</span><span class="pp-pln"> 'astrumb.ittf'</span></div><div class="L9"><span class="pp-ln">  59 </span><span class="pp-pln">                                    </span><span class="pp-mix frag-to-link-a" data-frag-id="d144">f_cb_test(</span><span class="pp-arg"> isFile </span><span class="pp-mix">)</span></div><div class="L0"><span class="pp-ln">  60 </span><span class="pp-pln">                                        </span><span class="pp-mix frag-to-link-a" data-frag-id="d148">tobe_false(</span><span class="pp-arg"> isFile</span><span class="pp-mix">)</span></div><div class="L1"><span class="pp-ln">  61 </span><span class="pp-pln">                                        </span><span class="pp-tag">_</span><span class="pp-pln"> file.isFile</span></div><div class="L2"><span class="pp-ln">  62 </span><span class="pp-pln">                                            </span><span class="pp-tag">_</span><span class="pp-pln"> path.join</span></div><div class="L3"><span class="pp-ln">  63 </span><span class="pp-pln">                                                </span><span class="pp-tag">@</span><span class="pp-pln"> __dirname</span></div><div class="L4"><span class="pp-ln">  64 </span><span class="pp-pln">                                                </span><span class="pp-tag">@</span><span class="pp-pln"> 'ittf'</span></div><div class="L5"><span class="pp-ln">  65 </span><span class="pp-pln">                                                </span><span class="pp-tag">@</span><span class="pp-pln"> 'folder_one'</span></div><div class="L6"><span class="pp-ln">  66 </span><span class="pp-pln">                                            </span><span class="pp-mix frag-to-link-a" data-frag-id="d144">f_cb_test(</span><span class="pp-arg"> isFile </span><span class="pp-mix">)</span></div><div class="L7"><span class="pp-ln">  67 </span><span class="pp-pln">                                                </span><span class="pp-mix frag-to-link-a" data-frag-id="d148">tobe_false(</span><span class="pp-arg"> isFile</span><span class="pp-mix">)</span></div><div class="L8"><span class="pp-ln">  68 </span><span class="pp-pln">                                                </span><span class="pp-tag">_</span><span class="pp-pln"> file.isDirectory</span></div><div class="L9"><span class="pp-ln">  69 </span><span class="pp-pln">                                                    </span><span class="pp-tag">_</span><span class="pp-pln"> path.join</span></div><div class="L0"><span class="pp-ln">  70 </span><span class="pp-pln">                                                        </span><span class="pp-tag">@</span><span class="pp-pln"> __dirname</span></div><div class="L1"><span class="pp-ln">  71 </span><span class="pp-pln">                                                        </span><span class="pp-tag">@</span><span class="pp-pln"> 'ittf'</span></div><div class="L2"><span class="pp-ln">  72 </span><span class="pp-pln">                                                        </span><span class="pp-tag">@</span><span class="pp-pln"> 'gc_one.ittf'</span></div><div class="L3"><span class="pp-ln">  73 </span><span class="pp-pln">                                                    </span><span class="pp-mix frag-to-link-a" data-frag-id="d144">f_cb_test(</span><span class="pp-arg"> isDirectory </span><span class="pp-mix">)</span></div><div class="L4"><span class="pp-ln">  74 </span><span class="pp-pln">                                                        </span><span class="pp-mix frag-to-link-a" data-frag-id="d148">tobe_false(</span><span class="pp-arg"> isDirectory</span><span class="pp-mix">)</span></div><div class="L5"><span class="pp-ln">  75 </span><span class="pp-pln">                                                        </span><span class="pp-tag">_</span><span class="pp-pln"> done</span></div><div class="L6"><span class="pp-ln">  76 </span><span class="pp-pln">    </span><span class="pp-tag">it-async</span><span class="pp-pln"> should async check existence of folder</span></div><div class="L7"><span class="pp-ln">  77 </span><span class="pp-pln">        </span><span class="pp-tag">_</span><span class="pp-pln"> file.exists</span></div><div class="L8"><span class="pp-ln">  78 </span><span class="pp-pln">            </span><span class="pp-tag">_</span><span class="pp-pln"> path.join</span></div><div class="L9"><span class="pp-ln">  79 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> __dirname</span></div><div class="L0"><span class="pp-ln">  80 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> 'ittf'</span></div><div class="L1"><span class="pp-ln">  81 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> 'folder_one'</span></div><div class="L2"><span class="pp-ln">  82 </span><span class="pp-pln">            </span><span class="pp-mix frag-to-link-a" data-frag-id="d144">f_cb_test(</span><span class="pp-arg"> exists </span><span class="pp-mix">)</span></div><div class="L3"><span class="pp-ln">  83 </span><span class="pp-pln">                </span><span class="pp-mix frag-to-link-a" data-frag-id="d154">tobe_true(</span><span class="pp-arg"> exists</span><span class="pp-mix">)</span></div><div class="L4"><span class="pp-ln">  84 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> file.exists</span></div><div class="L5"><span class="pp-ln">  85 </span><span class="pp-pln">                    </span><span class="pp-tag">_</span><span class="pp-pln"> path.join</span></div><div class="L6"><span class="pp-ln">  86 </span><span class="pp-pln">                        </span><span class="pp-tag">@</span><span class="pp-pln"> __dirname</span></div><div class="L7"><span class="pp-ln">  87 </span><span class="pp-pln">                        </span><span class="pp-tag">@</span><span class="pp-pln"> 'ittf'</span></div><div class="L8"><span class="pp-ln">  88 </span><span class="pp-pln">                        </span><span class="pp-tag">@</span><span class="pp-pln"> 'folder_astrumb'</span></div><div class="L9"><span class="pp-ln">  89 </span><span class="pp-pln">                    </span><span class="pp-mix frag-to-link-a" data-frag-id="d144">f_cb_test(</span><span class="pp-arg"> exists </span><span class="pp-mix">)</span></div><div class="L0"><span class="pp-ln">  90 </span><span class="pp-pln">                        </span><span class="pp-mix frag-to-link-a" data-frag-id="d148">tobe_false(</span><span class="pp-arg"> exists</span><span class="pp-mix">)</span></div><div class="L1"><span class="pp-ln">  91 </span><span class="pp-pln">                        </span><span class="pp-tag">_</span><span class="pp-pln"> file.isDirectory</span></div><div class="L2"><span class="pp-ln">  92 </span><span class="pp-pln">                            </span><span class="pp-tag">_</span><span class="pp-pln"> path.join</span></div><div class="L3"><span class="pp-ln">  93 </span><span class="pp-pln">                                </span><span class="pp-tag">@</span><span class="pp-pln"> __dirname</span></div><div class="L4"><span class="pp-ln">  94 </span><span class="pp-pln">                                </span><span class="pp-tag">@</span><span class="pp-pln"> 'ittf'</span></div><div class="L5"><span class="pp-ln">  95 </span><span class="pp-pln">                                </span><span class="pp-tag">@</span><span class="pp-pln"> 'folder_one'</span></div><div class="L6"><span class="pp-ln">  96 </span><span class="pp-pln">                            </span><span class="pp-mix frag-to-link-a" data-frag-id="d144">f_cb_test(</span><span class="pp-arg"> isDirectory </span><span class="pp-mix">)</span></div><div class="L7"><span class="pp-ln">  97 </span><span class="pp-pln">                                </span><span class="pp-mix frag-to-link-a" data-frag-id="d154">tobe_true(</span><span class="pp-arg"> isDirectory</span><span class="pp-mix">)</span></div><div class="L8"><span class="pp-ln">  98 </span><span class="pp-pln">                                </span><span class="pp-tag">_</span><span class="pp-pln"> file.isDirectory</span></div><div class="L9"><span class="pp-ln">  99 </span><span class="pp-pln">                                    </span><span class="pp-tag">_</span><span class="pp-pln"> path.join</span></div><div class="L0"><span class="pp-ln"> 100 </span><span class="pp-pln">                                        </span><span class="pp-tag">@</span><span class="pp-pln"> __dirname</span></div><div class="L1"><span class="pp-ln"> 101 </span><span class="pp-pln">                                        </span><span class="pp-tag">@</span><span class="pp-pln"> 'ittf'</span></div><div class="L2"><span class="pp-ln"> 102 </span><span class="pp-pln">                                        </span><span class="pp-tag">@</span><span class="pp-pln"> 'astrumb.ittf'</span></div><div class="L3"><span class="pp-ln"> 103 </span><span class="pp-pln">                                    </span><span class="pp-mix frag-to-link-a" data-frag-id="d144">f_cb_test(</span><span class="pp-arg"> isDirectory </span><span class="pp-mix">)</span></div><div class="L4"><span class="pp-ln"> 104 </span><span class="pp-pln">                                        </span><span class="pp-mix frag-to-link-a" data-frag-id="d148">tobe_false(</span><span class="pp-arg"> isDirectory</span><span class="pp-mix">)</span></div><div class="L5"><span class="pp-ln"> 105 </span><span class="pp-pln">                                        </span><span class="pp-tag">_</span><span class="pp-pln"> file.isFile</span></div><div class="L6"><span class="pp-ln"> 106 </span><span class="pp-pln">                                            </span><span class="pp-tag">_</span><span class="pp-pln"> path.join</span></div><div class="L7"><span class="pp-ln"> 107 </span><span class="pp-pln">                                                </span><span class="pp-tag">@</span><span class="pp-pln"> __dirname</span></div><div class="L8"><span class="pp-ln"> 108 </span><span class="pp-pln">                                                </span><span class="pp-tag">@</span><span class="pp-pln"> 'ittf'</span></div><div class="L9"><span class="pp-ln"> 109 </span><span class="pp-pln">                                                </span><span class="pp-tag">@</span><span class="pp-pln"> 'folder_one'</span></div><div class="L0"><span class="pp-ln"> 110 </span><span class="pp-pln">                                            </span><span class="pp-mix frag-to-link-a" data-frag-id="d144">f_cb_test(</span><span class="pp-arg"> isFile </span><span class="pp-mix">)</span></div><div class="L1"><span class="pp-ln"> 111 </span><span class="pp-pln">                                                </span><span class="pp-mix frag-to-link-a" data-frag-id="d148">tobe_false(</span><span class="pp-arg"> isFile</span><span class="pp-mix">)</span></div><div class="L2"><span class="pp-ln"> 112 </span><span class="pp-pln">                                                </span><span class="pp-tag">_</span><span class="pp-pln"> done</span></div><div class="L3"><span class="pp-ln"> 113 </span><span class="pp-pln">    </span><span class="pp-tag">it-async</span><span class="pp-pln"> should async create folder</span></div><div class="L4"><span class="pp-ln"> 114 </span><span class="pp-pln">        </span><span class="pp-tag">_</span><span class="pp-pln"> file.mkdir</span></div><div class="L5"><span class="pp-ln"> 115 </span><span class="pp-pln">            </span><span class="pp-tag">_</span><span class="pp-pln"> path.join</span></div><div class="L6"><span class="pp-ln"> 116 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> __dirname</span></div><div class="L7"><span class="pp-ln"> 117 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> 'ittf'</span></div><div class="L8"><span class="pp-ln"> 118 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> 'folder_created_one'</span></div><div class="L9"><span class="pp-ln"> 119 </span><span class="pp-pln">            </span><span class="pp-mix frag-to-link-a" data-frag-id="d144">f_cb_test(</span><span class="pp-arg"> result </span><span class="pp-mix">)</span></div><div class="L0"><span class="pp-ln"> 120 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> file.isDirectory</span></div><div class="L1"><span class="pp-ln"> 121 </span><span class="pp-pln">                    </span><span class="pp-tag">_</span><span class="pp-pln"> path.join</span></div><div class="L2"><span class="pp-ln"> 122 </span><span class="pp-pln">                        </span><span class="pp-tag">@</span><span class="pp-pln"> __dirname</span></div><div class="L3"><span class="pp-ln"> 123 </span><span class="pp-pln">                        </span><span class="pp-tag">@</span><span class="pp-pln"> 'ittf'</span></div><div class="L4"><span class="pp-ln"> 124 </span><span class="pp-pln">                        </span><span class="pp-tag">@</span><span class="pp-pln"> 'folder_created_one'</span></div><div class="L5"><span class="pp-ln"> 125 </span><span class="pp-pln">                    </span><span class="pp-mix frag-to-link-a" data-frag-id="d144">f_cb_test(</span><span class="pp-arg"> isDirectory </span><span class="pp-mix">)</span></div><div class="L6"><span class="pp-ln"> 126 </span><span class="pp-pln">                        </span><span class="pp-mix frag-to-link-a" data-frag-id="d154">tobe_true(</span><span class="pp-arg"> isDirectory</span><span class="pp-mix">)</span></div><div class="L7"><span class="pp-ln"> 127 </span><span class="pp-pln">                        </span><span class="pp-tag">_</span><span class="pp-pln"> file.mkdir</span></div><div class="L8"><span class="pp-ln"> 128 </span><span class="pp-pln">                            </span><span class="pp-tag">_</span><span class="pp-pln"> path.join</span></div><div class="L9"><span class="pp-ln"> 129 </span><span class="pp-pln">                                </span><span class="pp-tag">@</span><span class="pp-pln"> __dirname</span></div><div class="L0"><span class="pp-ln"> 130 </span><span class="pp-pln">                                </span><span class="pp-tag">@</span><span class="pp-pln"> 'ittf'</span></div><div class="L1"><span class="pp-ln"> 131 </span><span class="pp-pln">                                </span><span class="pp-tag">@</span><span class="pp-pln"> 'folder_created_one'</span></div><div class="L2"><span class="pp-ln"> 132 </span><span class="pp-pln">                                </span><span class="pp-tag">@</span><span class="pp-pln"> 'alfa'</span></div><div class="L3"><span class="pp-ln"> 133 </span><span class="pp-pln">                                </span><span class="pp-tag">@</span><span class="pp-pln"> 'beta'</span></div><div class="L4"><span class="pp-ln"> 134 </span><span class="pp-pln">                            </span><span class="pp-mix frag-to-link-a" data-frag-id="d144">f_cb_test(</span><span class="pp-arg"> result </span><span class="pp-mix">)</span></div><div class="L5"><span class="pp-ln"> 135 </span><span class="pp-pln">                                </span><span class="pp-tag">_</span><span class="pp-pln"> file.isDirectory</span></div><div class="L6"><span class="pp-ln"> 136 </span><span class="pp-pln">                                    </span><span class="pp-tag">_</span><span class="pp-pln"> path.join</span></div><div class="L7"><span class="pp-ln"> 137 </span><span class="pp-pln">                                        </span><span class="pp-tag">@</span><span class="pp-pln"> __dirname</span></div><div class="L8"><span class="pp-ln"> 138 </span><span class="pp-pln">                                        </span><span class="pp-tag">@</span><span class="pp-pln"> 'ittf'</span></div><div class="L9"><span class="pp-ln"> 139 </span><span class="pp-pln">                                        </span><span class="pp-tag">@</span><span class="pp-pln"> 'folder_created_one'</span></div><div class="L0"><span class="pp-ln"> 140 </span><span class="pp-pln">                                        </span><span class="pp-tag">@</span><span class="pp-pln"> 'alfa'</span></div><div class="L1"><span class="pp-ln"> 141 </span><span class="pp-pln">                                        </span><span class="pp-tag">@</span><span class="pp-pln"> 'beta'</span></div><div class="L2"><span class="pp-ln"> 142 </span><span class="pp-pln">                                    </span><span class="pp-mix frag-to-link-a" data-frag-id="d144">f_cb_test(</span><span class="pp-arg"> isDirectory </span><span class="pp-mix">)</span></div><div class="L3"><span class="pp-ln"> 143 </span><span class="pp-pln">                                        </span><span class="pp-mix frag-to-link-a" data-frag-id="d154">tobe_true(</span><span class="pp-arg"> isDirectory</span><span class="pp-mix">)</span></div><div class="L4"><span class="pp-ln"> 144 </span><span class="pp-pln">                                        </span><span class="pp-tag">_</span><span class="pp-pln"> done</span></div><div class="L5"><span class="pp-ln"> 145 </span><span class="pp-pln">    </span><span class="pp-tag">it-async</span><span class="pp-pln"> should async write/read a file</span></div><div class="L6"><span class="pp-ln"> 146 </span><span class="pp-pln">        </span><span class="pp-tag">_</span><span class="pp-pln"> file.write</span></div><div class="L7"><span class="pp-ln"> 147 </span><span class="pp-pln">            </span><span class="pp-tag">_</span><span class="pp-pln"> path.join</span></div><div class="L8"><span class="pp-ln"> 148 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> __dirname</span></div><div class="L9"><span class="pp-ln"> 149 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> 'ittf'</span></div><div class="L0"><span class="pp-ln"> 150 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> 'gc_one.ittf'</span></div><div class="L1"><span class="pp-ln"> 151 </span><span class="pp-pln">            </span><span class="pp-tag">@</span><span class="pp-pln"> 'first one\nsecond one'</span></div><div class="L2"><span class="pp-ln"> 152 </span><span class="pp-pln">            </span><span class="pp-mix frag-to-link-a" data-frag-id="d144">f_cb_test(</span><span class="pp-arg"> result </span><span class="pp-mix">)</span></div><div class="L3"><span class="pp-ln"> 153 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> file.read</span></div><div class="L4"><span class="pp-ln"> 154 </span><span class="pp-pln">                    </span><span class="pp-tag">_</span><span class="pp-pln"> path.join</span></div><div class="L5"><span class="pp-ln"> 155 </span><span class="pp-pln">                        </span><span class="pp-tag">@</span><span class="pp-pln"> __dirname</span></div><div class="L6"><span class="pp-ln"> 156 </span><span class="pp-pln">                        </span><span class="pp-tag">@</span><span class="pp-pln"> 'ittf'</span></div><div class="L7"><span class="pp-ln"> 157 </span><span class="pp-pln">                        </span><span class="pp-tag">@</span><span class="pp-pln"> 'gc_one.ittf'</span></div><div class="L8"><span class="pp-ln"> 158 </span><span class="pp-pln">                    </span><span class="pp-mix frag-to-link-a" data-frag-id="d144">f_cb_test(</span><span class="pp-arg"> contents </span><span class="pp-mix">)</span></div><div class="L9"><span class="pp-ln"> 159 </span><span class="pp-pln">                        </span><span class="pp-mix frag-to-link-a" data-frag-id="d153">tobe_string(</span><span class="pp-arg"> contents</span><span class="pp-pln">,</span><span class="pp-arg">  first one\nsecond one </span><span class="pp-mix">)</span></div><div class="L0"><span class="pp-ln"> 160 </span><span class="pp-pln">                        </span><span class="pp-tag">_</span><span class="pp-pln"> done</span></div><div class="L1"><span class="pp-ln"> 161 </span><span class="pp-pln">    </span><span class="pp-tag">it-async</span><span class="pp-pln"> should async write/read a file on a new folder</span></div><div class="L2"><span class="pp-ln"> 162 </span><span class="pp-pln">        </span><span class="pp-tag">_</span><span class="pp-pln"> file.write</span></div><div class="L3"><span class="pp-ln"> 163 </span><span class="pp-pln">            </span><span class="pp-tag">_</span><span class="pp-pln"> path.join</span></div><div class="L4"><span class="pp-ln"> 164 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> __dirname</span></div><div class="L5"><span class="pp-ln"> 165 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> 'ittf'</span></div><div class="L6"><span class="pp-ln"> 166 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> 'alca'</span></div><div class="L7"><span class="pp-ln"> 167 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> 'traz'</span></div><div class="L8"><span class="pp-ln"> 168 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> 'gc_one.ittf'</span></div><div class="L9"><span class="pp-ln"> 169 </span><span class="pp-pln">            </span><span class="pp-tag">@</span><span class="pp-pln"> 'first one\nsecond one'</span></div><div class="L0"><span class="pp-ln"> 170 </span><span class="pp-pln">            </span><span class="pp-mix frag-to-link-a" data-frag-id="d144">f_cb_test(</span><span class="pp-arg"> result </span><span class="pp-mix">)</span></div><div class="L1"><span class="pp-ln"> 171 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> file.read</span></div><div class="L2"><span class="pp-ln"> 172 </span><span class="pp-pln">                    </span><span class="pp-tag">_</span><span class="pp-pln"> path.join</span></div><div class="L3"><span class="pp-ln"> 173 </span><span class="pp-pln">                        </span><span class="pp-tag">@</span><span class="pp-pln"> __dirname</span></div><div class="L4"><span class="pp-ln"> 174 </span><span class="pp-pln">                        </span><span class="pp-tag">@</span><span class="pp-pln"> 'ittf'</span></div><div class="L5"><span class="pp-ln"> 175 </span><span class="pp-pln">                        </span><span class="pp-tag">@</span><span class="pp-pln"> 'alca'</span></div><div class="L6"><span class="pp-ln"> 176 </span><span class="pp-pln">                        </span><span class="pp-tag">@</span><span class="pp-pln"> 'traz'</span></div><div class="L7"><span class="pp-ln"> 177 </span><span class="pp-pln">                        </span><span class="pp-tag">@</span><span class="pp-pln"> 'gc_one.ittf'</span></div><div class="L8"><span class="pp-ln"> 178 </span><span class="pp-pln">                    </span><span class="pp-mix frag-to-link-a" data-frag-id="d144">f_cb_test(</span><span class="pp-arg"> contents </span><span class="pp-mix">)</span></div><div class="L9"><span class="pp-ln"> 179 </span><span class="pp-pln">                        </span><span class="pp-mix frag-to-link-a" data-frag-id="d153">tobe_string(</span><span class="pp-arg"> contents</span><span class="pp-pln">,</span><span class="pp-arg">  first one\nsecond one </span><span class="pp-mix">)</span></div><div class="L0"><span class="pp-ln"> 180 </span><span class="pp-pln">                        </span><span class="pp-tag">_</span><span class="pp-pln"> done</span></div><div class="L1"><span class="pp-ln"> 181 </span><span class="pp-pln">    </span><span class="pp-tag">it-async</span><span class="pp-pln"> should async write/read a json file</span></div><div class="L2"><span class="pp-ln"> 182 </span><span class="pp-pln">        </span><span class="pp-tag">var</span><span class="pp-pln"> obj</span></div><div class="L3"><span class="pp-ln"> 183 </span><span class="pp-pln">            </span><span class="pp-tag">{</span></div><div class="L4"><span class="pp-ln"> 184 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> name 'stefi'</span></div><div class="L5"><span class="pp-ln"> 185 </span><span class="pp-pln">                </span><span class="pp-tag">[</span><span class="pp-pln"> friends</span></div><div class="L6"><span class="pp-ln"> 186 </span><span class="pp-pln">                    </span><span class="pp-tag">{</span></div><div class="L7"><span class="pp-ln"> 187 </span><span class="pp-pln">                        </span><span class="pp-tag">@</span><span class="pp-pln"> name 'arth'</span></div><div class="L8"><span class="pp-ln"> 188 </span><span class="pp-pln">                    </span><span class="pp-tag">{</span></div><div class="L9"><span class="pp-ln"> 189 </span><span class="pp-pln">                        </span><span class="pp-tag">@</span><span class="pp-pln"> name 'marilu'</span></div><div class="L0"><span class="pp-ln"> 190 </span><span class="pp-pln">        </span><span class="pp-tag">_</span><span class="pp-pln"> file.writeJSON</span></div><div class="L1"><span class="pp-ln"> 191 </span><span class="pp-pln">            </span><span class="pp-tag">_</span><span class="pp-pln"> path.join</span></div><div class="L2"><span class="pp-ln"> 192 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> __dirname</span></div><div class="L3"><span class="pp-ln"> 193 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> 'ittf'</span></div><div class="L4"><span class="pp-ln"> 194 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> 'abrac.json'</span></div><div class="L5"><span class="pp-ln"> 195 </span><span class="pp-pln">            </span><span class="pp-tag">@</span><span class="pp-pln"> obj</span></div><div class="L6"><span class="pp-ln"> 196 </span><span class="pp-pln">            </span><span class="pp-mix frag-to-link-a" data-frag-id="d144">f_cb_test(</span><span class="pp-arg"> result </span><span class="pp-mix">)</span></div><div class="L7"><span class="pp-ln"> 197 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> file.readJSON</span></div><div class="L8"><span class="pp-ln"> 198 </span><span class="pp-pln">                    </span><span class="pp-tag">_</span><span class="pp-pln"> path.join</span></div><div class="L9"><span class="pp-ln"> 199 </span><span class="pp-pln">                        </span><span class="pp-tag">@</span><span class="pp-pln"> __dirname</span></div><div class="L0"><span class="pp-ln"> 200 </span><span class="pp-pln">                        </span><span class="pp-tag">@</span><span class="pp-pln"> 'ittf'</span></div><div class="L1"><span class="pp-ln"> 201 </span><span class="pp-pln">                        </span><span class="pp-tag">@</span><span class="pp-pln"> 'abrac.json'</span></div><div class="L2"><span class="pp-ln"> 202 </span><span class="pp-pln">                    </span><span class="pp-mix frag-to-link-a" data-frag-id="d144">f_cb_test(</span><span class="pp-arg"> obj_read </span><span class="pp-mix">)</span></div><div class="L3"><span class="pp-ln"> 203 </span><span class="pp-pln">                        </span><span class="pp-mix frag-to-link-a" data-frag-id="d147">tobe_eql(</span><span class="pp-arg"> obj</span><span class="pp-pln">,</span><span class="pp-arg">  obj_read </span><span class="pp-mix">)</span></div><div class="L4"><span class="pp-ln"> 204 </span><span class="pp-pln">                        </span><span class="pp-tag">_</span><span class="pp-pln"> done</span></div><div class="L5"><span class="pp-ln"> 205 </span><span class="pp-pln">    </span><span class="pp-kwd">$include</span><span class="pp-mix frag-to-link-a" data-frag-id="d161"> vfile_async/glob</span></div></pre>
                    </div>
                </div>
                <div class="code-panel" id="d167">
                    <div class="modal-view-container">
                        <h4 class="d-h2">/src/ittf/tests/util/vfile.js.ittf</h4>
                        <pre class="prettyprint">

<div class="L1"><span class="pp-ln">   1 </span><span class="pp-pln"></span><span class="pp-mix frag-to-link-a" data-frag-id="d140">base_test(</span><span class="pp-arg"> vfile </span><span class="pp-mix">)</span></div><div class="L2"><span class="pp-ln">   2 </span><span class="pp-pln">    </span><span class="pp-kwd">$append</span><span class="pp-pln"> imports</span></div><div class="L3"><span class="pp-ln">   3 </span><span class="pp-pln">        </span><span class="pp-tag">var</span><span class="pp-pln"> vfile = require('../../lib/fs/vfile')</span></div><div class="L4"><span class="pp-ln">   4 </span><span class="pp-pln">        </span><span class="pp-tag">var</span><span class="pp-pln"> file = vfile()</span></div><div class="L5"><span class="pp-ln">   5 </span><span class="pp-pln">        </span><span class="pp-tag">var</span><span class="pp-pln"> glob = require('../../lib/glob')</span></div><div class="L6"><span class="pp-ln">   6 </span><span class="pp-pln">    </span><span class="pp-tag">before</span></div><div class="L7"><span class="pp-ln">   7 </span><span class="pp-pln">        </span><span class="pp-tag">_</span><span class="pp-pln"> del.sync</span></div><div class="L8"><span class="pp-ln">   8 </span><span class="pp-pln">            </span><span class="pp-tag">[</span></div><div class="L9"><span class="pp-ln">   9 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> path.join</span></div><div class="L0"><span class="pp-ln">  10 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> __dirname</span></div><div class="L1"><span class="pp-ln">  11 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> 'ittf'</span></div><div class="L2"><span class="pp-ln">  12 </span><span class="pp-pln">            </span><span class="pp-tag">{</span></div><div class="L3"><span class="pp-ln">  13 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> force true</span></div><div class="L4"><span class="pp-ln">  14 </span><span class="pp-pln">    </span><span class="pp-tag">it</span><span class="pp-pln"> should create the first file in the ittf folder</span></div><div class="L5"><span class="pp-ln">  15 </span><span class="pp-pln">        </span><span class="pp-tag">_</span><span class="pp-pln"> file.write</span></div><div class="L6"><span class="pp-ln">  16 </span><span class="pp-pln">            </span><span class="pp-tag">_</span><span class="pp-pln"> path.join</span></div><div class="L7"><span class="pp-ln">  17 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> __dirname</span></div><div class="L8"><span class="pp-ln">  18 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> 'ittf'</span></div><div class="L9"><span class="pp-ln">  19 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> 'gc_one.ittf'</span></div><div class="L0"><span class="pp-ln">  20 </span><span class="pp-pln">            </span><span class="pp-tag">@</span><span class="pp-pln"> 'first one\nsecond one'</span></div><div class="L1"><span class="pp-ln">  21 </span><span class="pp-pln">        </span><span class="pp-tag">_</span><span class="pp-pln"> file.write</span></div><div class="L2"><span class="pp-ln">  22 </span><span class="pp-pln">            </span><span class="pp-tag">_</span><span class="pp-pln"> path.join</span></div><div class="L3"><span class="pp-ln">  23 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> __dirname</span></div><div class="L4"><span class="pp-ln">  24 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> 'ittf'</span></div><div class="L5"><span class="pp-ln">  25 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> 'folder_one'</span></div><div class="L6"><span class="pp-ln">  26 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> 'gc_two.ittf'</span></div><div class="L7"><span class="pp-ln">  27 </span><span class="pp-pln">            </span><span class="pp-tag">@</span><span class="pp-pln"> 'first one\nsecond one'</span></div><div class="L8"><span class="pp-ln">  28 </span><span class="pp-pln">    </span><span class="pp-tag">it</span><span class="pp-pln"> should check existence of file</span></div><div class="L9"><span class="pp-ln">  29 </span><span class="pp-pln">        </span><span class="pp-tag">var</span><span class="pp-pln"> exists</span></div><div class="L0"><span class="pp-ln">  30 </span><span class="pp-pln">            </span><span class="pp-tag">_</span><span class="pp-pln"> file.exists</span></div><div class="L1"><span class="pp-ln">  31 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> path.join</span></div><div class="L2"><span class="pp-ln">  32 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> __dirname</span></div><div class="L3"><span class="pp-ln">  33 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> 'ittf'</span></div><div class="L4"><span class="pp-ln">  34 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> 'gc_one.ittf'</span></div><div class="L5"><span class="pp-ln">  35 </span><span class="pp-pln">        </span><span class="pp-mix frag-to-link-a" data-frag-id="d154">tobe_true(</span><span class="pp-arg"> exists</span><span class="pp-mix">)</span></div><div class="L6"><span class="pp-ln">  36 </span><span class="pp-pln">        </span><span class="pp-tag">set</span><span class="pp-pln"> exists</span></div><div class="L7"><span class="pp-ln">  37 </span><span class="pp-pln">            </span><span class="pp-tag">_</span><span class="pp-pln"> file.exists</span></div><div class="L8"><span class="pp-ln">  38 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> path.join</span></div><div class="L9"><span class="pp-ln">  39 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> __dirname</span></div><div class="L0"><span class="pp-ln">  40 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> 'ittf'</span></div><div class="L1"><span class="pp-ln">  41 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> 'astrumb.ittf'</span></div><div class="L2"><span class="pp-ln">  42 </span><span class="pp-pln">        </span><span class="pp-mix frag-to-link-a" data-frag-id="d148">tobe_false(</span><span class="pp-arg"> exists</span><span class="pp-mix">)</span></div><div class="L3"><span class="pp-ln">  43 </span><span class="pp-pln">        </span><span class="pp-tag">var</span><span class="pp-pln"> isFile</span></div><div class="L4"><span class="pp-ln">  44 </span><span class="pp-pln">            </span><span class="pp-tag">_</span><span class="pp-pln"> file.isFile</span></div><div class="L5"><span class="pp-ln">  45 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> path.join</span></div><div class="L6"><span class="pp-ln">  46 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> __dirname</span></div><div class="L7"><span class="pp-ln">  47 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> 'ittf'</span></div><div class="L8"><span class="pp-ln">  48 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> 'gc_one.ittf'</span></div><div class="L9"><span class="pp-ln">  49 </span><span class="pp-pln">        </span><span class="pp-mix frag-to-link-a" data-frag-id="d154">tobe_true(</span><span class="pp-arg"> isFile</span><span class="pp-mix">)</span></div><div class="L0"><span class="pp-ln">  50 </span><span class="pp-pln">        </span><span class="pp-tag">set</span><span class="pp-pln"> isFile</span></div><div class="L1"><span class="pp-ln">  51 </span><span class="pp-pln">            </span><span class="pp-tag">_</span><span class="pp-pln"> file.isFile</span></div><div class="L2"><span class="pp-ln">  52 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> path.join</span></div><div class="L3"><span class="pp-ln">  53 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> __dirname</span></div><div class="L4"><span class="pp-ln">  54 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> 'ittf'</span></div><div class="L5"><span class="pp-ln">  55 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> 'astrumb.ittf'</span></div><div class="L6"><span class="pp-ln">  56 </span><span class="pp-pln">        </span><span class="pp-mix frag-to-link-a" data-frag-id="d148">tobe_false(</span><span class="pp-arg"> isFile</span><span class="pp-mix">)</span></div><div class="L7"><span class="pp-ln">  57 </span><span class="pp-pln">        </span><span class="pp-tag">set</span><span class="pp-pln"> isFile</span></div><div class="L8"><span class="pp-ln">  58 </span><span class="pp-pln">            </span><span class="pp-tag">_</span><span class="pp-pln"> file.isFile</span></div><div class="L9"><span class="pp-ln">  59 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> path.join</span></div><div class="L0"><span class="pp-ln">  60 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> __dirname</span></div><div class="L1"><span class="pp-ln">  61 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> 'ittf'</span></div><div class="L2"><span class="pp-ln">  62 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> 'folder_one'</span></div><div class="L3"><span class="pp-ln">  63 </span><span class="pp-pln">        </span><span class="pp-mix frag-to-link-a" data-frag-id="d148">tobe_false(</span><span class="pp-arg"> isFile</span><span class="pp-mix">)</span></div><div class="L4"><span class="pp-ln">  64 </span><span class="pp-pln">        </span><span class="pp-tag">var</span><span class="pp-pln"> isDirectory</span></div><div class="L5"><span class="pp-ln">  65 </span><span class="pp-pln">            </span><span class="pp-tag">_</span><span class="pp-pln"> file.isDirectory</span></div><div class="L6"><span class="pp-ln">  66 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> path.join</span></div><div class="L7"><span class="pp-ln">  67 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> __dirname</span></div><div class="L8"><span class="pp-ln">  68 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> 'ittf'</span></div><div class="L9"><span class="pp-ln">  69 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> 'gc_one.ittf'</span></div><div class="L0"><span class="pp-ln">  70 </span><span class="pp-pln">        </span><span class="pp-mix frag-to-link-a" data-frag-id="d148">tobe_false(</span><span class="pp-arg"> isDirectory</span><span class="pp-mix">)</span></div><div class="L1"><span class="pp-ln">  71 </span><span class="pp-pln">    </span><span class="pp-tag">it</span><span class="pp-pln"> should check existence of folder</span></div><div class="L2"><span class="pp-ln">  72 </span><span class="pp-pln">        </span><span class="pp-tag">var</span><span class="pp-pln"> exists</span></div><div class="L3"><span class="pp-ln">  73 </span><span class="pp-pln">            </span><span class="pp-tag">_</span><span class="pp-pln"> file.exists</span></div><div class="L4"><span class="pp-ln">  74 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> path.join</span></div><div class="L5"><span class="pp-ln">  75 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> __dirname</span></div><div class="L6"><span class="pp-ln">  76 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> 'ittf'</span></div><div class="L7"><span class="pp-ln">  77 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> 'folder_one'</span></div><div class="L8"><span class="pp-ln">  78 </span><span class="pp-pln">        </span><span class="pp-mix frag-to-link-a" data-frag-id="d154">tobe_true(</span><span class="pp-arg"> exists</span><span class="pp-mix">)</span></div><div class="L9"><span class="pp-ln">  79 </span><span class="pp-pln">        </span><span class="pp-tag">set</span><span class="pp-pln"> exists</span></div><div class="L0"><span class="pp-ln">  80 </span><span class="pp-pln">            </span><span class="pp-tag">_</span><span class="pp-pln"> file.exists</span></div><div class="L1"><span class="pp-ln">  81 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> path.join</span></div><div class="L2"><span class="pp-ln">  82 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> __dirname</span></div><div class="L3"><span class="pp-ln">  83 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> 'ittf'</span></div><div class="L4"><span class="pp-ln">  84 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> 'folder_astrumb'</span></div><div class="L5"><span class="pp-ln">  85 </span><span class="pp-pln">        </span><span class="pp-mix frag-to-link-a" data-frag-id="d148">tobe_false(</span><span class="pp-arg"> exists</span><span class="pp-mix">)</span></div><div class="L6"><span class="pp-ln">  86 </span><span class="pp-pln">        </span><span class="pp-tag">var</span><span class="pp-pln"> isDirectory</span></div><div class="L7"><span class="pp-ln">  87 </span><span class="pp-pln">            </span><span class="pp-tag">_</span><span class="pp-pln"> file.isDirectory</span></div><div class="L8"><span class="pp-ln">  88 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> path.join</span></div><div class="L9"><span class="pp-ln">  89 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> __dirname</span></div><div class="L0"><span class="pp-ln">  90 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> 'ittf'</span></div><div class="L1"><span class="pp-ln">  91 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> 'folder_one'</span></div><div class="L2"><span class="pp-ln">  92 </span><span class="pp-pln">        </span><span class="pp-mix frag-to-link-a" data-frag-id="d154">tobe_true(</span><span class="pp-arg"> isDirectory</span><span class="pp-mix">)</span></div><div class="L3"><span class="pp-ln">  93 </span><span class="pp-pln">        </span><span class="pp-tag">set</span><span class="pp-pln"> isDirectory</span></div><div class="L4"><span class="pp-ln">  94 </span><span class="pp-pln">            </span><span class="pp-tag">_</span><span class="pp-pln"> file.isDirectory</span></div><div class="L5"><span class="pp-ln">  95 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> path.join</span></div><div class="L6"><span class="pp-ln">  96 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> __dirname</span></div><div class="L7"><span class="pp-ln">  97 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> 'ittf'</span></div><div class="L8"><span class="pp-ln">  98 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> 'astrumb.ittf'</span></div><div class="L9"><span class="pp-ln">  99 </span><span class="pp-pln">        </span><span class="pp-mix frag-to-link-a" data-frag-id="d148">tobe_false(</span><span class="pp-arg"> isDirectory</span><span class="pp-mix">)</span></div><div class="L0"><span class="pp-ln"> 100 </span><span class="pp-pln">        </span><span class="pp-tag">var</span><span class="pp-pln"> isFile</span></div><div class="L1"><span class="pp-ln"> 101 </span><span class="pp-pln">            </span><span class="pp-tag">_</span><span class="pp-pln"> file.isFile</span></div><div class="L2"><span class="pp-ln"> 102 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> path.join</span></div><div class="L3"><span class="pp-ln"> 103 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> __dirname</span></div><div class="L4"><span class="pp-ln"> 104 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> 'ittf'</span></div><div class="L5"><span class="pp-ln"> 105 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> 'folder_one'</span></div><div class="L6"><span class="pp-ln"> 106 </span><span class="pp-pln">        </span><span class="pp-mix frag-to-link-a" data-frag-id="d148">tobe_false(</span><span class="pp-arg"> isFile</span><span class="pp-mix">)</span></div><div class="L7"><span class="pp-ln"> 107 </span><span class="pp-pln">    </span><span class="pp-tag">it</span><span class="pp-pln"> should create folder</span></div><div class="L8"><span class="pp-ln"> 108 </span><span class="pp-pln">        </span><span class="pp-tag">_</span><span class="pp-pln"> file.mkdir</span></div><div class="L9"><span class="pp-ln"> 109 </span><span class="pp-pln">            </span><span class="pp-tag">_</span><span class="pp-pln"> path.join</span></div><div class="L0"><span class="pp-ln"> 110 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> __dirname</span></div><div class="L1"><span class="pp-ln"> 111 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> 'ittf'</span></div><div class="L2"><span class="pp-ln"> 112 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> 'folder_created_one'</span></div><div class="L3"><span class="pp-ln"> 113 </span><span class="pp-pln">        </span><span class="pp-tag">var</span><span class="pp-pln"> isDirectory</span></div><div class="L4"><span class="pp-ln"> 114 </span><span class="pp-pln">            </span><span class="pp-tag">_</span><span class="pp-pln"> file.isDirectory</span></div><div class="L5"><span class="pp-ln"> 115 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> path.join</span></div><div class="L6"><span class="pp-ln"> 116 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> __dirname</span></div><div class="L7"><span class="pp-ln"> 117 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> 'ittf'</span></div><div class="L8"><span class="pp-ln"> 118 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> 'folder_created_one'</span></div><div class="L9"><span class="pp-ln"> 119 </span><span class="pp-pln">        </span><span class="pp-mix frag-to-link-a" data-frag-id="d154">tobe_true(</span><span class="pp-arg"> isDirectory</span><span class="pp-mix">)</span></div><div class="L0"><span class="pp-ln"> 120 </span><span class="pp-pln">        </span><span class="pp-tag">_</span><span class="pp-pln"> file.mkdir</span></div><div class="L1"><span class="pp-ln"> 121 </span><span class="pp-pln">            </span><span class="pp-tag">_</span><span class="pp-pln"> path.join</span></div><div class="L2"><span class="pp-ln"> 122 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> __dirname</span></div><div class="L3"><span class="pp-ln"> 123 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> 'ittf'</span></div><div class="L4"><span class="pp-ln"> 124 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> 'folder_created_one'</span></div><div class="L5"><span class="pp-ln"> 125 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> 'alfa'</span></div><div class="L6"><span class="pp-ln"> 126 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> 'beta'</span></div><div class="L7"><span class="pp-ln"> 127 </span><span class="pp-pln">        </span><span class="pp-tag">var</span><span class="pp-pln"> isDirectory</span></div><div class="L8"><span class="pp-ln"> 128 </span><span class="pp-pln">            </span><span class="pp-tag">_</span><span class="pp-pln"> file.isDirectory</span></div><div class="L9"><span class="pp-ln"> 129 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> path.join</span></div><div class="L0"><span class="pp-ln"> 130 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> __dirname</span></div><div class="L1"><span class="pp-ln"> 131 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> 'ittf'</span></div><div class="L2"><span class="pp-ln"> 132 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> 'folder_created_one'</span></div><div class="L3"><span class="pp-ln"> 133 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> 'alfa'</span></div><div class="L4"><span class="pp-ln"> 134 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> 'beta'</span></div><div class="L5"><span class="pp-ln"> 135 </span><span class="pp-pln">        </span><span class="pp-mix frag-to-link-a" data-frag-id="d154">tobe_true(</span><span class="pp-arg"> isDirectory</span><span class="pp-mix">)</span></div><div class="L6"><span class="pp-ln"> 136 </span><span class="pp-pln">    </span><span class="pp-tag">it</span><span class="pp-pln"> should write/read a file</span></div><div class="L7"><span class="pp-ln"> 137 </span><span class="pp-pln">        </span><span class="pp-tag">_</span><span class="pp-pln"> file.write</span></div><div class="L8"><span class="pp-ln"> 138 </span><span class="pp-pln">            </span><span class="pp-tag">_</span><span class="pp-pln"> path.join</span></div><div class="L9"><span class="pp-ln"> 139 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> __dirname</span></div><div class="L0"><span class="pp-ln"> 140 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> 'ittf'</span></div><div class="L1"><span class="pp-ln"> 141 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> 'gc_one.ittf'</span></div><div class="L2"><span class="pp-ln"> 142 </span><span class="pp-pln">            </span><span class="pp-tag">@</span><span class="pp-pln"> 'first one\nsecond one'</span></div><div class="L3"><span class="pp-ln"> 143 </span><span class="pp-pln">        </span><span class="pp-tag">var</span><span class="pp-pln"> contents</span></div><div class="L4"><span class="pp-ln"> 144 </span><span class="pp-pln">            </span><span class="pp-tag">_</span><span class="pp-pln"> file.read</span></div><div class="L5"><span class="pp-ln"> 145 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> path.join</span></div><div class="L6"><span class="pp-ln"> 146 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> __dirname</span></div><div class="L7"><span class="pp-ln"> 147 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> 'ittf'</span></div><div class="L8"><span class="pp-ln"> 148 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> 'gc_one.ittf'</span></div><div class="L9"><span class="pp-ln"> 149 </span><span class="pp-pln">        </span><span class="pp-mix frag-to-link-a" data-frag-id="d153">tobe_string(</span><span class="pp-arg"> contents</span><span class="pp-pln">,</span><span class="pp-arg">  first one\nsecond one </span><span class="pp-mix">)</span></div><div class="L0"><span class="pp-ln"> 150 </span><span class="pp-pln">    </span><span class="pp-tag">it</span><span class="pp-pln"> should write/read a file on a new folder</span></div><div class="L1"><span class="pp-ln"> 151 </span><span class="pp-pln">        </span><span class="pp-tag">_</span><span class="pp-pln"> file.write</span></div><div class="L2"><span class="pp-ln"> 152 </span><span class="pp-pln">            </span><span class="pp-tag">_</span><span class="pp-pln"> path.join</span></div><div class="L3"><span class="pp-ln"> 153 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> __dirname</span></div><div class="L4"><span class="pp-ln"> 154 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> 'ittf'</span></div><div class="L5"><span class="pp-ln"> 155 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> 'alca'</span></div><div class="L6"><span class="pp-ln"> 156 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> 'traz'</span></div><div class="L7"><span class="pp-ln"> 157 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> 'gc_one.ittf'</span></div><div class="L8"><span class="pp-ln"> 158 </span><span class="pp-pln">            </span><span class="pp-tag">@</span><span class="pp-pln"> 'first one\nsecond one'</span></div><div class="L9"><span class="pp-ln"> 159 </span><span class="pp-pln">        </span><span class="pp-tag">var</span><span class="pp-pln"> contents</span></div><div class="L0"><span class="pp-ln"> 160 </span><span class="pp-pln">            </span><span class="pp-tag">_</span><span class="pp-pln"> file.read</span></div><div class="L1"><span class="pp-ln"> 161 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> path.join</span></div><div class="L2"><span class="pp-ln"> 162 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> __dirname</span></div><div class="L3"><span class="pp-ln"> 163 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> 'ittf'</span></div><div class="L4"><span class="pp-ln"> 164 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> 'alca'</span></div><div class="L5"><span class="pp-ln"> 165 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> 'traz'</span></div><div class="L6"><span class="pp-ln"> 166 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> 'gc_one.ittf'</span></div><div class="L7"><span class="pp-ln"> 167 </span><span class="pp-pln">        </span><span class="pp-mix frag-to-link-a" data-frag-id="d153">tobe_string(</span><span class="pp-arg"> contents</span><span class="pp-pln">,</span><span class="pp-arg">  first one\nsecond one </span><span class="pp-mix">)</span></div><div class="L8"><span class="pp-ln"> 168 </span><span class="pp-pln">    </span><span class="pp-tag">it</span><span class="pp-pln"> should write/read a json file</span></div><div class="L9"><span class="pp-ln"> 169 </span><span class="pp-pln">        </span><span class="pp-tag">var</span><span class="pp-pln"> obj</span></div><div class="L0"><span class="pp-ln"> 170 </span><span class="pp-pln">            </span><span class="pp-tag">{</span></div><div class="L1"><span class="pp-ln"> 171 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> name 'stefi'</span></div><div class="L2"><span class="pp-ln"> 172 </span><span class="pp-pln">                </span><span class="pp-tag">[</span><span class="pp-pln"> friends</span></div><div class="L3"><span class="pp-ln"> 173 </span><span class="pp-pln">                    </span><span class="pp-tag">{</span></div><div class="L4"><span class="pp-ln"> 174 </span><span class="pp-pln">                        </span><span class="pp-tag">@</span><span class="pp-pln"> name 'arth'</span></div><div class="L5"><span class="pp-ln"> 175 </span><span class="pp-pln">                    </span><span class="pp-tag">{</span></div><div class="L6"><span class="pp-ln"> 176 </span><span class="pp-pln">                        </span><span class="pp-tag">@</span><span class="pp-pln"> name 'marilu'</span></div><div class="L7"><span class="pp-ln"> 177 </span><span class="pp-pln">        </span><span class="pp-tag">_</span><span class="pp-pln"> file.writeJSON</span></div><div class="L8"><span class="pp-ln"> 178 </span><span class="pp-pln">            </span><span class="pp-tag">_</span><span class="pp-pln"> path.join</span></div><div class="L9"><span class="pp-ln"> 179 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> __dirname</span></div><div class="L0"><span class="pp-ln"> 180 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> 'ittf'</span></div><div class="L1"><span class="pp-ln"> 181 </span><span class="pp-pln">                </span><span class="pp-tag">@</span><span class="pp-pln"> 'abrac.json'</span></div><div class="L2"><span class="pp-ln"> 182 </span><span class="pp-pln">            </span><span class="pp-tag">@</span><span class="pp-pln"> obj</span></div><div class="L3"><span class="pp-ln"> 183 </span><span class="pp-pln">        </span><span class="pp-tag">var</span><span class="pp-pln"> obj_read</span></div><div class="L4"><span class="pp-ln"> 184 </span><span class="pp-pln">            </span><span class="pp-tag">_</span><span class="pp-pln"> file.readJSON</span></div><div class="L5"><span class="pp-ln"> 185 </span><span class="pp-pln">                </span><span class="pp-tag">_</span><span class="pp-pln"> path.join</span></div><div class="L6"><span class="pp-ln"> 186 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> __dirname</span></div><div class="L7"><span class="pp-ln"> 187 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> 'ittf'</span></div><div class="L8"><span class="pp-ln"> 188 </span><span class="pp-pln">                    </span><span class="pp-tag">@</span><span class="pp-pln"> 'abrac.json'</span></div><div class="L9"><span class="pp-ln"> 189 </span><span class="pp-pln">        </span><span class="pp-mix frag-to-link-a" data-frag-id="d147">tobe_eql(</span><span class="pp-arg"> obj</span><span class="pp-pln">,</span><span class="pp-arg">  obj_read </span><span class="pp-mix">)</span></div><div class="L0"><span class="pp-ln"> 190 </span><span class="pp-pln">    </span><span class="pp-kwd">$include</span><span class="pp-mix frag-to-link-a" data-frag-id="d162"> vfile/glob</span></div></pre>
                    </div>
                </div>
                <div class="code-panel" id="d168">
                    <div class="modal-view-container">
                        <h4 class="d-h2">/src/generate.wfjob.ittf</h4>
                        <pre class="prettyprint">

<div class="L1"><span class="pp-ln">   1 </span><span class="pp-pln"></span><span class="pp-tag">wfjob</span><span class="pp-pln"> wizzi-utils</span></div><div class="L2"><span class="pp-ln">   2 </span><span class="pp-pln">    </span><span class="pp-kwd">$</span></div><div class="L3"><span class="pp-ln">   3 </span><span class="pp-pln">        </span><span class="pp-expr">var</span><span class="pp-expr"> pkgName = 'wizzi-utils';</span></div><div class="L4"><span class="pp-ln">   4 </span><span class="pp-pln">        </span><span class="pp-expr">var</span><span class="pp-expr"> ittf_meta_folder      = path.join(__dirname, 'ittf', 'meta');</span></div><div class="L5"><span class="pp-ln">   5 </span><span class="pp-pln">        </span><span class="pp-expr">var</span><span class="pp-expr"> ittf_lib_folder       = path.join(__dirname, 'ittf', 'lib');</span></div><div class="L6"><span class="pp-ln">   6 </span><span class="pp-pln">        </span><span class="pp-expr">var</span><span class="pp-expr"> ittf_root_folder      = path.join(__dirname, 'ittf', 'root');</span></div><div class="L7"><span class="pp-ln">   7 </span><span class="pp-pln">        </span><span class="pp-expr">var</span><span class="pp-expr"> ittf_tests_folder     = path.join(__dirname, 'ittf', 'tests');</span></div><div class="L8"><span class="pp-ln">   8 </span><span class="pp-pln">        </span><span class="pp-expr">var</span><span class="pp-expr"> ittf_examples_folder  = path.join(__dirname, 'ittf', 'examples');</span></div><div class="L9"><span class="pp-ln">   9 </span><span class="pp-pln">        </span><span class="pp-expr">if</span><span class="pp-expr"> (isWebpackTarget) {</span></div><div class="L0"><span class="pp-ln">  10 </span><span class="pp-pln">            </span><span class="pp-expr">var</span><span class="pp-expr"> dest_folder           = path.join(__dirname, '..', 'dist_webpack');</span></div><div class="L1"><span class="pp-ln">  11 </span><span class="pp-pln">        </span><span class="pp-expr">}</span><span class="pp-expr"> else {</span></div><div class="L2"><span class="pp-ln">  12 </span><span class="pp-pln">            </span><span class="pp-expr">var</span><span class="pp-expr"> dest_folder           = path.join(__dirname, '..', 'dist');</span></div><div class="L3"><span class="pp-ln">  13 </span><span class="pp-pln">        </span><span class="pp-expr">}</span></div><div class="L4"><span class="pp-ln">  14 </span><span class="pp-pln">    </span><span class="pp-tag">model</span><span class="pp-pln"> meta</span></div><div class="L5"><span class="pp-ln">  15 </span><span class="pp-pln">        </span><span class="pp-tag">schema</span><span class="pp-pln"> json</span></div><div class="L6"><span class="pp-ln">  16 </span><span class="pp-pln">        </span><span class="pp-tag">src</span><span class="pp-kwd"> ${</span><span class="pp-expr">ittf_meta_folder</span><span class="pp-kwd">}</span><span class="pp-pln">/index.json.ittf</span></div><div class="L7"><span class="pp-ln">  17 </span><span class="pp-pln">    </span><span class="pp-kwd">$include</span><span class="pp-mix frag-to-link-a" data-frag-id="unknown"> wfjob/lib</span></div><div class="L8"><span class="pp-ln">  18 </span><span class="pp-pln">    </span><span class="pp-kwd">$include</span><span class="pp-mix frag-to-link-a" data-frag-id="unknown"> wfjob/examples</span></div><div class="L9"><span class="pp-ln">  19 </span><span class="pp-pln">    </span><span class="pp-kwd">$include</span><span class="pp-mix frag-to-link-a" data-frag-id="unknown"> wfjob/root</span></div><div class="L0"><span class="pp-ln">  20 </span><span class="pp-pln">    </span><span class="pp-kwd">$include</span><span class="pp-mix frag-to-link-a" data-frag-id="unknown"> wfjob/tests</span></div><div class="L1"><span class="pp-ln">  21 </span><span class="pp-pln">    </span><span class="pp-tag">production</span></div><div class="L2"><span class="pp-ln">  22 </span><span class="pp-pln">        </span><span class="pp-tag">dest-folder</span><span class="pp-kwd"> ${</span><span class="pp-expr">dest_folder</span><span class="pp-kwd">}</span></div><div class="L3"><span class="pp-ln">  23 </span><span class="pp-pln">        </span><span class="pp-tag">line-ref</span><span class="pp-pln"> ittf-lib</span></div><div class="L4"><span class="pp-ln">  24 </span><span class="pp-pln">        </span><span class="pp-tag">line-ref</span><span class="pp-pln"> ittf-examples</span></div><div class="L5"><span class="pp-ln">  25 </span><span class="pp-pln">        </span><span class="pp-tag">line-ref</span><span class="pp-pln"> ittf-root</span></div><div class="L6"><span class="pp-ln">  26 </span><span class="pp-pln">        </span><span class="pp-tag">line-ref</span><span class="pp-pln"> ittf-tests</span></div></pre>
                    </div>
                </div>
                <div id="frag-modal" class="modal">
                    <div id="frag-modal-content" class="modal-content">
                        <span class="modal-close">&times;</span>
                    </div>
                </div>
            </div>
        </main>
    </div>
    <script src="../jquery-3.2.1.js"></script>
    <script src="../wizzifactory.js"></script>
</body>

</html>
