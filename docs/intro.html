<!doctype html>
<html VERSION-5="5" VERSION-4="4" version="5">
    <head>
        <title>The Wizzi Factory</title>
        <link href="https://fonts.googleapis.com/css?family=Roboto" rel="stylesheet">
        <link href="../normalize.css" rel="stylesheet">
        <link href="../wizzifactory.css" rel="stylesheet">
    </head>
    <body class="docs-intro">
        <div class="site">
            <header class="navigation">
                <div class="container navigation__inner">
                    <div class="logo">
                        <span class="logo-w">W</span>
                        <span class="logo-i1">i</span>
                        <span class="logo-z1">z</span>
                        <span class="logo-z2">z</span>
                        <span class="logo-i2">i</span>
                        <span>&nbsp;</span>
                        <span class="logo-f">f</span>
                        <span class="logo-a">a</span>
                        <span class="logo-c">c</span>
                        <span class="logo-t">t</span>
                        <span class="logo-o">o</span>
                        <span class="logo-r">r</span>
                        <span class="logo-y">y</span>
                    </div>
                    <nav class="navigation__links">
                        <a title="docs concepts" href="../concepts.html" class="navigation__link">Concepts</a>
                        <a title="docs docs" href="../docs/intro.html" class="navigation__link navigation__link--active">Docs</a>
                        <a title="docs api" href="../api.html" class="navigation__link">Api</a>
                        <a title="docs code" href="../code/intro.html" class="navigation__link">Code</a>
                        <a title="docs starters" href="../starters.html" class="navigation__link">Starters</a>
                        <a title="docs project" href="../project.html" class="navigation__link">Project</a>
                    </nav>
                    <div class="navigation__search">
                        <span class="algolia-autocomplete" style="position: relative; display: inline-block; direction: ltr;">
                            <input type="text" class="navigation__search-input ds-input" placeholder="Search documentationâ€¦" autocomplete="off" spellcheck="false" role="combobox" aria-autocomplete="list" aria-expanded="false" aria-owns="algolia-autocomplete-listbox-0" dir="auto" style="position: relative; vertical-align: top;">
                            <pre aria-hidden="true" style="position: absolute; visibility: hidden; white-space: pre; font-family: Arial; font-size: 14px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; word-spacing: 0px; letter-spacing: normal; text-indent: 7px; text-rendering: auto; text-transform: none;"></pre>
                            <span class="ds-dropdown-menu" role="listbox" id="algolia-autocomplete-listbox-0" style="position: absolute; top: 100%; z-index: 100; display: none; left: 0px; right: auto;">
                                <div class="ds-dataset-1"></div>
                            </span>
                        </span>
                        <button class="navigation__search-icon icon-search"></button>
                        <button class="navigation__search-icon icon-cross"></button>
                    </div>
                    <a href="https://github.com/wizzifactory" target="_blank" class="navigation__icon" title="GitHub Repository"><i class="sidecar__icon icon-github"></i>
                    </a>
                    <a href="https://stackoverflow.com/questions/tagged/wizzifactory" target="_blank" class="navigation__icon" title="See Questions on Stack Overflow"><i class="sidecar__icon icon-stackoverflow"></i>
                    </a>
                    <a href="#" target="_blank" class="navigation__icon" title="Follow on twitter"><i class="sidecar__icon icon-twitter"></i>
                    </a>
                    <a href="#" target="_blank" class="navigation__icon" title="Follow on facebook"><i class="sidecar__icon icon-facebook"></i>
                    </a>
                </div>
                <div class="navigation__bottom">
                    <div class="container navigation__inner">
                        <a class="navigation__child navigation__child--active" title="intro ittf source code" href="intro.html">intro</a>
                        <a class="navigation__child" title="ittf ittf source code" href="ittf.html">ittf</a>
                        <a class="navigation__child" title="jswizzi ittf source code" href="jswizzi.html">jswizzi</a>
                        <a class="navigation__child" title="models ittf source code" href="models.html">models</a>
                        <a class="navigation__child" title="schemas ittf source code" href="schemas.html">schemas</a>
                        <a class="navigation__child" title="jobs ittf source code" href="jobs.html">jobs</a>
                        <a class="navigation__child" title="wfschema ittf source code" href="wfschema.html">wfschema</a>
                        <a class="navigation__child" title="wfjob ittf source code" href="wfjob.html">wfjob</a>
                        <a class="navigation__child" title="wfpackage ittf source code" href="wfpackage.html">wfpackage</a>
                        <a class="navigation__child" title="docs ittf source code" href="docs.html">docs</a>
                        <a class="navigation__child" title="md ittf source code" href="md.html">md</a>
                    </div>
                </div>
            </header>
            <main id="main-content">
                <nav class="main-sidebar-left" style="max-height: 648px; position: fixed; top: 90px; width: 280px;">
                    <img src="../workinprogress.jpg">
                    <section id="main-toc" class="toc toc sidebar__inner">
                        <h3>Contents:</h3>
                        <ol>
                            <li><a href="#concept-1">Artifact generators</a>
                            </li>
                            <li><a href="#concept-2">The gencontext object</a>
                            </li>
                            <li><a href="#concept-3">Sample artifact generators</a>
                            </li>
                            <li><a href="#concept-4">Wizzi core artifacts</a>
                            </li>
                            <li><a href="#concept-5">json/export core artifact</a>
                            </li>
                            <li><a href="#concept-6">xml/export core artifact</a>
                            </li>
                            <li><a href="#concept-7">ittf/document core artifact</a>
                            </li>
                            <li><a href="#concept-8">Plugins</a>
                            </li>
                            <li><a href="#concept-9">Plugin API</a>
                            </li>
                        </ol>
                    </section>
                </nav>
                <div class="main-content">
                    <h2 id="concept-1" class="concept">Artifact generators</h2>
                    <div class="summary">
                        <p>An artifact using the code write method has no template.</p><p>The ArtifactGenerator exposed to the Wizzi Factory is a node.js module that contains the statements for generating the artifact writing its content into the ArtifactGenerationContext that is passed to the ArtifactGenerator as a parameter by the ProductionManager.</p><p>The CodeWriteArtifact module must be named main.js and must have this location in the WizziFactoryPackage:</p><pre class="prettyprint"><ol class="linenums"><li class="L1"><span class="pnl"></span><span class="tag">node_modules</span><span class="pln"> </span></li><li class="L2"><span class="pnl">  </span><span class="tag">&lt;package-name&gt</span><span class="pln"> </span></li><li class="L3"><span class="pnl">    </span><span class="tag">lib</span><span class="pln"> </span></li><li class="L4"><span class="pnl">      </span><span class="tag">artifacts</span><span class="pln"> </span></li><li class="L5"><span class="pnl">        </span><span class="tag">&lt;wizzischema-name&gt</span><span class="pln"> </span></li><li class="L6"><span class="pnl">          </span><span class="tag">&lt;artifact-name&gt</span><span class="pln"> </span></li><li class="L7"><span class="pnl">            </span><span class="tag">gen</span><span class="pln"> </span></li><li class="L8"><span class="pnl">              </span><span class="tag">main.js</span><span class="pln"> </span></li></ol></pre><p>The path &lt;wizzischema-name&gt/&lt;artifact-name&gt must be unique in the Wizzi Factory and is the value to be declared in the generator attribute of the artifact element of a wfjob document.</p><p>For example</p><pre class="prettyprint"><ol class="linenums"><li class="L1"><span class="pnl"></span><span class="tag">wfjob</span><span class="pln"> job-name</span></li><li class="L2"><span class="pnl">  </span><span class="tag"></span><span class="pln"> </span></li><li class="L3"><span class="pnl">  </span><span class="tag">line</span><span class="pln"> line-name</span></li><li class="L4"><span class="pnl">    </span><span class="tag">artifact</span><span class="pln"> artifact-name</span></li><li class="L5"><span class="pnl">      </span><span class="tag">...</span><span class="pln"> </span></li><li class="L6"><span class="pnl">      </span><span class="tag">generator</span><span class="pln"> &lt;wizzischema-name&gt/&lt;artifact-name&gt</span></li><li class="L7"><span class="pnl">      </span><span class="tag">...</span><span class="pln"> </span></li></ol></pre></div>
                    <h2 id="concept-2" class="concept">The gencontext object</h2>
                    <div class="summary">
                        <p>An artifact generator must respect a folder structure and an interface.</p><h3>The artifact generator interface</h3><pre class="prettyprint"><ol class="linenums"><li class="L1"><span class="pnl"></span><span class="tag">gen</span><span class="pln"> </span></li><li class="L2"><span class="pnl">  </span><span class="tag">function</span><span class="pln"> </span></li><li class="L3"><span class="pnl">    </span><span class="tag">param</span><span class="pln"> model</span></li><li class="L4"><span class="pnl">    </span><span class="tag">param</span><span class="pln"> gencontext</span></li><li class="L5"><span class="pnl">    </span><span class="tag">param</span><span class="pln"> callback</span></li></ol></pre><p>The production manager passes a model and and an empty gencontext to the generator and expect to receive the gencontext containing the generated artifact in the callback.</p><p>The gencontext is an in-memory text writer enhanced with helper methods usefull for code write artifact generation. It may contain also an optional artifact context object.</p><h4>The interface of the gencontext object</h4><pre class="prettyprint"><ol class="linenums"><li class="L1"><span class="pnl"></span><span class="tag"></span><span class="pln"> </span></li><li class="L2"><span class="pnl">  </span><span class="tag">#</span><span class="pln"> </span></li><li class="L3"><span class="pnl">    </span><span class="tag">#</span><span class="pln"> Set line indentation to a given value</span></li><li class="L4"><span class="pnl">  </span><span class="tag">m</span><span class="pln"> forceIndent</span></li><li class="L5"><span class="pnl">    </span><span class="tag">param</span><span class="pln"> value</span></li><li class="L6"><span class="pnl">  </span><span class="tag">#</span><span class="pln"> </span></li><li class="L7"><span class="pnl">    </span><span class="tag">#</span><span class="pln"> Increase line indentation</span></li><li class="L8"><span class="pnl">  </span><span class="tag">m</span><span class="pln"> indent</span></li><li class="L9"><span class="pnl">    </span><span class="tag">param</span><span class="pln"> value</span></li><li class="L0"><span class="pnl">  </span><span class="tag">#</span><span class="pln"> </span></li><li class="L1"><span class="pnl">    </span><span class="tag">#</span><span class="pln"> Decrease line indentation</span></li><li class="L2"><span class="pnl">  </span><span class="tag">m</span><span class="pln"> deindent</span></li><li class="L3"><span class="pnl">    </span><span class="tag">param</span><span class="pln"> value</span></li><li class="L4"><span class="pnl">  </span><span class="tag">#</span><span class="pln"> </span></li><li class="L5"><span class="pnl">    </span><span class="tag">#</span><span class="pln"> Add a named value to the interpolation context</span></li><li class="L6"><span class="pnl">  </span><span class="tag">m</span><span class="pln"> a</span></li><li class="L7"><span class="pnl">    </span><span class="tag">param</span><span class="pln"> name</span></li><li class="L8"><span class="pnl">    </span><span class="tag">param</span><span class="pln"> value</span></li><li class="L9"><span class="pnl">  </span><span class="tag">#</span><span class="pln"> </span></li><li class="L0"><span class="pnl">    </span><span class="tag">#</span><span class="pln"> Add a named value from the interpolation context</span></li><li class="L1"><span class="pnl">  </span><span class="tag">m</span><span class="pln"> g</span></li><li class="L2"><span class="pnl">    </span><span class="tag">param</span><span class="pln"> name</span></li><li class="L3"><span class="pnl">  </span><span class="tag">#</span><span class="pln"> </span></li><li class="L4"><span class="pnl">    </span><span class="tag">#</span><span class="pln"> Remove a named value from the interpolation context</span></li><li class="L5"><span class="pnl">  </span><span class="tag">m</span><span class="pln"> r</span></li><li class="L6"><span class="pnl">    </span><span class="tag">param</span><span class="pln"> name</span></li><li class="L7"><span class="pnl">  </span><span class="tag">#</span><span class="pln"> </span></li><li class="L8"><span class="pnl">    </span><span class="tag">#</span><span class="pln"> Write a text with interpolation and line feed</span></li><li class="L9"><span class="pnl">  </span><span class="tag">m</span><span class="pln"> w</span></li><li class="L0"><span class="pnl">    </span><span class="tag">param</span><span class="pln"> text</span></li><li class="L1"><span class="pnl">  </span><span class="tag">#</span><span class="pln"> </span></li><li class="L2"><span class="pnl">    </span><span class="tag">#</span><span class="pln"> Write a text with interpolation without line feed</span></li><li class="L3"><span class="pnl">  </span><span class="tag">m</span><span class="pln"> write</span></li><li class="L4"><span class="pnl">    </span><span class="tag">param</span><span class="pln"> text</span></li><li class="L5"><span class="pnl">  </span><span class="tag">#</span><span class="pln"> </span></li><li class="L6"><span class="pnl">    </span><span class="tag">#</span><span class="pln"> throw a NodeError exception</span></li><li class="L7"><span class="pnl">  </span><span class="tag">m</span><span class="pln"> error</span></li><li class="L8"><span class="pnl">    </span><span class="tag">param</span><span class="pln"> message</span></li><li class="L9"><span class="pnl">    </span><span class="tag">param</span><span class="pln"> node</span></li><li class="L0"><span class="pnl">  </span><span class="tag">#</span><span class="pln"> </span></li><li class="L1"><span class="pnl">    </span><span class="tag">#</span><span class="pln"> throw an ArtifactGenerationError exception</span></li><li class="L2"><span class="pnl">  </span><span class="tag">m</span><span class="pln"> artifactGenerationError</span></li><li class="L3"><span class="pnl">    </span><span class="tag">param</span><span class="pln"> message</span></li><li class="L4"><span class="pnl">    </span><span class="tag">param</span><span class="pln"> location</span></li><li class="L5"><span class="pnl">    </span><span class="tag">param</span><span class="pln"> node</span></li></ol></pre></div>
                    <h2 id="concept-3" class="concept">Sample artifact generators</h2>
                    <div class="summary">
                        <h4>Code write artifact generator sample</h4><pre class="prettyprint"><ol class="linenums"><li class="L1"><span class="pnl"></span><span class="tag">module</span><span class="pln"> </span></li><li class="L2"><span class="pnl">  </span><span class="tag">kind</span><span class="pln"> jsfile</span></li><li class="L3"><span class="pnl">  </span><span class="tag"></span><span class="pln"> </span></li><li class="L4"><span class="pnl">  </span><span class="tag">var</span><span class="pln"> md = module.exports = {}</span></li><li class="L5"><span class="pnl">  </span><span class="tag">var</span><span class="pln"> myname = 'artifact rdbms.sqltables.main';</span></li><li class="L6"><span class="pnl">  </span><span class="tag"></span><span class="pln"> </span></li><li class="L7"><span class="pnl">  </span><span class="tag">set</span><span class="pln"> md.gen</span></li><li class="L8"><span class="pnl">    </span><span class="tag">function</span><span class="pln"> </span></li><li class="L9"><span class="pnl">      </span><span class="tag">param</span><span class="pln"> model</span></li><li class="L0"><span class="pnl">      </span><span class="tag">param</span><span class="pln"> ctx</span></li><li class="L1"><span class="pnl">      </span><span class="tag">param</span><span class="pln"> callback</span></li><li class="L2"><span class="pnl">      </span><span class="tag">if</span><span class="pln"> model.wzElement !== 'rdbms'</span></li><li class="L3"><span class="pnl">        </span><span class="tag">return</span><span class="pln"> </span></li><li class="L4"><span class="pnl">          </span><span class="tag">callback</span><span class="pln"> </span></li><li class="L5"><span class="pnl">            </span><span class="tag">_ctx.error</span><span class="pln"> </span></li><li class="L6"><span class="pnl">              </span><span class="tag">@</span><span class="pln"> myname + " error: the model paramater should be an 'rdbms' wizzi model"</span></li><li class="L7"><span class="pnl">              </span><span class="tag">@</span><span class="pln"> model</span></li><li class="L8"><span class="pnl">      </span><span class="tag"></span><span class="pln"> </span></li><li class="L9"><span class="pnl">      </span><span class="kwd">$foreach</span><span class="pln"> table in model.tables</span></li><li class="L0"><span class="pnl">        </span><span class="tag">_</span><span class="pln"> ctx.a('TABLE', table.wzName)</span></li><li class="L1"><span class="pnl">        </span><span class="tag">_</span><span class="pln"> ctx.w('declare table TABLE')</span></li><li class="L2"><span class="pnl">        </span><span class="tag">...</span><span class="pln"> </span></li><li class="L3"><span class="pnl">      </span><span class="tag">_</span><span class="pln"> callback(null, ctx)</span></li></ol></pre><h4>Ittf document artifact generator sample</h4><pre class="prettyprint"><ol class="linenums"><li class="L1"><span class="pnl"></span><span class="tag">module</span><span class="pln"> </span></li><li class="L2"><span class="pnl">  </span><span class="tag">kind</span><span class="pln"> jsfile</span></li><li class="L3"><span class="pnl">  </span><span class="tag"></span><span class="pln"> </span></li><li class="L4"><span class="pnl">  </span><span class="tag">var</span><span class="pln"> path = require('path')</span></li><li class="L5"><span class="pnl">  </span><span class="tag">var</span><span class="pln"> wizzi = require('wizzi')</span></li><li class="L6"><span class="pnl">  </span><span class="tag">var</span><span class="pln"> md = module.exports = {}</span></li><li class="L7"><span class="pnl">  </span><span class="tag">var</span><span class="pln"> myname = 'artifact rdbms.sqltables.main';</span></li><li class="L8"><span class="pnl">  </span><span class="tag"></span><span class="pln"> </span></li><li class="L9"><span class="pnl">  </span><span class="tag">set</span><span class="pln"> md.gen</span></li><li class="L0"><span class="pnl">    </span><span class="tag">function</span><span class="pln"> </span></li><li class="L1"><span class="pnl">      </span><span class="tag">param</span><span class="pln"> model</span></li><li class="L2"><span class="pnl">      </span><span class="tag">param</span><span class="pln"> ctx</span></li><li class="L3"><span class="pnl">      </span><span class="tag">param</span><span class="pln"> callback</span></li><li class="L4"><span class="pnl">      </span><span class="tag">if</span><span class="pln"> model.wzElement !== 'rdbms'</span></li><li class="L5"><span class="pnl">        </span><span class="tag">return</span><span class="pln"> </span></li><li class="L6"><span class="pnl">          </span><span class="tag">callback</span><span class="pln"> </span></li><li class="L7"><span class="pnl">            </span><span class="tag">_ctx.error</span><span class="pln"> </span></li><li class="L8"><span class="pnl">              </span><span class="tag">@</span><span class="pln"> myname + " error: the model paramater should be an 'rdbms' wizzi model"</span></li><li class="L9"><span class="pnl">              </span><span class="tag">@</span><span class="pln"> model</span></li><li class="L0"><span class="pnl">      </span><span class="tag"></span><span class="pln"> </span></li><li class="L1"><span class="pnl">      </span><span class="tag">var</span><span class="pln"> ittfTemplatePath</span></li><li class="L2"><span class="pnl">        </span><span class="tag">_</span><span class="pln"> path.join</span></li><li class="L3"><span class="pnl">          </span><span class="tag">@</span><span class="pln"> __dirname</span></li><li class="L4"><span class="pnl">          </span><span class="tag">@</span><span class="pln"> 'ittf'</span></li><li class="L5"><span class="pnl">          </span><span class="tag">@</span><span class="pln"> 'sqltables.sql.ittf'</span></li><li class="L6"><span class="pnl">      </span><span class="tag">_</span><span class="pln"> wizzi.fsnoaclFactory</span></li><li class="L7"><span class="pnl">        </span><span class="tag">#</span><span class="pln"> TODO</span></li><li class="L8"><span class="pnl">      </span><span class="tag">_</span><span class="pln"> callback(null, ctx)</span></li></ol></pre></div>
                    <h2 id="concept-4" class="concept">Wizzi core artifacts</h2>
                    <div class="summary">
                        <p>The wizzi-core plugin exports some useful artifacts. We already have seen the artifacts for the psedo models    <ul>        <li>Json</li><li>Xml        </li><li>Text        </li>    </ul></p><p>There are also these others core artifacts    <ul>        <li>json/export        </li><li>xml/export        </li><li>ittf/document        </li>    </ul></p></div>
                    <h2 id="concept-5" class="concept">json/export core artifact</h2>
                    <div class="summary">
                        <p>The json/export core artifact can be used in a wizzi job, to save in a file the json representation of a wizzi model, when its wizzi schema declare the export-to json element.</p><h4>Sample wfjob artifact element using the json/export artifact.</h4><pre class="prettyprint"><ol class="linenums"><li class="L1"><span class="pnl"></span><span class="tag">wfjob</span><span class="pln"> </span></li><li class="L2"><span class="pnl">  </span><span class="tag">...</span><span class="pln"> </span></li><li class="L3"><span class="pnl">  </span><span class="tag">artifact</span><span class="pln"> json export of model sample.form.ittf</span></li><li class="L4"><span class="pnl">    </span><span class="tag">src</span><span class="pln"> sample.form.ittf</span></li><li class="L5"><span class="pnl">    </span><span class="tag">schema</span><span class="pln"> form</span></li><li class="L6"><span class="pnl">    </span><span class="tag">generator</span><span class="pln"> json/export</span></li><li class="L7"><span class="pnl">    </span><span class="tag">extension</span><span class="pln"> json</span></li></ol></pre></div>
                    <h2 id="concept-6" class="concept">xml/export core artifact</h2>
                    <div class="summary">
                        <p>The xml/export core artifact can be used in a wizzi job, to save in a file the xml representation of a wizzi model, when its wizzi schema declare the export-to xml element.</p><h4>Sample wfjob artifact element using the xml/export artifact.</h4><pre class="prettyprint"><ol class="linenums"><li class="L1"><span class="pnl"></span><span class="tag">wfjob</span><span class="pln"> </span></li><li class="L2"><span class="pnl">  </span><span class="tag">...</span><span class="pln"> </span></li><li class="L3"><span class="pnl">  </span><span class="tag">artifact</span><span class="pln"> xml export of model sample.form.ittf</span></li><li class="L4"><span class="pnl">    </span><span class="tag">src</span><span class="pln"> sample.form.ittf</span></li><li class="L5"><span class="pnl">    </span><span class="tag">schema</span><span class="pln"> form</span></li><li class="L6"><span class="pnl">    </span><span class="tag">generator</span><span class="pln"> xml/export</span></li><li class="L7"><span class="pnl">    </span><span class="tag">extension</span><span class="pln"> xml</span></li></ol></pre></div>
                    <h2 id="concept-7" class="concept">ittf/document core artifact</h2>
                    <div class="summary">
                        <p>The 'ittf/document' core artifact exports the ittf representation of a loaded mTree. This allow the buildup of ittf documents using the mTree loader for merging sources and contexts and using JsWizzi for manipulating them.</p><h4>Sample wizzi job using the 'ittf/document' generator.</h4><pre class="prettyprint"><ol class="linenums"><li class="L1"><span class="pnl"></span><span class="tag">wfjob</span><span class="pln"> </span></li><li class="L2"><span class="pnl">  </span><span class="tag">model</span><span class="pln"> styles</span></li><li class="L3"><span class="pnl">    </span><span class="tag">src</span><span class="pln"> styles.json.ittf</span></li><li class="L4"><span class="pnl">    </span><span class="tag">schema</span><span class="pln"> json</span></li><li class="L5"><span class="pnl">  </span><span class="tag">model</span><span class="pln"> layout</span></li><li class="L6"><span class="pnl">    </span><span class="tag">src</span><span class="pln"> layout.json.ittf</span></li><li class="L7"><span class="pnl">    </span><span class="tag">schema</span><span class="pln"> json</span></li><li class="L8"><span class="pnl">  </span><span class="tag">model</span><span class="pln"> options.forms</span></li><li class="L9"><span class="pnl">    </span><span class="tag">src</span><span class="pln"> options.form.ittf</span></li><li class="L0"><span class="pnl">    </span><span class="tag">schema</span><span class="pln"> form</span></li><li class="L1"><span class="pnl">  </span><span class="tag">line</span><span class="pln"> ui</span></li><li class="L2"><span class="pnl">    </span><span class="tag">artifact</span><span class="pln"> ittf document of model options-page.html.ittf</span></li><li class="L3"><span class="pnl">      </span><span class="tag">src</span><span class="pln"> options-page.html.ittf</span></li><li class="L4"><span class="pnl">      </span><span class="tag">schema</span><span class="pln"> ittf</span></li><li class="L5"><span class="pnl">      </span><span class="tag">generator</span><span class="pln"> ittf/document</span></li><li class="L6"><span class="pnl">      </span><span class="tag">extension</span><span class="pln"> ittf</span></li><li class="L7"><span class="pnl">      </span><span class="tag">model-ref</span><span class="pln"> styles</span></li><li class="L8"><span class="pnl">      </span><span class="tag">model-ref</span><span class="pln"> layout</span></li><li class="L9"><span class="pnl">      </span><span class="tag">model-ref</span><span class="pln"> options.forms</span></li></ol></pre></div>
                    <h2 id="concept-8" class="concept">Plugins</h2>
                    <div class="summary">
                        <h4>A wizzi plugin implements and exposes to the wizzi factory</h4><ul>    <li>wizzi schemas and relative factories for wizzi models    </li><li>model transformers    </li><li>artifact generators    </li></ul><h4>A plugin package must export this method</h4><pre class="prettyprint"><ol class="linenums"><li class="L1"><span class="pnl"></span><span class="tag">set</span><span class="pln"> module.exports</span></li><li class="L2"><span class="pnl">  </span><span class="tag">{</span><span class="pln"> </span></li><li class="L3"><span class="pnl">    </span><span class="tag">...</span><span class="pln"> </span></li><li class="L4"><span class="pnl">    </span><span class="tag">@</span><span class="pln"> createFactoryPlugin</span></li><li class="L5"><span class="pnl">      </span><span class="tag">function</span><span class="pln"> </span></li><li class="L6"><span class="pnl">        </span><span class="tag">param</span><span class="pln"> wizziPackage</span></li><li class="L7"><span class="pnl">        </span><span class="tag">param</span><span class="pln"> options</span></li><li class="L8"><span class="pnl">        </span><span class="tag">param</span><span class="pln"> callback</span></li><li class="L9"><span class="pnl">        </span><span class="tag">var</span><span class="pln"> plugin</span></li><li class="L0"><span class="pnl">          </span><span class="tag">new</span><span class="pln"> FactoryPlugin</span></li><li class="L1"><span class="pnl">            </span><span class="tag">@</span><span class="pln"> wizziPackage</span></li><li class="L2"><span class="pnl">            </span><span class="tag">@</span><span class="pln"> this.provides</span></li><li class="L3"><span class="pnl">        </span><span class="tag">_</span><span class="pln"> plugin.initialize</span></li><li class="L4"><span class="pnl">          </span><span class="tag">@</span><span class="pln"> options</span></li><li class="L5"><span class="pnl">          </span><span class="mix">f_cb(</span><span class="pln"> notUsed )</span></li><li class="L6"><span class="pnl">            </span><span class="tag">return</span><span class="pln"> </span></li><li class="L7"><span class="pnl">              </span><span class="tag">_</span><span class="pln"> callback</span></li><li class="L8"><span class="pnl">                </span><span class="tag">@</span><span class="pln"> null</span></li><li class="L9"><span class="pnl">                </span><span class="tag">@</span><span class="pln"> plugin</span></li></ol></pre><p>The FactoryPlugin class instance returned to the caller must implement the plugin API.</p><p>The standard folder structure of a plugin</p><pre class="prettyprint"><ol class="linenums"><li class="L1"><span class="pnl"></span><span class="tag">node_modules</span><span class="pln"> </span></li><li class="L2"><span class="pnl">  </span><span class="tag">&lt;package-name&gt</span><span class="pln"> </span></li><li class="L3"><span class="pnl">    </span><span class="tag">lib</span><span class="pln"> </span></li><li class="L4"><span class="pnl">      </span><span class="tag">artifacts</span><span class="pln"> </span></li><li class="L5"><span class="pnl">        </span><span class="tag">&lt;schema-name&gt</span><span class="pln"> </span></li><li class="L6"><span class="pnl">          </span><span class="tag">&lt;artifact-name&gt</span><span class="pln"> </span></li><li class="L7"><span class="pnl">            </span><span class="tag">gen</span><span class="pln"> </span></li><li class="L8"><span class="pnl">              </span><span class="tag">main.js</span><span class="pln"> </span></li><li class="L9"><span class="pnl">          </span><span class="tag">...</span><span class="pln"> </span></li><li class="L0"><span class="pnl">          </span><span class="tag">&lt;transformer-name&gt</span><span class="pln"> </span></li><li class="L1"><span class="pnl">            </span><span class="tag">trans</span><span class="pln"> </span></li><li class="L2"><span class="pnl">              </span><span class="tag">main.js</span><span class="pln"> </span></li><li class="L3"><span class="pnl">          </span><span class="tag">...</span><span class="pln"> </span></li><li class="L4"><span class="pnl">        </span><span class="tag">...</span><span class="pln"> </span></li><li class="L5"><span class="pnl">      </span><span class="tag">utils</span><span class="pln"> </span></li><li class="L6"><span class="pnl">        </span><span class="tag">...</span><span class="pln"> </span></li><li class="L7"><span class="pnl">      </span><span class="tag">wizzi</span><span class="pln"> </span></li><li class="L8"><span class="pnl">        </span><span class="tag">models</span><span class="pln"> </span></li><li class="L9"><span class="pnl">          </span><span class="tag">&lt;schema-name&gt;-model.g.js</span><span class="pln"> </span></li><li class="L0"><span class="pnl">          </span><span class="tag">&lt;schema-name&gt;-factory.g.js</span><span class="pln"> </span></li><li class="L1"><span class="pnl">          </span><span class="tag">&lt;schema-name&gt;-schema.g.html</span><span class="pln"> </span></li><li class="L2"><span class="pnl">          </span><span class="tag">&lt;schema-name&gt;-schema.g.json</span><span class="pln"> </span></li><li class="L3"><span class="pnl">          </span><span class="tag">...</span><span class="pln"> </span></li><li class="L4"><span class="pnl">        </span><span class="tag">schemas</span><span class="pln"> </span></li><li class="L5"><span class="pnl">          </span><span class="tag">&lt;schema-name&gt;.wfschema.ittf</span><span class="pln"> </span></li><li class="L6"><span class="pnl">          </span><span class="tag">...</span><span class="pln"> </span></li><li class="L7"><span class="pnl">    </span><span class="tag">index.js</span><span class="pln"> </span></li></ol></pre></div>
                    <h2 id="concept-9" class="concept">Plugin API</h2>
                    <div class="summary">
                        <h4>Plugin api implemented by a FactoryPlugin class.</h4><pre class="prettyprint"><ol class="linenums"><li class="L1"><span class="pnl"></span><span class="tag"></span><span class="pln"> </span></li><li class="L2"><span class="pnl">  </span><span class="tag">#</span><span class="pln"> </span></li><li class="L3"><span class="pnl">    </span><span class="tag">#</span><span class="pln"> Retrieve a wizzi model factory by its wizzischema name</span></li><li class="L4"><span class="pnl">    </span><span class="tag">#</span><span class="pln"> Searching in this wizzi package. No search up in "node_modules" folders.</span></li><li class="L5"><span class="pnl">  </span><span class="tag">m</span><span class="pln"> getModelFactory</span></li><li class="L6"><span class="pnl">    </span><span class="tag">param</span><span class="pln"> schemaName</span></li><li class="L7"><span class="pnl">    </span><span class="tag">...</span><span class="pln"> </span></li><li class="L8"><span class="pnl">  </span><span class="tag"></span><span class="pln"> </span></li><li class="L9"><span class="pnl">  </span><span class="tag">#</span><span class="pln"> </span></li><li class="L0"><span class="pnl">    </span><span class="tag">#</span><span class="pln"> Retrieve a model transformer by its name</span></li><li class="L1"><span class="pnl">    </span><span class="tag">#</span><span class="pln"> Searching in this wizzi package. No search up in "node_modules" folders.</span></li><li class="L2"><span class="pnl">  </span><span class="tag">m</span><span class="pln"> getModelTransformer</span></li><li class="L3"><span class="pnl">    </span><span class="tag">param</span><span class="pln"> transformerName</span></li><li class="L4"><span class="pnl">    </span><span class="tag">...</span><span class="pln"> </span></li><li class="L5"><span class="pnl">  </span><span class="tag"></span><span class="pln"> </span></li><li class="L6"><span class="pnl">  </span><span class="tag">#</span><span class="pln"> </span></li><li class="L7"><span class="pnl">    </span><span class="tag">#</span><span class="pln"> Retrieve an artifact generator by its name</span></li><li class="L8"><span class="pnl">    </span><span class="tag">#</span><span class="pln"> Searching in this wizzi package. No search up in "node_modules" folders.</span></li><li class="L9"><span class="pnl">  </span><span class="tag">m</span><span class="pln"> getArtifactGenerator</span></li><li class="L0"><span class="pnl">    </span><span class="tag">param</span><span class="pln"> generationName</span></li><li class="L1"><span class="pnl">  </span><span class="tag"></span><span class="pln"> </span></li><li class="L2"><span class="pnl">  </span><span class="tag">#</span><span class="pln"> </span></li><li class="L3"><span class="pnl">    </span><span class="tag">#</span><span class="pln"> Retrieve a wizzi schema definition in JSON format</span></li><li class="L4"><span class="pnl">    </span><span class="tag">#</span><span class="pln"> Searching in this wizzi package. No search up in "node_modules" folders.</span></li><li class="L5"><span class="pnl">  </span><span class="tag">m</span><span class="pln"> getSchemaDefinition</span></li><li class="L6"><span class="pnl">    </span><span class="tag">param</span><span class="pln"> schemaName</span></li></ol></pre><h4>Api of the object returned by getModelFactory</h4><pre class="prettyprint"><ol class="linenums"><li class="L1"><span class="pnl"></span><span class="tag">createLoadModel</span><span class="pln"> </span></li><li class="L2"><span class="pnl">  </span><span class="tag">function</span><span class="pln"> </span></li><li class="L3"><span class="pnl">    </span><span class="tag">param</span><span class="pln"> wizziObject</span></li><li class="L4"><span class="pnl">    </span><span class="tag">var</span><span class="pln"> loadMTree = wizziObject.loadMTree</span></li><li class="L5"><span class="pnl">    </span><span class="tag">var</span><span class="pln"> file = wizziObject.file</span></li><li class="L6"><span class="pnl">    </span><span class="tag">var</span><span class="pln"> errors = wizziObject.errors</span></li><li class="L7"><span class="pnl">    </span><span class="tag">...</span><span class="pln"> </span></li><li class="L8"><span class="pnl">    </span><span class="tag">#</span><span class="pln"> </span></li><li class="L9"><span class="pnl">      </span><span class="tag">#</span><span class="pln"> Load a wizzi model of type &lt;schema-nam&gt; from an IttfDocument uri</span></li><li class="L0"><span class="pnl">      </span><span class="tag">#</span><span class="pln"> @param {String} ittfDocumentUri</span></li><li class="L1"><span class="pnl">      </span><span class="tag">#</span><span class="pln"> @param {Object} context - the loading context object</span></li><li class="L2"><span class="pnl">      </span><span class="tag">#</span><span class="pln"> @param {Function} callback</span></li><li class="L3"><span class="pnl">    </span><span class="tag">return</span><span class="pln"> </span></li><li class="L4"><span class="pnl">      </span><span class="tag">function</span><span class="pln"> loadModel</span></li><li class="L5"><span class="pnl">        </span><span class="tag">param</span><span class="pln"> ittfDocumentUri</span></li><li class="L6"><span class="pnl">        </span><span class="tag">param</span><span class="pln"> context</span></li><li class="L7"><span class="pnl">        </span><span class="tag">param</span><span class="pln"> callback</span></li></ol></pre><h4>Api of the object returned by getModelTransformer</h4><pre class="prettyprint"><ol class="linenums"><li class="L1"><span class="pnl"></span><span class="tag">trans</span><span class="pln"> </span></li><li class="L2"><span class="pnl">  </span><span class="tag">function</span><span class="pln"> </span></li><li class="L3"><span class="pnl">    </span><span class="tag">param</span><span class="pln"> model</span></li><li class="L4"><span class="pnl">    </span><span class="tag">param</span><span class="pln"> ctx</span></li><li class="L5"><span class="pnl">    </span><span class="tag">param</span><span class="pln"> callback</span></li></ol></pre><h4>Api of the object returned by getArtifactGenerator</h4><pre class="prettyprint"><ol class="linenums"><li class="L1"><span class="pnl"></span><span class="tag">gen</span><span class="pln"> </span></li><li class="L2"><span class="pnl">  </span><span class="tag">function</span><span class="pln"> </span></li><li class="L3"><span class="pnl">    </span><span class="tag">param</span><span class="pln"> model</span></li><li class="L4"><span class="pnl">    </span><span class="tag">param</span><span class="pln"> ctx</span></li><li class="L5"><span class="pnl">    </span><span class="tag">param</span><span class="pln"> callback</span></li></ol></pre><p>The object returned by getSchemaDefinition is a json representation of the requested schema.</p></div>
                    <section></section>
                </div>
            </main>
        </div>
        <script src="jquery-3.2.1.js"></script>
        <script src="../wizzifactory.js"></script>
    </body>

</html>
