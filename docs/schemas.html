<!doctype html>
<html>
<head>
    <link href="https://fonts.googleapis.com/css?family=Roboto" rel="stylesheet" />
    <link href="sanitize.css" rel="stylesheet" />
    <link href="../styles/main.css" rel="stylesheet" />
    <link href="../styles/documentation-wizzi schemas.css" rel="stylesheet" />
</head>
<body class="Documentation-Wizzi Schemas">
    <!-- top navigation markup -->
    <input type="checkbox" id="tn-input-toggle" />
    <nav class="tn-bar">
        <nav class="tn-main">
            <a href="index.html.ittf"><div class="logo">
                <img src="../images/logo.svg" />
            </div>
            </a>
            <label for="tn-input-toggle" class="tn-label-toggle"></label>
            <label for="tn-input-toggle" class="tn-label-toggle-close">&times;</label>
            <ul>
                <li><a href="../concepts.html" title="Concepts">Concepts</a>
                </li>
                <li class="tn-pageSelected"><a href="../docs/intro.html" title="Documentation">Documentation</a>
                <nav class="tn-subPages_mobile">
                    <ul>
                        <li><a href="../docs/intro.html" title="Introduction">intro</a>
                        </li>
                        <li><a href="../docs/ittf.html" title="ITTF Documents">ittf</a>
                        </li>
                        <li><a href="../docs/jswizzi.html" title="JsWizzi">jswizzi</a>
                        </li>
                        <li><a href="../docs/schemas.html" title="Wizzi Schemas">schemas</a>
                        </li>
                        <li><a href="../docs/models.html" title="Wizzi Models">models</a>
                        </li>
                        <li><a href="../docs/artifacts.html" title="Artifact generations">artifacts</a>
                        </li>
                        <li><a href="../docs/jobs.html" title="Wizzi Jobs">jobs</a>
                        </li>
                        <li><a href="../docs/plugins.html" title="Wizzi Plugins">plugins</a>
                        </li>
                        <li><a href="../docs/wizzifiers.html" title="Wizzifiers">wizzifiers</a>
                        </li>
                    </ul>
                </nav>
                </li>
                <li><a href="../api.html" title="Api">Api</a>
                </li>
                <li><a href="../code/intro.html" title="Code">Code</a>
                </li>
                <li><a href="../starters.html" title="Starters">Starters</a>
                </li>
                <li><a href="../project.html" title="Project">Project</a>
                </li>
            </ul>
        </nav>
        <nav class="tn-subPages">
            <ul>
                <li><a href="../docs/intro.html" title="Introduction">intro</a>
                </li>
                <li><a href="../docs/ittf.html" title="ITTF Documents">ittf</a>
                </li>
                <li><a href="../docs/jswizzi.html" title="JsWizzi">jswizzi</a>
                </li>
                <li class="tn-subPageSelected"><a href="../docs/schemas.html" title="Wizzi Schemas">schemas</a>
                </li>
                <li><a href="../docs/models.html" title="Wizzi Models">models</a>
                </li>
                <li><a href="../docs/artifacts.html" title="Artifact generations">artifacts</a>
                </li>
                <li><a href="../docs/jobs.html" title="Wizzi Jobs">jobs</a>
                </li>
                <li><a href="../docs/plugins.html" title="Wizzi Plugins">plugins</a>
                </li>
                <li><a href="../docs/wizzifiers.html" title="Wizzifiers">wizzifiers</a>
                </li>
            </ul>
        </nav>
    </nav>
    <!-- main content markup -->
    <main id="mc-wrapper" class="mc-wrapper-layout-sub">
        <input type="checkbox" id="mc-toggle-toc" />
        <input type="checkbox" id="mc-toggle-toc-close" onchange="mc_toggle_toc_Close()" />
        <div class="mc-frame">
            <div class="mc-frame-bar">
                <h1 class="mc-sidebar-left-title">Wizzi Schemas</h1>
                <h1>
                    <label for="mc-toggle-toc-close" class="mc-label-toggle-close">&times;</label>
                </h1>
            </div>
            <nav class="mc-sidebar-left">
                <ul>
                    <li><a href="#concept-intro" class="mc-item-link">Introduction</a>
                    <label for="mc-toggle-concept-intro" class="mc-label-toggle">Introduction</label>
                    </li>
                    <li><a href="#concept-1" class="mc-item-link">The 'wfschema' schema</a>
                    <label for="mc-toggle-concept-1" class="mc-label-toggle">&nbsp; The 'wfschema' schema</label>
                    </li>
                    <li><a href="#concept-2" class="mc-item-link">Internal schemas</a>
                    <label for="mc-toggle-concept-2" class="mc-label-toggle">&nbsp; Internal schemas</label>
                    </li>
                    <li><a href="#concept-3" class="mc-item-link">Json pseudo schema</a>
                    <label for="mc-toggle-concept-3" class="mc-label-toggle">&nbsp; Json pseudo schema</label>
                    </li>
                    <li><a href="#concept-4" class="mc-item-link">Xml pseudo schema</a>
                    <label for="mc-toggle-concept-4" class="mc-label-toggle">&nbsp; Xml pseudo schema</label>
                    </li>
                    <li><a href="#concept-5" class="mc-item-link">Text pseudo schema</a>
                    <label for="mc-toggle-concept-5" class="mc-label-toggle">&nbsp; Text pseudo schema</label>
                    </li>
                    <li><a href="#concept-6" class="mc-item-link">Ittf pseudo schema</a>
                    <label for="mc-toggle-concept-6" class="mc-label-toggle">&nbsp; Ittf pseudo schema</label>
                    </li>
                </ul>
            </nav>
            <div class="mc-content">
                <div>
                    <input type="checkbox" id="mc-toggle-concept-intro" onchange="m_toggleChanged()" />
                    <input type="checkbox" id="mc-toggle-concept-1" onchange="m_toggleChanged()" />
                    <input type="checkbox" id="mc-toggle-concept-2" onchange="m_toggleChanged()" />
                    <input type="checkbox" id="mc-toggle-concept-3" onchange="m_toggleChanged()" />
                    <input type="checkbox" id="mc-toggle-concept-4" onchange="m_toggleChanged()" />
                    <input type="checkbox" id="mc-toggle-concept-5" onchange="m_toggleChanged()" />
                    <input type="checkbox" id="mc-toggle-concept-6" onchange="m_toggleChanged()" />
                    <h1 class="mc-content-title" id="concept-intro">Wizzi Schemas</h1>
                    <div class="mc-pane mc-pane-concept-intro">
                        <div class="summary">
                            <p>A wizzi schema is a specific wizzi model, of type `wfschema`, that can be used to describe and generate the javascript modules that implement a wizzi model.</p><p>It is the core modeling tool of the wizzi factory.</p><p>Schemas are modeled using ittf documents like any other wizzi model.</p><h4>Sample 'rdbms' wizzi schema</h4><pre class="prettyprint"><ol class="linenums"><li class="L1"><span class="pnl"></span><span class="pp-tag">wfschema</span><span class="pp-pln"> rdbms</span></li><li class="L2"><span class="pnl">  </span><span class="pp-tag">e</span><span class="pp-pln"> catalog</span></li><li class="L3"><span class="pnl">    </span><span class="pp-tag">r</span><span class="pp-pln"> table/s</span></li><li class="L4"><span class="pnl">  </span><span class="pp-tag">e</span><span class="pp-pln"> table</span></li><li class="L5"><span class="pnl">    </span><span class="pp-tag">r</span><span class="pp-pln"> column/s</span></li><li class="L6"><span class="pnl">    </span><span class="pp-tag">r</span><span class="pp-pln"> index/es</span></li><li class="L7"><span class="pnl">  </span><span class="pp-tag">e</span><span class="pp-pln"> column</span></li><li class="L8"><span class="pnl">    </span><span class="pp-tag">a</span><span class="pp-pln"> type</span></li><li class="L9"><span class="pnl">    </span><span class="pp-tag">a</span><span class="pp-pln"> caption</span></li><li class="L0"><span class="pnl">    </span><span class="pp-tag">a</span><span class="pp-pln"> defaultValue</span></li><li class="L1"><span class="pnl">      </span><span class="pp-tag">tag</span><span class="pp-pln"> default</span></li><li class="L2"><span class="pnl">  </span><span class="pp-tag">e</span><span class="pp-pln"> index</span></li><li class="L3"><span class="pnl">    </span><span class="pp-tag">a</span><span class="pp-pln"> primary</span></li><li class="L4"><span class="pnl">      </span><span class="pp-tag">type</span><span class="pp-pln"> boolean</span></li><li class="L5"><span class="pnl">    </span><span class="pp-tag">a</span><span class="pp-pln"> unique</span></li><li class="L6"><span class="pnl">      </span><span class="pp-tag">type</span><span class="pp-pln"> boolean</span></li><li class="L7"><span class="pnl">    </span><span class="pp-tag">r</span><span class="pp-pln"> column/s</span></li></ol></pre><h4>Sample ittf document conformant to the 'rdbms' wfschema that may be loaded in a 'rdbms' wizzi model.</h4><pre class="prettyprint"><ol class="linenums"><li class="L1"><span class="pnl"></span><span class="pp-tag">rdbms</span><span class="pp-pln"> School</span></li><li class="L2"><span class="pnl">  </span><span class="pp-tag">table</span><span class="pp-pln"> Student</span></li><li class="L3"><span class="pnl">    </span><span class="pp-tag">column</span><span class="pp-pln"> Id</span></li><li class="L4"><span class="pnl">      </span><span class="pp-tag">type</span><span class="pp-pln"> integer</span></li><li class="L5"><span class="pnl">    </span><span class="pp-tag">column</span><span class="pp-pln"> Name</span></li><li class="L6"><span class="pnl">      </span><span class="pp-tag">type</span><span class="pp-pln"> string</span></li><li class="L7"><span class="pnl">    </span><span class="pp-tag">index</span><span class="pp-pln"> Student-PK</span></li><li class="L8"><span class="pnl">      </span><span class="pp-tag">primary</span><span class="pp-pln"> true</span></li><li class="L9"><span class="pnl">      </span><span class="pp-tag">column</span><span class="pp-pln"> Id</span></li><li class="L0"><span class="pnl">  </span><span class="pp-tag">table</span><span class="pp-pln"> Course</span></li><li class="L1"><span class="pnl">    </span><span class="pp-tag">column</span><span class="pp-pln"> Id</span></li><li class="L2"><span class="pnl">      </span><span class="pp-tag">type</span><span class="pp-pln"> integer</span></li><li class="L3"><span class="pnl">    </span><span class="pp-tag">column</span><span class="pp-pln"> Title</span></li><li class="L4"><span class="pnl">      </span><span class="pp-tag">type</span><span class="pp-pln"> string</span></li><li class="L5"><span class="pnl">    </span><span class="pp-tag">index</span><span class="pp-pln"> Student-PK</span></li><li class="L6"><span class="pnl">      </span><span class="pp-tag">primary</span><span class="pp-pln"> true</span></li><li class="L7"><span class="pnl">      </span><span class="pp-tag">column</span><span class="pp-pln"> Id</span></li></ol></pre><p>Wizzi schemas are wizzi models of type 'wfschema' implemented by the wizzi-core plugin.</p></div>
                    </div>
                    <div class="mc-pane mc-pane-concept-1">
                        <h2 id="concept-1">The 'wfschema' schema</h2>
                        <div class="summary">
                            <p>The wfschema, implemented by the wizzi-core plugin, is the meta model of a wizzi schema. It models a wizzi schema with the same semantic with which a wizzi schema models a wizzi model.</p><p>This documentation section has a circularity that may give an headache. It documents a schema that describe a schema using the same schema notation of the documented schema.</p><p>Some hints may help.</p><ul>    <li>A wizzi schema describes a model in terms of element types, with attributes, and relations between elements. Elements can extend super elements. Relations, that do not have attributes, can be of kind parent-children (one-to-many, the default) or parent-singlechild (one-to-one).    </li><li>Elements are described in a flat list. Relations hierarchy and element derivations are inferred from definitions.    </li><li>The root element can be declared using the element attribute 'isRoot'. If not declared the root element is the first of the list.    </li><li>Elements and attributes may have an optional tag attribute that defines a name alias shorter or with an easier mnemonic. wfschema examples:        <ul>            <li>'e' for 'element'            </li><li>'a' for 'attribute'            </li><li>'r' for 'relation'            </li>        </ul>    </li><li>Node names of mTree nodes simply map to an element or attribute tag (or name, if a tag is not declared).    </li></ul><h4>The wfschema elements are</h4><ul>    <li>wfschema    </li><li>exportTo    </li><li>require    </li><li>element    </li><li>attribute, string, boolean, integer, float, date    </li><li>relation    </li><li>restrict, enum, minLength, maxLength, minValue, maxValue, regexp    </li><li>method, function    </li><li>parameter    </li></ul><h3>wfschema element</h3><p>The root element of a 'wfschema'.</p><pre class="prettyprint"><ol class="linenums"><li class="L1"><span class="pnl"></span><span class="pp-tag">e</span><span class="pp-pln"> wfschema `name`</span></li><li class="L2"><span class="pnl">  </span><span class="pp-tag">r</span><span class="pp-pln"> require/s</span></li><li class="L3"><span class="pnl">  </span><span class="pp-tag">r</span><span class="pp-pln"> exportTo/s</span></li><li class="L4"><span class="pnl">  </span><span class="pp-tag">r</span><span class="pp-pln"> element/s</span></li></ol></pre><h3>exportTo element</h3><p>An exportTo element causes the insertion in the wizzi model classes of the prototype functions for exporting the tree data structure of the model in the requested format    <ul>        <li>toJson()        </li><li>toXml()        </li>    </ul></p><p>The entire wizzi model can be exported calling this methods on the root element.</p><pre class="prettyprint"><ol class="linenums"><li class="L1"><span class="pnl"></span><span class="pp-tag">...</span><span class="pp-pln"> </span></li><li class="L2"><span class="pnl">  </span><span class="pp-tag">e</span><span class="pp-pln"> export-to [json|xml]</span></li></ol></pre><h3>require element</h3><p>A wizzi model can contain user defined methods and functions, that could need to import objects from other modules. This element allow to insert require statements in the generated wizzi model module.</p><pre class="prettyprint"><ol class="linenums"><li class="L1"><span class="pnl"></span><span class="pp-tag">e</span><span class="pp-pln"> require `import-name`</span></li><li class="L2"><span class="pnl">  </span><span class="pp-tag">string</span><span class="pp-pln"> declareVar `name`</span></li><li class="L3"><span class="pnl">    </span><span class="pp-tag">tag</span><span class="pp-pln"> declare-var</span></li><li class="L4"><span class="pnl">    </span><span class="pp-tag">optional</span><span class="pp-pln"> </span></li><li class="L5"><span class="pnl">    </span><span class="pp-tag">default</span><span class="pp-pln"> `import-name`</span></li><li class="L6"><span class="pnl">  </span><span class="pp-tag">string</span><span class="pp-pln"> invoke `invoke-string`</span></li><li class="L7"><span class="pnl">    </span><span class="pp-tag">optional</span><span class="pp-pln"> </span></li><li class="L8"><span class="pnl">  </span><span class="pp-tag">string</span><span class="pp-pln"> kind [module]</span></li><li class="L9"><span class="pnl">    </span><span class="pp-tag">#</span><span class="pp-pln"> At now we have only one kind, and this attribute is superflous.</span></li><li class="L0"><span class="pnl">    </span><span class="pp-tag">#</span><span class="pp-pln"> Other kinds could be added in the future.</span></li><li class="L1"><span class="pnl">    </span><span class="pp-tag">optional</span><span class="pp-pln"> </span></li><li class="L2"><span class="pnl">    </span><span class="pp-tag">default</span><span class="pp-pln"> module</span></li></ol></pre><p>The generated statement is built in this way:</p><pre class="prettyprint"><ol class="linenums"><li class="L1"><span class="pnl"></span><span class="pp-tag">var</span><span class="pp-pln"> `declareVar` = require('`import-name`')[`invoke`]</span></li></ol></pre><p>Example</p><pre class="prettyprint"><ol class="linenums"><li class="L1"><span class="pnl"></span><span class="pp-tag">...</span><span class="pp-pln"> </span></li><li class="L2"><span class="pnl">  </span><span class="pp-tag">require</span><span class="pp-pln"> wizzi-utils</span></li><li class="L3"><span class="pnl">    </span><span class="pp-tag">declare-var</span><span class="pp-pln"> verify</span></li><li class="L4"><span class="pnl">    </span><span class="pp-tag">invoke</span><span class="pp-pln"> .verify</span></li><li class="L5"><span class="pnl">  </span><span class="pp-tag">generates:</span><span class="pp-pln"> </span></li><li class="L6"><span class="pnl">    </span><span class="pp-tag">var</span><span class="pp-pln"> verify = require('wizzi-utils').verify</span></li></ol></pre><h3>Element element</h3><p>Describes an element type of the schema.</p><pre class="prettyprint"><ol class="linenums"><li class="L1"><span class="pnl"></span><span class="pp-tag">e</span><span class="pp-pln"> element `name` [: `super-element-name`]</span></li><li class="L2"><span class="pnl">  </span><span class="pp-tag">tag</span><span class="pp-pln"> e</span></li><li class="L3"><span class="pnl">  </span><span class="pp-tag">string</span><span class="pp-pln"> super `super-element-name`</span></li><li class="L4"><span class="pnl">  </span><span class="pp-tag">string</span><span class="pp-pln"> tag `tag`</span></li><li class="L5"><span class="pnl">  </span><span class="pp-tag">string</span><span class="pp-pln"> xmlTag `tag`</span></li><li class="L6"><span class="pnl">    </span><span class="pp-tag">tag</span><span class="pp-pln"> xml-tag</span></li><li class="L7"><span class="pnl">  </span><span class="pp-tag">boolean</span><span class="pp-pln"> isAbstract</span></li><li class="L8"><span class="pnl">    </span><span class="pp-tag">tag</span><span class="pp-pln"> is-abstract</span></li><li class="L9"><span class="pnl">    </span><span class="pp-tag">default-when-declared</span><span class="pp-pln"> true</span></li><li class="L0"><span class="pnl">  </span><span class="pp-tag">boolean</span><span class="pp-pln"> isRoot</span></li><li class="L1"><span class="pnl">    </span><span class="pp-tag">tag</span><span class="pp-pln"> is-root</span></li><li class="L2"><span class="pnl">    </span><span class="pp-tag">default-when-declared</span><span class="pp-pln"> true</span></li><li class="L3"><span class="pnl">  </span><span class="pp-tag">boolean</span><span class="pp-pln"> nameIsRequired</span></li><li class="L4"><span class="pnl">    </span><span class="pp-tag">tag</span><span class="pp-pln"> name-is-required</span></li><li class="L5"><span class="pnl">    </span><span class="pp-tag">default-when-declared</span><span class="pp-pln"> true</span></li><li class="L6"><span class="pnl">  </span><span class="pp-tag">boolean</span><span class="pp-pln"> addToChildren</span></li><li class="L7"><span class="pnl">    </span><span class="pp-tag">tag</span><span class="pp-pln"> add-to-children</span></li><li class="L8"><span class="pnl">    </span><span class="pp-tag">default-when-declared</span><span class="pp-pln"> true</span></li><li class="L9"><span class="pnl">  </span><span class="pp-tag">r</span><span class="pp-pln"> attribute/s</span></li><li class="L0"><span class="pnl">  </span><span class="pp-tag">r</span><span class="pp-pln"> relation/s</span></li><li class="L1"><span class="pnl">  </span><span class="pp-tag">r</span><span class="pp-pln"> method/s</span></li></ol></pre><h3>Relation element</h3><pre class="prettyprint"><ol class="linenums"><li class="L1"><span class="pnl"></span><span class="pp-tag">e</span><span class="pp-pln"> relation `related-element-name`[-`plural-suffix-a`]/`plural-suffix-b`</span></li><li class="L2"><span class="pnl">  </span><span class="pp-tag">#</span><span class="pp-pln"> Examples</span></li><li class="L3"><span class="pnl">  </span><span class="pp-tag">#</span><span class="pp-pln"> r column/s (element: column, collection: columns)</span></li><li class="L4"><span class="pnl">  </span><span class="pp-tag">#</span><span class="pp-pln"> r propert-y/ies (element: property, collection: properties)</span></li><li class="L5"><span class="pnl">  </span><span class="pp-tag">tag</span><span class="pp-pln"> r</span></li><li class="L6"><span class="pnl">  </span><span class="pp-tag">boolean</span><span class="pp-pln"> oneToOne</span></li><li class="L7"><span class="pnl">    </span><span class="pp-tag">tag</span><span class="pp-pln"> one-to-one</span></li><li class="L8"><span class="pnl">    </span><span class="pp-tag">default-when-declared</span><span class="pp-pln"> true</span></li><li class="L9"><span class="pnl">  </span><span class="pp-tag">boolean</span><span class="pp-pln"> noGet</span></li><li class="L0"><span class="pnl">    </span><span class="pp-tag">tag</span><span class="pp-pln"> no-get</span></li><li class="L1"><span class="pnl">    </span><span class="pp-tag">default-when-declared</span><span class="pp-pln"> true</span></li></ol></pre><p>Example:</p><pre class="prettyprint"><ol class="linenums"><li class="L1"><span class="pnl"></span><span class="pp-tag">...</span><span class="pp-pln"> </span></li><li class="L2"><span class="pnl">  </span><span class="pp-tag">e</span><span class="pp-pln"> table : dbitem</span></li><li class="L3"><span class="pnl">    </span><span class="pp-tag">r</span><span class="pp-pln"> column/s</span></li><li class="L4"><span class="pnl">    </span><span class="pp-tag">r</span><span class="pp-pln"> propert-y/ies</span></li><li class="L5"><span class="pnl">    </span><span class="pp-tag">r</span><span class="pp-pln"> displayLayout</span></li><li class="L6"><span class="pnl">      </span><span class="pp-tag">one-to-one</span><span class="pp-pln"> </span></li></ol></pre><p>related-element-name plus the eventual plural-suffix-a must give the name of an element defined in the schema (that is the related element); in the example: column, property, displayLayout.</p><h3>attribute element</h3><p>Describes an attribute of an element</p><pre class="prettyprint"><ol class="linenums"><li class="L1"><span class="pnl"></span><span class="pp-tag">e</span><span class="pp-pln"> attribute `name`</span></li><li class="L2"><span class="pnl">  </span><span class="pp-tag">tag</span><span class="pp-pln"> a</span></li><li class="L3"><span class="pnl">  </span><span class="pp-tag">string</span><span class="pp-pln"> tag `tag`</span></li><li class="L4"><span class="pnl">  </span><span class="pp-tag">string</span><span class="pp-pln"> xmlTag `tag`</span></li><li class="L5"><span class="pnl">    </span><span class="pp-tag">tag</span><span class="pp-pln"> xml-tag</span></li><li class="L6"><span class="pnl">  </span><span class="pp-tag">string</span><span class="pp-pln"> type [string|integer|float|boolean|date]</span></li><li class="L7"><span class="pnl">    </span><span class="pp-tag">default</span><span class="pp-pln"> string</span></li><li class="L8"><span class="pnl">  </span><span class="pp-tag">string</span><span class="pp-pln"> default `default-value`</span></li><li class="L9"><span class="pnl">  </span><span class="pp-tag">string</span><span class="pp-pln"> defaultWhenDeclared `default-value`</span></li><li class="L0"><span class="pnl">    </span><span class="pp-tag">tag</span><span class="pp-pln"> default-when-declared</span></li><li class="L1"><span class="pnl">  </span><span class="pp-tag">boolean</span><span class="pp-pln"> isDatatype</span></li><li class="L2"><span class="pnl">    </span><span class="pp-tag">tag</span><span class="pp-pln"> is-datatype</span></li><li class="L3"><span class="pnl">    </span><span class="pp-tag">default-when-declared</span><span class="pp-pln"> true</span></li><li class="L4"><span class="pnl">  </span><span class="pp-tag">boolean</span><span class="pp-pln"> isRequired</span></li><li class="L5"><span class="pnl">    </span><span class="pp-tag">tag</span><span class="pp-pln"> is-required</span></li><li class="L6"><span class="pnl">    </span><span class="pp-tag">default-when-declared</span><span class="pp-pln"> true</span></li><li class="L7"><span class="pnl">  </span><span class="pp-tag">r</span><span class="pp-pln"> restrict/s</span></li></ol></pre><h3>string element</h3><pre class="prettyprint"><ol class="linenums"><li class="L1"><span class="pnl"></span><span class="pp-tag">e</span><span class="pp-pln"> string `attribut-name` : attribute</span></li></ol></pre><h3>boolean element</h3><pre class="prettyprint"><ol class="linenums"><li class="L1"><span class="pnl"></span><span class="pp-tag">e</span><span class="pp-pln"> boolean `attribut-name` : attribute</span></li></ol></pre><h3>integer element</h3><pre class="prettyprint"><ol class="linenums"><li class="L1"><span class="pnl"></span><span class="pp-tag">e</span><span class="pp-pln"> integer `attribut-name` : attribute</span></li></ol></pre><h3>float element</h3><pre class="prettyprint"><ol class="linenums"><li class="L1"><span class="pnl"></span><span class="pp-tag">e</span><span class="pp-pln"> float `attribut-name` : attribute</span></li></ol></pre><h3>date element</h3><pre class="prettyprint"><ol class="linenums"><li class="L1"><span class="pnl"></span><span class="pp-tag">e</span><span class="pp-pln"> date `attribut-name` : attribute</span></li></ol></pre><h3>restrict element</h3><pre class="prettyprint"><ol class="linenums"><li class="L1"><span class="pnl"></span><span class="pp-tag">e</span><span class="pp-pln"> restrict</span></li><li class="L2"><span class="pnl">  </span><span class="pp-tag">is-abstract</span><span class="pp-pln"> </span></li></ol></pre><h3>enum element</h3><pre class="prettyprint"><ol class="linenums"><li class="L1"><span class="pnl"></span><span class="pp-tag">e</span><span class="pp-pln"> enum `enum-value` : restrict</span></li></ol></pre><h3>maxLength element</h3><pre class="prettyprint"><ol class="linenums"><li class="L1"><span class="pnl"></span><span class="pp-tag">e</span><span class="pp-pln"> maxLength `value` : restrict</span></li><li class="L2"><span class="pnl">  </span><span class="pp-tag">tag</span><span class="pp-pln"> max-length</span></li></ol></pre><h3>minLength element</h3><pre class="prettyprint"><ol class="linenums"><li class="L1"><span class="pnl"></span><span class="pp-tag">e</span><span class="pp-pln"> minLength `value` : restrict</span></li><li class="L2"><span class="pnl">  </span><span class="pp-tag">tag</span><span class="pp-pln"> min-length</span></li></ol></pre><h3>maxValue element</h3><pre class="prettyprint"><ol class="linenums"><li class="L1"><span class="pnl"></span><span class="pp-tag">e</span><span class="pp-pln"> maxValue `value` : restrict</span></li><li class="L2"><span class="pnl">  </span><span class="pp-tag">tag</span><span class="pp-pln"> max-value</span></li></ol></pre><h3>minValue element</h3><pre class="prettyprint"><ol class="linenums"><li class="L1"><span class="pnl"></span><span class="pp-tag">e</span><span class="pp-pln"> minValue `value` : restrict</span></li><li class="L2"><span class="pnl">  </span><span class="pp-tag">tag</span><span class="pp-pln"> min-value</span></li></ol></pre><h3>regexp element</h3><pre class="prettyprint"><ol class="linenums"><li class="L1"><span class="pnl"></span><span class="pp-tag">e</span><span class="pp-pln"> regexp `value` : restrict</span></li></ol></pre><h3>method element</h3><p>Declares a method that will be added to the element class. A method can access and manipulate the entire wizzi model, having access to the 'this.wzRoot()' method of the `schema-name`Base class.</p><pre class="prettyprint"><ol class="linenums"><li class="L1"><span class="pnl"></span><span class="pp-tag">e</span><span class="pp-pln"> method `name`</span></li><li class="L2"><span class="pnl">  </span><span class="pp-tag">tag</span><span class="pp-pln"> m</span></li><li class="L3"><span class="pnl">  </span><span class="pp-tag">r</span><span class="pp-pln"> param/s</span></li><li class="L4"><span class="pnl">  </span><span class="pp-tag">r</span><span class="pp-pln"> statement/s</span></li></ol></pre><h3>param element</h3><pre class="prettyprint"><ol class="linenums"><li class="L1"><span class="pnl"></span><span class="pp-tag">e</span><span class="pp-pln"> param `name`</span></li></ol></pre><h3>statement element</h3><p>The statement element uses a subset of the schema 'js' implemented by the plugin wizzi-js.</p><h3>function element</h3><p>Declares a method that will be added to the module and will be a private function for methods of the model instances.</p><pre class="prettyprint"><ol class="linenums"><li class="L1"><span class="pnl"></span><span class="pp-tag">e</span><span class="pp-pln"> function `name`</span></li><li class="L2"><span class="pnl">  </span><span class="pp-tag">tag</span><span class="pp-pln"> m</span></li><li class="L3"><span class="pnl">  </span><span class="pp-tag">r</span><span class="pp-pln"> param/s</span></li><li class="L4"><span class="pnl">  </span><span class="pp-tag">r</span><span class="pp-pln"> statement/s</span></li></ol></pre></div>
                    </div>
                    <div class="mc-pane mc-pane-concept-2">
                        <h2 id="concept-2">Internal schemas</h2>
                        <div class="summary">
                            <p>There are some common document types that have great flexibility for the definition of context data, and would be usefull to apply to those documents the templating power of mTrees without the hassle of a wizzi schema.</p><ul>    <li>Text    </li><li>Xml    </li><li>Json    </li><li>Ittf itself.    </li></ul><p>Respecting a few coding rules these type of documents can be built using the composition and template commands of ittf documents.</p><p>The production manager of the wizzi factory recognizes the following internal schemas    <ul>        <li>text        </li><li>xml        </li><li>json        </li><li>ittf        </li>    </ul></p><p>A wizzi job or a an api call to the wizzi factory may use these schema names in any place where a wizzi schema can be used.</p></div>
                    </div>
                    <div class="mc-pane mc-pane-concept-3">
                        <h2 id="concept-3">Json pseudo schema</h2>
                        <div class="summary">
                            <h4>Sample json ittf document</h4><pre class="prettyprint"><ol class="linenums"><li class="L1"><span class="pnl"></span><span class="pp-tag">{</span><span class="pp-pln"> </span></li><li class="L2"><span class="pnl">  </span><span class="pp-tag">name</span><span class="pp-pln"> "v3-docs"</span></li><li class="L3"><span class="pnl">  </span><span class="pp-tag">version</span><span class="pp-pln"> "0.0.1"</span></li><li class="L4"><span class="pnl">  </span><span class="pp-tag">description</span><span class="pp-pln"> "Wizzi factory documentation."</span></li><li class="L5"><span class="pnl">  </span><span class="pp-tag">scripts</span><span class="pp-pln"> </span></li><li class="L6"><span class="pnl">    </span><span class="pp-tag">{</span><span</span><span class="pp-pln"> </span></li><li class="L7"><span class="pnl">      </span><span class="pp-tag">test</span><span class="pp-pln"> "mocha tests/**/*.js"</span></li><li class="L8"><span class="pnl">      </span><span class="pp-tag">start</span><span class="pp-pln"> "node index"</span></li><li class="L9"><span class="pnl">  </span><span class="pp-tag">dependencies</span><span class="pp-pln"> </span></li><li class="L0"><span class="pnl">    </span><span class="pp-tag">{</span><span</span><span</span><span class="pp-pln"> </span></li><li class="L1"><span class="pnl">      </span><span class="pp-tag">async</span><span class="pp-pln"> "^2.4.0"</span></li><li class="L2"><span class="pnl">      </span><span class="pp-tag">json-stringify-safe</span><span class="pp-pln"> "^5.0.1"</span></li><li class="L3"><span class="pnl">      </span><span class="pp-tag">...</span><span class="pp-pln"> </span></li><li class="L4"><span class="pnl">  </span><span class="pp-tag">sampleArray</span><span class="pp-pln"> </span></li><li class="L5"><span class="pnl">    </span><span class="pp-tag">[</span><span class="pp-pln"> </span></li><li class="L6"><span class="pnl">      </span><span class="pp-tag">'alfa'</span><span class="pp-pln"> </span></li><li class="L7"><span class="pnl">      </span><span class="pp-tag">'beta'</span><span class="pp-pln"> </span></li></ol></pre><h4>Coding rules</h4><ul>    <li>The root node must be an open graph.    </li><li>Ittf node names may contain        <ul>            <li>Property names.            </li><li>Open graph for start of object.            </li><li>Open bracket for start of array.            </li><li>Array elements primitive values.            </li>        </ul>    </li><li>Ittf node values must contain property values when the node name is a property name, nothing in the other cases.    </li></ul><p>( It is assumed that one knows    <a href="http://www.json.org/">json format rules    </a><span>)    </span></p></div>
                    </div>
                    <div class="mc-pane mc-pane-concept-4">
                        <h2 id="concept-4">Xml pseudo schema</h2>
                        <div class="summary">
                            <h4>Sample xml ittf document</h4><pre class="prettyprint"><ol class="linenums"><li class="L1"><span class="pnl"></span><span class="pp-tag">profile</span><span class="pp-pln"> </span></li><li class="L2"><span class="pnl">  </span><span class="pp-tag">@</span><span class="pp-pln"> name ${user.name}</span></li><li class="L3"><span class="pnl">  </span><span class="pp-tag">@</span><span class="pp-pln"> age ${user.age}</span></li><li class="L4"><span class="pnl">  </span><span class="pp-tag">friends</span><span class="pp-pln"> </span></li><li class="L5"><span class="pnl">    </span><span class="pp-kwd">$foreach</span><span class="pp-pln"> friend in user.friends</span></li><li class="L6"><span class="pnl">      </span><span class="pp-tag">friend</span><span class="pp-pln"> </span></li><li class="L7"><span class="pnl">        </span><span class="pp-tag">@</span><span class="pp-pln"> name ${friend.name}</span></li><li class="L8"><span class="pnl">        </span><span class="pp-tag">@</span><span class="pp-pln"> age ${friend.age}</span></li><li class="L9"><span class="pnl">  </span><span class="pp-tag">address</span><span class="pp-pln"> </span></li><li class="L0"><span class="pnl">    </span><span class="pp-tag">@</span><span class="pp-pln"> street ${user.street}</span></li><li class="L1"><span class="pnl">    </span><span class="pp-tag">@</span><span class="pp-pln"> city ${user.city}</span></li></ol></pre><h4>Rules</h4><ul>    <li>Ittf node names may contain        <ul>            <li>element names for elements            </li><li>simbol @ for attributes            </li>        </ul>    </li><li>Ittf node values may contain        <ul>            <li>nothing for elements            </li><li>name and value separated by a blank for attributes            </li>        </ul>    </li></ul><p>( It is assumed that one knows    <a href="https://google.github.io/styleguide/xmlstyle.html">xml format rules    </a><span>)    </span></p></div>
                    </div>
                    <div class="mc-pane mc-pane-concept-5">
                        <h2 id="concept-5">Text pseudo schema</h2>
                        <div class="summary">
                            <p>A text ittf document is a bit out of standard. It is a common text document that can break the rule of only one root node. It can use any node command or expression of an ittf document. A preprocessor transforms the text in a standard ittf tree structure. After the buildup of the mTree the 'text/document' artifact generator recreates the textual format.</p><h4>Example of text mixin for a license file</h4><pre class="prettyprint-js"><ol class="linenums"><li class="J1">$params copy, license</li><li class="J2">MIT License</li><li class="J3"></li><li class="J4">Copyright (c) ${copy}</li><li class="J5"></li><li class="J6">$if license === 'mit'</li><li class="J7">  $include mit_license_text</li><li class="J8">$elif ...</li></ol></pre><h4>The mixin transformed by the prepocessor in a standard format</h4><pre class="prettyprint"><ol class="linenums"><li class="L1"><span class="pnl"></span><span class="pp-tag">text</span><span class="pp-pln"> </span></li><li class="L2"><span class="pnl">  </span><span class="pp-kwd">$params</span><span class="pp-pln"> copy, license</span></li><li class="L3"><span class="pnl">  </span><span class="pp-tag">+</span><span class="pp-pln"> MIT License</span></li><li class="L4"><span class="pnl">  </span><span class="pp-tag">+</span><span class="pp-pln"> </span></li><li class="L5"><span class="pnl">  </span><span class="pp-tag">+</span><span class="pp-pln"> Copyright (c) 2015 The Wizzi Team</span></li><li class="L6"><span class="pnl">  </span><span class="pp-tag">+</span><span class="pp-pln"> </span></li><li class="L7"><span class="pnl">  </span><span class="pp-kwd">$if</span><span class="pp-expr"> license === 'mit'</span></li><li class="L8"><span class="pnl">    </span><span class="pp-kwd">$include</span><span class="pp-pln"> mit_license_text</span></li><li class="L9"><span class="pnl">  </span><span class="pp-kwd">$elif</span><span class="pp-expr"> ...</span></li></ol></pre></div>
                    </div>
                    <div class="mc-pane mc-pane-concept-6">
                        <h2 id="concept-6">Ittf pseudo schema</h2>
                        <div class="summary">
                            <p>Using the ittf pseudo schema may increases the plasticity of a generation process.</p><p>We can load complex untyped ittf documents into an mTree and obtain as a result an in-memory simple tree structure of nodes with a name, a value and a childs collection, that can generate a new ittf document.</p><p>We can chain complex mTrees buildups until we get the final ittf document to load into a wizzi model for artifact generation.</p></div>
                    </div>
                </div>
            </div>
        </div>
    </main>
    <script>
        function m_toggleChanged() {
            var el_toc = document.querySelector("input[id='mc-toggle-toc']");
            var el_contents = document.querySelectorAll("input[id^='mc-toggle-concept-']");
            var seenTrue = false;
            var i, i_items=el_contents, i_len=el_contents.length, el;
            for (i=0; i<i_len; i++) {
                el = el_contents[i];
                if (el.checked) {
                    seenTrue = true;
                }
            }
            el_toc.checked = seenTrue;
        }
        function mc_toggle_toc_Close() {
            var el_toc = document.querySelector("input[id='mc-toggle-toc']");
            var el_contents = document.querySelectorAll("input[id^='mc-toggle-concept-']");
            var i, i_items=el_contents, i_len=el_contents.length, el;
            for (i=0; i<i_len; i++) {
                el = el_contents[i];
                el.checked = false;
            }
            el_toc.checked = false;
        }
    </script>
    <script src="../wizzifactory.js"></script>
</body>

</html>
