<!doctype html>
<html VERSION-5="5" VERSION-4="4" version="5">
    <head>
        <title>The Wizzi Factory</title>
        <link href="https://fonts.googleapis.com/css?family=Roboto" rel="stylesheet">
        <link href="normalize.css" rel="stylesheet">
        <link href="wizzifactory.css" rel="stylesheet">
    </head>
    <body>
        <div class="site">
            <header class="navigation">
                <div class="container navigation__inner">
                    <div class="logo">
                        <span class="logo-w">W</span>
                        <span class="logo-i1">i</span>
                        <span class="logo-z1">z</span>
                        <span class="logo-z2">z</span>
                        <span class="logo-i2">i</span>
                        <span>&nbsp;</span>
                        <span class="logo-f">f</span>
                        <span class="logo-a">a</span>
                        <span class="logo-c">c</span>
                        <span class="logo-t">t</span>
                        <span class="logo-o">o</span>
                        <span class="logo-r">r</span>
                        <span class="logo-y">y</span>
                    </div>
                    <nav class="navigation__links">
                        <a title="docs concepts" href="concepts.html" class="navigation__link">Concepts</a>
                        <a title="docs docs" href="docs.html" class="navigation__link navigation__link--active">Documentation</a>
                        <a title="docs api" href="api.html" class="navigation__link">Api</a>
                        <a title="docs code" href="code/wizzi.html" class="navigation__link">Code</a>
                        <a title="docs starters" href="starters.html" class="navigation__link">Starters</a>
                        <a title="docs project" href="project.html" class="navigation__link">Project</a>
                    </nav>
                    <div class="navigation__search">
                        <span class="algolia-autocomplete" style="position: relative; display: inline-block; direction: ltr;">
                            <input type="text" class="navigation__search-input ds-input" placeholder="Search documentationâ€¦" autocomplete="off" spellcheck="false" role="combobox" aria-autocomplete="list" aria-expanded="false" aria-owns="algolia-autocomplete-listbox-0" dir="auto" style="position: relative; vertical-align: top;">
                            <pre aria-hidden="true" style="position: absolute; visibility: hidden; white-space: pre; font-family: Arial; font-size: 14px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; word-spacing: 0px; letter-spacing: normal; text-indent: 7px; text-rendering: auto; text-transform: none;"></pre>
                            <span class="ds-dropdown-menu" role="listbox" id="algolia-autocomplete-listbox-0" style="position: absolute; top: 100%; z-index: 100; display: none; left: 0px; right: auto;">
                                <div class="ds-dataset-1"></div>
                            </span>
                        </span>
                        <button class="navigation__search-icon icon-search"></button>
                        <button class="navigation__search-icon icon-cross"></button>
                    </div>
                    <a href="https://github.com/wizzifactory" target="_blank" class="navigation__icon" title="GitHub Repository"><i class="sidecar__icon icon-github"></i>
                    </a>
                    <a href="https://stackoverflow.com/questions/tagged/wizzifactory" target="_blank" class="navigation__icon" title="See Questions on Stack Overflow"><i class="sidecar__icon icon-stackoverflow"></i>
                    </a>
                    <a href="#" target="_blank" class="navigation__icon" title="Follow on twitter"><i class="sidecar__icon icon-twitter"></i>
                    </a>
                    <a href="#" target="_blank" class="navigation__icon" title="Follow on facebook"><i class="sidecar__icon icon-facebook"></i>
                    </a>
                </div>
            </header>
            <main id="main-content">
                <div class="main-sidebar-left" style="max-height: 648px; position: fixed; top: 120px; width: 280px;">
                    <section id="main-toc" class="toc toc sidebar__inner">
                        <h3>Contents:</h3>
                        <ol>
                            <li><a href="#concept-1">Ittf command nodes</a>
                            </li>
                            <li><a href="#concept-2">Path resolution of mixin and include documents</a>
                            </li>
                            <li><a href="#concept-3">t-folders</a>
                            </li>
                            <li><a href="#concept-4">JsWizzi</a>
                            </li>
                            <li><a href="#concept-5">Wizzi models</a>
                            </li>
                            <li><a href="#concept-6">The &lt;schema-name&gt;-factory.g.js module</a>
                            </li>
                            <li><a href="#concept-7">The &lt;schema-name&gt;-model.g.js module</a>
                            </li>
                            <li><a href="#concept-8">Wizzi schemas</a>
                            </li>
                            <li><a href="#concept-9">The 'wfschema' schema</a>
                            </li>
                            <li><a href="#concept-10">Pseudo schemas</a>
                            </li>
                            <li><a href="#concept-11">Json pseudo schema</a>
                            </li>
                            <li><a href="#concept-12">Xml pseudo schema</a>
                            </li>
                            <li><a href="#concept-13">Text pseudo schema</a>
                            </li>
                            <li><a href="#concept-14">Ittf pseudo schema</a>
                            </li>
                            <li><a href="#concept-15">Artifact generators</a>
                            </li>
                            <li><a href="#concept-16">The gencontext object</a>
                            </li>
                            <li><a href="#concept-17">Sample artifact generators</a>
                            </li>
                            <li><a href="#concept-18">Wizzi core artifacts</a>
                            </li>
                            <li><a href="#concept-19">json/export core artifact</a>
                            </li>
                            <li><a href="#concept-20">xml/export core artifact</a>
                            </li>
                            <li><a href="#concept-21">ittf/document core artifact</a>
                            </li>
                            <li><a href="#concept-22">Production manager and wizzi jobs</a>
                            </li>
                            <li><a href="#concept-23">The 'wfjob" schema</a>
                            </li>
                            <li><a href="#concept-24">Plugins</a>
                            </li>
                            <li><a href="#concept-25">Plugin API</a>
                            </li>
                        </ol>
                    </section>
                </div>
                <div class="main-content">
                    <h2 id="concept-1" class="concept">Ittf command nodes</h2>
                    <div class="summary">
                        <h3>Mixin inclusion command</h3><p>Format:</p><pre class="prettyprint"><ol class="linenums"><li class="L1"><span class="pnl"></span><span class="tag">...</span><span class="pln"> </span></li><li class="L2"><span class="pnl">    </span><span class="mix">mixin-path(</span><span class="pln"> mixin-param-1 [mixin-param-2, [...]] ).</span></li><li class="L3"><span class="pnl">        </span><span class="tag">[</span><span class="pln"> optional ittf node branch ]</span></li></ol></pre><p>A mixin inclusion is recognized by the lexer when a node name ends with an open parenthesis. The chars before the parens are the relative path to the mixin. The base path is the current ittf document uri. No whitechar may separate the mixin path and the open paren.</p><p>The ittf of the mixin is inserted in the including ittf replacing the including command node. If the including node has children they, by default, are appended to the root node of the mixin. But if the mixin root has a descendant that is a default $hook command node, than the children of the including node replace the $hook node.</p><p>Example of mixin with an $hook command node where children of the includer node will be appended.</p><pre class="prettyprint"><ol class="linenums"><li class="L1"><span class="pnl"></span><span class="tag">table</span><span class="pln"> </span></li><li class="L2"><span class="pnl">    </span><span class="tag">tr</span><span class="pln"> </span></li><li class="L3"><span class="pnl">        </span><span class="kwd">$hook</span><span class="pln"> </span></li></ol></pre><p>Root nodes can be mixin inclusion command nodes:</p><pre class="prettyprint"><ol class="linenums"><li class="L1"><span class="pnl"></span><span class="mix">mylayout(</span><span class="pln"> home )</span></li><li class="L2"><span class="pnl">    </span><span class="tag">div</span><span class="pln"> My content</span></li></ol></pre><h3>$include</h3><p>Format:</p><pre class="prettyprint"><ol class="linenums"><li class="L1"><span class="pnl"></span><span class="tag">...</span><span class="pln"> </span></li><li class="L2"><span class="pnl">    </span><span class="kwd">$include</span><span class="pln"> include-path</span></li></ol></pre><p>include-path is the relative path to an includeable ittf. The base path is the current ittf document uri.</p><p>The includeable is included as is replacing the $include command node.</p><p>An $include command node may not have children nodes.</p><h3>$params</h3><p>Format:</p><pre class="prettyprint"><ol class="linenums"><li class="L1"><span class="pnl"></span><span class="tag">rootnode</span><span class="pln"> </span></li><li class="L2"><span class="pnl">    </span><span class="kwd">$params</span><span class="pln"> name1[:type[|default]][, name2[...</span></li></ol></pre><p>Example:</p><pre class="prettyprint"><ol class="linenums"><li class="L1"><span class="pnl"></span><span class="tag">li</span><span class="pln"> </span></li><li class="L2"><span class="pnl">    </span><span class="kwd">$params</span><span class="pln"> text, href</span></li><li class="L3"><span class="pnl">    </span><span class="tag">a</span><span class="pln"> ${text}</span></li><li class="L4"><span class="pnl">        </span><span class="tag">href</span><span class="pln"> ${href}</span></li></ol></pre><h3>$hook</h3><p>Format</p><pre class="prettyprint"><ol class="linenums"><li class="L1"><span class="pnl"></span><span class="tag">...</span><span class="pln"> </span></li><li class="L2"><span class="pnl">    </span><span class="kwd">$hook</span><span class="pln"> name</span></li></ol></pre><p>An $hook command node is a named insertion point where IttfNodeBranches can be appended. The name is optional, when missing its value is 'default'.</p><p>It has to be replaced and may not have child nodes.</p><p>See the statements MixinCall and AppendHookCall, for how to append IttfNodeBranches to an $hook node.</p><h3>$append</h3><p>Format</p><pre class="prettyprint"><ol class="linenums"><li class="L1"><span class="pnl"></span><span class="tag">...</span><span class="pln"> </span></li><li class="L2"><span class="pnl">    </span><span class="kwd">$append</span><span class="pln"> hook-name</span></li><li class="L3"><span class="pnl">        </span><span class="tag">...</span><span class="pln"> nodeb ranch ...</span></li></ol></pre><p>An $append command node is the root of a node branch that should be appended to an ancestor $hook of name hook-name. The $append children nodes replace the $hook node.</p><h3>$group</h3><p>Format</p><pre class="prettyprint"><ol class="linenums"><li class="L1"><span class="pnl"></span><span class="kwd">$group</span><span class="pln"> empty-value</span></li><li class="L2"><span class="pnl">    </span><span class="tag">...</span><span class="pln"> node branch ...</span></li></ol></pre><p>An ittf document must have one and only one root node.</p><p>The $group command node is a convenience node that may be used as the root of an includeable or mixin with many root nodes.</p><p>The $group node disappear in the builded tree.</p><h3>$if, $elif, $else</h3><p>Format:</p><pre class="prettyprint"><ol class="linenums"><li class="L1"><span class="pnl"></span><span class="tag">...</span><span class="pln"> </span></li><li class="L2"><span class="pnl">    </span><span class="kwd">$if</span><span class="expr"> js-wizzi-conditional-expression</span></li><li class="L3"><span class="pnl">        </span><span class="tag">...</span><span class="pln"> nodeb ranch ...</span></li><li class="L4"><span class="pnl">    </span><span class="kwd">$elif</span><span class="expr"> js-wizzi-conditional-expression</span></li><li class="L5"><span class="pnl">        </span><span class="tag">...</span><span class="pln"> nodeb ranch ...</span></li><li class="L6"><span class="pnl">    </span><span class="kwd">$else</span><span class="pln"> empty-value</span></li><li class="L7"><span class="pnl">        </span><span class="tag">...</span><span class="pln"> nodeb ranch ...</span></li></ol></pre><p>Children node are included/excluded depending on the value of the conditional-expression, written in Js-Wizzi.</p><h3>$foreach statement</h3><p>Format:</p><pre class="prettyprint"><ol class="linenums"><li class="L1"><span class="pnl"></span><span class="tag">...</span><span class="pln"> </span></li><li class="L2"><span class="pnl">    </span><span class="kwd">$foreach</span><span class="pln"> item-name in collection-name</span></li><li class="L3"><span class="pnl">        </span><span class="tag">...</span><span class="pln"> node branch ...</span></li></ol></pre><p>This is a repeat template where item-name is user defined and collection-name is a Js-Wizzi expression that evaluates to an iterable.</p><p>The var statement that declares item-name is auto-generated.</p><p>Descendant nodes are repeated having item-name as a context value in scope.</p><h3>$break, $continue</h3><p>Format:</p><pre class="prettyprint"><ol class="linenums"><li class="L1"><span class="pnl"></span><span class="tag">...</span><span class="pln"> </span></li><li class="L2"><span class="pnl">    </span><span class="kwd">$break</span><span class="pln"> empty-value</span></li><li class="L3"><span class="pnl">    </span><span class="tag">...</span><span class="pln"> </span></li><li class="L4"><span class="pnl">    </span><span class="kwd">$continue</span><span class="pln"> empty-value</span></li></ol></pre><p>This statements have the same meaning than in javascript but operate breaking or continuing the template repetition.</p><p>Currently a label for continuation is not implemented.</p><h3>$while</h3><p>Format:</p><pre class="prettyprint"><ol class="linenums"><li class="L1"><span class="pnl"></span><span class="tag">...</span><span class="pln"> </span></li><li class="L2"><span class="pnl">    </span><span class="kwd">$while</span><span class="pln"> js-wizzi-conditional-expression</span></li><li class="L3"><span class="pnl">        </span><span class="tag">...</span><span class="pln"> node branch ...</span></li><li class="L4"><span class="pnl">        </span><span class="kwd">$</span><span class="expr"> js-wizzi-exit-condition-change</span></li></ol></pre><p>This is a repeat template statement where descendant nodes are repeated until the js-wizzi-conditional-expression evaluates to false.</p><p>$ or $global command nodes must be used to modify the context values of the exit condition. There is a limit of 10000 iterations to guard against accidental loops, after that an exception is raised.</p><h3>$ comman node</h3><p>Allow manipulation of the template context.</p><p>May declare and modify template context variables that have ittf document scope.</p><div>May modify template context variables that have global scope.</div><div>Statements are js-wizzi instructions.</div><p>Single line format:</p><pre class="prettyprint"><ol class="linenums"><li class="L1"><span class="pnl"></span><span class="tag">...</span><span class="pln"> </span></li><li class="L2"><span class="pnl">    </span><span class="kwd">$</span><span class="expr"> js-wizzi-statement</span></li></ol></pre><p>Multi-line format:</p><pre class="prettyprint"><ol class="linenums"><li class="L1"><span class="pnl"></span><span class="kwd">$</span><span class="expr"> </span></li><li class="L2"><span class="pnl">    </span><span class="expr">js-wizzi-statement</span><span class="expr"> </span></li><li class="L3"><span class="pnl">    </span><span class="expr">js-wizzi-statement</span><span class="expr"> </span></li><li class="L4"><span class="pnl">    </span><span class="expr">...</span><span class="expr"> </span></li></ol></pre><h3>$global command node</h3><p>May declare and modify template context variables of the global scope.</p><div>Statements are js-wizzi instructions.</div><p>Single line format:</p><pre class="prettyprint"><ol class="linenums"><li class="L1"><span class="pnl"></span><span class="tag">...</span><span class="pln"> </span></li><li class="L2"><span class="pnl">    </span><span class="kwd">$global</span><span class="pln"> js-wizzi-statement</span></li></ol></pre><p>Multi-line format:</p><pre class="prettyprint"><ol class="linenums"><li class="L1"><span class="pnl"></span><span class="kwd">$global</span><span class="pln"> </span></li><li class="L2"><span class="pnl">    </span><span class="expr">js-wizzi-statement</span><span class="expr"> </span></li><li class="L3"><span class="pnl">    </span><span class="expr">js-wizzi-statement</span><span class="expr"> </span></li><li class="L4"><span class="pnl">    </span><span class="expr">...</span><span class="expr"> </span></li></ol></pre></div>
                    <h2 id="concept-2" class="concept">Path resolution of mixin and include documents</h2>
                    <div class="summary">
                        <p>When IttfDocuments are included or mixed-in, given {path current-dir{path} as the path of the including or mixing IttfDocument, they are searched (in order):</p><ul>    <li>in the {path current-dir{path} folder;    </li><li>in the {path current-dir{path}/t folder;    </li><li>in the folder named {path t{path} of the parent folder of the {path current-dir{path};    </li><li>in the folder named {path t{path} of the ancestor folders of the {path current-dir{path}.    </li></ul><p>Given this folder structure</p><pre class="prettyprint"><ol class="linenums"><li class="L1"><span class="pnl"></span><span class="tag">folder-a</span><span class="pln"> </span></li><li class="L2"><span class="pnl">    </span><span class="tag">t</span><span class="pln"> </span></li><li class="L3"><span class="pnl">        </span><span class="tag">layout.html.ittf</span><span class="pln"> </span></li><li class="L4"><span class="pnl">    </span><span class="tag">folder-b</span><span class="pln"> </span></li><li class="L5"><span class="pnl">        </span><span class="tag">t</span><span class="pln"> </span></li><li class="L6"><span class="pnl">            </span><span class="tag">dialog.html.ittf</span><span class="pln"> </span></li><li class="L7"><span class="pnl">        </span><span class="tag">my-home-page.html.ittf</span><span class="pln"> </span></li></ol></pre><p>The IttfDocument my-home-page.html.ittf could be:</p><pre class="prettyprint"><ol class="linenums"><li class="L1"><span class="pnl"></span><span class="mix">layout(</span><span class="pln"> home )</span></li><li class="L2"><span class="pnl">    </span><span class="kwd">$include</span><span class="pln"> dialog( )</span></li></ol></pre></div>
                    <h2 id="concept-3" class="concept">t-folders</h2>
                    <div class="summary">
                        <p>Mixin and include ittf document have a special path resolution algorithm when they are located in folders named 't', that we call t-folders.</p><p>The mTree loader path finder method, when cannot resolve a path for a mixin or include document, searches the documents in 't' folders just like nodejs searches a module in 'node_modules' folders.</p></div>
                    <h2 id="concept-4" class="concept">JsWizzi</h2>
                    <div class="summary">
                        <p>JsWizzi is a subset of the ECMA-262 javascript standard used by the wizzi factory for processing ittf documents and buildup mTrees. JsWizzi is built on the quite efficent <a href="http://esprima.org/">esprima</a> parsing infrastructure and is run by a custom javascript engine (JsWizziRunner).</p><p>Ittf documents may contain Js-Wizzi statements in    <ul>        <li>The value part of domain nodes (ittf node values are interpolated)<pre class="prettyprint"><ol class="linenums"><li class="L1"><span class="pnl"></span><span class="tag">caption</span><span class="pln"> ${ name.capitalize() {}</span></li></ol></pre>        </li><li>Conditional expression of $if, $elif, $while command nodes<pre class="prettyprint"><ol class="linenums"><li class="L1"><span class="pnl"></span><span class="kwd">$if</span><span class="expr"> name.substring(1,2) === 'is'</span></li></ol></pre>        </li><li>Collection name of $foreach command node<pre class="prettyprint"><ol class="linenums"><li class="L1"><span class="pnl"></span><span class="kwd">$foreach</span><span class="pln"> item in model.getCollection('alfa')</span></li></ol></pre>        </li><li>Body of $ and $global command nodes<pre class="prettyprint"><ol class="linenums"><li class="L1"><span class="pnl"></span><span class="kwd">$</span><span class="expr"> var beta = 100</span></li></ol></pre>        </li>    </ul></p><p>Sample JsWizzi expressions and statements.<pre class="prettyprint"><ol class="linenums"><li class="L1"><span class="pnl"></span><span class="tag">ul</span><span class="pln"> </span></li><li class="L2"><span class="pnl">    </span><span class="kwd">$</span><span class="expr"> var i = 0;</span></li><li class="L3"><span class="pnl">    </span><span class="kwd">$while</span><span class="pln"> i &lt; 10</span></li><li class="L4"><span class="pnl">        </span><span class="tag">li</span><span class="pln"> counting ${i}</span></li><li class="L5"><span class="pnl">        </span><span class="kwd">$</span><span class="expr"> i++;</span></li></ol></pre></p><p>The esprima syntax tree format is expected to be compatible with the Mozilla SpiderMonkey Parser API.</p><h4>Node types implemented by JsWizzi:</h4><ul>    <li>VariableDeclaration    </li><li>Statements        <ul>            <li>EmptyStatement            </li><li>ExpressionStatement            </li><li>IfStatement            </li><li>WhileStatement            </li><li>DoWhileStatement            </li><li>ForStatement            </li><li>ForInStatement            </li><li>BreakStatement            </li><li>ContinueStatement            </li><li>ReturnStatement            </li>        </ul>    </li><li>Expressions        <ul>            <li>UnaryExpression: !            </li><li>BinaryExpression: +. -, *, /, ==, ===, !=, !==, >=, >, <=, <            </li><li>UpdateExpressions: ++, --            </li><li>LogicalExpression: &&, ||            </li><li>ConditionalExpression: test ? consequent : alternate            </li><li>CallExpression            </li><li>MemberExpression            </li><li>AssignmentExpression: =, *=, /=, %=, +=, -=, <<=, >>=, >>>=, &=, ^=, |=            </li><li>ArrayExpression            </li><li>ObjectExpression            </li><li>FunctionCall            </li>        </ul>    </li><li>FunctionDeclaration        <div>Simple function declaration. No prototypes. No function objects; functions cannot be built by code and used like objects.        </div>    </li></ul></div>
                    <h2 id="concept-5" class="concept">Wizzi models</h2>
                    <div class="summary">
                        <p>Wizzi models are javascript document object models, inspired by Xml document objects, that apply a type (a valid tree structure) to mTrees trasforming them in domain specific synthax trees.</p><p>The may load, manipulate and then validate mTrees.</p><p>Wizzi models are javascript artifacts, generated by the    <span>        <a href="https://github.com/wizzifactory/wizzi-core">'wizzi-core'        </a>    </span><span>plugin, and defined by the wizzi schema    </span><a href="https://github.com/wizzifactory/v3-plugins/tree/master/v3-wizzi-core/ittf/lib/wizzi/schemas">'wfschema'    </a><span>.    </span></p><h4>Wizzi model artifact generators</h4><table class="pretty-table">    <tr>        <th>artifact        </th><th>file name        </th><th>language        </th><th>plugin ittf        </th><th>plugin js        </th>    </tr><tr>        <td>wfschema/factory        </td><td>&lt;schema-name&gt;-factory.g.js        </td><td>javascript        </td><td>            <a href="https://github.com/wizzifactory/v3-plugins/tree/master/v3-wizzi-core/ittf/lib/artifacts/wfschema/factory/gen">v3            </a>        </td><td>            <a href="https://github.com/wizzifactory/wizzi-core/tree/master/lib/artifacts/wfschema/factory/gen">v3            </a>        </td>    </tr><tr>        <td>wfschema/model        </td><td>&lt;schema-name&gt;-model.g.js        </td><td>javascript        </td><td>            <a href="https://github.com/wizzifactory/v3-plugins/tree/master/v3-wizzi-core/ittf/lib/artifacts/wfschema/model/gen">v3            </a>        </td><td>            <a href="https://github.com/wizzifactory/wizzi-core/tree/master/lib/artifacts/wfschema/model/gen">v3            </a>        </td>    </tr><tr>        <td>wfschema/html_docs        </td><td>&lt;schema-name&gt;-schema.g.html        </td><td>html        </td><td>            <a href="https://github.com/wizzifactory/v3-plugins/tree/master/v3-wizzi-core/ittf/lib/artifacts/wfschema/html_docs/gen">v3            </a>        </td><td>            <a href="https://github.com/wizzifactory/wizzi-core/tree/master/lib/artifacts/wfschema/html_docs/gen">v3            </a>        </td>    </tr><tr>        <td>wfschema/json_docs        </td><td>&lt;schema-name&gt;-schema.g.json        </td><td>json        </td><td>            <a href="https://github.com/wizzifactory/v3-plugins/tree/master/v3-wizzi-core/ittf/lib/artifacts/wfschema/json_docs/gen">v3            </a>        </td><td>            <a href="https://github.com/wizzifactory/wizzi-core/tree/master/lib/artifacts/wfschema/json_docs/gen">v3            </a>        </td>    </tr></table></div>
                    <h2 id="concept-6" class="concept">The &lt;schema-name&gt;-factory.g.js module</h2>
                    <div class="summary">
                        <p>The javascript module &lt;schema-name&gt;-factory.g.js export the method for instantiating a wizzi model instance.</p><h4>&lt;schema-name&gt;-factory.g.js interface</h4><pre class="prettyprint"><ol class="linenums"><li class="L1"><span class="pnl"></span><span class="tag">createLoadModel</span><span class="pln"> </span></li><li class="L2"><span class="pnl">    </span><span class="tag">function</span><span class="pln"> </span></li><li class="L3"><span class="pnl">        </span><span class="tag">param</span><span class="pln"> wizziPackage</span></li><li class="L4"><span class="pnl">        </span><span class="tag">#</span><span class="pln"> </span></li><li class="L5"><span class="pnl">            </span><span class="tag">#</span><span class="pln"> Load a wizzi model of type &lt;schema-name&gt; from an IttfDocument uri</span></li><li class="L6"><span class="pnl">        </span><span class="tag">return</span><span class="pln"> </span></li><li class="L7"><span class="pnl">            </span><span class="tag">function</span><span class="pln"> loadModel</span></li><li class="L8"><span class="pnl">                </span><span class="tag">param</span><span class="pln"> ittfDocumentUri</span></li><li class="L9"><span class="pnl">                </span><span class="tag">param</span><span class="pln"> context</span></li><li class="L0"><span class="pnl">                </span><span class="tag">param</span><span class="pln"> callback</span></li></ol></pre></div>
                    <h2 id="concept-7" class="concept">The &lt;schema-name&gt;-model.g.js module</h2>
                    <div class="summary">
                        <p>The javascript module &lt;schema-name&gt;-model.g.js contains the classes that implement a wizzi model</p><table>    <tr>        <td>wzSourceLineInfo        </td><td>source map item with source file path, row, col of a node        </td>    </tr><tr>        <td>&lt;schema-name&gt;Exception        </td><td>exception object for this wizzi model        </td>    </tr><tr>        <td>&lt;schema-name&gt;Context        </td><td>context object for the methods wzInitialize and wzVerify        </td>    </tr><tr>        <td>&lt;schema-name&gt;Base        </td><td>base class for all element classes        </td>    </tr><tr>        <td>&lt;element-name&gt;        </td><td>one class for each element of the schema        </td>    </tr></table><h4>The wzSourceLineInfo interface</h4><pre class="prettyprint"><ol class="linenums"><li class="L1"><span class="pnl"></span><span class="tag">class</span><span class="pln"> wzSourceLineInfo</span></li><li class="L2"><span class="pnl">    </span><span class="tag">ctor</span><span class="pln"> </span></li><li class="L3"><span class="pnl">        </span><span class="tag">param</span><span class="pln"> row</span></li><li class="L4"><span class="pnl">        </span><span class="tag">param</span><span class="pln"> col</span></li><li class="L5"><span class="pnl">        </span><span class="tag">param</span><span class="pln"> sourceKey</span></li><li class="L6"><span class="pnl">    </span><span class="tag">m</span><span class="pln"> toString</span></li><li class="L7"><span class="pnl">        </span><span class="tag">param</span><span class="pln"> instance?</span></li></ol></pre><h4>The &lt;schema-name&gt;Exception interface</h4><pre class="prettyprint"><ol class="linenums"><li class="L1"><span class="pnl"></span><span class="tag">class</span><span class="pln"> &lt;schema-name&gt;Exception</span></li><li class="L2"><span class="pnl">    </span><span class="tag">ctor</span><span class="pln"> </span></li><li class="L3"><span class="pnl">        </span><span class="tag">param</span><span class="pln"> message</span></li><li class="L4"><span class="pnl">        </span><span class="tag">param</span><span class="pln"> node</span></li><li class="L5"><span class="pnl">        </span><span class="tag">param</span><span class="pln"> instance</span></li></ol></pre><h4>The &lt;schema-name&gt;Context interface</h4><pre class="prettyprint"><ol class="linenums"><li class="L1"><span class="pnl"></span><span class="tag">class</span><span class="pln"> &lt;schema-name&gt;Context</span></li><li class="L2"><span class="pnl">    </span><span class="tag">m</span><span class="pln"> schemaIsValid</span></li><li class="L3"><span class="pnl">    </span><span class="tag">m</span><span class="pln"> addError</span></li><li class="L4"><span class="pnl">        </span><span class="tag">param</span><span class="pln"> message</span></li><li class="L5"><span class="pnl">        </span><span class="tag">param</span><span class="pln"> node</span></li><li class="L6"><span class="pnl">    </span><span class="tag">m</span><span class="pln"> verifyEnum</span></li><li class="L7"><span class="pnl">        </span><span class="tag">param</span><span class="pln"> valueType</span></li><li class="L8"><span class="pnl">        </span><span class="tag">param</span><span class="pln"> valueName</span></li><li class="L9"><span class="pnl">        </span><span class="tag">param</span><span class="pln"> value</span></li><li class="L0"><span class="pnl">        </span><span class="tag">param</span><span class="pln"> allowed</span></li><li class="L1"><span class="pnl">        </span><span class="tag">param</span><span class="pln"> node</span></li></ol></pre><h4>The &lt;schema-name&gt;Base interface</h4><pre class="prettyprint"><ol class="linenums"><li class="L1"><span class="pnl"></span><span class="tag">class</span><span class="pln"> &lt;schema-name&gt;Base</span></li><li class="L2"><span class="pnl">    </span><span class="tag">ctor</span><span class="pln"> </span></li><li class="L3"><span class="pnl">        </span><span class="tag">#</span><span class="pln"> the node value of the source mTree node</span></li><li class="L4"><span class="pnl">        </span><span class="tag">#</span><span class="pln"> that becomes the wzName of the newly created element</span></li><li class="L5"><span class="pnl">        </span><span class="tag">param</span><span class="pln"> name</span></li><li class="L6"><span class="pnl">        </span><span class="tag">#</span><span class="pln"> an istance of wzSourceLineInfo</span></li><li class="L7"><span class="pnl">        </span><span class="tag">param</span><span class="pln"> sourceLineInfo</span></li><li class="L8"><span class="pnl">    </span><span class="tag">#</span><span class="pln"> </span></li><li class="L9"><span class="pnl">        </span><span class="tag">#</span><span class="pln"> Return the model root element</span></li><li class="L0"><span class="pnl">    </span><span class="tag">m</span><span class="pln"> wzRoot</span></li><li class="L1"><span class="pnl">    </span><span class="tag">#</span><span class="pln"> </span></li><li class="L2"><span class="pnl">        </span><span class="tag">#</span><span class="pln"> Return an ittf source document file path given its 'sourceKey'</span></li><li class="L3"><span class="pnl">        </span><span class="tag">#</span><span class="pln"> @{param} sourceKey</span></li><li class="L4"><span class="pnl">    </span><span class="tag">m</span><span class="pln"> wzSourceFilepath</span></li><li class="L5"><span class="pnl">        </span><span class="tag">param</span><span class="pln"> sourceKey</span></li><li class="L6"><span class="pnl">    </span><span class="tag">#</span><span class="pln"> </span></li><li class="L7"><span class="pnl">        </span><span class="tag">#</span><span class="pln"> Add a child node to the wzChildren collection</span></li><li class="L8"><span class="pnl">        </span><span class="tag">#</span><span class="pln"> TODO when is this used ???</span></li><li class="L9"><span class="pnl">    </span><span class="tag">m</span><span class="pln"> wzAddChild</span></li><li class="L0"><span class="pnl">        </span><span class="tag">param</span><span class="pln"> node</span></li><li class="L1"><span class="pnl">    </span><span class="tag">#</span><span class="pln"> </span></li><li class="L2"><span class="pnl">        </span><span class="tag">#</span><span class="pln"> Creates a new element given its type and its mTree source node.</span></li><li class="L3"><span class="pnl">        </span><span class="tag">#</span><span class="pln"> Append it to the given coll parameter.</span></li><li class="L4"><span class="pnl">        </span><span class="tag">#</span><span class="pln"> Call the loadFromNode method of the newly created element</span></li><li class="L5"><span class="pnl">        </span><span class="tag">#</span><span class="pln"> with the mTree source node as argument.</span></li><li class="L6"><span class="pnl">    </span><span class="tag">m</span><span class="pln"> wzLoadToChildColl</span></li><li class="L7"><span class="pnl">        </span><span class="tag">param</span><span class="pln"> child_mTreeNode</span></li><li class="L8"><span class="pnl">        </span><span class="tag">param</span><span class="pln"> type</span></li><li class="L9"><span class="pnl">        </span><span class="tag">param</span><span class="pln"> coll</span></li><li class="L0"><span class="pnl">    </span><span class="tag">#</span><span class="pln"> </span></li><li class="L1"><span class="pnl">        </span><span class="tag">#</span><span class="pln"> Creates a new element given its type and its mTree source node.</span></li><li class="L2"><span class="pnl">        </span><span class="tag">#</span><span class="pln"> Append it to the wzChildren collection.</span></li><li class="L3"><span class="pnl">        </span><span class="tag">#</span><span class="pln"> Call the loadFromNode method of the newly created element</span></li><li class="L4"><span class="pnl">        </span><span class="tag">#</span><span class="pln"> with the mTree source node as argument.</span></li><li class="L5"><span class="pnl">    </span><span class="tag">m</span><span class="pln"> wzLoadToChildren</span></li><li class="L6"><span class="pnl">        </span><span class="tag">param</span><span class="pln"> child_mTreeNode</span></li><li class="L7"><span class="pnl">        </span><span class="tag">param</span><span class="pln"> type</span></li><li class="L8"><span class="pnl">    </span><span class="tag">#</span><span class="pln"> </span></li><li class="L9"><span class="pnl">        </span><span class="tag">#</span><span class="pln"> Creates a new element given its type and its mTree source node.</span></li><li class="L0"><span class="pnl">        </span><span class="tag">#</span><span class="pln"> Assign it to the &lt;fieldName&gt; property.</span></li><li class="L1"><span class="pnl">        </span><span class="tag">#</span><span class="pln"> Call the loadFromNode method of the newly created element</span></li><li class="L2"><span class="pnl">        </span><span class="tag">#</span><span class="pln"> with the mTree source node as argument.</span></li><li class="L3"><span class="pnl">    </span><span class="tag">m</span><span class="pln"> wzLoadOneToOne</span></li><li class="L4"><span class="pnl">        </span><span class="tag">param</span><span class="pln"> child_mTreeNode</span></li><li class="L5"><span class="pnl">        </span><span class="tag">param</span><span class="pln"> type</span></li><li class="L6"><span class="pnl">        </span><span class="tag">param</span><span class="pln"> fieldName</span></li><li class="L7"><span class="pnl">    </span><span class="tag">#</span><span class="pln"> </span></li><li class="L8"><span class="pnl">        </span><span class="tag">#</span><span class="pln"> throw a &lt;schema-name&gt;Exception</span></li><li class="L9"><span class="pnl">    </span><span class="tag">m</span><span class="pln"> error</span></li><li class="L0"><span class="pnl">        </span><span class="tag">param</span><span class="pln"> message</span></li><li class="L1"><span class="pnl">        </span><span class="tag">param</span><span class="pln"> node</span></li></ol></pre><h4>The &lt;element-name&gt; interface</h4><pre class="prettyprint"><ol class="linenums"><li class="L1"><span class="pnl"></span><span class="tag">class</span><span class="pln"> &lt;element-name&gt;</span></li><li class="L2"><span class="pnl">    </span><span class="tag">ctor</span><span class="pln"> </span></li><li class="L3"><span class="pnl">    </span><span class="tag">#</span><span class="pln"> </span></li><li class="L4"><span class="pnl">        </span><span class="tag">#</span><span class="pln"> Tests if the mTree node name is a valid child element or attribute.</span></li><li class="L5"><span class="pnl">        </span><span class="tag">#</span><span class="pln"> If yes call the proper add method and return true.</span></li><li class="L6"><span class="pnl">        </span><span class="tag">#</span><span class="pln"> If no return false.</span></li><li class="L7"><span class="pnl">    </span><span class="tag">m</span><span class="pln"> loadChild</span></li><li class="L8"><span class="pnl">        </span><span class="tag">param</span><span class="pln"> child_mTreeNode</span></li><li class="L9"><span class="pnl">    </span><span class="tag">#</span><span class="pln"> </span></li><li class="L0"><span class="pnl">        </span><span class="tag">#</span><span class="pln"> Calls the loadChild method on this element</span></li><li class="L1"><span class="pnl">        </span><span class="tag">#</span><span class="pln"> for each child node of the mTree node to load.</span></li><li class="L2"><span class="pnl">    </span><span class="tag">m</span><span class="pln"> loadFromNode</span></li><li class="L3"><span class="pnl">        </span><span class="tag">param</span><span class="pln"> mTreeNode</span></li><li class="L4"><span class="pnl">    </span><span class="tag">#</span><span class="pln"> </span></li><li class="L5"><span class="pnl">        </span><span class="tag">#</span><span class="pln"> Initialize the element</span></li><li class="L6"><span class="pnl">        </span><span class="tag">#</span><span class="pln"> Called after the source mTree has been succesfully loaded.</span></li><li class="L7"><span class="pnl">    </span><span class="tag">m</span><span class="pln"> wzInitialize</span></li><li class="L8"><span class="pnl">        </span><span class="tag">#</span><span class="pln"> An istance of &lt;schema-name&gt;Context</span></li><li class="L9"><span class="pnl">        </span><span class="tag">param</span><span class="pln"> ctx</span></li><li class="L0"><span class="pnl">    </span><span class="tag">#</span><span class="pln"> </span></li><li class="L1"><span class="pnl">        </span><span class="tag">#</span><span class="pln"> Verify if the element is valid</span></li><li class="L2"><span class="pnl">        </span><span class="tag">#</span><span class="pln"> Called after the initialize method.</span></li><li class="L3"><span class="pnl">    </span><span class="tag">m</span><span class="pln"> wzVerify</span></li><li class="L4"><span class="pnl">        </span><span class="tag">#</span><span class="pln"> An istance of &lt;schema-name&gt;Context</span></li><li class="L5"><span class="pnl">        </span><span class="tag">param</span><span class="pln"> ctx</span></li></ol></pre></div>
                    <h2 id="concept-8" class="concept">Wizzi schemas</h2>
                    <div class="summary">
                        <p>Wizzi schemas describe a valid tree structure for mTrees of a specific domain of interest. They are the core modeling tool of the wizzi factory.</p><p>Schemas are modeled using ittf documents like any other wizzi model.</p><h4>Sample 'rdbms' wizzi schema</h4><pre class="prettyprint"><ol class="linenums"><li class="L1"><span class="pnl"></span><span class="tag">wizzischema</span><span class="pln"> rdbms</span></li><li class="L2"><span class="pnl">    </span><span class="tag">e</span><span class="pln"> catalog</span></li><li class="L3"><span class="pnl">        </span><span class="tag">r</span><span class="pln"> table/s</span></li><li class="L4"><span class="pnl">    </span><span class="tag">e</span><span class="pln"> table</span></li><li class="L5"><span class="pnl">        </span><span class="tag">r</span><span class="pln"> column/s</span></li><li class="L6"><span class="pnl">        </span><span class="tag">r</span><span class="pln"> index/es</span></li><li class="L7"><span class="pnl">    </span><span class="tag">e</span><span class="pln"> column</span></li><li class="L8"><span class="pnl">        </span><span class="tag">a</span><span class="pln"> type</span></li><li class="L9"><span class="pnl">        </span><span class="tag">a</span><span class="pln"> caption</span></li><li class="L0"><span class="pnl">        </span><span class="tag">a</span><span class="pln"> defaultValue</span></li><li class="L1"><span class="pnl">            </span><span class="tag">tag</span><span class="pln"> default</span></li><li class="L2"><span class="pnl">    </span><span class="tag">e</span><span class="pln"> index</span></li><li class="L3"><span class="pnl">        </span><span class="tag">a</span><span class="pln"> primary</span></li><li class="L4"><span class="pnl">            </span><span class="tag">type</span><span class="pln"> boolean</span></li><li class="L5"><span class="pnl">        </span><span class="tag">a</span><span class="pln"> unique</span></li><li class="L6"><span class="pnl">            </span><span class="tag">type</span><span class="pln"> boolean</span></li><li class="L7"><span class="pnl">        </span><span class="tag">r</span><span class="pln"> column/s</span></li></ol></pre><h4>Sample ittf document conformant to the 'rdbms' wizzi schema that may be loaded in a 'rdbms' wizzi model.</h4><pre class="prettyprint"><ol class="linenums"><li class="L1"><span class="pnl"></span><span class="tag">rdbms</span><span class="pln"> School</span></li><li class="L2"><span class="pnl">    </span><span class="tag">table</span><span class="pln"> Student</span></li><li class="L3"><span class="pnl">        </span><span class="tag">column</span><span class="pln"> Id</span></li><li class="L4"><span class="pnl">            </span><span class="tag">type</span><span class="pln"> integer</span></li><li class="L5"><span class="pnl">        </span><span class="tag">column</span><span class="pln"> Name</span></li><li class="L6"><span class="pnl">            </span><span class="tag">type</span><span class="pln"> string</span></li><li class="L7"><span class="pnl">        </span><span class="tag">index</span><span class="pln"> Student-PK</span></li><li class="L8"><span class="pnl">            </span><span class="tag">primary</span><span class="pln"> true</span></li><li class="L9"><span class="pnl">            </span><span class="tag">column</span><span class="pln"> Id</span></li><li class="L0"><span class="pnl">    </span><span class="tag">table</span><span class="pln"> Course</span></li><li class="L1"><span class="pnl">        </span><span class="tag">column</span><span class="pln"> Id</span></li><li class="L2"><span class="pnl">            </span><span class="tag">type</span><span class="pln"> integer</span></li><li class="L3"><span class="pnl">        </span><span class="tag">column</span><span class="pln"> Title</span></li><li class="L4"><span class="pnl">            </span><span class="tag">type</span><span class="pln"> string</span></li><li class="L5"><span class="pnl">        </span><span class="tag">index</span><span class="pln"> Student-PK</span></li><li class="L6"><span class="pnl">            </span><span class="tag">primary</span><span class="pln"> true</span></li><li class="L7"><span class="pnl">            </span><span class="tag">column</span><span class="pln"> Id</span></li></ol></pre><p>Wizzi schemas are wizzi models of type 'wfschema' implemented by the wizzi-core plugin, which also implements the artifact generators that produce the javascript code and the html and json documentation of wizzi models.</p></div>
                    <h2 id="concept-9" class="concept">The 'wfschema' schema</h2>
                    <div class="summary">
                        <p>The wfschema, implemented by the wizzi-core plugin, is the meta model of a wizzi schema. It models a wizzi schema with the same semantic with which a wizzi schema models a wizzi model.</p><h4>The wfschema elements are</h4><ul>    <li>Wfschema    </li><li>ExportTo    </li><li>Require    </li><li>Element    </li><li>Attribute    </li><li>Relation    </li><li>Restrict    </li><li>Method    </li><li>Function    </li><li>Parameter    </li></ul><h3>Wfschema element</h3><pre class="prettyprint"><ol class="linenums"><li class="L1"><span class="pnl"></span><span class="tag">wfschema</span><span class="pln"> schema-name</span></li><li class="L2"><span class="pnl">    </span><span class="tag">[0..n]<b><i>requires</i></b></span><span class="pln"> </span></li><li class="L3"><span class="pnl">    </span><span class="tag">[0..n]<b><i>exportTos</i></b></span><span class="pln"> </span></li><li class="L4"><span class="pnl">    </span><span class="tag">[1..n]<b><i>elements</i></b></span><span class="pln"> </span></li></ol></pre><h3>Element element</h3><pre class="prettyprint"><ol class="linenums"><li class="L1"><span class="pnl"></span><span class="tag">...</span><span class="pln"> </span></li><li class="L2"><span class="pnl">    </span><span class="tag">e</span><span class="pln"> element-name [: super-element-name]</span></li><li class="L3"><span class="pnl">        </span><span class="tag"><i>super</i></span><span class="pln"> super-element-name</span></li><li class="L4"><span class="pnl">        </span><span class="tag"><i>tag</i></span><span class="pln"> tag-string</span></li><li class="L5"><span class="pnl">        </span><span class="tag"><i>xml-tag</i></span><span class="pln"> xml-tag-string</span></li><li class="L6"><span class="pnl">        </span><span class="tag"><i>is-abstract</i></span><span class="pln"> </span></li><li class="L7"><span class="pnl">        </span><span class="tag"><i>is-root</i></span><span class="pln"> </span></li><li class="L8"><span class="pnl">        </span><span class="tag"><i>name-is-required</i></span><span class="pln"> </span></li><li class="L9"><span class="pnl">        </span><span class="tag"><i>add-to-children</i></span><span class="pln"> </span></li><li class="L0"><span class="pnl">        </span><span class="tag">[0..n]<b><i>attributes</i></b></span><span class="pln"> </span></li><li class="L1"><span class="pnl">        </span><span class="tag">[0..n]<b><i>relations</i></b></span><span class="pln"> </span></li><li class="L2"><span class="pnl">        </span><span class="tag">[0..n]<b><i>methods</i></b></span><span class="pln"> </span></li></ol></pre><h3>Relation element</h3><pre class="prettyprint"><ol class="linenums"><li class="L1"><span class="pnl"></span><span class="tag">...</span><span class="pln"> </span></li><li class="L2"><span class="pnl">    </span><span class="tag">r</span><span class="pln"> related-element-name[ [plural-suffix-a] / plural-suffix-b ]</span></li><li class="L3"><span class="pnl">        </span><span class="tag"><i>one-to-one</i></span><span class="pln"> </span></li><li class="L4"><span class="pnl">        </span><span class="tag"><i>no-get</i></span><span class="pln"> </span></li></ol></pre><p>Example:</p><pre class="prettyprint"><ol class="linenums"><li class="L1"><span class="pnl"></span><span class="tag">...</span><span class="pln"> </span></li><li class="L2"><span class="pnl">    </span><span class="tag">e</span><span class="pln"> table : dbitem</span></li><li class="L3"><span class="pnl">        </span><span class="tag">r</span><span class="pln"> column/s</span></li><li class="L4"><span class="pnl">        </span><span class="tag">r</span><span class="pln"> propert-y/ies</span></li><li class="L5"><span class="pnl">        </span><span class="tag">r</span><span class="pln"> displayLayout</span></li><li class="L6"><span class="pnl">            </span><span class="tag">one-to-one</span><span class="pln"> </span></li></ol></pre><p>related-element-name plus the eventual plural-suffix-a must give the name of an Element element defined in the schema (that is the related Element); in the example: column, property, displayLayout.</p><h3>Attribute element</h3><p>Describes an attribute of an Element element.</p><pre class="prettyprint"><ol class="linenums"><li class="L1"><span class="pnl"></span><span class="tag">...</span><span class="pln"> </span></li><li class="L2"><span class="pnl">    </span><span class="tag">a</span><span class="pln"> attribute-name</span></li><li class="L3"><span class="pnl">        </span><span class="tag"><i>tag</i></span><span class="pln"> tag-string</span></li><li class="L4"><span class="pnl">        </span><span class="tag"><i>xml-tag</i></span><span class="pln"> xml-tag-string</span></li><li class="L5"><span class="pnl">        </span><span class="tag"><i>type</i></span><span class="pln"> type-name</span></li><li class="L6"><span class="pnl">        </span><span class="tag"><i>default</i></span><span class="pln"> default-value</span></li><li class="L7"><span class="pnl">        </span><span class="tag"><i>default-when-declared</i></span><span class="pln"> default-value-when-declared</span></li><li class="L8"><span class="pnl">        </span><span class="tag"><i>is-datatype</i></span><span class="pln"> </span></li><li class="L9"><span class="pnl">        </span><span class="tag"><i>is-required</i></span><span class="pln"> </span></li><li class="L0"><span class="pnl">        </span><span class="tag">[0..n]<b><i>restricts</i></b></span><span class="pln"> </span></li></ol></pre><h3>Restrict element</h3><pre class="prettyprint"><ol class="linenums"><li class="L1"><span class="pnl"></span><span class="tag">...</span><span class="pln"> </span></li><li class="L2"><span class="pnl">    </span><span class="tag">restrict</span><span class="pln"> </span></li><li class="L3"><span class="pnl">        </span><span class="tag">[0..n]enum</span><span class="pln"> enum-value</span></li><li class="L4"><span class="pnl">        </span><span class="tag"><i>max-length</i></span><span class="pln"> value</span></li><li class="L5"><span class="pnl">        </span><span class="tag"><i>min-length</i></span><span class="pln"> value</span></li><li class="L6"><span class="pnl">        </span><span class="tag"><i>max-value</i></span><span class="pln"> value</span></li><li class="L7"><span class="pnl">        </span><span class="tag"><i>min-value</i></span><span class="pln"> value</span></li><li class="L8"><span class="pnl">        </span><span class="tag"><i>regexp</i></span><span class="pln"> value</span></li></ol></pre><h3>ExportTo element</h3><pre class="prettyprint"><ol class="linenums"><li class="L1"><span class="pnl"></span><span class="tag">wizzischema</span><span class="pln"> schema-name</span></li><li class="L2"><span class="pnl">    </span><span class="tag">export-to</span><span class="pln"> [json|xml]</span></li></ol></pre><p>En exportTo element causes the insertion in the wizzi model code of the prototype functions for exporting the tree data structure of the model in the requested format    <li>toJson()    </li><li>toXml()    </li></p><h3>Require element</h3><pre class="prettyprint"><ol class="linenums"><li class="L1"><span class="pnl"></span><span class="tag">wizzischema</span><span class="pln"> schema-name</span></li><li class="L2"><span class="pnl">    </span><span class="tag">require</span><span class="pln"> module-name</span></li><li class="L3"><span class="pnl">        </span><span class="tag"><i>declare-var</i></span><span class="pln"> var-name</span></li><li class="L4"><span class="pnl">        </span><span class="tag"><i>invoke</i></span><span class="pln"> invoke-string</span></li><li class="L5"><span class="pnl">        </span><span class="tag"><i>kind</i></span><span class="pln"> kind-name</span></li></ol></pre><h3>Method element</h3><p>Declares a method that will be added to the class of the containing Element. A method can access and manipulate the entire tree structure of the model, having access to the 'this.wzRoot()' method of the Element interface.</p><pre class="prettyprint"><ol class="linenums"><li class="L1"><span class="pnl"></span><span class="tag">...</span><span class="pln"> </span></li><li class="L2"><span class="pnl">    </span><span class="tag">m</span><span class="pln"> method-name</span></li><li class="L3"><span class="pnl">        </span><span class="tag">[0..n]<b><i>params</i></b></span><span class="pln"> </span></li><li class="L4"><span class="pnl">        </span><span class="tag">[0..n]<b><i>statements</i></b></span><span class="pln"> </span></li></ol></pre><h3>Parameter element</h3><pre class="prettyprint"><ol class="linenums"><li class="L1"><span class="pnl"></span><span class="tag">...</span><span class="pln"> </span></li><li class="L2"><span class="pnl">    </span><span class="tag">param</span><span class="pln"> param-name</span></li></ol></pre><h3>Statement element</h3><p>The statement element uses a subset of the schema 'js' implemented by the plugin wizzi-js.</p></div>
                    <h2 id="concept-10" class="concept">Pseudo schemas</h2>
                    <div class="summary">
                        <p>There are common document types that have great flexibility for context data definition and would be usefull to apply to those documents the templating power of mTrees without the hassle of a wizzi schema.</p><p>These document types are:    <li>Text    </li><li>Xml    </li><li>Json    </li><li>And Ittf itself.    </li></p><p>Respecting a few coding rules these type of documents can be built using the power of ittf documents, command nodes, JsWizzi and the mTree loader.</p><p>The production manager of the wizzi factory recognizes the following pseudo schemas    <ul>        <li>ittf        </li><li>json        </li><li>xml        </li><li>text        </li>    </ul></p><p>A wizzi job or a an api call to the wizzi factory may use these schemas in any place where a wizzi schema can be used.</p></div>
                    <h2 id="concept-11" class="concept">Json pseudo schema</h2>
                    <div class="summary">
                        <h4>Sample json ittf document</h4><pre class="prettyprint"><ol class="linenums"><li class="L1"><span class="pnl"></span><span class="tag">{</span><span class="pln"> </span></li><li class="L2"><span class="pnl">    </span><span class="tag">name</span><span class="pln"> "v3-docs"</span></li><li class="L3"><span class="pnl">    </span><span class="tag">version</span><span class="pln"> "0.0.1"</span></li><li class="L4"><span class="pnl">    </span><span class="tag">description</span><span class="pln">  "Wizzi factory documentation."</span></li><li class="L5"><span class="pnl">    </span><span class="tag">scripts</span><span class="pln"> </span></li><li class="L6"><span class="pnl">        </span><span class="tag">{</span><span</span><span class="pln"> </span></li><li class="L7"><span class="pnl">            </span><span class="tag">test</span><span class="pln"> "mocha tests/**/*.js"</span></li><li class="L8"><span class="pnl">            </span><span class="tag">start</span><span class="pln"> "node index"</span></li><li class="L9"><span class="pnl">    </span><span class="tag">dependencies</span><span class="pln"> </span></li><li class="L0"><span class="pnl">        </span><span class="tag">{</span><span</span><span</span><span class="pln"> </span></li><li class="L1"><span class="pnl">            </span><span class="tag">async</span><span class="pln"> "^2.4.0"</span></li><li class="L2"><span class="pnl">            </span><span class="tag">json-stringify-safe</span><span class="pln"> "^5.0.1"</span></li><li class="L3"><span class="pnl">            </span><span class="tag">...</span><span class="pln"> </span></li><li class="L4"><span class="pnl">    </span><span class="tag">sampleArray</span><span class="pln"> </span></li><li class="L5"><span class="pnl">        </span><span class="tag">[</span><span class="pln"> </span></li><li class="L6"><span class="pnl">            </span><span class="tag">'alfa'</span><span class="pln"> </span></li><li class="L7"><span class="pnl">            </span><span class="tag">'beta'</span><span class="pln"> </span></li></ol></pre><h4>Coding rules</h4><ul>    <li>The root node must be an open graph.    </li><li>Ittf node names may contain        <ul>            <li>Property names.            </li><li>Open graph for start of object.            </li><li>Open bracket for start of array.            </li><li>Array elements primitive values.            </li>        </ul>    </li><li>Ittf node values must contain property values when the node name is a property name, nothing in the other cases.    </li></ul><p>( It is assumed that one knows    <a href="http://www.json.org/">json format rules    </a><span>)    </span></p></div>
                    <h2 id="concept-12" class="concept">Xml pseudo schema</h2>
                    <div class="summary">
                        <h4>Sample xml ittf document</h4><pre class="prettyprint"><ol class="linenums"><li class="L1"><span class="pnl"></span><span class="tag">profile</span><span class="pln"> </span></li><li class="L2"><span class="pnl">    </span><span class="tag">@</span><span class="pln"> name ${user.name}</span></li><li class="L3"><span class="pnl">    </span><span class="tag">@</span><span class="pln"> age ${user.age}</span></li><li class="L4"><span class="pnl">    </span><span class="tag">friends</span><span class="pln"> </span></li><li class="L5"><span class="pnl">        </span><span class="kwd">$foreach</span><span class="pln"> friend in user.friends</span></li><li class="L6"><span class="pnl">            </span><span class="tag">friend</span><span class="pln"> </span></li><li class="L7"><span class="pnl">                </span><span class="tag">@</span><span class="pln"> name ${friend.name}</span></li><li class="L8"><span class="pnl">                </span><span class="tag">@</span><span class="pln"> age ${friend.age}</span></li><li class="L9"><span class="pnl">    </span><span class="tag">address</span><span class="pln"> </span></li><li class="L0"><span class="pnl">        </span><span class="tag">@</span><span class="pln"> street ${user.street}</span></li><li class="L1"><span class="pnl">        </span><span class="tag">@</span><span class="pln"> city ${user.city}</span></li></ol></pre><h4>Rules</h4><ul>    <li>Ittf node names may contain        <ul>            <li>element names for elements            </li><li>simbol @ for attributes            </li>        </ul>    </li><li>Ittf node values may contain        <ul>            <li>nothing for elements            </li><li>name and value separated by a blank for attributes            </li>        </ul>    </li></ul><p>( It is assumed that one knows    <a href="https://google.github.io/styleguide/xmlstyle.html">xml format rules    </a><span>)    </span></p></div>
                    <h2 id="concept-13" class="concept">Text pseudo schema</h2>
                    <div class="summary">
                        <h4>Sample text ittf document</h4><pre class="prettyprint"><ol class="linenums"><li class="L1"><span class="pnl"></span><span class="tag">text</span><span class="pln"> </span></li><li class="L2"><span class="pnl">    </span><span class="tag">+</span><span class="pln"> MIT License</span></li><li class="L3"><span class="pnl">    </span><span class="tag">+</span><span class="pln"> </span></li><li class="L4"><span class="pnl">    </span><span class="tag">+</span><span class="pln"> Copyright (c) 2015 The Wizzi Team</span></li><li class="L5"><span class="pnl">    </span><span class="tag">+</span><span class="pln"> </span></li><li class="L6"><span class="pnl">    </span><span class="tag">+</span><span class="pln"> $include mit_license_text</span></li></ol></pre><p>The text pseudo model is a bit queer but the mTree loader trims the white chars on the node values, therefore we need a symbol in the node name to have a correct spacing and indentation.</p><h4>Rules</h4><ul>    <li>The root node must contain the keyword text.    </li><li>Node names must contain the symbol '+'.    </li><li>Node values may contain the line of text.    </li></ul></div>
                    <h2 id="concept-14" class="concept">Ittf pseudo schema</h2>
                    <div class="summary">
                        <p>Using the ittf pseudo schema may increases the plasticity of a generation process.</p><p>We can load complex untyped ittf documents into an mTree and obtain as a result an in-memory simple tree structure of nodes with a name, a value and a childs collection, that can generate a new ittf document.</p><p>We can chain complex mTrees buildups until we get the final ittf document to load into a wizzi model for artifact generation.</p></div>
                    <h2 id="concept-15" class="concept">Artifact generators</h2>
                    <div class="summary">
                        <p>An artifact using the code write method has no template.</p><p>The ArtifactGenerator exposed to the Wizzi Factory is a node.js module that contains the statements for generating the artifact writing its content into the ArtifactGenerationContext that is passed to the ArtifactGenerator as a parameter by the ProductionManager.</p><p>The CodeWriteArtifact module must be named main.js and must have this location in the WizziFactoryPackage:</p><pre class="prettyprint"><ol class="linenums"><li class="L1"><span class="pnl"></span><span class="tag">node_modules</span><span class="pln"> </span></li><li class="L2"><span class="pnl">    </span><span class="tag">&lt;package-name&gt</span><span class="pln"> </span></li><li class="L3"><span class="pnl">        </span><span class="tag">lib</span><span class="pln"> </span></li><li class="L4"><span class="pnl">            </span><span class="tag">artifacts</span><span class="pln"> </span></li><li class="L5"><span class="pnl">                </span><span class="tag">&lt;wizzischema-name&gt</span><span class="pln"> </span></li><li class="L6"><span class="pnl">                    </span><span class="tag">&lt;artifact-name&gt</span><span class="pln"> </span></li><li class="L7"><span class="pnl">                        </span><span class="tag">gen</span><span class="pln"> </span></li><li class="L8"><span class="pnl">                            </span><span class="tag">main.js</span><span class="pln"> </span></li></ol></pre><p>The path &lt;wizzischema-name&gt/&lt;artifact-name&gt must be unique in the Wizzi Factory and is the value to be declared in the generator attribute of the artifact element of a wfjob document.</p><p>For example</p><pre class="prettyprint"><ol class="linenums"><li class="L1"><span class="pnl"></span><span class="tag">wfjob</span><span class="pln"> job-name</span></li><li class="L2"><span class="pnl">    </span><span class="tag"></span><span class="pln"> </span></li><li class="L3"><span class="pnl">    </span><span class="tag">line</span><span class="pln"> line-name</span></li><li class="L4"><span class="pnl">        </span><span class="tag">artifact</span><span class="pln"> artifact-name</span></li><li class="L5"><span class="pnl">            </span><span class="tag">...</span><span class="pln"> </span></li><li class="L6"><span class="pnl">            </span><span class="tag">generator</span><span class="pln"> &lt;wizzischema-name&gt/&lt;artifact-name&gt</span></li><li class="L7"><span class="pnl">            </span><span class="tag">...</span><span class="pln"> </span></li></ol></pre></div>
                    <h2 id="concept-16" class="concept">The gencontext object</h2>
                    <div class="summary">
                        <p>An artifact generator must respect a folder structure and an interface.</p><h3>The artifact generator interface</h3><pre class="prettyprint"><ol class="linenums"><li class="L1"><span class="pnl"></span><span class="tag">gen</span><span class="pln"> </span></li><li class="L2"><span class="pnl">    </span><span class="tag">function</span><span class="pln"> </span></li><li class="L3"><span class="pnl">        </span><span class="tag">param</span><span class="pln"> model</span></li><li class="L4"><span class="pnl">        </span><span class="tag">param</span><span class="pln"> gencontext</span></li><li class="L5"><span class="pnl">        </span><span class="tag">param</span><span class="pln"> callback</span></li></ol></pre><p>The production manager passes a model and and an empty gencontext to the generator and expect to receive the gencontext containing the generated artifact in the callback.</p><p>The gencontext is an in-memory text writer enhanced with helper methods usefull for code write artifact generation. It may contain also an optional artifact context object.</p><h4>The interface of the gencontext object</h4><pre class="prettyprint"><ol class="linenums"><li class="L1"><span class="pnl"></span><span class="tag"></span><span class="pln"> </span></li><li class="L2"><span class="pnl">    </span><span class="tag">#</span><span class="pln"> </span></li><li class="L3"><span class="pnl">        </span><span class="tag">#</span><span class="pln"> Set line indentation to a given value</span></li><li class="L4"><span class="pnl">    </span><span class="tag">m</span><span class="pln"> forceIndent</span></li><li class="L5"><span class="pnl">        </span><span class="tag">param</span><span class="pln"> value</span></li><li class="L6"><span class="pnl">    </span><span class="tag">#</span><span class="pln"> </span></li><li class="L7"><span class="pnl">        </span><span class="tag">#</span><span class="pln"> Increase line indentation</span></li><li class="L8"><span class="pnl">    </span><span class="tag">m</span><span class="pln"> indent</span></li><li class="L9"><span class="pnl">        </span><span class="tag">param</span><span class="pln"> value</span></li><li class="L0"><span class="pnl">    </span><span class="tag">#</span><span class="pln"> </span></li><li class="L1"><span class="pnl">        </span><span class="tag">#</span><span class="pln"> Decrease line indentation</span></li><li class="L2"><span class="pnl">    </span><span class="tag">m</span><span class="pln"> deindent</span></li><li class="L3"><span class="pnl">        </span><span class="tag">param</span><span class="pln"> value</span></li><li class="L4"><span class="pnl">    </span><span class="tag">#</span><span class="pln"> </span></li><li class="L5"><span class="pnl">        </span><span class="tag">#</span><span class="pln"> Add a named value to the interpolation context</span></li><li class="L6"><span class="pnl">    </span><span class="tag">m</span><span class="pln"> a</span></li><li class="L7"><span class="pnl">        </span><span class="tag">param</span><span class="pln"> name</span></li><li class="L8"><span class="pnl">        </span><span class="tag">param</span><span class="pln"> value</span></li><li class="L9"><span class="pnl">    </span><span class="tag">#</span><span class="pln"> </span></li><li class="L0"><span class="pnl">        </span><span class="tag">#</span><span class="pln"> Add a named value from the interpolation context</span></li><li class="L1"><span class="pnl">    </span><span class="tag">m</span><span class="pln"> g</span></li><li class="L2"><span class="pnl">        </span><span class="tag">param</span><span class="pln"> name</span></li><li class="L3"><span class="pnl">    </span><span class="tag">#</span><span class="pln"> </span></li><li class="L4"><span class="pnl">        </span><span class="tag">#</span><span class="pln"> Remove a named value from the interpolation context</span></li><li class="L5"><span class="pnl">    </span><span class="tag">m</span><span class="pln"> r</span></li><li class="L6"><span class="pnl">        </span><span class="tag">param</span><span class="pln"> name</span></li><li class="L7"><span class="pnl">    </span><span class="tag">#</span><span class="pln"> </span></li><li class="L8"><span class="pnl">        </span><span class="tag">#</span><span class="pln"> Write a text with interpolation and line feed</span></li><li class="L9"><span class="pnl">    </span><span class="tag">m</span><span class="pln"> w</span></li><li class="L0"><span class="pnl">        </span><span class="tag">param</span><span class="pln"> text</span></li><li class="L1"><span class="pnl">    </span><span class="tag">#</span><span class="pln"> </span></li><li class="L2"><span class="pnl">        </span><span class="tag">#</span><span class="pln"> Write a text with interpolation without line feed</span></li><li class="L3"><span class="pnl">    </span><span class="tag">m</span><span class="pln"> write</span></li><li class="L4"><span class="pnl">        </span><span class="tag">param</span><span class="pln"> text</span></li><li class="L5"><span class="pnl">    </span><span class="tag">#</span><span class="pln"> </span></li><li class="L6"><span class="pnl">        </span><span class="tag">#</span><span class="pln"> throw a NodeError exception</span></li><li class="L7"><span class="pnl">    </span><span class="tag">m</span><span class="pln"> error</span></li><li class="L8"><span class="pnl">        </span><span class="tag">param</span><span class="pln"> message</span></li><li class="L9"><span class="pnl">        </span><span class="tag">param</span><span class="pln"> node</span></li><li class="L0"><span class="pnl">    </span><span class="tag">#</span><span class="pln"> </span></li><li class="L1"><span class="pnl">        </span><span class="tag">#</span><span class="pln"> throw an ArtifactGenerationError exception</span></li><li class="L2"><span class="pnl">    </span><span class="tag">m</span><span class="pln"> artifactGenerationError</span></li><li class="L3"><span class="pnl">        </span><span class="tag">param</span><span class="pln"> message</span></li><li class="L4"><span class="pnl">        </span><span class="tag">param</span><span class="pln"> location</span></li><li class="L5"><span class="pnl">        </span><span class="tag">param</span><span class="pln"> node</span></li></ol></pre></div>
                    <h2 id="concept-17" class="concept">Sample artifact generators</h2>
                    <div class="summary">
                        <h4>Code write artifact generator sample</h4><pre class="prettyprint"><ol class="linenums"><li class="L1"><span class="pnl"></span><span class="tag">module</span><span class="pln"> </span></li><li class="L2"><span class="pnl">    </span><span class="tag">kind</span><span class="pln"> jsfile</span></li><li class="L3"><span class="pnl">    </span><span class="tag"></span><span class="pln"> </span></li><li class="L4"><span class="pnl">    </span><span class="tag">var</span><span class="pln"> md = module.exports = {}</span></li><li class="L5"><span class="pnl">    </span><span class="tag">var</span><span class="pln"> myname = 'artifact rdbms.sqltables.main';</span></li><li class="L6"><span class="pnl">    </span><span class="tag"></span><span class="pln"> </span></li><li class="L7"><span class="pnl">    </span><span class="tag">set</span><span class="pln"> md.gen</span></li><li class="L8"><span class="pnl">        </span><span class="tag">function</span><span class="pln"> </span></li><li class="L9"><span class="pnl">            </span><span class="tag">param</span><span class="pln"> model</span></li><li class="L0"><span class="pnl">            </span><span class="tag">param</span><span class="pln"> ctx</span></li><li class="L1"><span class="pnl">            </span><span class="tag">param</span><span class="pln"> callback</span></li><li class="L2"><span class="pnl">            </span><span class="tag">if</span><span class="pln"> model.wzElement !== 'rdbms'</span></li><li class="L3"><span class="pnl">                </span><span class="tag">return</span><span class="pln"> </span></li><li class="L4"><span class="pnl">                    </span><span class="tag">callback</span><span class="pln"> </span></li><li class="L5"><span class="pnl">                        </span><span class="tag">_ctx.error</span><span class="pln"> </span></li><li class="L6"><span class="pnl">                            </span><span class="tag">@</span><span class="pln"> myname + " error: the model paramater should be an 'rdbms' wizzi model"</span></li><li class="L7"><span class="pnl">                            </span><span class="tag">@</span><span class="pln"> model</span></li><li class="L8"><span class="pnl">            </span><span class="tag"></span><span class="pln"> </span></li><li class="L9"><span class="pnl">            </span><span class="kwd">$foreach</span><span class="pln"> table in model.tables</span></li><li class="L0"><span class="pnl">                </span><span class="tag">_</span><span class="pln"> ctx.a('TABLE', table.wzName)</span></li><li class="L1"><span class="pnl">                </span><span class="tag">_</span><span class="pln"> ctx.w('declare table TABLE')</span></li><li class="L2"><span class="pnl">                </span><span class="tag">...</span><span class="pln"> </span></li><li class="L3"><span class="pnl">            </span><span class="tag">_</span><span class="pln"> callback(null, ctx)</span></li></ol></pre><h4>Ittf document artifact generator sample</h4><pre class="prettyprint"><ol class="linenums"><li class="L1"><span class="pnl"></span><span class="tag">module</span><span class="pln"> </span></li><li class="L2"><span class="pnl">    </span><span class="tag">kind</span><span class="pln"> jsfile</span></li><li class="L3"><span class="pnl">    </span><span class="tag"></span><span class="pln"> </span></li><li class="L4"><span class="pnl">    </span><span class="tag">var</span><span class="pln"> path = require('path')</span></li><li class="L5"><span class="pnl">    </span><span class="tag">var</span><span class="pln"> wizzi = require('wizzi')</span></li><li class="L6"><span class="pnl">    </span><span class="tag">var</span><span class="pln"> md = module.exports = {}</span></li><li class="L7"><span class="pnl">    </span><span class="tag">var</span><span class="pln"> myname = 'artifact rdbms.sqltables.main';</span></li><li class="L8"><span class="pnl">    </span><span class="tag"></span><span class="pln"> </span></li><li class="L9"><span class="pnl">    </span><span class="tag">set</span><span class="pln"> md.gen</span></li><li class="L0"><span class="pnl">        </span><span class="tag">function</span><span class="pln"> </span></li><li class="L1"><span class="pnl">            </span><span class="tag">param</span><span class="pln"> model</span></li><li class="L2"><span class="pnl">            </span><span class="tag">param</span><span class="pln"> ctx</span></li><li class="L3"><span class="pnl">            </span><span class="tag">param</span><span class="pln"> callback</span></li><li class="L4"><span class="pnl">            </span><span class="tag">if</span><span class="pln"> model.wzElement !== 'rdbms'</span></li><li class="L5"><span class="pnl">                </span><span class="tag">return</span><span class="pln"> </span></li><li class="L6"><span class="pnl">                    </span><span class="tag">callback</span><span class="pln"> </span></li><li class="L7"><span class="pnl">                        </span><span class="tag">_ctx.error</span><span class="pln"> </span></li><li class="L8"><span class="pnl">                            </span><span class="tag">@</span><span class="pln"> myname + " error: the model paramater should be an 'rdbms' wizzi model"</span></li><li class="L9"><span class="pnl">                            </span><span class="tag">@</span><span class="pln"> model</span></li><li class="L0"><span class="pnl">            </span><span class="tag"></span><span class="pln"> </span></li><li class="L1"><span class="pnl">            </span><span class="tag">var</span><span class="pln"> ittfTemplatePath</span></li><li class="L2"><span class="pnl">                </span><span class="tag">_</span><span class="pln"> path.join</span></li><li class="L3"><span class="pnl">                    </span><span class="tag">@</span><span class="pln"> __dirname</span></li><li class="L4"><span class="pnl">                    </span><span class="tag">@</span><span class="pln"> 'ittf'</span></li><li class="L5"><span class="pnl">                    </span><span class="tag">@</span><span class="pln"> 'sqltables.sql.ittf'</span></li><li class="L6"><span class="pnl">            </span><span class="tag">_</span><span class="pln"> wizzi.fsnoaclFactory</span></li><li class="L7"><span class="pnl">                </span><span class="tag">#</span><span class="pln"> TODO</span></li><li class="L8"><span class="pnl">            </span><span class="tag">_</span><span class="pln"> callback(null, ctx)</span></li></ol></pre></div>
                    <h2 id="concept-18" class="concept">Wizzi core artifacts</h2>
                    <div class="summary">
                        <p>The wizzi-core plugin exports some useful artifacts. We already have seen the artifacts for the psedo models    <ul>        <li>Json</li><li>Xml        </li><li>Text        </li>    </ul></p><p>There are also these others core artifacts    <ul>        <li>json/export        </li><li>xml/export        </li><li>ittf/document        </li>    </ul></p></div>
                    <h2 id="concept-19" class="concept">json/export core artifact</h2>
                    <div class="summary">
                        <p>The json/export core artifact can be used in a wizzi job, to save in a file the json representation of a wizzi model, when its wizzi schema declare the export-to json element.</p><h4>Sample wfjob artifact element using the json/export artifact.</h4><pre class="prettyprint"><ol class="linenums"><li class="L1"><span class="pnl"></span><span class="tag">wfjob</span><span class="pln"> </span></li><li class="L2"><span class="pnl">    </span><span class="tag">...</span><span class="pln"> </span></li><li class="L3"><span class="pnl">    </span><span class="tag">artifact</span><span class="pln"> json export of model sample.form.ittf</span></li><li class="L4"><span class="pnl">        </span><span class="tag">src</span><span class="pln"> sample.form.ittf</span></li><li class="L5"><span class="pnl">        </span><span class="tag">schema</span><span class="pln"> form</span></li><li class="L6"><span class="pnl">        </span><span class="tag">generator</span><span class="pln"> json/export</span></li><li class="L7"><span class="pnl">        </span><span class="tag">extension</span><span class="pln"> json</span></li></ol></pre></div>
                    <h2 id="concept-20" class="concept">xml/export core artifact</h2>
                    <div class="summary">
                        <p>The xml/export core artifact can be used in a wizzi job, to save in a file the xml representation of a wizzi model, when its wizzi schema declare the export-to xml element.</p><h4>Sample wfjob artifact element using the xml/export artifact.</h4><pre class="prettyprint"><ol class="linenums"><li class="L1"><span class="pnl"></span><span class="tag">wfjob</span><span class="pln"> </span></li><li class="L2"><span class="pnl">    </span><span class="tag">...</span><span class="pln"> </span></li><li class="L3"><span class="pnl">    </span><span class="tag">artifact</span><span class="pln"> xml export of model sample.form.ittf</span></li><li class="L4"><span class="pnl">        </span><span class="tag">src</span><span class="pln"> sample.form.ittf</span></li><li class="L5"><span class="pnl">        </span><span class="tag">schema</span><span class="pln"> form</span></li><li class="L6"><span class="pnl">        </span><span class="tag">generator</span><span class="pln"> xml/export</span></li><li class="L7"><span class="pnl">        </span><span class="tag">extension</span><span class="pln"> xml</span></li></ol></pre></div>
                    <h2 id="concept-21" class="concept">ittf/document core artifact</h2>
                    <div class="summary">
                        <p>The 'ittf/document' core artifact exports the ittf representation of a loaded mTree. This allow the buildup of ittf documents using the mTree loader for merging sources and contexts and using JsWizzi for manipulating them.</p><h4>Sample wizzi job using the 'ittf/document' generator.</h4><pre class="prettyprint"><ol class="linenums"><li class="L1"><span class="pnl"></span><span class="tag">wfjob</span><span class="pln"> </span></li><li class="L2"><span class="pnl">    </span><span class="tag">model</span><span class="pln"> styles</span></li><li class="L3"><span class="pnl">        </span><span class="tag">src</span><span class="pln"> styles.json.ittf</span></li><li class="L4"><span class="pnl">        </span><span class="tag">schema</span><span class="pln"> json</span></li><li class="L5"><span class="pnl">    </span><span class="tag">model</span><span class="pln"> layout</span></li><li class="L6"><span class="pnl">        </span><span class="tag">src</span><span class="pln"> layout.json.ittf</span></li><li class="L7"><span class="pnl">        </span><span class="tag">schema</span><span class="pln"> json</span></li><li class="L8"><span class="pnl">    </span><span class="tag">model</span><span class="pln"> options.forms</span></li><li class="L9"><span class="pnl">        </span><span class="tag">src</span><span class="pln"> options.form.ittf</span></li><li class="L0"><span class="pnl">        </span><span class="tag">schema</span><span class="pln"> form</span></li><li class="L1"><span class="pnl">    </span><span class="tag">line</span><span class="pln"> ui</span></li><li class="L2"><span class="pnl">        </span><span class="tag">artifact</span><span class="pln"> ittf document of model options-page.html.ittf</span></li><li class="L3"><span class="pnl">            </span><span class="tag">src</span><span class="pln"> options-page.html.ittf</span></li><li class="L4"><span class="pnl">            </span><span class="tag">schema</span><span class="pln"> ittf</span></li><li class="L5"><span class="pnl">            </span><span class="tag">generator</span><span class="pln"> ittf/document</span></li><li class="L6"><span class="pnl">            </span><span class="tag">extension</span><span class="pln"> ittf</span></li><li class="L7"><span class="pnl">            </span><span class="tag">model-ref</span><span class="pln"> styles</span></li><li class="L8"><span class="pnl">            </span><span class="tag">model-ref</span><span class="pln"> layout</span></li><li class="L9"><span class="pnl">            </span><span class="tag">model-ref</span><span class="pln"> options.forms</span></li></ol></pre></div>
                    <h2 id="concept-22" class="concept">Production manager and wizzi jobs</h2>
                    <div class="summary">
                        </div>
                    <h2 id="concept-23" class="concept">The 'wfjob" schema</h2>
                    <div class="summary">
                        <p>The wfjob schema, implemented by the wizzi-core plugin, is the configuration schema of the production manager, the wizzi task manager.</p><h4>The wfjob elements are</h4><ul>    <li>Wfjob    </li><li>Model    </li><li>ModelRef    </li><li>Line    </li><li>LineRef    </li><li>Artifact    </li><li>Production    </li></ul><h3>The wfjob schema</h3><pre class="prettyprint"><ol class="linenums"><li class="L1"><span class="pnl"></span><span class="tag">wfjob</span><span class="pln"> job-name</span></li><li class="L2"><span class="pnl">    </span><span class="tag">models-base-folder</span><span class="pln"> models-folder-path</span></li><li class="L3"><span class="pnl">    </span><span class="tag">dest-base-folder</span><span class="pln"> dest-folder-path</span></li><li class="L4"><span class="pnl">    </span><span class="tag">title</span><span class="pln"> short-job-description</span></li><li class="L5"><span class="pnl">    </span><span class="kwd">$$[0..n]<b><i>models</i></b></span><span class="pln"> </span></li><li class="L6"><span class="pnl">    </span><span class="kwd">$$[1..n]<b><i>lines</i></b></span><span class="pln"> </span></li><li class="L7"><span class="pnl">    </span><span class="kwd">$$[1..n]<b><i>productions</i></b></span><span class="pln"> </span></li></ol></pre><h3>Model element</h3><pre class="prettyprint"><ol class="linenums"><li class="L1"><span class="pnl"></span><span class="tag">...</span><span class="pln"> </span></li><li class="L2"><span class="pnl">    </span><span class="tag">model</span><span class="pln"> model-name</span></li><li class="L3"><span class="pnl">        </span><span class="tag">src</span><span class="pln"> src-path</span></li><li class="L4"><span class="pnl">        </span><span class="tag">schema</span><span class="pln"> schema-name</span></li><li class="L5"><span class="pnl">        </span><span class="tag">dumpFile</span><span class="pln"> path-of-json-model-dump</span></li><li class="L6"><span class="pnl">        </span><span class="kwd">$$[0..n]<b><i>modelRefs</i></b></span><span class="pln"> </span></li></ol></pre><h3>ModelRef element</h3><pre class="prettyprint"><ol class="linenums"><li class="L1"><span class="pnl"></span><span class="tag">...</span><span class="pln"> </span></li><li class="L2"><span class="pnl">    </span><span class="tag">model-ref</span><span class="pln"> model-name</span></li><li class="L3"><span class="pnl">        </span><span class="tag">export-name</span><span class="pln"> </span></li><li class="L4"><span class="pnl">        </span><span class="kwd">$$</span><span class="pln"> [0..n]&lt;b&gt;&lt;i&gt;transformers&lt;/i&gt;&lt;/b&gt;</span></li><li class="L5"><span class="pnl">        </span><span class="tag">transformer</span><span class="pln"> transformer-name</span></li><li class="L6"><span class="pnl">    </span><span class="tag"></span><span class="pln"> </span></li></ol></pre><h3>Line element</h3><pre class="prettyprint"><ol class="linenums"><li class="L1"><span class="pnl"></span><span class="tag">...</span><span class="pln"> </span></li><li class="L2"><span class="pnl">    </span><span class="tag">line</span><span class="pln"> line-name</span></li><li class="L3"><span class="pnl">        </span><span class="tag">cwd-folder</span><span class="pln"> cwd-folder-path</span></li><li class="L4"><span class="pnl">        </span><span class="tag">dest-folder</span><span class="pln"> dest-folder-path</span></li><li class="L5"><span class="pnl">        </span><span class="kwd">$$[1..n]<b><i>artifacts</i></b></span><span class="pln"> </span></li></ol></pre><h3>Artifact element</h3><pre class="prettyprint"><ol class="linenums"><li class="L1"><span class="pnl"></span><span class="tag">...</span><span class="pln"> </span></li><li class="L2"><span class="pnl">    </span><span class="tag">artifact</span><span class="pln"> artifact-name</span></li><li class="L3"><span class="pnl">        </span><span class="tag">#</span><span class="pln"> </span></li><li class="L4"><span class="pnl">            </span><span class="tag">#</span><span class="pln"> The path to the primary source document of the artifact.</span></li><li class="L5"><span class="pnl">            </span><span class="tag">#</span><span class="pln"> If relative, the base path is the cwdFolder of the parent line.</span></li><li class="L6"><span class="pnl">            </span><span class="tag">#</span><span class="pln"> Can be a glob pattern</span></li><li class="L7"><span class="pnl">            </span><span class="tag">#</span><span class="pln"> If the artifact is a code write artifact</span></li><li class="L8"><span class="pnl">            </span><span class="tag">#</span><span class="pln"> this attribute must not be declared.</span></li><li class="L9"><span class="pnl">        </span><span class="tag">src</span><span class="pln"> ittfdocument-path</span></li><li class="L0"><span class="pnl">        </span><span class="tag">#</span><span class="pln"> </span></li><li class="L1"><span class="pnl">            </span><span class="tag">#</span><span class="pln"> When the artifact source is an Ittf document, is the schema</span></li><li class="L2"><span class="pnl">            </span><span class="tag">#</span><span class="pln"> that will load and validate the Wizzi model instance.</span></li><li class="L3"><span class="pnl">            </span><span class="tag">#</span><span class="pln"> May be null if the artifact is a final artifact.</span></li><li class="L4"><span class="pnl">        </span><span class="tag">schema</span><span class="pln"> language-schema-name</span></li><li class="L5"><span class="pnl">        </span><span class="tag">#</span><span class="pln"> </span></li><li class="L6"><span class="pnl">            </span><span class="tag">#</span><span class="pln"> Files returned by the src pattern to be ignored</span></li><li class="L7"><span class="pnl">            </span><span class="tag">#</span><span class="pln"> Can be a glob pattern</span></li><li class="L8"><span class="pnl">        </span><span class="tag">ignore</span><span class="pln"> file-path-tobe-ignored</span></li><li class="L9"><span class="pnl">        </span><span class="tag">#</span><span class="pln"> </span></li><li class="L0"><span class="pnl">            </span><span class="tag">#</span><span class="pln"> When the artifact is a wizzi model, acting as a template</span></li><li class="L1"><span class="pnl">            </span><span class="tag">#</span><span class="pln"> is the name of the artifact generator that will transform the template.</span></li><li class="L2"><span class="pnl">            </span><span class="tag">#</span><span class="pln"> When the artifact is a code write generation or a final artifact must be omitted.</span></li><li class="L3"><span class="pnl">        </span><span class="tag">generation</span><span class="pln"> artifact-generator-name</span></li><li class="L4"><span class="pnl">        </span><span class="tag">#</span><span class="pln"> </span></li><li class="L5"><span class="pnl">            </span><span class="tag">#</span><span class="pln"> The artifact source file path (src attribute) is the default</span></li><li class="L6"><span class="pnl">            </span><span class="tag">#</span><span class="pln"> relative destination path of the generated artifact.</span></li><li class="L7"><span class="pnl">            </span><span class="tag">#</span><span class="pln"> When set, this attribute overrides the default.</span></li><li class="L8"><span class="pnl">            </span><span class="tag">#</span><span class="pln"> It may be an absolute path.</span></li><li class="L9"><span class="pnl">            </span><span class="tag">#</span><span class="pln"> If the artifact is a code write generation</span></li><li class="L0"><span class="pnl">            </span><span class="tag">#</span><span class="pln"> this attribute must be declared</span></li><li class="L1"><span class="pnl">        </span><span class="tag">dest-path</span><span class="pln"> artifact-file-path</span></li><li class="L2"><span class="pnl">        </span><span class="tag">#</span><span class="pln"> </span></li><li class="L3"><span class="pnl">            </span><span class="tag">#</span><span class="pln"> The document path extension of the generated artifact.</span></li><li class="L4"><span class="pnl">            </span><span class="tag">#</span><span class="pln"> Optional. The default, if presente, is the 'src' extension without the ending '.ittf' string.</span></li><li class="L5"><span class="pnl">        </span><span class="tag">extension</span><span class="pln"> artifact-file-extension</span></li><li class="L6"><span class="pnl">        </span><span class="tag">#</span><span class="pln"> Child elements</span></li><li class="L7"><span class="pnl">        </span><span class="kwd">$$</span><span class="pln"> [0..n]&lt;b&gt;&lt;i&gt;modelRefs&lt;/i&gt;&lt;/b&gt;</span></li></ol></pre><h3>Production element</h3><pre class="prettyprint"><ol class="linenums"><li class="L1"><span class="pnl"></span><span class="tag">...</span><span class="pln"> </span></li><li class="L2"><span class="pnl">    </span><span class="tag">production</span><span class="pln"> production-name</span></li><li class="L3"><span class="pnl">        </span><span class="tag">dest-folder</span><span class="pln"> dest-folder-path</span></li><li class="L4"><span class="pnl">        </span><span class="kwd">$$[1..n]<b><i>lineRefs</i></b></span><span class="pln"> </span></li></ol></pre><h3>LineRef element</h3><pre class="prettyprint"><ol class="linenums"><li class="L1"><span class="pnl"></span><span class="tag">...</span><span class="pln"> </span></li><li class="L2"><span class="pnl">    </span><span class="tag">line-ref</span><span class="pln"> line-name</span></li></ol></pre><h4>Example of the wizzi job that produces this documentation html page.</h4><pre class="prettyprint"><ol class="linenums"><li class="L1"><span class="pnl"></span><span class="tag">wfjob</span><span class="pln"> wizzi-docs-concepts</span></li><li class="L2"><span class="pnl">    </span><span class="kwd">$</span><span class="expr"> </span></li><li class="L3"><span class="pnl">        </span><span class="expr">var</span><span class="expr"> models_folder     = path.join(__dirname, 'models');</span></li><li class="L4"><span class="pnl">        </span><span class="expr">var</span><span class="expr"> html_folder       = path.join(__dirname, 'html');</span></li><li class="L5"><span class="pnl">        </span><span class="expr">var</span><span class="expr"> dest_folder       = "c:/my/wizzi/github/wizzifactory.github.io";</span></li><li class="L6"><span class="pnl">    </span><span class="tag">models-base-folder</span><span class="pln"> ${models_folder}</span></li><li class="L7"><span class="pnl">    </span><span class="tag">model</span><span class="pln"> concepts</span></li><li class="L8"><span class="pnl">        </span><span class="tag">src</span><span class="pln"> docs.docs.ittf</span></li><li class="L9"><span class="pnl">        </span><span class="tag">schema</span><span class="pln"> docs</span></li><li class="L0"><span class="pnl">    </span><span class="tag">line</span><span class="pln"> html</span></li><li class="L1"><span class="pnl">        </span><span class="tag">cwd-folder</span><span class="pln"> ${html_folder}</span></li><li class="L2"><span class="pnl">        </span><span class="mix">wfjob/art-wo-html(</span><span class="pln"> docs.html.ittf )</span></li><li class="L3"><span class="pnl">            </span><span class="tag">model-ref</span><span class="pln"> concepts</span></li><li class="L4"><span class="pnl">                </span><span class="tag">transformer</span><span class="pln"> docs/preprint</span></li><li class="L5"><span class="pnl">    </span><span class="tag">production</span><span class="pln"> </span></li><li class="L6"><span class="pnl">        </span><span class="tag">dest-folder</span><span class="pln"> ${dest_folder}</span></li><li class="L7"><span class="pnl">        </span><span class="tag">line-ref</span><span class="pln"> html</span></li></ol></pre></div>
                    <h2 id="concept-24" class="concept">Plugins</h2>
                    <div class="summary">
                        <h4>A wizzi plugin implements and exposes to the wizzi factory</h4><ul>    <li>wizzi schemas and relative factories for wizzi models    </li><li>model transformers    </li><li>artifact generators    </li></ul><h4>A plugin package must export this method</h4><pre class="prettyprint"><ol class="linenums"><li class="L1"><span class="pnl"></span><span class="tag">set</span><span class="pln"> module.exports</span></li><li class="L2"><span class="pnl">    </span><span class="tag">{</span><span class="pln"> </span></li><li class="L3"><span class="pnl">        </span><span class="tag">...</span><span class="pln"> </span></li><li class="L4"><span class="pnl">        </span><span class="tag">@</span><span class="pln"> createFactoryPlugin</span></li><li class="L5"><span class="pnl">            </span><span class="tag">function</span><span class="pln"> </span></li><li class="L6"><span class="pnl">                </span><span class="tag">param</span><span class="pln"> wizziPackage</span></li><li class="L7"><span class="pnl">                </span><span class="tag">param</span><span class="pln"> options</span></li><li class="L8"><span class="pnl">                </span><span class="tag">param</span><span class="pln"> callback</span></li><li class="L9"><span class="pnl">                </span><span class="tag">var</span><span class="pln"> plugin</span></li><li class="L0"><span class="pnl">                    </span><span class="tag">new</span><span class="pln"> FactoryPlugin</span></li><li class="L1"><span class="pnl">                        </span><span class="tag">@</span><span class="pln"> wizziPackage</span></li><li class="L2"><span class="pnl">                        </span><span class="tag">@</span><span class="pln"> this.provides</span></li><li class="L3"><span class="pnl">                </span><span class="tag">_</span><span class="pln"> plugin.initialize</span></li><li class="L4"><span class="pnl">                    </span><span class="tag">@</span><span class="pln"> options</span></li><li class="L5"><span class="pnl">                    </span><span class="mix">f_cb(</span><span class="pln"> notUsed )</span></li><li class="L6"><span class="pnl">                        </span><span class="tag">return</span><span class="pln"> </span></li><li class="L7"><span class="pnl">                            </span><span class="tag">_</span><span class="pln"> callback</span></li><li class="L8"><span class="pnl">                                </span><span class="tag">@</span><span class="pln"> null</span></li><li class="L9"><span class="pnl">                                </span><span class="tag">@</span><span class="pln"> plugin</span></li></ol></pre><p>The FactoryPlugin class instance returned to the caller must implement the plugin API.</p><p>The standard folder structure of a plugin</p><pre class="prettyprint"><ol class="linenums"><li class="L1"><span class="pnl"></span><span class="tag">node_modules</span><span class="pln"> </span></li><li class="L2"><span class="pnl">    </span><span class="tag">&lt;package-name&gt</span><span class="pln"> </span></li><li class="L3"><span class="pnl">        </span><span class="tag">lib</span><span class="pln"> </span></li><li class="L4"><span class="pnl">            </span><span class="tag">artifacts</span><span class="pln"> </span></li><li class="L5"><span class="pnl">                </span><span class="tag">&lt;schema-name&gt</span><span class="pln"> </span></li><li class="L6"><span class="pnl">                    </span><span class="tag">&lt;artifact-name&gt</span><span class="pln"> </span></li><li class="L7"><span class="pnl">                        </span><span class="tag">gen</span><span class="pln"> </span></li><li class="L8"><span class="pnl">                            </span><span class="tag">main.js</span><span class="pln"> </span></li><li class="L9"><span class="pnl">                    </span><span class="tag">...</span><span class="pln"> </span></li><li class="L0"><span class="pnl">                    </span><span class="tag">&lt;transformer-name&gt</span><span class="pln"> </span></li><li class="L1"><span class="pnl">                        </span><span class="tag">trans</span><span class="pln"> </span></li><li class="L2"><span class="pnl">                            </span><span class="tag">main.js</span><span class="pln"> </span></li><li class="L3"><span class="pnl">                    </span><span class="tag">...</span><span class="pln"> </span></li><li class="L4"><span class="pnl">                </span><span class="tag">...</span><span class="pln"> </span></li><li class="L5"><span class="pnl">            </span><span class="tag">utils</span><span class="pln"> </span></li><li class="L6"><span class="pnl">                </span><span class="tag">...</span><span class="pln"> </span></li><li class="L7"><span class="pnl">            </span><span class="tag">wizzi</span><span class="pln"> </span></li><li class="L8"><span class="pnl">                </span><span class="tag">models</span><span class="pln"> </span></li><li class="L9"><span class="pnl">                    </span><span class="tag">&lt;schema-name&gt;-model.g.js</span><span class="pln"> </span></li><li class="L0"><span class="pnl">                    </span><span class="tag">&lt;schema-name&gt;-factory.g.js</span><span class="pln"> </span></li><li class="L1"><span class="pnl">                    </span><span class="tag">&lt;schema-name&gt;-schema.g.html</span><span class="pln"> </span></li><li class="L2"><span class="pnl">                    </span><span class="tag">&lt;schema-name&gt;-schema.g.json</span><span class="pln"> </span></li><li class="L3"><span class="pnl">                    </span><span class="tag">...</span><span class="pln"> </span></li><li class="L4"><span class="pnl">                </span><span class="tag">schemas</span><span class="pln"> </span></li><li class="L5"><span class="pnl">                    </span><span class="tag">&lt;schema-name&gt;.wfschema.ittf</span><span class="pln"> </span></li><li class="L6"><span class="pnl">                    </span><span class="tag">...</span><span class="pln"> </span></li><li class="L7"><span class="pnl">        </span><span class="tag">index.js</span><span class="pln"> </span></li></ol></pre></div>
                    <h2 id="concept-25" class="concept">Plugin API</h2>
                    <div class="summary">
                        <h4>Plugin api implemented by a FactoryPlugin class.</h4><pre class="prettyprint"><ol class="linenums"><li class="L1"><span class="pnl"></span><span class="tag"></span><span class="pln"> </span></li><li class="L2"><span class="pnl">    </span><span class="tag">#</span><span class="pln"> </span></li><li class="L3"><span class="pnl">        </span><span class="tag">#</span><span class="pln"> Retrieve a wizzi model factory by its wizzischema name</span></li><li class="L4"><span class="pnl">        </span><span class="tag">#</span><span class="pln"> Searching in this wizzi package. No search up in "node_modules" folders.</span></li><li class="L5"><span class="pnl">    </span><span class="tag">m</span><span class="pln"> getModelFactory</span></li><li class="L6"><span class="pnl">        </span><span class="tag">param</span><span class="pln"> schemaName</span></li><li class="L7"><span class="pnl">        </span><span class="tag">...</span><span class="pln"> </span></li><li class="L8"><span class="pnl">    </span><span class="tag"></span><span class="pln"> </span></li><li class="L9"><span class="pnl">    </span><span class="tag">#</span><span class="pln"> </span></li><li class="L0"><span class="pnl">        </span><span class="tag">#</span><span class="pln"> Retrieve a model transformer by its name</span></li><li class="L1"><span class="pnl">        </span><span class="tag">#</span><span class="pln"> Searching in this wizzi package. No search up in "node_modules" folders.</span></li><li class="L2"><span class="pnl">    </span><span class="tag">m</span><span class="pln"> getModelTransformer</span></li><li class="L3"><span class="pnl">        </span><span class="tag">param</span><span class="pln"> transformerName</span></li><li class="L4"><span class="pnl">        </span><span class="tag">...</span><span class="pln"> </span></li><li class="L5"><span class="pnl">    </span><span class="tag"></span><span class="pln"> </span></li><li class="L6"><span class="pnl">    </span><span class="tag">#</span><span class="pln"> </span></li><li class="L7"><span class="pnl">        </span><span class="tag">#</span><span class="pln"> Retrieve an artifact generator by its name</span></li><li class="L8"><span class="pnl">        </span><span class="tag">#</span><span class="pln"> Searching in this wizzi package. No search up in "node_modules" folders.</span></li><li class="L9"><span class="pnl">    </span><span class="tag">m</span><span class="pln"> getArtifactGenerator</span></li><li class="L0"><span class="pnl">        </span><span class="tag">param</span><span class="pln"> generationName</span></li><li class="L1"><span class="pnl">    </span><span class="tag"></span><span class="pln"> </span></li><li class="L2"><span class="pnl">    </span><span class="tag">#</span><span class="pln"> </span></li><li class="L3"><span class="pnl">        </span><span class="tag">#</span><span class="pln"> Retrieve a wizzi schema definition in JSON format</span></li><li class="L4"><span class="pnl">        </span><span class="tag">#</span><span class="pln"> Searching in this wizzi package. No search up in "node_modules" folders.</span></li><li class="L5"><span class="pnl">    </span><span class="tag">m</span><span class="pln"> getSchemaDefinition</span></li><li class="L6"><span class="pnl">        </span><span class="tag">param</span><span class="pln"> schemaName</span></li></ol></pre><h4>Api of the object returned by getModelFactory</h4><pre class="prettyprint"><ol class="linenums"><li class="L1"><span class="pnl"></span><span class="tag">createLoadModel</span><span class="pln"> </span></li><li class="L2"><span class="pnl">    </span><span class="tag">function</span><span class="pln"> </span></li><li class="L3"><span class="pnl">        </span><span class="tag">param</span><span class="pln"> wizziObject</span></li><li class="L4"><span class="pnl">        </span><span class="tag">var</span><span class="pln"> loadMTree = wizziObject.loadMTree</span></li><li class="L5"><span class="pnl">        </span><span class="tag">var</span><span class="pln"> file = wizziObject.file</span></li><li class="L6"><span class="pnl">        </span><span class="tag">var</span><span class="pln"> errors = wizziObject.errors</span></li><li class="L7"><span class="pnl">        </span><span class="tag">...</span><span class="pln"> </span></li><li class="L8"><span class="pnl">        </span><span class="tag">#</span><span class="pln"> </span></li><li class="L9"><span class="pnl">            </span><span class="tag">#</span><span class="pln"> Load a wizzi model of type &lt;schema-nam&gt; from an IttfDocument uri</span></li><li class="L0"><span class="pnl">            </span><span class="tag">#</span><span class="pln"> @param {String} ittfDocumentUri</span></li><li class="L1"><span class="pnl">            </span><span class="tag">#</span><span class="pln"> @param {Object} context - the loading context object</span></li><li class="L2"><span class="pnl">            </span><span class="tag">#</span><span class="pln"> @param {Function} callback</span></li><li class="L3"><span class="pnl">        </span><span class="tag">return</span><span class="pln"> </span></li><li class="L4"><span class="pnl">            </span><span class="tag">function</span><span class="pln"> loadModel</span></li><li class="L5"><span class="pnl">                </span><span class="tag">param</span><span class="pln"> ittfDocumentUri</span></li><li class="L6"><span class="pnl">                </span><span class="tag">param</span><span class="pln"> context</span></li><li class="L7"><span class="pnl">                </span><span class="tag">param</span><span class="pln"> callback</span></li></ol></pre><h4>Api of the object returned by getModelTransformer</h4><pre class="prettyprint"><ol class="linenums"><li class="L1"><span class="pnl"></span><span class="tag">trans</span><span class="pln"> </span></li><li class="L2"><span class="pnl">    </span><span class="tag">function</span><span class="pln"> </span></li><li class="L3"><span class="pnl">        </span><span class="tag">param</span><span class="pln"> model</span></li><li class="L4"><span class="pnl">        </span><span class="tag">param</span><span class="pln"> ctx</span></li><li class="L5"><span class="pnl">        </span><span class="tag">param</span><span class="pln"> callback</span></li></ol></pre><h4>Api of the object returned by getArtifactGenerator</h4><pre class="prettyprint"><ol class="linenums"><li class="L1"><span class="pnl"></span><span class="tag">gen</span><span class="pln"> </span></li><li class="L2"><span class="pnl">    </span><span class="tag">function</span><span class="pln"> </span></li><li class="L3"><span class="pnl">        </span><span class="tag">param</span><span class="pln"> model</span></li><li class="L4"><span class="pnl">        </span><span class="tag">param</span><span class="pln"> ctx</span></li><li class="L5"><span class="pnl">        </span><span class="tag">param</span><span class="pln"> callback</span></li></ol></pre><p>The object returned by getSchemaDefinition is a json representation of the requested schema.</p></div>
                    <section></section>
                </div>
            </main>
        </div>
        <script src="jquery-3.2.1.js"></script>
        <script src="wizzifactory.js"></script>
    </body>

</html>
