<!doctype html>
<html VERSION-5="5" VERSION-4="4" version="5">
    <head>
        <title>The Wizzi Factory</title>
        <link href="normalize.css" rel="stylesheet">
        <link href="wizzifactory.css" rel="stylesheet">
    </head>
    <body>
        <a href="https://github.com/wizzifactory"><img style="position: fixed; top: 0; right: 0; border: 0; z-index: 100;" src="https://camo.githubusercontent.com/a6677b08c955af8400f44c6298f40e7d19cc5b2d/68747470733a2f2f73332e616d617a6f6e6177732e636f6d2f6769746875622f726962626f6e732f666f726b6d655f72696768745f677261795f3664366436642e706e67" alt="Fork me on GitHub" data-canonical-src="https://s3.amazonaws.com/github/ribbons/forkme_right_gray_6d6d6d.png">
        </a>
        <header class="header" role="banner">
            <div class="header-logo">
                <a class="logo" href="index.html">Wizzi Factory</a>
            </div>
            <nav role="navigation" class="header-items">
                <a class="header-item" href="overview.html">View</a>
                <a class="header-item" href="starter.html">Starters</a>
                <a class="selected-header-item" href="docs.html">Documentation</a>
                <a class="header-item" href="specs.html">Specs</a>
                <a class="header-item" href="labs.html">Labs</a>
                <a class="header-item" href="project.html">Project</a>
                <a class="header-item" href="contribs.html">Contribs</a>
            </nav>
        </header>
        <main>
            <div class="main-sidebar-left">
                <section id="main-toc" class="toc">
                    <h3>Contents:</h3>
                    <ol>
                        <li><a href="#concept-1">Introduction</a>
                        </li>
                        <li><a>Package: wizzi-core</a>
                        <ol>
                            <li><a href="#concept-2">Utility modules</a>
                            </li>
                        </ol>
                        </li>
                        <li><a>Package: wizzi-ittf / structure</a>
                        <ol>
                            <li><a href="#concept-3">Ittf notation</a>
                            </li>
                            <li><a href="#concept-4">Ittf document</a>
                            </li>
                            <li><a href="#concept-5">Templateable ittf document</a>
                            </li>
                        </ol>
                        </li>
                    </ol>
                </section>
            </div>
            <div class="main-content">
                <h2 id="concept-1">Introduction</h2>
                <div class="summary">
                    <p>Software Artifacts are generated by <a href="#WizziFactoryProduction">WizziFactoryProductions</a>.</p><h4>To setup productions you must build <a href="#WizziFactoryPackage">WizziFactoryPackages</a> that expose:</h4><ul>    <li>WizziSchemas    </li><li>WizziModelTypes    </li><li>WizziModelFactories    </li><li>WizziModelTransformers    </li><li>ArtifactGenerators    </li></ul><h4>There are 4 standard packages on which you can build a WizziPackage:</h4><ul>    <li>wizzi-core    </li><li>wizzi-ittf    </li><li>wizzi-schema    </li><li>wizzi-factory    </li></ul><p>A fifth standard package, wizzi-legacy, contains the implementation of some WizziLanguageSchemas of a previous sperimental version of the Wizzi Factory that are used for bootstrapping the project. They are the js (javascript), html, css and json WizziLanguageSchema.</p><p>This documentation describes the structural and behavioural components of the standard packages.</p><p>For a step by step tutorial on how to build the first WizziPackage and the first WizziFactoryProduction go to the <a href="starter.js">Starter</a> section.</p><p>To search prototypes that you may integrate into your solutions go to the <a href="labs.js">Labs</a> section.</p><p>The wizzi-legacy package is not used to build Starter and Labs WizziPackages; they develop their own versions of WizziLanguageSchemas.</p></div>
                <section>
                    <h2>Package wizzi-core</h2>
                    <h2 id="concept-2">Utility modules</h2>
                    <div class="summary">
                        <h4>The wizzi-core package contains a set of utility modules concerning:</h4><ul>    <li>file management;    </li><li>logging;    </li><li>error management;    </li><li>string, xml and html writing;    </li><li>interpolation;    </li><li>lineparsing;    </li><li>various verify functions.    </li></ul></div>
                    <h2>Package wizzi-ittf / structure</h2>
                    <h2 id="concept-3">Ittf notation</h2>
                    <div class="summary">
                        <p>Ittf stays for Indented Text Tree Format, the notation format of every wizzi factory model.</p><p>It is a textual representation of a <a href="https://en.wikipedia.org/wiki/Tree_(data_structure)">tree data structure</a> where child nodes are indented one level below their parent.</p><p>Example. This is a tree data structure in Ittf format:</p><pre class="prettyprint"><ol class="linenums"><li class="L1"><span class="pnl"></span><span class="tag">html</span><span class="pln"> </span></li><li class="L2"><span class="pnl">    </span><span class="tag">body</span><span class="pln"> </span></li><li class="L3"><span class="pnl">        </span><span class="tag">ul</span><span class="pln"> </span></li><li class="L4"><span class="pnl">            </span><span class="tag">li</span><span class="pln"> </span></li><li class="L5"><span class="pnl">                </span><span class="tag">a</span><span class="pln"> The Wizzi Factory</span></li><li class="L6"><span class="pnl">                    </span><span class="tag">href</span><span class="pln"> https://wizzifactory.github.io</span></li></ol></pre><p>Some Ittf terms:</p><table class="pretty-table">    <tr>        <td>IttfDocument        </td><td>A text document containing a tree data structure written using the Ittf notation.        </td>    </tr><tr>        <td>IttfNode        </td><td>A node item; a string of chars on a single line, that is parsed in a name, value pair separated by a whitechar (space or TAB).        </td>    </tr><tr>        <td>Name        </td><td>The name part of an IttfNode, also IttfNodeTag.        </td>    </tr><tr>        <td>Value        </td><td>The value part of an IttfNode; may be optional or required; may be multi-line (see the $. \ command nodes for multi-line values).        </td>    </tr><tr>        <td>Parent        </td><td>The parent node of an IttfNode.        </td>    </tr><tr>        <td>Root        </td><td>The root node of an IttfDocument; its Parent is null.        </td>    </tr><tr>        <td>Branch        </td><td>A sub tree of an IttfNode that is not the root.        </td>    </tr><tr>        <td>Children        </td><td>The child nodes of an IttfNode.        </td>    </tr></table></div>
                    <h2 id="concept-4">Ittf document</h2>
                    <div class="summary">
                        <p>An IttfDocument is the persistence format of a WizziModel.</p><p>It is a textual representation of a <a href="https://en.wikipedia.org/wiki/Tree_(data_structure)">tree data structure</a> modeled using the Ittf notation.</p><p>This could be an IttfDocument also:</p><pre class="prettyprint"><ol class="linenums"><li class="L1"><span class="pnl"></span><span class="tag">html</span><span class="pln"> </span></li><li class="L2"><span class="pnl">    </span><span class="tag">body</span><span class="pln"> </span></li><li class="L3"><span class="pnl">        </span><span class="tag">ul</span><span class="pln"> </span></li><li class="L4"><span class="pnl">            </span><span class="tag">li</span><span class="pln"> </span></li><li class="L5"><span class="pnl">                </span><span class="tag">a</span><span class="pln"> The Wizzi Factory</span></li><li class="L6"><span class="pnl">                    </span><span class="tag">href</span><span class="pln"> https://wizzifactory.github.io</span></li></ol></pre><p>An IttfDocument is composable and templateable. It is parsed and processed by an IttfModelLoader into an in memory javascript tree structure named IttfModel.</p><h4>It may contain two kind of nodes:</h4><ul>    <li>an IttfDomainNode, that is an IttfNode describing an element or attribute of the domain that is modeled;<pre class="prettyprint"><ol class="linenums"><li class="L1"><span class="pnl"></span><span class="tag">table</span><span class="pln"> user</span></li><li class="L2"><span class="pnl">    </span><span class="tag">column</span><span class="pln"> UserName</span></li><li class="L3"><span class="pnl">    </span><span class="tag">column</span><span class="pln"> Email</span></li></ol></pre>    </li><li>an IttfStatementNode, that is an IttfNode containg a composition or templating instruction for the IttfModelLoader.<pre class="prettyprint"><ol class="linenums"><li class="L1"><span class="pnl"></span><span class="kwd">$foreach</span><span class="pln"> item in collection</span></li><li class="L2"><span class="pnl">    </span><span class="tag">...</span><span class="pln"> </span></li></ol></pre>    </li></ul><p>All the IttfNodes of an IttfDocument, included the IttfRootNode, are templateable. An IttfNodeValue of an IttfDomainNode may contain templated expressions. IttfStatementNodes may contain template control statements. Even IttfRootNodes may be IttfStatementNodes. The root node of an IttfDocument may be a MixinCall that will be replaced by the called MixinIttfDocument.</p><h4>There are three kinds of IttfDocuments</h4><ul></ul><table class="pretty-table">    <tr>        <td>PrimaryIttfDocument        </td><td>The primary source of a WizziModelInstance, which Uri is passed to the IttfModelLoader.        </td>    </tr><tr>        <td>MixinIttfDocument        </td><td>A TemplateableIttfDocument that can be mixed in a calling IttfDocument using a MixinCall.        </td>    </tr><tr>        <td>IncludeableIttfDocument        </td><td>An IttfDocument that can be included AS IS in another IttfDocument.        </td>    </tr></table></div>
                    <h2 id="concept-5">Templateable ittf document</h2>
                    <div class="summary">
                        <p>Some terms:</p><table class="pretty-table">    <tr>        <td>TemplateableIttfDocument        </td><td>Is a mix of:            <li>IttfDomainNodes with a PlainIttfNodeValue.<pre class="prettyprint"><ol class="linenums"><li class="L1"><span class="pnl"></span><span class="tag">primaryKey</span><span class="pln"> User_ID</span></li></ol></pre>            </li><li>IttfDomainNodes with a TemplatedIttfNodeValue; they require interpolation (VariableSubstitution).<pre class="prettyprint"><ol class="linenums"><li class="L1"><span class="pnl"></span><span class="tag">primaryKey</span><span class="pln"> ${ table.name.toUpperCase() {}_ID</span></li></ol></pre>            </li><li>IttfTemplateControlNodes, they allow TemplateConditionalInclusion<pre class="prettyprint"><ol class="linenums"><li class="L1"><span class="pnl"></span><span class="kwd">$if</span><span class="expr"> table.hasPrimaryKey()</span></li><li class="L2"><span class="pnl">    </span><span class="tag">...</span><span class="pln"> </span></li></ol></pre>            </li><li>JsWizziIttfNodes, they can manipulate the TemplateContext.<pre class="prettyprint"><ol class="linenums"><li class="L1"><span class="pnl"></span><span class="kwd">$</span><span class="expr"> var columnCount = table.columns.length;</span></li></ol></pre>            </li>        </td>    </tr><tr>        <td>TemplateContext        </td><td>Contains the context values for VariableSubstitution and evaluation of IttfTemplateControlNodes.        </td>    </tr><tr>        <td>TemplateResolution        </td><td>A TemplateableIttfDocument is <i>resolved in</i> a TemplateContext.        </td>    </tr></table><p>The TemplateContext is created from the IttfLoadingContext that is passed to the IttfModelLoader. In case of a MixinIttfDocument the MixinCallParameters are added to it; they override any property of the IttfLoadingContext with the same name.</p><p>The IttfTemplateEvaluator generates and execute in memory a javascript module that rebuilds the IttfModel node tree, processing expressions and flow control statements declared in the IttfNodes of the TemplateableIttfDocument.</p></div>
                </section>
            </div>
        </main>
        <script src="wizzifactory.js"></script>
    </body>

</html>
